var eue=Object.defineProperty;var tue=(e,t,n)=>t in e?eue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var E_=(e,t,n)=>tue(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ia(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const zt={},Ip=[],hi=()=>{},bm=()=>!1,md=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),DN=e=>e.startsWith("onUpdate:"),Vt=Object.assign,NN=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},nue=Object.prototype.hasOwnProperty,on=(e,t)=>nue.call(e,t),Je=Array.isArray,Rp=e=>r1(e)==="[object Map]",xd=e=>r1(e)==="[object Set]",iM=e=>r1(e)==="[object Date]",rue=e=>r1(e)==="[object RegExp]",xt=e=>typeof e=="function",_t=e=>typeof e=="string",Zs=e=>typeof e=="symbol",_n=e=>e!==null&&typeof e=="object",ON=e=>(_n(e)||xt(e))&&xt(e.then)&&xt(e.catch),cH=Object.prototype.toString,r1=e=>cH.call(e),iue=e=>r1(e).slice(8,-1),rA=e=>r1(e)==="[object Object]",$N=e=>_t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mf=Ia(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sue=Ia("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),iA=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},aue=/-(\w)/g,Ln=iA(e=>e.replace(aue,(t,n)=>n?n.toUpperCase():"")),oue=/\B([A-Z])/g,Us=iA(e=>e.replace(oue,"-$1").toLowerCase()),vd=iA(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mp=iA(e=>e?`on${vd(e)}`:""),cs=(e,t)=>!Object.is(e,t),Lp=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},fH=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},LE=e=>{const t=parseFloat(e);return isNaN(t)?e:t},PE=e=>{const t=_t(e)?Number(e):NaN;return isNaN(t)?e:t};let sM;const sA=()=>sM||(sM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function uue(e,t){return e+JSON.stringify(t,(n,r)=>typeof r=="function"?r.toString():r)}const lue="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",cue=Ia(lue);function Qf(e){if(Je(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=_t(r)?hH(r):Qf(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(_t(e)||_n(e))return e}const fue=/;(?![^(]*\))/g,hue=/:([^]+)/,due=/\/\*[^]*?\*\//g;function hH(e){const t={};return e.replace(due,"").split(fue).forEach(n=>{if(n){const r=n.split(hue);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function no(e){let t="";if(_t(e))t=e;else if(Je(e))for(let n=0;n<e.length;n++){const r=no(e[n]);r&&(t+=r+" ")}else if(_n(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function pue(e){if(!e)return null;let{class:t,style:n}=e;return t&&!_t(t)&&(e.class=no(t)),n&&(e.style=Qf(n)),e}const gue="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",mue="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",xue="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",vue="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",yue=Ia(gue),_ue=Ia(mue),Eue=Ia(xue),bue=Ia(vue),wue="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Aue=Ia(wue);function dH(e){return!!e||e===""}function Sue(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=kf(e[r],t[r]);return n}function kf(e,t){if(e===t)return!0;let n=iM(e),r=iM(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Zs(e),r=Zs(t),n||r)return e===t;if(n=Je(e),r=Je(t),n||r)return n&&r?Sue(e,t):!1;if(n=_n(e),r=_n(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const o=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(o&&!u||!o&&u||!kf(e[a],t[a]))return!1}}return String(e)===String(t)}function aA(e,t){return e.findIndex(n=>kf(n,t))}const pH=e=>!!(e&&e.__v_isRef===!0),yr=e=>_t(e)?e:e==null?"":Je(e)||_n(e)&&(e.toString===cH||!xt(e.toString))?pH(e)?yr(e.value):JSON.stringify(e,gH,2):String(e),gH=(e,t)=>pH(t)?gH(e,t.value):Rp(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[gk(r,s)+" =>"]=i,n),{})}:xd(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>gk(n))}:Zs(t)?gk(t):_n(t)&&!Je(t)&&!rA(t)?String(t):t,gk=(e,t="")=>{var n;return Zs(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let as;class IN{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=as,!t&&as&&(this.index=(as.scopes||(as.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=as;try{return as=this,t()}finally{as=n}}}on(){as=this}off(){as=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function RN(e){return new IN(e)}function MN(){return as}function mH(e,t=!1){as&&as.cleanups.push(e)}let Dn;const mk=new WeakSet;class Lx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,as&&as.active&&as.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mk.has(this)&&(mk.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vH(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,aM(this),yH(this);const t=Dn,n=Ho;Dn=this,Ho=!0;try{return this.fn()}finally{_H(this),Dn=t,Ho=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)BN(t);this.deps=this.depsTail=void 0,aM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mk.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){l3(this)&&this.run()}get dirty(){return l3(this)}}let xH=0,Qm,ex;function vH(e,t=!1){if(e.flags|=8,t){e.next=ex,ex=e;return}e.next=Qm,Qm=e}function LN(){xH++}function PN(){if(--xH>0)return;if(ex){let t=ex;for(ex=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Qm;){let t=Qm;for(Qm=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function yH(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _H(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),BN(r),Cue(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function l3(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(EH(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function EH(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Px))return;e.globalVersion=Px;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!l3(e)){e.flags&=-3;return}const n=Dn,r=Ho;Dn=e,Ho=!0;try{yH(e);const i=e.fn(e._value);(t.version===0||cs(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Dn=n,Ho=r,_H(e),e.flags&=-3}}function BN(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)BN(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Cue(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function kue(e,t){e.effect instanceof Lx&&(e=e.effect.fn);const n=new Lx(e);t&&Vt(n,t);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function Tue(e){e.effect.stop()}let Ho=!0;const bH=[];function e0(){bH.push(Ho),Ho=!1}function t0(){const e=bH.pop();Ho=e===void 0?!0:e}function aM(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Dn;Dn=void 0;try{t()}finally{Dn=n}}}let Px=0;class Fue{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class oA{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Dn||!Ho||Dn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Dn)n=this.activeLink=new Fue(Dn,this),Dn.deps?(n.prevDep=Dn.depsTail,Dn.depsTail.nextDep=n,Dn.depsTail=n):Dn.deps=Dn.depsTail=n,wH(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Dn.depsTail,n.nextDep=void 0,Dn.depsTail.nextDep=n,Dn.depsTail=n,Dn.deps===n&&(Dn.deps=r)}return n}trigger(t){this.version++,Px++,this.notify(t)}notify(t){LN();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{PN()}}}function wH(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)wH(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const BE=new WeakMap,ah=Symbol(""),c3=Symbol(""),Bx=Symbol("");function Ni(e,t,n){if(Ho&&Dn){let r=BE.get(e);r||BE.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new oA),i.map=r,i.key=n),i.track()}}function Ll(e,t,n,r,i,s){const a=BE.get(e);if(!a){Px++;return}const o=u=>{u&&u.trigger()};if(LN(),t==="clear")a.forEach(o);else{const u=Je(e),l=u&&$N(n);if(u&&n==="length"){const c=Number(r);a.forEach((f,h)=>{(h==="length"||h===Bx||!Zs(h)&&h>=c)&&o(f)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),l&&o(a.get(Bx)),t){case"add":u?l&&o(a.get("length")):(o(a.get(ah)),Rp(e)&&o(a.get(c3)));break;case"delete":u||(o(a.get(ah)),Rp(e)&&o(a.get(c3)));break;case"set":Rp(e)&&o(a.get(ah));break}}PN()}function Due(e,t){const n=BE.get(e);return n&&n.get(t)}function Kd(e){const t=Gt(e);return t===e?t:(Ni(t,"iterate",Bx),ya(e)?t:t.map(Oi))}function uA(e){return Ni(e=Gt(e),"iterate",Bx),e}const Nue={__proto__:null,[Symbol.iterator](){return xk(this,Symbol.iterator,Oi)},concat(...e){return Kd(this).concat(...e.map(t=>Je(t)?Kd(t):t))},entries(){return xk(this,"entries",e=>(e[1]=Oi(e[1]),e))},every(e,t){return El(this,"every",e,t,void 0,arguments)},filter(e,t){return El(this,"filter",e,t,n=>n.map(Oi),arguments)},find(e,t){return El(this,"find",e,t,Oi,arguments)},findIndex(e,t){return El(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return El(this,"findLast",e,t,Oi,arguments)},findLastIndex(e,t){return El(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return El(this,"forEach",e,t,void 0,arguments)},includes(...e){return vk(this,"includes",e)},indexOf(...e){return vk(this,"indexOf",e)},join(e){return Kd(this).join(e)},lastIndexOf(...e){return vk(this,"lastIndexOf",e)},map(e,t){return El(this,"map",e,t,void 0,arguments)},pop(){return V1(this,"pop")},push(...e){return V1(this,"push",e)},reduce(e,...t){return oM(this,"reduce",e,t)},reduceRight(e,...t){return oM(this,"reduceRight",e,t)},shift(){return V1(this,"shift")},some(e,t){return El(this,"some",e,t,void 0,arguments)},splice(...e){return V1(this,"splice",e)},toReversed(){return Kd(this).toReversed()},toSorted(e){return Kd(this).toSorted(e)},toSpliced(...e){return Kd(this).toSpliced(...e)},unshift(...e){return V1(this,"unshift",e)},values(){return xk(this,"values",Oi)}};function xk(e,t,n){const r=uA(e),i=r[t]();return r!==e&&!ya(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Oue=Array.prototype;function El(e,t,n,r,i,s){const a=uA(e),o=a!==e&&!ya(e),u=a[t];if(u!==Oue[t]){const f=u.apply(e,s);return o?Oi(f):f}let l=n;a!==e&&(o?l=function(f,h){return n.call(this,Oi(f),h,e)}:n.length>2&&(l=function(f,h){return n.call(this,f,h,e)}));const c=u.call(a,l,r);return o&&i?i(c):c}function oM(e,t,n,r){const i=uA(e);let s=n;return i!==e&&(ya(e)?n.length>3&&(s=function(a,o,u){return n.call(this,a,o,u,e)}):s=function(a,o,u){return n.call(this,a,Oi(o),u,e)}),i[t](s,...r)}function vk(e,t,n){const r=Gt(e);Ni(r,"iterate",Bx);const i=r[t](...n);return(i===-1||i===!1)&&fA(n[0])?(n[0]=Gt(n[0]),r[t](...n)):i}function V1(e,t,n=[]){e0(),LN();const r=Gt(e)[t].apply(e,n);return PN(),t0(),r}const $ue=Ia("__proto__,__v_isRef,__isVue"),AH=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zs));function Iue(e){Zs(e)||(e=String(e));const t=Gt(this);return Ni(t,"has",e),t.hasOwnProperty(e)}class SH{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?NH:DH:s?FH:TH).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=Je(t);if(!i){let u;if(a&&(u=Nue[n]))return u;if(n==="hasOwnProperty")return Iue}const o=Reflect.get(t,n,Kn(t)?t:r);return(Zs(n)?AH.has(n):$ue(n))||(i||Ni(t,"get",n),s)?o:Kn(o)?a&&$N(n)?o:o.value:_n(o)?i?UN(o):sa(o):o}}class CH extends SH{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const u=Tf(s);if(!ya(r)&&!Tf(r)&&(s=Gt(s),r=Gt(r)),!Je(t)&&Kn(s)&&!Kn(r))return u?!1:(s.value=r,!0)}const a=Je(t)&&$N(n)?Number(n)<t.length:on(t,n),o=Reflect.set(t,n,r,Kn(t)?t:i);return t===Gt(i)&&(a?cs(r,s)&&Ll(t,"set",n,r):Ll(t,"add",n,r)),o}deleteProperty(t,n){const r=on(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Ll(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Zs(n)||!AH.has(n))&&Ni(t,"has",n),r}ownKeys(t){return Ni(t,"iterate",Je(t)?"length":ah),Reflect.ownKeys(t)}}class kH extends SH{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Rue=new CH,Mue=new kH,Lue=new CH(!0),Pue=new kH(!0),f3=e=>e,b_=e=>Reflect.getPrototypeOf(e);function Bue(e,t,n){return function(...r){const i=this.__v_raw,s=Gt(i),a=Rp(s),o=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,l=i[e](...r),c=n?f3:t?h3:Oi;return!t&&Ni(s,"iterate",u?c3:ah),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:o?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function w_(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Uue(e,t){const n={get(i){const s=this.__v_raw,a=Gt(s),o=Gt(i);e||(cs(i,o)&&Ni(a,"get",i),Ni(a,"get",o));const{has:u}=b_(a),l=t?f3:e?h3:Oi;if(u.call(a,i))return l(s.get(i));if(u.call(a,o))return l(s.get(o));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!e&&Ni(Gt(i),"iterate",ah),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,a=Gt(s),o=Gt(i);return e||(cs(i,o)&&Ni(a,"has",i),Ni(a,"has",o)),i===o?s.has(i):s.has(i)||s.has(o)},forEach(i,s){const a=this,o=a.__v_raw,u=Gt(o),l=t?f3:e?h3:Oi;return!e&&Ni(u,"iterate",ah),o.forEach((c,f)=>i.call(s,l(c),l(f),a))}};return Vt(n,e?{add:w_("add"),set:w_("set"),delete:w_("delete"),clear:w_("clear")}:{add(i){!t&&!ya(i)&&!Tf(i)&&(i=Gt(i));const s=Gt(this);return b_(s).has.call(s,i)||(s.add(i),Ll(s,"add",i,i)),this},set(i,s){!t&&!ya(s)&&!Tf(s)&&(s=Gt(s));const a=Gt(this),{has:o,get:u}=b_(a);let l=o.call(a,i);l||(i=Gt(i),l=o.call(a,i));const c=u.call(a,i);return a.set(i,s),l?cs(s,c)&&Ll(a,"set",i,s):Ll(a,"add",i,s),this},delete(i){const s=Gt(this),{has:a,get:o}=b_(s);let u=a.call(s,i);u||(i=Gt(i),u=a.call(s,i)),o&&o.call(s,i);const l=s.delete(i);return u&&Ll(s,"delete",i,void 0),l},clear(){const i=Gt(this),s=i.size!==0,a=i.clear();return s&&Ll(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Bue(i,e,t)}),n}function lA(e,t){const n=Uue(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(on(n,i)&&i in r?n:r,i,s)}const zue={get:lA(!1,!1)},Wue={get:lA(!1,!0)},Hue={get:lA(!0,!1)},Vue={get:lA(!0,!0)},TH=new WeakMap,FH=new WeakMap,DH=new WeakMap,NH=new WeakMap;function jue(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gue(e){return e.__v_skip||!Object.isExtensible(e)?0:jue(iue(e))}function sa(e){return Tf(e)?e:cA(e,!1,Rue,zue,TH)}function OH(e){return cA(e,!1,Lue,Wue,FH)}function UN(e){return cA(e,!0,Mue,Hue,DH)}function que(e){return cA(e,!0,Pue,Vue,NH)}function cA(e,t,n,r,i){if(!_n(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=Gue(e);if(a===0)return e;const o=new Proxy(e,a===2?r:n);return i.set(e,o),o}function Ru(e){return Tf(e)?Ru(e.__v_raw):!!(e&&e.__v_isReactive)}function Tf(e){return!!(e&&e.__v_isReadonly)}function ya(e){return!!(e&&e.__v_isShallow)}function fA(e){return e?!!e.__v_raw:!1}function Gt(e){const t=e&&e.__v_raw;return t?Gt(t):e}function hA(e){return!on(e,"__v_skip")&&Object.isExtensible(e)&&fH(e,"__v_skip",!0),e}const Oi=e=>_n(e)?sa(e):e,h3=e=>_n(e)?UN(e):e;function Kn(e){return e?e.__v_isRef===!0:!1}function oi(e){return IH(e,!1)}function $H(e){return IH(e,!0)}function IH(e,t){return Kn(e)?e:new Xue(e,t)}class Xue{constructor(t,n){this.dep=new oA,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Gt(t),this._value=n?t:Oi(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ya(t)||Tf(t);t=r?t:Gt(t),cs(t,n)&&(this._rawValue=t,this._value=r?t:Oi(t),this.dep.trigger())}}function Kue(e){e.dep&&e.dep.trigger()}function tr(e){return Kn(e)?e.value:e}function Yue(e){return xt(e)?e():tr(e)}const Jue={get:(e,t,n)=>t==="__v_raw"?e:tr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Kn(i)&&!Kn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function zN(e){return Ru(e)?e:new Proxy(e,Jue)}class Zue{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new oA,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function RH(e){return new Zue(e)}function MH(e){const t=Je(e)?new Array(e.length):{};for(const n in e)t[n]=LH(e,n);return t}class Que{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Due(Gt(this._object),this._key)}}class ele{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tle(e,t,n){return Kn(e)?e:xt(e)?new ele(e):_n(e)&&arguments.length>1?LH(e,t,n):oi(e)}function LH(e,t,n){const r=e[t];return Kn(r)?r:new Que(e,t,n)}class nle{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new oA(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Px-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Dn!==this)return vH(this,!0),!0}get value(){const t=this.dep.track();return EH(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function rle(e,t,n=!1){let r,i;return xt(e)?r=e:(r=e.get,i=e.set),new nle(r,i,n)}const ile={GET:"get",HAS:"has",ITERATE:"iterate"},sle={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},A_={},UE=new WeakMap;let Xc;function ale(){return Xc}function PH(e,t=!1,n=Xc){if(n){let r=UE.get(n);r||UE.set(n,r=[]),r.push(e)}}function ole(e,t,n=zt){const{immediate:r,deep:i,once:s,scheduler:a,augmentJob:o,call:u}=n,l=_=>i?_:ya(_)||i===!1||i===0?Pl(_,1):Pl(_);let c,f,h,d,p=!1,g=!1;if(Kn(e)?(f=()=>e.value,p=ya(e)):Ru(e)?(f=()=>l(e),p=!0):Je(e)?(g=!0,p=e.some(_=>Ru(_)||ya(_)),f=()=>e.map(_=>{if(Kn(_))return _.value;if(Ru(_))return l(_);if(xt(_))return u?u(_,2):_()})):xt(e)?t?f=u?()=>u(e,2):e:f=()=>{if(h){e0();try{h()}finally{t0()}}const _=Xc;Xc=c;try{return u?u(e,3,[d]):e(d)}finally{Xc=_}}:f=hi,t&&i){const _=f,E=i===!0?1/0:i;f=()=>Pl(_(),E)}const m=MN(),x=()=>{c.stop(),m&&m.active&&NN(m.effects,c)};if(s&&t){const _=t;t=(...E)=>{_(...E),x()}}let y=g?new Array(e.length).fill(A_):A_;const v=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const E=c.run();if(i||p||(g?E.some((w,b)=>cs(w,y[b])):cs(E,y))){h&&h();const w=Xc;Xc=c;try{const b=[E,y===A_?void 0:g&&y[0]===A_?[]:y,d];u?u(t,3,b):t(...b),y=E}finally{Xc=w}}}else c.run()};return o&&o(v),c=new Lx(f),c.scheduler=a?()=>a(v,!1):v,d=_=>PH(_,!1,c),h=c.onStop=()=>{const _=UE.get(c);if(_){if(u)u(_,4);else for(const E of _)E();UE.delete(c)}},t?r?v(!0):y=c.run():a?a(v.bind(null,!0),!0):c.run(),x.pause=c.pause.bind(c),x.resume=c.resume.bind(c),x.stop=x,x}function Pl(e,t=1/0,n){if(t<=0||!_n(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Kn(e))Pl(e.value,t,n);else if(Je(e))for(let r=0;r<e.length;r++)Pl(e[r],t,n);else if(xd(e)||Rp(e))e.forEach(r=>{Pl(r,t,n)});else if(rA(e)){for(const r in e)Pl(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Pl(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const BH=[];function ule(e){BH.push(e)}function lle(){BH.pop()}function cle(e,t){}const fle={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},hle={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function i1(e,t,n,r){try{return r?e(...r):e()}catch(i){yd(i,t,n)}}function oo(e,t,n,r){if(xt(e)){const i=i1(e,t,n,r);return i&&ON(i)&&i.catch(s=>{yd(s,t,n)}),i}if(Je(e)){const i=[];for(let s=0;s<e.length;s++)i.push(oo(e[s],t,n,r));return i}}function yd(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||zt;if(t){let o=t.parent;const u=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,u,l)===!1)return}o=o.parent}if(s){e0(),i1(s,null,10,[e,u,l]),t0();return}}dle(e,n,i,r,a)}function dle(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const fs=[];let Eu=-1;const Pp=[];let Kc=null,pp=0;const UH=Promise.resolve();let zE=null;function Fh(e){const t=zE||UH;return e?t.then(this?e.bind(this):e):t}function ple(e){let t=Eu+1,n=fs.length;for(;t<n;){const r=t+n>>>1,i=fs[r],s=zx(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function WN(e){if(!(e.flags&1)){const t=zx(e),n=fs[fs.length-1];!n||!(e.flags&2)&&t>=zx(n)?fs.push(e):fs.splice(ple(t),0,e),e.flags|=1,zH()}}function zH(){zE||(zE=UH.then(WH))}function Ux(e){Je(e)?Pp.push(...e):Kc&&e.id===-1?Kc.splice(pp+1,0,e):e.flags&1||(Pp.push(e),e.flags|=1),zH()}function uM(e,t,n=Eu+1){for(;n<fs.length;n++){const r=fs[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;fs.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function WE(e){if(Pp.length){const t=[...new Set(Pp)].sort((n,r)=>zx(n)-zx(r));if(Pp.length=0,Kc){Kc.push(...t);return}for(Kc=t,pp=0;pp<Kc.length;pp++){const n=Kc[pp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Kc=null,pp=0}}const zx=e=>e.id==null?e.flags&2?-1:1/0:e.id;function WH(e){try{for(Eu=0;Eu<fs.length;Eu++){const t=fs[Eu];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),i1(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Eu<fs.length;Eu++){const t=fs[Eu];t&&(t.flags&=-2)}Eu=-1,fs.length=0,WE(),zE=null,(fs.length||Pp.length)&&WH()}}let gp,S_=[];function HH(e,t){var n,r;gp=e,gp?(gp.enabled=!0,S_.forEach(({event:i,args:s})=>gp.emit(i,...s)),S_=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{HH(s,t)}),setTimeout(()=>{gp||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,S_=[])},3e3)):S_=[]}let Dr=null,dA=null;function Wx(e){const t=Dr;return Dr=e,dA=e&&e.type.__scopeId||null,t}function gle(e){dA=e}function mle(){dA=null}const xle=e=>pA;function pA(e,t=Dr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&_3(-1);const s=Wx(t);let a;try{a=e(...i)}finally{Wx(s),r._d&&_3(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function zs(e,t){if(Dr===null)return e;const n=ty(Dr),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,o,u=zt]=t[i];s&&(xt(s)&&(s={mounted:s,updated:s}),s.deep&&Pl(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:u}))}return e}function wu(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let u=o.dir[r];u&&(e0(),oo(u,n,8,[e.el,o,e,t]),t0())}}const VH=Symbol("_vte"),jH=e=>e.__isTeleport,tx=e=>e&&(e.disabled||e.disabled===""),lM=e=>e&&(e.defer||e.defer===""),cM=e=>typeof SVGElement<"u"&&e instanceof SVGElement,fM=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,d3=(e,t)=>{const n=e&&e.to;return _t(n)?t?t(n):null:n},GH={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,a,o,u,l){const{mc:c,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:m}}=l,x=tx(t.props);let{shapeFlag:y,children:v,dynamicChildren:_}=t;if(e==null){const E=t.el=g(""),w=t.anchor=g("");d(E,n,r),d(w,n,r);const b=(A,C)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=A),c(v,A,C,i,s,a,o,u))},S=()=>{const A=t.target=d3(t.props,p),C=qH(A,t,g,d);A&&(a!=="svg"&&cM(A)?a="svg":a!=="mathml"&&fM(A)&&(a="mathml"),x||(b(A,C),G2(t,!1)))};x&&(b(n,w),G2(t,!0)),lM(t.props)?br(()=>{S(),t.el.__isMounted=!0},s):S()}else{if(lM(t.props)&&!e.el.__isMounted){br(()=>{GH.process(e,t,n,r,i,s,a,o,u,l),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const E=t.anchor=e.anchor,w=t.target=e.target,b=t.targetAnchor=e.targetAnchor,S=tx(e.props),A=S?n:w,C=S?E:b;if(a==="svg"||cM(w)?a="svg":(a==="mathml"||fM(w))&&(a="mathml"),_?(h(e.dynamicChildren,_,A,i,s,a,o),QN(e,t,!0)):u||f(e,t,A,C,i,s,a,o,!1),x)S?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):C_(t,n,E,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const k=t.target=d3(t.props,p);k&&C_(t,k,null,l,0)}else S&&C_(t,w,b,l,1);G2(t,x)}},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:u,targetStart:l,targetAnchor:c,target:f,props:h}=e;if(f&&(i(l),i(c)),s&&i(u),a&16){const d=s||!tx(h);for(let p=0;p<o.length;p++){const g=o[p];r(g,t,n,d,!!g.dynamicChildren)}}},move:C_,hydrate:vle};function C_(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:a,anchor:o,shapeFlag:u,children:l,props:c}=e,f=s===2;if(f&&r(a,t,n),(!f||tx(c))&&u&16)for(let h=0;h<l.length;h++)i(l[h],t,n,2);f&&r(o,t,n)}function vle(e,t,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:u,insert:l,createText:c}},f){const h=t.target=d3(t.props,u);if(h){const d=tx(t.props),p=h._lpa||h.firstChild;if(t.shapeFlag&16)if(d)t.anchor=f(a(e),t,o(e),n,r,i,s),t.targetStart=p,t.targetAnchor=p&&a(p);else{t.anchor=a(e);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}g=a(g)}t.targetAnchor||qH(h,t,c,l),f(p&&a(p),t,h,n,r,i,s)}G2(t,d)}return t.anchor&&a(t.anchor)}const yle=GH;function G2(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function qH(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[VH]=s,e&&(r(i,e),r(s,e)),s}const Yc=Symbol("_leaveCb"),k_=Symbol("_enterCb");function HN(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sc(()=>{e.isMounted=!0}),vA(()=>{e.isUnmounting=!0}),e}const La=[Function,Array],VN={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:La,onEnter:La,onAfterEnter:La,onEnterCancelled:La,onBeforeLeave:La,onLeave:La,onAfterLeave:La,onLeaveCancelled:La,onBeforeAppear:La,onAppear:La,onAfterAppear:La,onAppearCancelled:La},XH=e=>{const t=e.subTree;return t.component?XH(t.component):t},_le={name:"BaseTransition",props:VN,setup(e,{slots:t}){const n=yo(),r=HN();return()=>{const i=t.default&&gA(t.default(),!0);if(!i||!i.length)return;const s=KH(i),a=Gt(e),{mode:o}=a;if(r.isLeaving)return yk(s);const u=hM(s);if(!u)return yk(s);let l=ng(u,a,r,n,f=>l=f);u.type!==_r&&hc(u,l);let c=n.subTree&&hM(n.subTree);if(c&&c.type!==_r&&!Io(u,c)&&XH(n).type!==_r){let f=ng(c,a,r,n);if(hc(c,f),o==="out-in"&&u.type!==_r)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},yk(s);o==="in-out"&&u.type!==_r?f.delayLeave=(h,d,p)=>{const g=JH(r,c);g[String(c.key)]=c,h[Yc]=()=>{d(),h[Yc]=void 0,delete l.delayedLeave,c=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function KH(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==_r){t=n;break}}return t}const YH=_le;function JH(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ng(e,t,n,r,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:x,onAfterAppear:y,onAppearCancelled:v}=t,_=String(e.key),E=JH(n,e),w=(A,C)=>{A&&oo(A,r,9,C)},b=(A,C)=>{const k=C[1];w(A,C),Je(A)?A.every(F=>F.length<=1)&&k():A.length<=1&&k()},S={mode:a,persisted:o,beforeEnter(A){let C=u;if(!n.isMounted)if(s)C=m||u;else return;A[Yc]&&A[Yc](!0);const k=E[_];k&&Io(e,k)&&k.el[Yc]&&k.el[Yc](),w(C,[A])},enter(A){let C=l,k=c,F=f;if(!n.isMounted)if(s)C=x||l,k=y||c,F=v||f;else return;let N=!1;const R=A[k_]=D=>{N||(N=!0,D?w(F,[A]):w(k,[A]),S.delayedLeave&&S.delayedLeave(),A[k_]=void 0)};C?b(C,[A,R]):R()},leave(A,C){const k=String(e.key);if(A[k_]&&A[k_](!0),n.isUnmounting)return C();w(h,[A]);let F=!1;const N=A[Yc]=R=>{F||(F=!0,C(),R?w(g,[A]):w(p,[A]),A[Yc]=void 0,E[k]===e&&delete E[k])};E[k]=e,d?b(d,[A,N]):N()},clone(A){const C=ng(A,t,n,r,i);return i&&i(C),C}};return S}function yk(e){if(Qv(e))return e=Vu(e),e.children=null,e}function hM(e){if(!Qv(e))return jH(e.type)&&e.children?KH(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&xt(n.default))return n.default()}}function hc(e,t){e.shapeFlag&6&&e.component?(e.transition=t,hc(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function gA(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Mt?(a.patchFlag&128&&i++,r=r.concat(gA(a.children,t,o))):(t||a.type!==_r)&&r.push(o!=null?Vu(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Zr(e,t){return xt(e)?Vt({name:e.name},t,{setup:e}):e}function Ele(){const e=yo();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function jN(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ble(e){const t=yo(),n=$H(null);if(t){const i=t.refs===zt?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Hx(e,t,n,r,i=!1){if(Je(e)){e.forEach((p,g)=>Hx(p,t&&(Je(t)?t[g]:t),n,r,i));return}if(xf(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Hx(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?ty(r.component):r.el,a=i?null:s,{i:o,r:u}=e,l=t&&t.r,c=o.refs===zt?o.refs={}:o.refs,f=o.setupState,h=Gt(f),d=f===zt?()=>!1:p=>on(h,p);if(l!=null&&l!==u&&(_t(l)?(c[l]=null,d(l)&&(f[l]=null)):Kn(l)&&(l.value=null)),xt(u))i1(u,o,12,[a,c]);else{const p=_t(u),g=Kn(u);if(p||g){const m=()=>{if(e.f){const x=p?d(u)?f[u]:c[u]:u.value;i?Je(x)&&NN(x,s):Je(x)?x.includes(s)||x.push(s):p?(c[u]=[s],d(u)&&(f[u]=c[u])):(u.value=[s],e.k&&(c[e.k]=u.value))}else p?(c[u]=a,d(u)&&(f[u]=a)):g&&(u.value=a,e.k&&(c[e.k]=a))};a?(m.id=-1,br(m,n)):m()}}}let dM=!1;const Yd=()=>{dM||(console.error("Hydration completed but contains mismatches."),dM=!0)},wle=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Ale=e=>e.namespaceURI.includes("MathML"),T_=e=>{if(e.nodeType===1){if(wle(e))return"svg";if(Ale(e))return"mathml"}},wp=e=>e.nodeType===8;function Sle(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:a,remove:o,insert:u,createComment:l}}=e,c=(v,_)=>{if(!_.hasChildNodes()){n(null,v,_),WE(),_._vnode=v;return}f(_.firstChild,v,null,null,null),WE(),_._vnode=v},f=(v,_,E,w,b,S=!1)=>{S=S||!!_.dynamicChildren;const A=wp(v)&&v.data==="[",C=()=>g(v,_,E,w,b,A),{type:k,ref:F,shapeFlag:N,patchFlag:R}=_;let D=v.nodeType;_.el=v,R===-2&&(S=!1,_.dynamicChildren=null);let O=null;switch(k){case vf:D!==3?_.children===""?(u(_.el=i(""),a(v),v),O=v):O=C():(v.data!==_.children&&(Yd(),v.data=_.children),O=s(v));break;case _r:y(v)?(O=s(v),x(_.el=v.content.firstChild,v,E)):D!==8||A?O=C():O=s(v);break;case lh:if(A&&(v=s(v),D=v.nodeType),D===1||D===3){O=v;const M=!_.children.length;for(let z=0;z<_.staticCount;z++)M&&(_.children+=O.nodeType===1?O.outerHTML:O.data),z===_.staticCount-1&&(_.anchor=O),O=s(O);return A?s(O):O}else C();break;case Mt:A?O=p(v,_,E,w,b,S):O=C();break;default:if(N&1)(D!==1||_.type.toLowerCase()!==v.tagName.toLowerCase())&&!y(v)?O=C():O=h(v,_,E,w,b,S);else if(N&6){_.slotScopeIds=b;const M=a(v);if(A?O=m(v):wp(v)&&v.data==="teleport start"?O=m(v,v.data,"teleport end"):O=s(v),t(_,M,null,E,w,T_(M),S),xf(_)&&!_.type.__asyncResolved){let z;A?(z=Ht(Mt),z.anchor=O?O.previousSibling:M.lastChild):z=v.nodeType===3?nr(""):Ht("div"),z.el=v,_.component.subTree=z}}else N&64?D!==8?O=C():O=_.type.hydrate(v,_,E,w,b,S,e,d):N&128&&(O=_.type.hydrate(v,_,E,w,T_(a(v)),b,S,e,f))}return F!=null&&Hx(F,null,w,_),O},h=(v,_,E,w,b,S)=>{S=S||!!_.dynamicChildren;const{type:A,props:C,patchFlag:k,shapeFlag:F,dirs:N,transition:R}=_,D=A==="input"||A==="option";if(D||k!==-1){N&&wu(_,null,E,"created");let O=!1;if(y(v)){O=AV(null,R)&&E&&E.vnode.props&&E.vnode.props.appear;const z=v.content.firstChild;O&&R.beforeEnter(z),x(z,v,E),_.el=v=z}if(F&16&&!(C&&(C.innerHTML||C.textContent))){let z=d(v.firstChild,_,v,E,w,b,S);for(;z;){F_(v,1)||Yd();const K=z;z=z.nextSibling,o(K)}}else if(F&8){let z=_.children;z[0]===`
`&&(v.tagName==="PRE"||v.tagName==="TEXTAREA")&&(z=z.slice(1)),v.textContent!==z&&(F_(v,0)||Yd(),v.textContent=_.children)}if(C){if(D||!S||k&48){const z=v.tagName.includes("-");for(const K in C)(D&&(K.endsWith("value")||K==="indeterminate")||md(K)&&!mf(K)||K[0]==="."||z)&&r(v,K,null,C[K],void 0,E)}else if(C.onClick)r(v,"onClick",null,C.onClick,void 0,E);else if(k&4&&Ru(C.style))for(const z in C.style)C.style[z]}let M;(M=C&&C.onVnodeBeforeMount)&&Os(M,E,_),N&&wu(_,null,E,"beforeMount"),((M=C&&C.onVnodeMounted)||N||O)&&$V(()=>{M&&Os(M,E,_),O&&R.enter(v),N&&wu(_,null,E,"mounted")},w)}return v.nextSibling},d=(v,_,E,w,b,S,A)=>{A=A||!!_.dynamicChildren;const C=_.children,k=C.length;for(let F=0;F<k;F++){const N=A?C[F]:C[F]=Ps(C[F]),R=N.type===vf;v?(R&&!A&&F+1<k&&Ps(C[F+1]).type===vf&&(u(i(v.data.slice(N.children.length)),E,s(v)),v.data=N.children),v=f(v,N,w,b,S,A)):R&&!N.children?u(N.el=i(""),E):(F_(E,1)||Yd(),n(null,N,E,null,w,b,T_(E),S))}return v},p=(v,_,E,w,b,S)=>{const{slotScopeIds:A}=_;A&&(b=b?b.concat(A):A);const C=a(v),k=d(s(v),_,C,E,w,b,S);return k&&wp(k)&&k.data==="]"?s(_.anchor=k):(Yd(),u(_.anchor=l("]"),C,k),k)},g=(v,_,E,w,b,S)=>{if(F_(v.parentElement,1)||Yd(),_.el=null,S){const k=m(v);for(;;){const F=s(v);if(F&&F!==k)o(F);else break}}const A=s(v),C=a(v);return o(v),n(null,_,C,A,E,w,T_(C),b),E&&(E.vnode.el=_.el,EA(E,_.el)),A},m=(v,_="[",E="]")=>{let w=0;for(;v;)if(v=s(v),v&&wp(v)&&(v.data===_&&w++,v.data===E)){if(w===0)return s(v);w--}return v},x=(v,_,E)=>{const w=_.parentNode;w&&w.replaceChild(v,_);let b=E;for(;b;)b.vnode.el===_&&(b.vnode.el=b.subTree.el=v),b=b.parent},y=v=>v.nodeType===1&&v.tagName==="TEMPLATE";return[c,f]}const pM="data-allow-mismatch",Cle={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function F_(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(pM);)e=e.parentElement;const n=e&&e.getAttribute(pM);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:n.split(",").includes(Cle[t])}}const kle=sA().requestIdleCallback||(e=>setTimeout(e,1)),Tle=sA().cancelIdleCallback||(e=>clearTimeout(e)),Fle=(e=1e4)=>t=>{const n=kle(t,{timeout:e});return()=>Tle(n)};function Dle(e){const{top:t,left:n,bottom:r,right:i}=e.getBoundingClientRect(),{innerHeight:s,innerWidth:a}=window;return(t>0&&t<s||r>0&&r<s)&&(n>0&&n<a||i>0&&i<a)}const Nle=e=>(t,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),t();break}},e);return n(i=>{if(i instanceof Element){if(Dle(i))return t(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},Ole=e=>t=>{if(e){const n=matchMedia(e);if(n.matches)t();else return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t)}},$le=(e=[])=>(t,n)=>{_t(e)&&(e=[e]);let r=!1;const i=a=>{r||(r=!0,s(),t(),a.target.dispatchEvent(new a.constructor(a.type,a)))},s=()=>{n(a=>{for(const o of e)a.removeEventListener(o,i)})};return n(a=>{for(const o of e)a.addEventListener(o,i,{once:!0})}),s};function Ile(e,t){if(wp(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(wp(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const xf=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Rle(e){xt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:a,suspensible:o=!0,onError:u}=e;let l=null,c,f=0;const h=()=>(f++,l=null,d()),d=()=>{let p;return l||(p=l=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),u)return new Promise((m,x)=>{u(g,()=>m(h()),()=>x(g),f+1)});throw g}).then(g=>p!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),c=g,g)))};return Zr({name:"AsyncComponentWrapper",__asyncLoader:d,__asyncHydrate(p,g,m){const x=s?()=>{const y=s(m,v=>Ile(p,v));y&&(g.bum||(g.bum=[])).push(y)}:m;c?x():d().then(()=>!g.isUnmounted&&x())},get __asyncResolved(){return c},setup(){const p=kr;if(jN(p),c)return()=>_k(c,p);const g=v=>{l=null,yd(v,p,13,!r)};if(o&&p.suspense||rg)return d().then(v=>()=>_k(v,p)).catch(v=>(g(v),()=>r?Ht(r,{error:v}):null));const m=oi(!1),x=oi(),y=oi(!!i);return i&&setTimeout(()=>{y.value=!1},i),a!=null&&setTimeout(()=>{if(!m.value&&!x.value){const v=new Error(`Async component timed out after ${a}ms.`);g(v),x.value=v}},a),d().then(()=>{m.value=!0,p.parent&&Qv(p.parent.vnode)&&p.parent.update()}).catch(v=>{g(v),x.value=v}),()=>{if(m.value&&c)return _k(c,p);if(x.value&&r)return Ht(r,{error:x.value});if(n&&!y.value)return Ht(n)}}})}function _k(e,t){const{ref:n,props:r,children:i,ce:s}=t.vnode,a=Ht(e,r,i);return a.ref=n,a.ce=s,delete t.vnode.ce,a}const Qv=e=>e.type.__isKeepAlive,Mle={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=yo(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const i=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:u,m:l,um:c,o:{createElement:f}}}=r,h=f("div");r.activate=(y,v,_,E,w)=>{const b=y.component;l(y,v,_,0,o),u(b.vnode,y,v,_,b,o,E,y.slotScopeIds,w),br(()=>{b.isDeactivated=!1,b.a&&Lp(b.a);const S=y.props&&y.props.onVnodeMounted;S&&Os(S,b.parent,y)},o)},r.deactivate=y=>{const v=y.component;VE(v.m),VE(v.a),l(y,h,null,1,o),br(()=>{v.da&&Lp(v.da);const _=y.props&&y.props.onVnodeUnmounted;_&&Os(_,v.parent,y),v.isDeactivated=!0},o)};function d(y){Ek(y),c(y,n,o,!0)}function p(y){i.forEach((v,_)=>{const E=S3(v.type);E&&!y(E)&&g(_)})}function g(y){const v=i.get(y);v&&(!a||!Io(v,a))?d(v):a&&Ek(a),i.delete(y),s.delete(y)}Gs(()=>[e.include,e.exclude],([y,v])=>{y&&p(_=>wm(y,_)),v&&p(_=>!wm(v,_))},{flush:"post",deep:!0});let m=null;const x=()=>{m!=null&&(jE(n.subTree.type)?br(()=>{i.set(m,D_(n.subTree))},n.subTree.suspense):i.set(m,D_(n.subTree)))};return Sc(x),xA(x),vA(()=>{i.forEach(y=>{const{subTree:v,suspense:_}=n,E=D_(v);if(y.type===E.type&&y.key===E.key){Ek(E);const w=E.component.da;w&&br(w,_);return}d(y)})}),()=>{if(m=null,!t.default)return a=null;const y=t.default(),v=y[0];if(y.length>1)return a=null,y;if(!dc(v)||!(v.shapeFlag&4)&&!(v.shapeFlag&128))return a=null,v;let _=D_(v);if(_.type===_r)return a=null,_;const E=_.type,w=S3(xf(_)?_.type.__asyncResolved||{}:E),{include:b,exclude:S,max:A}=e;if(b&&(!w||!wm(b,w))||S&&w&&wm(S,w))return _.shapeFlag&=-257,a=_,v;const C=_.key==null?E:_.key,k=i.get(C);return _.el&&(_=Vu(_),v.shapeFlag&128&&(v.ssContent=_)),m=C,k?(_.el=k.el,_.component=k.component,_.transition&&hc(_,_.transition),_.shapeFlag|=512,s.delete(C),s.add(C)):(s.add(C),A&&s.size>parseInt(A,10)&&g(s.values().next().value)),_.shapeFlag|=256,a=_,jE(v.type)?v:_}}},Lle=Mle;function wm(e,t){return Je(e)?e.some(n=>wm(n,t)):_t(e)?e.split(",").includes(t):rue(e)?(e.lastIndex=0,e.test(t)):!1}function ZH(e,t){eV(e,"a",t)}function QH(e,t){eV(e,"da",t)}function eV(e,t,n=kr){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(mA(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Qv(i.parent.vnode)&&Ple(r,t,n,i),i=i.parent}}function Ple(e,t,n,r){const i=mA(t,e,r,!0);yA(()=>{NN(r[t],i)},n)}function Ek(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function D_(e){return e.shapeFlag&128?e.ssContent:e}function mA(e,t,n=kr,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{e0();const o=Oh(n),u=oo(t,n,e,a);return o(),t0(),u});return r?i.unshift(s):i.push(s),s}}const Ac=e=>(t,n=kr)=>{(!rg||e==="sp")&&mA(e,(...r)=>t(...r),n)},GN=Ac("bm"),Sc=Ac("m"),qN=Ac("bu"),xA=Ac("u"),vA=Ac("bum"),yA=Ac("um"),tV=Ac("sp"),nV=Ac("rtg"),rV=Ac("rtc");function iV(e,t=kr){mA("ec",e,t)}const XN="components",Ble="directives";function Ule(e,t){return KN(XN,e,!0,t)||e}const sV=Symbol.for("v-ndc");function zle(e){return _t(e)?KN(XN,e,!1)||e:e||sV}function Wle(e){return KN(Ble,e)}function KN(e,t,n=!0,r=!1){const i=Dr||kr;if(i){const s=i.type;if(e===XN){const o=S3(s,!1);if(o&&(o===t||o===Ln(t)||o===vd(Ln(t))))return s}const a=gM(i[e]||s[e],t)||gM(i.appContext[e],t);return!a&&r?s:a}}function gM(e,t){return e&&(e[t]||e[Ln(t)]||e[vd(Ln(t))])}function Mi(e,t,n,r){let i;const s=n&&n[r],a=Je(e);if(a||_t(e)){const o=a&&Ru(e);let u=!1;o&&(u=!ya(e),e=uA(e)),i=new Array(e.length);for(let l=0,c=e.length;l<c;l++)i[l]=t(u?Oi(e[l]):e[l],l,void 0,s&&s[l])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(_n(e))if(e[Symbol.iterator])i=Array.from(e,(o,u)=>t(o,u,void 0,s&&s[u]));else{const o=Object.keys(e);i=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];i[u]=t(e[c],c,u,s&&s[u])}}else i=[];return n&&(n[r]=i),i}function Hle(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Je(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function aV(e,t,n={},r,i){if(Dr.ce||Dr.parent&&xf(Dr.parent)&&Dr.parent.ce)return t!=="default"&&(n.name=t),je(),Nh(Mt,null,[Ht("slot",n,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),je();const a=s&&YN(s(n)),o=n.key||a&&a.key,u=Nh(Mt,{key:(o&&!Zs(o)?o:`_${t}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&e._===1?64:-2);return!i&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function YN(e){return e.some(t=>dc(t)?!(t.type===_r||t.type===Mt&&!YN(t.children)):!0)?e:null}function Vle(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:Mp(r)]=e[r];return n}const p3=e=>e?UV(e)?ty(e):p3(e.parent):null,nx=Vt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>p3(e.parent),$root:e=>p3(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>JN(e),$forceUpdate:e=>e.f||(e.f=()=>{WN(e.update)}),$nextTick:e=>e.n||(e.n=Fh.bind(e.proxy)),$watch:e=>Ece.bind(e)}),bk=(e,t)=>e!==zt&&!e.__isScriptSetup&&on(e,t),g3={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:u}=e;let l;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(bk(r,t))return a[t]=1,r[t];if(i!==zt&&on(i,t))return a[t]=2,i[t];if((l=e.propsOptions[0])&&on(l,t))return a[t]=3,s[t];if(n!==zt&&on(n,t))return a[t]=4,n[t];m3&&(a[t]=0)}}const c=nx[t];let f,h;if(c)return t==="$attrs"&&Ni(e.attrs,"get",""),c(e);if((f=o.__cssModules)&&(f=f[t]))return f;if(n!==zt&&on(n,t))return a[t]=4,n[t];if(h=u.config.globalProperties,on(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return bk(i,t)?(i[t]=n,!0):r!==zt&&on(r,t)?(r[t]=n,!0):on(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||e!==zt&&on(e,a)||bk(t,a)||(o=s[0])&&on(o,a)||on(r,a)||on(nx,a)||on(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:on(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},jle=Vt({},g3,{get(e,t){if(t!==Symbol.unscopables)return g3.get(e,t,e)},has(e,t){return t[0]!=="_"&&!cue(t)}});function Gle(){return null}function qle(){return null}function Xle(e){}function Kle(e){}function Yle(){return null}function Jle(){}function Zle(e,t){return null}function Qle(){return oV().slots}function ece(){return oV().attrs}function oV(){const e=yo();return e.setupContext||(e.setupContext=VV(e))}function Vx(e){return Je(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function tce(e,t){const n=Vx(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?Je(i)||xt(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function nce(e,t){return!e||!t?e||t:Je(e)&&Je(t)?e.concat(t):Vt({},Vx(e),Vx(t))}function rce(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function ice(e){const t=yo();let n=e();return b3(),ON(n)&&(n=n.catch(r=>{throw Oh(t),r})),[n,()=>Oh(t)]}let m3=!0;function sce(e){const t=JN(e),n=e.proxy,r=e.ctx;m3=!1,t.beforeCreate&&mM(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:o,provide:u,inject:l,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:x,beforeUnmount:y,destroyed:v,unmounted:_,render:E,renderTracked:w,renderTriggered:b,errorCaptured:S,serverPrefetch:A,expose:C,inheritAttrs:k,components:F,directives:N,filters:R}=t;if(l&&ace(l,r,null),a)for(const M in a){const z=a[M];xt(z)&&(r[M]=z.bind(n))}if(i){const M=i.call(n,n);_n(M)&&(e.data=sa(M))}if(m3=!0,s)for(const M in s){const z=s[M],K=xt(z)?z.bind(n,n):xt(z.get)?z.get.bind(n,n):hi,X=!xt(z)&&xt(z.set)?z.set.bind(n):hi,ve=Yl({get:K,set:X});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>ve.value,set:te=>ve.value=te})}if(o)for(const M in o)uV(o[M],r,n,M);if(u){const M=xt(u)?u.call(n):u;Reflect.ownKeys(M).forEach(z=>{cV(z,M[z])})}c&&mM(c,e,"c");function O(M,z){Je(z)?z.forEach(K=>M(K.bind(n))):z&&M(z.bind(n))}if(O(GN,f),O(Sc,h),O(qN,d),O(xA,p),O(ZH,g),O(QH,m),O(iV,S),O(rV,w),O(nV,b),O(vA,y),O(yA,_),O(tV,A),Je(C))if(C.length){const M=e.exposed||(e.exposed={});C.forEach(z=>{Object.defineProperty(M,z,{get:()=>n[z],set:K=>n[z]=K})})}else e.exposed||(e.exposed={});E&&e.render===hi&&(e.render=E),k!=null&&(e.inheritAttrs=k),F&&(e.components=F),N&&(e.directives=N),A&&jN(e)}function ace(e,t,n=hi){Je(e)&&(e=x3(e));for(const r in e){const i=e[r];let s;_n(i)?"default"in i?s=uh(i.from||r,i.default,!0):s=uh(i.from||r):s=uh(i),Kn(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function mM(e,t,n){oo(Je(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function uV(e,t,n,r){let i=r.includes(".")?FV(n,r):()=>n[r];if(_t(e)){const s=t[e];xt(s)&&Gs(i,s)}else if(xt(e))Gs(i,e.bind(n));else if(_n(e))if(Je(e))e.forEach(s=>uV(s,t,n,r));else{const s=xt(e.handler)?e.handler.bind(n):t[e.handler];xt(s)&&Gs(i,s,e)}}function JN(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let u;return o?u=o:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(l=>HE(u,l,a,!0)),HE(u,t,a)),_n(t)&&s.set(t,u),u}function HE(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&HE(e,s,n,!0),i&&i.forEach(a=>HE(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const o=oce[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const oce={data:xM,props:vM,emits:vM,methods:Am,computed:Am,beforeCreate:is,created:is,beforeMount:is,mounted:is,beforeUpdate:is,updated:is,beforeDestroy:is,beforeUnmount:is,destroyed:is,unmounted:is,activated:is,deactivated:is,errorCaptured:is,serverPrefetch:is,components:Am,directives:Am,watch:lce,provide:xM,inject:uce};function xM(e,t){return t?e?function(){return Vt(xt(e)?e.call(this,this):e,xt(t)?t.call(this,this):t)}:t:e}function uce(e,t){return Am(x3(e),x3(t))}function x3(e){if(Je(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function is(e,t){return e?[...new Set([].concat(e,t))]:t}function Am(e,t){return e?Vt(Object.create(null),e,t):t}function vM(e,t){return e?Je(e)&&Je(t)?[...new Set([...e,...t])]:Vt(Object.create(null),Vx(e),Vx(t??{})):t}function lce(e,t){if(!e)return t;if(!t)return e;const n=Vt(Object.create(null),e);for(const r in t)n[r]=is(e[r],t[r]);return n}function lV(){return{app:null,config:{isNativeTag:bm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cce=0;function fce(e,t){return function(r,i=null){xt(r)||(r=Vt({},r)),i!=null&&!_n(i)&&(i=null);const s=lV(),a=new WeakSet,o=[];let u=!1;const l=s.app={_uid:cce++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:qV,get config(){return s.config},set config(c){},use(c,...f){return a.has(c)||(c&&xt(c.install)?(a.add(c),c.install(l,...f)):xt(c)&&(a.add(c),c(l,...f))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,f){return f?(s.components[c]=f,l):s.components[c]},directive(c,f){return f?(s.directives[c]=f,l):s.directives[c]},mount(c,f,h){if(!u){const d=l._ceVNode||Ht(r,i);return d.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),f&&t?t(d,c):e(d,c,h),u=!0,l._container=c,c.__vue_app__=l,ty(d.component)}},onUnmount(c){o.push(c)},unmount(){u&&(oo(o,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(c,f){return s.provides[c]=f,l},runWithContext(c){const f=oh;oh=l;try{return c()}finally{oh=f}}};return l}}let oh=null;function cV(e,t){if(kr){let n=kr.provides;const r=kr.parent&&kr.parent.provides;r===n&&(n=kr.provides=Object.create(r)),n[e]=t}}function uh(e,t,n=!1){const r=kr||Dr;if(r||oh){const i=oh?oh._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&xt(t)?t.call(r&&r.proxy):t}}function fV(){return!!(kr||Dr||oh)}const hV={},dV=()=>Object.create(hV),pV=e=>Object.getPrototypeOf(e)===hV;function hce(e,t,n,r=!1){const i={},s=dV();e.propsDefaults=Object.create(null),gV(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:OH(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function dce(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,o=Gt(i),[u]=e.propsOptions;let l=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(_A(e.emitsOptions,h))continue;const d=t[h];if(u)if(on(s,h))d!==s[h]&&(s[h]=d,l=!0);else{const p=Ln(h);i[p]=v3(u,o,p,d,e,!1)}else d!==s[h]&&(s[h]=d,l=!0)}}}else{gV(e,t,i,s)&&(l=!0);let c;for(const f in o)(!t||!on(t,f)&&((c=Us(f))===f||!on(t,c)))&&(u?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=v3(u,o,f,void 0,e,!0)):delete i[f]);if(s!==o)for(const f in s)(!t||!on(t,f))&&(delete s[f],l=!0)}l&&Ll(e.attrs,"set","")}function gV(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,o;if(t)for(let u in t){if(mf(u))continue;const l=t[u];let c;i&&on(i,c=Ln(u))?!s||!s.includes(c)?n[c]=l:(o||(o={}))[c]=l:_A(e.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,a=!0)}if(s){const u=Gt(n),l=o||zt;for(let c=0;c<s.length;c++){const f=s[c];n[f]=v3(i,u,f,l[f],e,!on(l,f))}}return a}function v3(e,t,n,r,i,s){const a=e[n];if(a!=null){const o=on(a,"default");if(o&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&xt(u)){const{propsDefaults:l}=i;if(n in l)r=l[n];else{const c=Oh(i);r=l[n]=u.call(null,t),c()}}else r=u;i.ce&&i.ce._setProp(n,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Us(n))&&(r=!0))}return r}const pce=new WeakMap;function mV(e,t,n=!1){const r=n?pce:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},o=[];let u=!1;if(!xt(e)){const c=f=>{u=!0;const[h,d]=mV(f,t,!0);Vt(a,h),d&&o.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!u)return _n(e)&&r.set(e,Ip),Ip;if(Je(s))for(let c=0;c<s.length;c++){const f=Ln(s[c]);yM(f)&&(a[f]=zt)}else if(s)for(const c in s){const f=Ln(c);if(yM(f)){const h=s[c],d=a[f]=Je(h)||xt(h)?{type:h}:Vt({},h),p=d.type;let g=!1,m=!0;if(Je(p))for(let x=0;x<p.length;++x){const y=p[x],v=xt(y)&&y.name;if(v==="Boolean"){g=!0;break}else v==="String"&&(m=!1)}else g=xt(p)&&p.name==="Boolean";d[0]=g,d[1]=m,(g||on(d,"default"))&&o.push(f)}}const l=[a,o];return _n(e)&&r.set(e,l),l}function yM(e){return e[0]!=="$"&&!mf(e)}const xV=e=>e[0]==="_"||e==="$stable",ZN=e=>Je(e)?e.map(Ps):[Ps(e)],gce=(e,t,n)=>{if(t._n)return t;const r=pA((...i)=>ZN(t(...i)),n);return r._c=!1,r},vV=(e,t,n)=>{const r=e._ctx;for(const i in e){if(xV(i))continue;const s=e[i];if(xt(s))t[i]=gce(i,s,r);else if(s!=null){const a=ZN(s);t[i]=()=>a}}},yV=(e,t)=>{const n=ZN(t);e.slots.default=()=>n},_V=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},mce=(e,t,n)=>{const r=e.slots=dV();if(e.vnode.shapeFlag&32){const i=t._;i?(_V(r,t,n),n&&fH(r,"_",i,!0)):vV(t,r)}else t&&yV(e,t)},xce=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=zt;if(r.shapeFlag&32){const o=t._;o?n&&o===1?s=!1:_V(i,t,n):(s=!t.$stable,vV(t,i)),a=t}else t&&(yV(e,t),a={default:1});if(s)for(const o in i)!xV(o)&&a[o]==null&&delete i[o]},br=$V;function EV(e){return wV(e)}function bV(e){return wV(e,Sle)}function wV(e,t){const n=sA();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=hi,insertStaticContent:p}=e,g=(T,L,J,Z=null,ee=null,ne=null,ye=void 0,we=null,Se=!!L.dynamicChildren)=>{if(T===L)return;T&&!Io(T,L)&&(Z=He(T),te(T,ee,ne,!0),T=null),L.patchFlag===-2&&(Se=!1,L.dynamicChildren=null);const{type:Ee,ref:be,shapeFlag:Ce}=L;switch(Ee){case vf:m(T,L,J,Z);break;case _r:x(T,L,J,Z);break;case lh:T==null&&y(L,J,Z,ye);break;case Mt:F(T,L,J,Z,ee,ne,ye,we,Se);break;default:Ce&1?E(T,L,J,Z,ee,ne,ye,we,Se):Ce&6?N(T,L,J,Z,ee,ne,ye,we,Se):(Ce&64||Ce&128)&&Ee.process(T,L,J,Z,ee,ne,ye,we,Se,G)}be!=null&&ee&&Hx(be,T&&T.ref,ne,L||T,!L)},m=(T,L,J,Z)=>{if(T==null)r(L.el=o(L.children),J,Z);else{const ee=L.el=T.el;L.children!==T.children&&l(ee,L.children)}},x=(T,L,J,Z)=>{T==null?r(L.el=u(L.children||""),J,Z):L.el=T.el},y=(T,L,J,Z)=>{[T.el,T.anchor]=p(T.children,L,J,Z,T.el,T.anchor)},v=({el:T,anchor:L},J,Z)=>{let ee;for(;T&&T!==L;)ee=h(T),r(T,J,Z),T=ee;r(L,J,Z)},_=({el:T,anchor:L})=>{let J;for(;T&&T!==L;)J=h(T),i(T),T=J;i(L)},E=(T,L,J,Z,ee,ne,ye,we,Se)=>{L.type==="svg"?ye="svg":L.type==="math"&&(ye="mathml"),T==null?w(L,J,Z,ee,ne,ye,we,Se):A(T,L,ee,ne,ye,we,Se)},w=(T,L,J,Z,ee,ne,ye,we)=>{let Se,Ee;const{props:be,shapeFlag:Ce,transition:ce,dirs:et}=T;if(Se=T.el=a(T.type,ne,be&&be.is,be),Ce&8?c(Se,T.children):Ce&16&&S(T.children,Se,null,Z,ee,wk(T,ne),ye,we),et&&wu(T,null,Z,"created"),b(Se,T,T.scopeId,ye,Z),be){for(const ht in be)ht!=="value"&&!mf(ht)&&s(Se,ht,null,be[ht],ne,Z);"value"in be&&s(Se,"value",null,be.value,ne),(Ee=be.onVnodeBeforeMount)&&Os(Ee,Z,T)}et&&wu(T,null,Z,"beforeMount");const dt=AV(ee,ce);dt&&ce.beforeEnter(Se),r(Se,L,J),((Ee=be&&be.onVnodeMounted)||dt||et)&&br(()=>{Ee&&Os(Ee,Z,T),dt&&ce.enter(Se),et&&wu(T,null,Z,"mounted")},ee)},b=(T,L,J,Z,ee)=>{if(J&&d(T,J),Z)for(let ne=0;ne<Z.length;ne++)d(T,Z[ne]);if(ee){let ne=ee.subTree;if(L===ne||jE(ne.type)&&(ne.ssContent===L||ne.ssFallback===L)){const ye=ee.vnode;b(T,ye,ye.scopeId,ye.slotScopeIds,ee.parent)}}},S=(T,L,J,Z,ee,ne,ye,we,Se=0)=>{for(let Ee=Se;Ee<T.length;Ee++){const be=T[Ee]=we?Jc(T[Ee]):Ps(T[Ee]);g(null,be,L,J,Z,ee,ne,ye,we)}},A=(T,L,J,Z,ee,ne,ye)=>{const we=L.el=T.el;let{patchFlag:Se,dynamicChildren:Ee,dirs:be}=L;Se|=T.patchFlag&16;const Ce=T.props||zt,ce=L.props||zt;let et;if(J&&S0(J,!1),(et=ce.onVnodeBeforeUpdate)&&Os(et,J,L,T),be&&wu(L,T,J,"beforeUpdate"),J&&S0(J,!0),(Ce.innerHTML&&ce.innerHTML==null||Ce.textContent&&ce.textContent==null)&&c(we,""),Ee?C(T.dynamicChildren,Ee,we,J,Z,wk(L,ee),ne):ye||z(T,L,we,null,J,Z,wk(L,ee),ne,!1),Se>0){if(Se&16)k(we,Ce,ce,J,ee);else if(Se&2&&Ce.class!==ce.class&&s(we,"class",null,ce.class,ee),Se&4&&s(we,"style",Ce.style,ce.style,ee),Se&8){const dt=L.dynamicProps;for(let ht=0;ht<dt.length;ht++){const Dt=dt[ht],bn=Ce[Dt],Be=ce[Dt];(Be!==bn||Dt==="value")&&s(we,Dt,bn,Be,ee,J)}}Se&1&&T.children!==L.children&&c(we,L.children)}else!ye&&Ee==null&&k(we,Ce,ce,J,ee);((et=ce.onVnodeUpdated)||be)&&br(()=>{et&&Os(et,J,L,T),be&&wu(L,T,J,"updated")},Z)},C=(T,L,J,Z,ee,ne,ye)=>{for(let we=0;we<L.length;we++){const Se=T[we],Ee=L[we],be=Se.el&&(Se.type===Mt||!Io(Se,Ee)||Se.shapeFlag&70)?f(Se.el):J;g(Se,Ee,be,null,Z,ee,ne,ye,!0)}},k=(T,L,J,Z,ee)=>{if(L!==J){if(L!==zt)for(const ne in L)!mf(ne)&&!(ne in J)&&s(T,ne,L[ne],null,ee,Z);for(const ne in J){if(mf(ne))continue;const ye=J[ne],we=L[ne];ye!==we&&ne!=="value"&&s(T,ne,we,ye,ee,Z)}"value"in J&&s(T,"value",L.value,J.value,ee)}},F=(T,L,J,Z,ee,ne,ye,we,Se)=>{const Ee=L.el=T?T.el:o(""),be=L.anchor=T?T.anchor:o("");let{patchFlag:Ce,dynamicChildren:ce,slotScopeIds:et}=L;et&&(we=we?we.concat(et):et),T==null?(r(Ee,J,Z),r(be,J,Z),S(L.children||[],J,be,ee,ne,ye,we,Se)):Ce>0&&Ce&64&&ce&&T.dynamicChildren?(C(T.dynamicChildren,ce,J,ee,ne,ye,we),(L.key!=null||ee&&L===ee.subTree)&&QN(T,L,!0)):z(T,L,J,be,ee,ne,ye,we,Se)},N=(T,L,J,Z,ee,ne,ye,we,Se)=>{L.slotScopeIds=we,T==null?L.shapeFlag&512?ee.ctx.activate(L,J,Z,ye,Se):R(L,J,Z,ee,ne,ye,Se):D(T,L,Se)},R=(T,L,J,Z,ee,ne,ye)=>{const we=T.component=BV(T,Z,ee);if(Qv(T)&&(we.ctx.renderer=G),zV(we,!1,ye),we.asyncDep){if(ee&&ee.registerDep(we,O,ye),!T.el){const Se=we.subTree=Ht(_r);x(null,Se,L,J)}}else O(we,T,L,J,ee,ne,ye)},D=(T,L,J)=>{const Z=L.component=T.component;if(kce(T,L,J))if(Z.asyncDep&&!Z.asyncResolved){M(Z,L,J);return}else Z.next=L,Z.update();else L.el=T.el,Z.vnode=L},O=(T,L,J,Z,ee,ne,ye)=>{const we=()=>{if(T.isMounted){let{next:Ce,bu:ce,u:et,parent:dt,vnode:ht}=T;{const Yt=SV(T);if(Yt){Ce&&(Ce.el=ht.el,M(T,Ce,ye)),Yt.asyncDep.then(()=>{T.isUnmounted||we()});return}}let Dt=Ce,bn;S0(T,!1),Ce?(Ce.el=ht.el,M(T,Ce,ye)):Ce=ht,ce&&Lp(ce),(bn=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&Os(bn,dt,Ce,ht),S0(T,!0);const Be=q2(T),bt=T.subTree;T.subTree=Be,g(bt,Be,f(bt.el),He(bt),T,ee,ne),Ce.el=Be.el,Dt===null&&EA(T,Be.el),et&&br(et,ee),(bn=Ce.props&&Ce.props.onVnodeUpdated)&&br(()=>Os(bn,dt,Ce,ht),ee)}else{let Ce;const{el:ce,props:et}=L,{bm:dt,m:ht,parent:Dt,root:bn,type:Be}=T,bt=xf(L);if(S0(T,!1),dt&&Lp(dt),!bt&&(Ce=et&&et.onVnodeBeforeMount)&&Os(Ce,Dt,L),S0(T,!0),ce&&Y){const Yt=()=>{T.subTree=q2(T),Y(ce,T.subTree,T,ee,null)};bt&&Be.__asyncHydrate?Be.__asyncHydrate(ce,T,Yt):Yt()}else{bn.ce&&bn.ce._injectChildStyle(Be);const Yt=T.subTree=q2(T);g(null,Yt,J,Z,T,ee,ne),L.el=Yt.el}if(ht&&br(ht,ee),!bt&&(Ce=et&&et.onVnodeMounted)){const Yt=L;br(()=>Os(Ce,Dt,Yt),ee)}(L.shapeFlag&256||Dt&&xf(Dt.vnode)&&Dt.vnode.shapeFlag&256)&&T.a&&br(T.a,ee),T.isMounted=!0,L=J=Z=null}};T.scope.on();const Se=T.effect=new Lx(we);T.scope.off();const Ee=T.update=Se.run.bind(Se),be=T.job=Se.runIfDirty.bind(Se);be.i=T,be.id=T.uid,Se.scheduler=()=>WN(be),S0(T,!0),Ee()},M=(T,L,J)=>{L.component=T;const Z=T.vnode.props;T.vnode=L,T.next=null,dce(T,L.props,Z,J),xce(T,L.children,J),e0(),uM(T),t0()},z=(T,L,J,Z,ee,ne,ye,we,Se=!1)=>{const Ee=T&&T.children,be=T?T.shapeFlag:0,Ce=L.children,{patchFlag:ce,shapeFlag:et}=L;if(ce>0){if(ce&128){X(Ee,Ce,J,Z,ee,ne,ye,we,Se);return}else if(ce&256){K(Ee,Ce,J,Z,ee,ne,ye,we,Se);return}}et&8?(be&16&&ke(Ee,ee,ne),Ce!==Ee&&c(J,Ce)):be&16?et&16?X(Ee,Ce,J,Z,ee,ne,ye,we,Se):ke(Ee,ee,ne,!0):(be&8&&c(J,""),et&16&&S(Ce,J,Z,ee,ne,ye,we,Se))},K=(T,L,J,Z,ee,ne,ye,we,Se)=>{T=T||Ip,L=L||Ip;const Ee=T.length,be=L.length,Ce=Math.min(Ee,be);let ce;for(ce=0;ce<Ce;ce++){const et=L[ce]=Se?Jc(L[ce]):Ps(L[ce]);g(T[ce],et,J,null,ee,ne,ye,we,Se)}Ee>be?ke(T,ee,ne,!0,!1,Ce):S(L,J,Z,ee,ne,ye,we,Se,Ce)},X=(T,L,J,Z,ee,ne,ye,we,Se)=>{let Ee=0;const be=L.length;let Ce=T.length-1,ce=be-1;for(;Ee<=Ce&&Ee<=ce;){const et=T[Ee],dt=L[Ee]=Se?Jc(L[Ee]):Ps(L[Ee]);if(Io(et,dt))g(et,dt,J,null,ee,ne,ye,we,Se);else break;Ee++}for(;Ee<=Ce&&Ee<=ce;){const et=T[Ce],dt=L[ce]=Se?Jc(L[ce]):Ps(L[ce]);if(Io(et,dt))g(et,dt,J,null,ee,ne,ye,we,Se);else break;Ce--,ce--}if(Ee>Ce){if(Ee<=ce){const et=ce+1,dt=et<be?L[et].el:Z;for(;Ee<=ce;)g(null,L[Ee]=Se?Jc(L[Ee]):Ps(L[Ee]),J,dt,ee,ne,ye,we,Se),Ee++}}else if(Ee>ce)for(;Ee<=Ce;)te(T[Ee],ee,ne,!0),Ee++;else{const et=Ee,dt=Ee,ht=new Map;for(Ee=dt;Ee<=ce;Ee++){const sr=L[Ee]=Se?Jc(L[Ee]):Ps(L[Ee]);sr.key!=null&&ht.set(sr.key,Ee)}let Dt,bn=0;const Be=ce-dt+1;let bt=!1,Yt=0;const Fn=new Array(Be);for(Ee=0;Ee<Be;Ee++)Fn[Ee]=0;for(Ee=et;Ee<=Ce;Ee++){const sr=T[Ee];if(bn>=Be){te(sr,ee,ne,!0);continue}let ts;if(sr.key!=null)ts=ht.get(sr.key);else for(Dt=dt;Dt<=ce;Dt++)if(Fn[Dt-dt]===0&&Io(sr,L[Dt])){ts=Dt;break}ts===void 0?te(sr,ee,ne,!0):(Fn[ts-dt]=Ee+1,ts>=Yt?Yt=ts:bt=!0,g(sr,L[ts],J,null,ee,ne,ye,we,Se),bn++)}const Ma=bt?vce(Fn):Ip;for(Dt=Ma.length-1,Ee=Be-1;Ee>=0;Ee--){const sr=dt+Ee,ts=L[sr],U1=sr+1<be?L[sr+1].el:Z;Fn[Ee]===0?g(null,ts,J,U1,ee,ne,ye,we,Se):bt&&(Dt<0||Ee!==Ma[Dt]?ve(ts,J,U1,2):Dt--)}}},ve=(T,L,J,Z,ee=null)=>{const{el:ne,type:ye,transition:we,children:Se,shapeFlag:Ee}=T;if(Ee&6){ve(T.component.subTree,L,J,Z);return}if(Ee&128){T.suspense.move(L,J,Z);return}if(Ee&64){ye.move(T,L,J,G);return}if(ye===Mt){r(ne,L,J);for(let Ce=0;Ce<Se.length;Ce++)ve(Se[Ce],L,J,Z);r(T.anchor,L,J);return}if(ye===lh){v(T,L,J);return}if(Z!==2&&Ee&1&&we)if(Z===0)we.beforeEnter(ne),r(ne,L,J),br(()=>we.enter(ne),ee);else{const{leave:Ce,delayLeave:ce,afterLeave:et}=we,dt=()=>r(ne,L,J),ht=()=>{Ce(ne,()=>{dt(),et&&et()})};ce?ce(ne,dt,ht):ht()}else r(ne,L,J)},te=(T,L,J,Z=!1,ee=!1)=>{const{type:ne,props:ye,ref:we,children:Se,dynamicChildren:Ee,shapeFlag:be,patchFlag:Ce,dirs:ce,cacheIndex:et}=T;if(Ce===-2&&(ee=!1),we!=null&&Hx(we,null,J,T,!0),et!=null&&(L.renderCache[et]=void 0),be&256){L.ctx.deactivate(T);return}const dt=be&1&&ce,ht=!xf(T);let Dt;if(ht&&(Dt=ye&&ye.onVnodeBeforeUnmount)&&Os(Dt,L,T),be&6)de(T.component,J,Z);else{if(be&128){T.suspense.unmount(J,Z);return}dt&&wu(T,null,L,"beforeUnmount"),be&64?T.type.remove(T,L,J,G,Z):Ee&&!Ee.hasOnce&&(ne!==Mt||Ce>0&&Ce&64)?ke(Ee,L,J,!1,!0):(ne===Mt&&Ce&384||!ee&&be&16)&&ke(Se,L,J),Z&&ue(T)}(ht&&(Dt=ye&&ye.onVnodeUnmounted)||dt)&&br(()=>{Dt&&Os(Dt,L,T),dt&&wu(T,null,L,"unmounted")},J)},ue=T=>{const{type:L,el:J,anchor:Z,transition:ee}=T;if(L===Mt){le(J,Z);return}if(L===lh){_(T);return}const ne=()=>{i(J),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(T.shapeFlag&1&&ee&&!ee.persisted){const{leave:ye,delayLeave:we}=ee,Se=()=>ye(J,ne);we?we(T.el,ne,Se):Se()}else ne()},le=(T,L)=>{let J;for(;T!==L;)J=h(T),i(T),T=J;i(L)},de=(T,L,J)=>{const{bum:Z,scope:ee,job:ne,subTree:ye,um:we,m:Se,a:Ee}=T;VE(Se),VE(Ee),Z&&Lp(Z),ee.stop(),ne&&(ne.flags|=8,te(ye,T,L,J)),we&&br(we,L),br(()=>{T.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},ke=(T,L,J,Z=!1,ee=!1,ne=0)=>{for(let ye=ne;ye<T.length;ye++)te(T[ye],L,J,Z,ee)},He=T=>{if(T.shapeFlag&6)return He(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const L=h(T.anchor||T.el),J=L&&L[VH];return J?h(J):L};let B=!1;const j=(T,L,J)=>{T==null?L._vnode&&te(L._vnode,null,null,!0):g(L._vnode||null,T,L,null,null,null,J),L._vnode=T,B||(B=!0,uM(),WE(),B=!1)},G={p:g,um:te,m:ve,r:ue,mt:R,mc:S,pc:z,pbc:C,n:He,o:e};let W,Y;return t&&([W,Y]=t(G)),{render:j,hydrate:W,createApp:fce(j,W)}}function wk({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function S0({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function AV(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function QN(e,t,n=!1){const r=e.children,i=t.children;if(Je(r)&&Je(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Jc(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&QN(a,o)),o.type===vf&&(o.el=a.el)}}function vce(e){const t=e.slice(),n=[0];let r,i,s,a,o;const u=e.length;for(r=0;r<u;r++){const l=e[r];if(l!==0){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,e[n[o]]<l?s=o+1:a=o;l<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function SV(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:SV(t)}function VE(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const CV=Symbol.for("v-scx"),kV=()=>uh(CV);function yce(e,t){return ey(e,null,t)}function _ce(e,t){return ey(e,null,{flush:"post"})}function TV(e,t){return ey(e,null,{flush:"sync"})}function Gs(e,t,n){return ey(e,t,n)}function ey(e,t,n=zt){const{immediate:r,deep:i,flush:s,once:a}=n,o=Vt({},n),u=t&&r||!t&&s!=="post";let l;if(rg){if(s==="sync"){const d=kV();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!u){const d=()=>{};return d.stop=hi,d.resume=hi,d.pause=hi,d}}const c=kr;o.call=(d,p,g)=>oo(d,c,p,g);let f=!1;s==="post"?o.scheduler=d=>{br(d,c&&c.suspense)}:s!=="sync"&&(f=!0,o.scheduler=(d,p)=>{p?d():WN(d)}),o.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=ole(e,t,o);return rg&&(l?l.push(h):u&&h()),h}function Ece(e,t,n){const r=this.proxy,i=_t(e)?e.includes(".")?FV(r,e):()=>r[e]:e.bind(r,r);let s;xt(t)?s=t:(s=t.handler,n=t);const a=Oh(this),o=ey(i,s.bind(r),n);return a(),o}function FV(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function bce(e,t,n=zt){const r=yo(),i=Ln(t),s=Us(t),a=DV(e,i),o=RH((u,l)=>{let c,f=zt,h;return TV(()=>{const d=e[i];cs(c,d)&&(c=d,l())}),{get(){return u(),n.get?n.get(c):c},set(d){const p=n.set?n.set(d):d;if(!cs(p,c)&&!(f!==zt&&cs(d,f)))return;const g=r.vnode.props;g&&(t in g||i in g||s in g)&&(`onUpdate:${t}`in g||`onUpdate:${i}`in g||`onUpdate:${s}`in g)||(c=d,l()),r.emit(`update:${t}`,p),cs(d,p)&&cs(d,f)&&!cs(p,h)&&l(),f=d,h=p}}});return o[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?a||zt:o,done:!1}:{done:!0}}}},o}const DV=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ln(t)}Modifiers`]||e[`${Us(t)}Modifiers`];function wce(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||zt;let i=n;const s=t.startsWith("update:"),a=s&&DV(r,t.slice(7));a&&(a.trim&&(i=n.map(c=>_t(c)?c.trim():c)),a.number&&(i=n.map(LE)));let o,u=r[o=Mp(t)]||r[o=Mp(Ln(t))];!u&&s&&(u=r[o=Mp(Us(t))]),u&&oo(u,e,6,i);const l=r[o+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,oo(l,e,6,i)}}function NV(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},o=!1;if(!xt(e)){const u=l=>{const c=NV(l,t,!0);c&&(o=!0,Vt(a,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!o?(_n(e)&&r.set(e,null),null):(Je(s)?s.forEach(u=>a[u]=null):Vt(a,s),_n(e)&&r.set(e,a),a)}function _A(e,t){return!e||!md(t)?!1:(t=t.slice(2).replace(/Once$/,""),on(e,t[0].toLowerCase()+t.slice(1))||on(e,Us(t))||on(e,t))}function q2(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:u,render:l,renderCache:c,props:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=e,m=Wx(e);let x,y;try{if(n.shapeFlag&4){const _=i||r,E=_;x=Ps(l.call(E,_,c,f,d,h,p)),y=o}else{const _=t;x=Ps(_.length>1?_(f,{attrs:o,slots:a,emit:u}):_(f,null)),y=t.props?o:Sce(o)}}catch(_){rx.length=0,yd(_,e,1),x=Ht(_r)}let v=x;if(y&&g!==!1){const _=Object.keys(y),{shapeFlag:E}=v;_.length&&E&7&&(s&&_.some(DN)&&(y=Cce(y,s)),v=Vu(v,y,!1,!0))}return n.dirs&&(v=Vu(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&hc(v,n.transition),x=v,Wx(m),x}function Ace(e,t=!0){let n;for(let r=0;r<e.length;r++){const i=e[r];if(dc(i)){if(i.type!==_r||i.children==="v-if"){if(n)return;n=i}}else return}return n}const Sce=e=>{let t;for(const n in e)(n==="class"||n==="style"||md(n))&&((t||(t={}))[n]=e[n]);return t},Cce=(e,t)=>{const n={};for(const r in e)(!DN(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function kce(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:o,patchFlag:u}=t,l=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?_M(r,a,l):!!a;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(a[h]!==r[h]&&!_A(l,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?_M(r,a,l):!0:!!a;return!1}function _M(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!_A(n,s))return!0}return!1}function EA({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const jE=e=>e.__isSuspense;let y3=0;const Tce={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,s,a,o,u,l){if(e==null)Dce(t,n,r,i,s,a,o,u,l);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}Nce(e,t,n,r,i,a,o,u,l)}},hydrate:Oce,normalize:$ce},Fce=Tce;function jx(e,t){const n=e.props&&e.props[t];xt(n)&&n()}function Dce(e,t,n,r,i,s,a,o,u){const{p:l,o:{createElement:c}}=u,f=c("div"),h=e.suspense=OV(e,i,r,t,f,n,s,a,o,u);l(null,h.pendingBranch=e.ssContent,f,null,r,h,s,a),h.deps>0?(jx(e,"onPending"),jx(e,"onFallback"),l(null,e.ssFallback,t,n,r,null,s,a),Bp(h,e.ssFallback)):h.resolve(!1,!0)}function Nce(e,t,n,r,i,s,a,o,{p:u,um:l,o:{createElement:c}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const h=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:x}=f;if(g)f.pendingBranch=h,Io(h,g)?(u(g,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0?f.resolve():m&&(x||(u(p,d,n,r,i,null,s,a,o),Bp(f,d)))):(f.pendingId=y3++,x?(f.isHydrating=!1,f.activeBranch=g):l(g,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),m?(u(null,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0?f.resolve():(u(p,d,n,r,i,null,s,a,o),Bp(f,d))):p&&Io(h,p)?(u(p,h,n,r,i,f,s,a,o),f.resolve(!0)):(u(null,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0&&f.resolve()));else if(p&&Io(h,p))u(p,h,n,r,i,f,s,a,o),Bp(f,h);else if(jx(t,"onPending"),f.pendingBranch=h,h.shapeFlag&512?f.pendingId=h.component.suspenseId:f.pendingId=y3++,u(null,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:v}=f;y>0?setTimeout(()=>{f.pendingId===v&&f.fallback(d)},y):y===0&&f.fallback(d)}}function OV(e,t,n,r,i,s,a,o,u,l,c=!1){const{p:f,m:h,um:d,n:p,o:{parentNode:g,remove:m}}=l;let x;const y=Ice(e);y&&t&&t.pendingBranch&&(x=t.pendingId,t.deps++);const v=e.props?PE(e.props.timeout):void 0,_=s,E={vnode:e,parent:t,parentComponent:n,namespace:a,container:r,hiddenContainer:i,deps:0,pendingId:y3++,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(w=!1,b=!1){const{vnode:S,activeBranch:A,pendingBranch:C,pendingId:k,effects:F,parentComponent:N,container:R}=E;let D=!1;E.isHydrating?E.isHydrating=!1:w||(D=A&&C.transition&&C.transition.mode==="out-in",D&&(A.transition.afterLeave=()=>{k===E.pendingId&&(h(C,R,s===_?p(A):s,0),Ux(F))}),A&&(g(A.el)===R&&(s=p(A)),d(A,N,E,!0)),D||h(C,R,s,0)),Bp(E,C),E.pendingBranch=null,E.isInFallback=!1;let O=E.parent,M=!1;for(;O;){if(O.pendingBranch){O.effects.push(...F),M=!0;break}O=O.parent}!M&&!D&&Ux(F),E.effects=[],y&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!b&&t.resolve()),jx(S,"onResolve")},fallback(w){if(!E.pendingBranch)return;const{vnode:b,activeBranch:S,parentComponent:A,container:C,namespace:k}=E;jx(b,"onFallback");const F=p(S),N=()=>{E.isInFallback&&(f(null,w,C,F,A,null,k,o,u),Bp(E,w))},R=w.transition&&w.transition.mode==="out-in";R&&(S.transition.afterLeave=N),E.isInFallback=!0,d(S,A,null,!0),R||N()},move(w,b,S){E.activeBranch&&h(E.activeBranch,w,b,S),E.container=w},next(){return E.activeBranch&&p(E.activeBranch)},registerDep(w,b,S){const A=!!E.pendingBranch;A&&E.deps++;const C=w.vnode.el;w.asyncDep.catch(k=>{yd(k,w,0)}).then(k=>{if(w.isUnmounted||E.isUnmounted||E.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:F}=w;w3(w,k,!1),C&&(F.el=C);const N=!C&&w.subTree.el;b(w,F,g(C||w.subTree.el),C?null:p(w.subTree),E,a,S),N&&m(N),EA(w,F.el),A&&--E.deps===0&&E.resolve()})},unmount(w,b){E.isUnmounted=!0,E.activeBranch&&d(E.activeBranch,n,w,b),E.pendingBranch&&d(E.pendingBranch,n,w,b)}};return E}function Oce(e,t,n,r,i,s,a,o,u){const l=t.suspense=OV(t,r,n,e.parentNode,document.createElement("div"),null,i,s,a,o,!0),c=u(e,l.pendingBranch=t.ssContent,n,l,s,a);return l.deps===0&&l.resolve(!1,!0),c}function $ce(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=EM(r?n.default:n),e.ssFallback=r?EM(n.fallback):Ht(_r)}function EM(e){let t;if(xt(e)){const n=Dh&&e._c;n&&(e._d=!1,je()),e=e(),n&&(e._d=!0,t=Li,IV())}return Je(e)&&(e=Ace(e)),e=Ps(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function $V(e,t){t&&t.pendingBranch?Je(e)?t.effects.push(...e):t.effects.push(e):Ux(e)}function Bp(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,EA(r,i))}function Ice(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Mt=Symbol.for("v-fgt"),vf=Symbol.for("v-txt"),_r=Symbol.for("v-cmt"),lh=Symbol.for("v-stc"),rx=[];let Li=null;function je(e=!1){rx.push(Li=e?null:[])}function IV(){rx.pop(),Li=rx[rx.length-1]||null}let Dh=1;function _3(e,t=!1){Dh+=e,e<0&&Li&&t&&(Li.hasOnce=!0)}function RV(e){return e.dynamicChildren=Dh>0?Li||Ip:null,IV(),Dh>0&&Li&&Li.push(e),e}function Ye(e,t,n,r,i,s){return RV(Q(e,t,n,r,i,s,!0))}function Nh(e,t,n,r,i){return RV(Ht(e,t,n,r,i,!0))}function dc(e){return e?e.__v_isVNode===!0:!1}function Io(e,t){return e.type===t.type&&e.key===t.key}function Rce(e){}const MV=({key:e})=>e??null,X2=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_t(e)||Kn(e)||xt(e)?{i:Dr,r:e,k:t,f:!!n}:e:null);function Q(e,t=null,n=null,r=0,i=null,s=e===Mt?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&MV(t),ref:t&&X2(t),scopeId:dA,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Dr};return o?(e6(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=_t(n)?8:16),Dh>0&&!a&&Li&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Li.push(u),u}const Ht=Mce;function Mce(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===sV)&&(e=_r),dc(e)){const o=Vu(e,t,!0);return n&&e6(o,n),Dh>0&&!s&&Li&&(o.shapeFlag&6?Li[Li.indexOf(e)]=o:Li.push(o)),o.patchFlag=-2,o}if(Hce(e)&&(e=e.__vccOpts),t){t=LV(t);let{class:o,style:u}=t;o&&!_t(o)&&(t.class=no(o)),_n(u)&&(fA(u)&&!Je(u)&&(u=Vt({},u)),t.style=Qf(u))}const a=_t(e)?1:jE(e)?128:jH(e)?64:_n(e)?4:xt(e)?2:0;return Q(e,t,n,r,i,a,s,!0)}function LV(e){return e?fA(e)||pV(e)?Vt({},e):e:null}function Vu(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:u}=e,l=t?PV(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&MV(l),ref:t&&t.ref?n&&s?Je(s)?s.concat(X2(t)):[s,X2(t)]:X2(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Mt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vu(e.ssContent),ssFallback:e.ssFallback&&Vu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&hc(c,u.clone(c)),c}function nr(e=" ",t=0){return Ht(vf,null,e,t)}function Lce(e,t){const n=Ht(lh,null,e);return n.staticCount=t,n}function Ar(e="",t=!1){return t?(je(),Nh(_r,null,e)):Ht(_r,null,e)}function Ps(e){return e==null||typeof e=="boolean"?Ht(_r):Je(e)?Ht(Mt,null,e.slice()):dc(e)?Jc(e):Ht(vf,null,String(e))}function Jc(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vu(e)}function e6(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Je(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),e6(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!pV(t)?t._ctx=Dr:i===3&&Dr&&(Dr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xt(t)?(t={default:t,_ctx:Dr},n=32):(t=String(t),r&64?(n=16,t=[nr(t)]):n=8);e.children=t,e.shapeFlag|=n}function PV(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=no([t.class,r.class]));else if(i==="style")t.style=Qf([t.style,r.style]);else if(md(i)){const s=t[i],a=r[i];a&&s!==a&&!(Je(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Os(e,t,n,r=null){oo(e,t,7,[n,r])}const Pce=lV();let Bce=0;function BV(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Pce,s={uid:Bce++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new IN(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mV(r,i),emitsOptions:NV(r,i),emit:null,emitted:null,propsDefaults:zt,inheritAttrs:r.inheritAttrs,ctx:zt,data:zt,props:zt,attrs:zt,slots:zt,refs:zt,setupState:zt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=wce.bind(null,s),e.ce&&e.ce(s),s}let kr=null;const yo=()=>kr||Dr;let GE,E3;{const e=sA(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};GE=t("__VUE_INSTANCE_SETTERS__",n=>kr=n),E3=t("__VUE_SSR_SETTERS__",n=>rg=n)}const Oh=e=>{const t=kr;return GE(e),e.scope.on(),()=>{e.scope.off(),GE(t)}},b3=()=>{kr&&kr.scope.off(),GE(null)};function UV(e){return e.vnode.shapeFlag&4}let rg=!1;function zV(e,t=!1,n=!1){t&&E3(t);const{props:r,children:i}=e.vnode,s=UV(e);hce(e,r,s,t),mce(e,i,n);const a=s?Uce(e,t):void 0;return t&&E3(!1),a}function Uce(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,g3);const{setup:r}=n;if(r){e0();const i=e.setupContext=r.length>1?VV(e):null,s=Oh(e),a=i1(r,e,0,[e.props,i]),o=ON(a);if(t0(),s(),(o||e.sp)&&!xf(e)&&jN(e),o){if(a.then(b3,b3),t)return a.then(u=>{w3(e,u,t)}).catch(u=>{yd(u,e,0)});e.asyncDep=a}else w3(e,a,t)}else HV(e,t)}function w3(e,t,n){xt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_n(t)&&(e.setupState=zN(t)),HV(e,n)}let qE,A3;function WV(e){qE=e,A3=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,jle))}}const zce=()=>!qE;function HV(e,t,n){const r=e.type;if(!e.render){if(!t&&qE&&!r.render){const i=r.template||JN(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:u}=r,l=Vt(Vt({isCustomElement:s,delimiters:o},a),u);r.render=qE(i,l)}}e.render=r.render||hi,A3&&A3(e)}{const i=Oh(e);e0();try{sce(e)}finally{t0(),i()}}}const Wce={get(e,t){return Ni(e,"get",""),e[t]}};function VV(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Wce),slots:e.slots,emit:e.emit,expose:t}}function ty(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(zN(hA(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in nx)return nx[n](e)},has(t,n){return n in t||n in nx}})):e.proxy}function S3(e,t=!0){return xt(e)?e.displayName||e.name:e.name||t&&e.__name}function Hce(e){return xt(e)&&"__vccOpts"in e}const Yl=(e,t)=>rle(e,t,rg);function jV(e,t,n){const r=arguments.length;return r===2?_n(t)&&!Je(t)?dc(t)?Ht(e,null,[t]):Ht(e,t):Ht(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&dc(n)&&(n=[n]),Ht(e,t,n))}function Vce(){}function jce(e,t,n,r){const i=n[r];if(i&&GV(i,e))return i;const s=t();return s.memo=e.slice(),s.cacheIndex=r,n[r]=s}function GV(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(cs(n[r],t[r]))return!1;return Dh>0&&Li&&Li.push(e),!0}const qV="3.5.13",Gce=hi,qce=hle,Xce=gp,Kce=HH,Yce={createComponentInstance:BV,setupComponent:zV,renderComponentRoot:q2,setCurrentRenderingInstance:Wx,isVNode:dc,normalizeVNode:Ps,getComponentPublicInstance:ty,ensureValidVNode:YN,pushWarningContext:ule,popWarningContext:lle},Jce=Yce,Zce=null,Qce=null,efe=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let C3;const bM=typeof window<"u"&&window.trustedTypes;if(bM)try{C3=bM.createPolicy("vue",{createHTML:e=>e})}catch{}const XV=C3?e=>C3.createHTML(e):e=>e,tfe="http://www.w3.org/2000/svg",nfe="http://www.w3.org/1998/Math/MathML",Dl=typeof document<"u"?document:null,wM=Dl&&Dl.createElement("template"),rfe={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Dl.createElementNS(tfe,e):t==="mathml"?Dl.createElementNS(nfe,e):n?Dl.createElement(e,{is:n}):Dl.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Dl.createTextNode(e),createComment:e=>Dl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{wM.innerHTML=XV(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const o=wM.content;if(r==="svg"||r==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Lc="transition",j1="animation",ig=Symbol("_vtc"),KV={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},YV=Vt({},VN,KV),ife=e=>(e.displayName="Transition",e.props=YV,e),sfe=ife((e,{slots:t})=>jV(YH,JV(e),t)),C0=(e,t=[])=>{Je(e)?e.forEach(n=>n(...t)):e&&e(...t)},AM=e=>e?Je(e)?e.some(t=>t.length>1):e.length>1:!1;function JV(e){const t={};for(const F in e)F in KV||(t[F]=e[F]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:l=a,appearToClass:c=o,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=afe(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:x,onEnter:y,onEnterCancelled:v,onLeave:_,onLeaveCancelled:E,onBeforeAppear:w=x,onAppear:b=y,onAppearCancelled:S=v}=t,A=(F,N,R,D)=>{F._enterCancelled=D,Hc(F,N?c:o),Hc(F,N?l:a),R&&R()},C=(F,N)=>{F._isLeaving=!1,Hc(F,f),Hc(F,d),Hc(F,h),N&&N()},k=F=>(N,R)=>{const D=F?b:y,O=()=>A(N,F,R);C0(D,[N,O]),SM(()=>{Hc(N,F?u:s),xu(N,F?c:o),AM(D)||CM(N,r,g,O)})};return Vt(t,{onBeforeEnter(F){C0(x,[F]),xu(F,s),xu(F,a)},onBeforeAppear(F){C0(w,[F]),xu(F,u),xu(F,l)},onEnter:k(!1),onAppear:k(!0),onLeave(F,N){F._isLeaving=!0;const R=()=>C(F,N);xu(F,f),F._enterCancelled?(xu(F,h),k3()):(k3(),xu(F,h)),SM(()=>{F._isLeaving&&(Hc(F,f),xu(F,d),AM(_)||CM(F,r,m,R))}),C0(_,[F,R])},onEnterCancelled(F){A(F,!1,void 0,!0),C0(v,[F])},onAppearCancelled(F){A(F,!0,void 0,!0),C0(S,[F])},onLeaveCancelled(F){C(F),C0(E,[F])}})}function afe(e){if(e==null)return null;if(_n(e))return[Ak(e.enter),Ak(e.leave)];{const t=Ak(e);return[t,t]}}function Ak(e){return PE(e)}function xu(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ig]||(e[ig]=new Set)).add(t)}function Hc(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[ig];n&&(n.delete(t),n.size||(e[ig]=void 0))}function SM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ofe=0;function CM(e,t,n,r){const i=e._endId=++ofe,s=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:a,timeout:o,propCount:u}=ZV(e,t);if(!a)return r();const l=a+"end";let c=0;const f=()=>{e.removeEventListener(l,h),s()},h=d=>{d.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},o+1),e.addEventListener(l,h)}function ZV(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${Lc}Delay`),s=r(`${Lc}Duration`),a=kM(i,s),o=r(`${j1}Delay`),u=r(`${j1}Duration`),l=kM(o,u);let c=null,f=0,h=0;t===Lc?a>0&&(c=Lc,f=a,h=s.length):t===j1?l>0&&(c=j1,f=l,h=u.length):(f=Math.max(a,l),c=f>0?a>l?Lc:j1:null,h=c?c===Lc?s.length:u.length:0);const d=c===Lc&&/\b(transform|all)(,|$)/.test(r(`${Lc}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:d}}function kM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>TM(n)+TM(e[r])))}function TM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function k3(){return document.body.offsetHeight}function ufe(e,t,n){const r=e[ig];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const XE=Symbol("_vod"),QV=Symbol("_vsh"),KE={beforeMount(e,{value:t},{transition:n}){e[XE]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):G1(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),G1(e,!0),r.enter(e)):r.leave(e,()=>{G1(e,!1)}):G1(e,t))},beforeUnmount(e,{value:t}){G1(e,t)}};function G1(e,t){e.style.display=t?e[XE]:"none",e[QV]=!t}function lfe(){KE.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const ej=Symbol("");function cfe(e){const t=yo();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>YE(s,i))},r=()=>{const i=e(t.proxy);t.ce?YE(t.ce,i):T3(t.subTree,i),n(i)};qN(()=>{Ux(r)}),Sc(()=>{Gs(r,hi,{flush:"post"});const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),yA(()=>i.disconnect())})}function T3(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{T3(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)YE(e.el,t);else if(e.type===Mt)e.children.forEach(n=>T3(n,t));else if(e.type===lh){let{el:n,anchor:r}=e;for(;n&&(YE(n,t),n!==r);)n=n.nextSibling}}function YE(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const i in t)n.setProperty(`--${i}`,t[i]),r+=`--${i}: ${t[i]};`;n[ej]=r}}const ffe=/(^|;)\s*display\s*:/;function hfe(e,t,n){const r=e.style,i=_t(n);let s=!1;if(n&&!i){if(t)if(_t(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&K2(r,o,"")}else for(const a in t)n[a]==null&&K2(r,a,"");for(const a in n)a==="display"&&(s=!0),K2(r,a,n[a])}else if(i){if(t!==n){const a=r[ej];a&&(n+=";"+a),r.cssText=n,s=ffe.test(n)}}else t&&e.removeAttribute("style");XE in e&&(e[XE]=s?r.display:"",e[QV]&&(r.display="none"))}const FM=/\s*!important$/;function K2(e,t,n){if(Je(n))n.forEach(r=>K2(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=dfe(e,t);FM.test(n)?e.setProperty(Us(r),n.replace(FM,""),"important"):e[r]=n}}const DM=["Webkit","Moz","ms"],Sk={};function dfe(e,t){const n=Sk[t];if(n)return n;let r=Ln(t);if(r!=="filter"&&r in e)return Sk[t]=r;r=vd(r);for(let i=0;i<DM.length;i++){const s=DM[i]+r;if(s in e)return Sk[t]=s}return t}const NM="http://www.w3.org/1999/xlink";function OM(e,t,n,r,i,s=Aue(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(NM,t.slice(6,t.length)):e.setAttributeNS(NM,t,n):n==null||s&&!dH(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Zs(n)?String(n):n)}function $M(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?XV(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(o!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=dH(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(i||t)}function Bl(e,t,n,r){e.addEventListener(t,n,r)}function pfe(e,t,n,r){e.removeEventListener(t,n,r)}const IM=Symbol("_vei");function gfe(e,t,n,r,i=null){const s=e[IM]||(e[IM]={}),a=s[t];if(r&&a)a.value=r;else{const[o,u]=mfe(t);if(r){const l=s[t]=yfe(r,i);Bl(e,o,l,u)}else a&&(pfe(e,o,a,u),s[t]=void 0)}}const RM=/(?:Once|Passive|Capture)$/;function mfe(e){let t;if(RM.test(e)){t={};let r;for(;r=e.match(RM);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Us(e.slice(2)),t]}let Ck=0;const xfe=Promise.resolve(),vfe=()=>Ck||(xfe.then(()=>Ck=0),Ck=Date.now());function yfe(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;oo(_fe(r,n.value),t,5,[r])};return n.value=e,n.attached=vfe(),n}function _fe(e,t){if(Je(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const MM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Efe=(e,t,n,r,i,s)=>{const a=i==="svg";t==="class"?ufe(e,r,a):t==="style"?hfe(e,n,r):md(t)?DN(t)||gfe(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):bfe(e,t,r,a))?($M(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&OM(e,t,r,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_t(r))?$M(e,Ln(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),OM(e,t,r,a))};function bfe(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&MM(t)&&xt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return MM(t)&&_t(n)?!1:t in e}const LM={};/*! #__NO_SIDE_EFFECTS__ */function tj(e,t,n){const r=Zr(e,t);rA(r)&&Vt(r,t);class i extends bA{constructor(a){super(r,a,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const wfe=(e,t)=>tj(e,t,fj),Afe=typeof HTMLElement<"u"?HTMLElement:class{};class bA extends Afe{constructor(t,n={},r=Gx){super(),this._def=t,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Gx?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof bA){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Fh(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:a}=r;let o;if(s&&!Je(s))for(const u in s){const l=s[u];(l===Number||l&&l.type===Number)&&(u in this._props&&(this._props[u]=PE(this._props[u])),(o||(o=Object.create(null)))[Ln(u)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(a),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)on(this,r)||Object.defineProperty(this,r,{get:()=>tr(n[r])})}_resolveProps(t){const{props:n}=t,r=Je(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(Ln))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let r=n?this.getAttribute(t):LM;const i=Ln(t);n&&this._numberProps&&this._numberProps[i]&&(r=PE(r)),this._setProp(i,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!1){if(n!==this._props[t]&&(n===LM?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Us(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Us(t),n+""):n||this.removeAttribute(Us(t)),s&&s.observe(this,{attributes:!0})}}_update(){cj(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=Ht(this._def,Vt(t,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,a)=>{this.dispatchEvent(new CustomEvent(s,rA(a[0])?Vt({detail:a},a[0]):{detail:a}))};r.emit=(s,...a)=>{i(s,a),Us(s)!==s&&i(Us(s),a)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=t.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=t[i],this.shadowRoot.prepend(s)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const i=t[r],s=i.getAttribute("name")||"default",a=this._slots[s],o=i.parentNode;if(a)for(const u of a){if(n&&u.nodeType===1){const l=n+"-s",c=document.createTreeWalker(u,1);u.setAttribute(l,"");let f;for(;f=c.nextNode();)f.setAttribute(l,"")}o.insertBefore(u,i)}else for(;i.firstChild;)o.insertBefore(i.firstChild,i);o.removeChild(i)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function nj(e){const t=yo(),n=t&&t.ce;return n||null}function Sfe(){const e=nj();return e&&e.shadowRoot}function Cfe(e="$style"){{const t=yo();if(!t)return zt;const n=t.type.__cssModules;if(!n)return zt;const r=n[e];return r||zt}}const rj=new WeakMap,ij=new WeakMap,JE=Symbol("_moveCb"),PM=Symbol("_enterCb"),kfe=e=>(delete e.props.mode,e),Tfe=kfe({name:"TransitionGroup",props:Vt({},YV,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=yo(),r=HN();let i,s;return xA(()=>{if(!i.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!$fe(i[0].el,n.vnode.el,a))return;i.forEach(Dfe),i.forEach(Nfe);const o=i.filter(Ofe);k3(),o.forEach(u=>{const l=u.el,c=l.style;xu(l,a),c.transform=c.webkitTransform=c.transitionDuration="";const f=l[JE]=h=>{h&&h.target!==l||(!h||/transform$/.test(h.propertyName))&&(l.removeEventListener("transitionend",f),l[JE]=null,Hc(l,a))};l.addEventListener("transitionend",f)})}),()=>{const a=Gt(e),o=JV(a);let u=a.tag||Mt;if(i=[],s)for(let l=0;l<s.length;l++){const c=s[l];c.el&&c.el instanceof Element&&(i.push(c),hc(c,ng(c,o,r,n)),rj.set(c,c.el.getBoundingClientRect()))}s=t.default?gA(t.default()):[];for(let l=0;l<s.length;l++){const c=s[l];c.key!=null&&hc(c,ng(c,o,r,n))}return Ht(u,null,s)}}}),Ffe=Tfe;function Dfe(e){const t=e.el;t[JE]&&t[JE](),t[PM]&&t[PM]()}function Nfe(e){ij.set(e,e.el.getBoundingClientRect())}function Ofe(e){const t=rj.get(e),n=ij.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function $fe(e,t,n){const r=e.cloneNode(),i=e[ig];i&&i.forEach(o=>{o.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:a}=ZV(r);return s.removeChild(r),a}const Ff=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Je(t)?n=>Lp(t,n):t};function Ife(e){e.target.composing=!0}function BM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ro=Symbol("_assign"),sg={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[ro]=Ff(i);const s=r||i.props&&i.props.type==="number";Bl(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;n&&(o=o.trim()),s&&(o=LE(o)),e[ro](o)}),n&&Bl(e,"change",()=>{e.value=e.value.trim()}),t||(Bl(e,"compositionstart",Ife),Bl(e,"compositionend",BM),Bl(e,"change",BM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(e[ro]=Ff(a),e.composing)return;const o=(s||e.type==="number")&&!/^0\d/.test(e.value)?LE(e.value):e.value,u=t??"";o!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===u)||(e.value=u))}},ny={deep:!0,created(e,t,n){e[ro]=Ff(n),Bl(e,"change",()=>{const r=e._modelValue,i=ag(e),s=e.checked,a=e[ro];if(Je(r)){const o=aA(r,i),u=o!==-1;if(s&&!u)a(r.concat(i));else if(!s&&u){const l=[...r];l.splice(o,1),a(l)}}else if(xd(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(sj(e,s))})},mounted:UM,beforeUpdate(e,t,n){e[ro]=Ff(n),UM(e,t,n)}};function UM(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(Je(t))i=aA(t,r.props.value)>-1;else if(xd(t))i=t.has(r.props.value);else{if(t===n)return;i=kf(t,sj(e,!0))}e.checked!==i&&(e.checked=i)}const t6={created(e,{value:t},n){e.checked=kf(t,n.props.value),e[ro]=Ff(n),Bl(e,"change",()=>{e[ro](ag(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[ro]=Ff(r),t!==n&&(e.checked=kf(t,r.props.value))}},$h={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=xd(t);Bl(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?LE(ag(a)):ag(a));e[ro](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,Fh(()=>{e._assigning=!1})}),e[ro]=Ff(r)},mounted(e,{value:t}){zM(e,t)},beforeUpdate(e,t,n){e[ro]=Ff(n)},updated(e,{value:t}){e._assigning||zM(e,t)}};function zM(e,t){const n=e.multiple,r=Je(t);if(!(n&&!r&&!xd(t))){for(let i=0,s=e.options.length;i<s;i++){const a=e.options[i],o=ag(a);if(n)if(r){const u=typeof o;u==="string"||u==="number"?a.selected=t.some(l=>String(l)===String(o)):a.selected=aA(t,o)>-1}else a.selected=t.has(o);else if(kf(ag(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ag(e){return"_value"in e?e._value:e.value}function sj(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ZE={created(e,t,n){N_(e,t,n,null,"created")},mounted(e,t,n){N_(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){N_(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){N_(e,t,n,r,"updated")}};function aj(e,t){switch(e){case"SELECT":return $h;case"TEXTAREA":return sg;default:switch(t){case"checkbox":return ny;case"radio":return t6;default:return sg}}}function N_(e,t,n,r,i){const a=aj(e.tagName,n.props&&n.props.type)[i];a&&a(e,t,n,r)}function Rfe(){sg.getSSRProps=({value:e})=>({value:e}),t6.getSSRProps=({value:e},t)=>{if(t.props&&kf(t.props.value,e))return{checked:!0}},ny.getSSRProps=({value:e},t)=>{if(Je(e)){if(t.props&&aA(e,t.props.value)>-1)return{checked:!0}}else if(xd(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},ZE.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=aj(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const Mfe=["ctrl","shift","alt","meta"],Lfe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Mfe.some(n=>e[`${n}Key`]&&!t.includes(n))},af=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<t.length;a++){const o=Lfe[t[a]];if(o&&o(i,t))return}return e(i,...s)})},Pfe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bfe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Us(i.key);if(t.some(a=>a===s||Pfe[a]===s))return e(i)})},oj=Vt({patchProp:Efe},rfe);let ix,WM=!1;function uj(){return ix||(ix=EV(oj))}function lj(){return ix=WM?ix:bV(oj),WM=!0,ix}const cj=(...e)=>{uj().render(...e)},Ufe=(...e)=>{lj().hydrate(...e)},Gx=(...e)=>{const t=uj().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=dj(r);if(!i)return;const s=t._component;!xt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,hj(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t},fj=(...e)=>{const t=lj().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=dj(r);if(i)return n(i,!0,hj(i))},t};function hj(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function dj(e){return _t(e)?document.querySelector(e):e}let HM=!1;const zfe=()=>{HM||(HM=!0,Rfe(),lfe())},Wfe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:YH,BaseTransitionPropsValidators:VN,Comment:_r,DeprecationTypes:efe,EffectScope:IN,ErrorCodes:fle,ErrorTypeStrings:qce,Fragment:Mt,KeepAlive:Lle,ReactiveEffect:Lx,Static:lh,Suspense:Fce,Teleport:yle,Text:vf,TrackOpTypes:ile,Transition:sfe,TransitionGroup:Ffe,TriggerOpTypes:sle,VueElement:bA,assertNumber:cle,callWithAsyncErrorHandling:oo,callWithErrorHandling:i1,camelize:Ln,capitalize:vd,cloneVNode:Vu,compatUtils:Qce,computed:Yl,createApp:Gx,createBlock:Nh,createCommentVNode:Ar,createElementBlock:Ye,createElementVNode:Q,createHydrationRenderer:bV,createPropsRestProxy:rce,createRenderer:EV,createSSRApp:fj,createSlots:Hle,createStaticVNode:Lce,createTextVNode:nr,createVNode:Ht,customRef:RH,defineAsyncComponent:Rle,defineComponent:Zr,defineCustomElement:tj,defineEmits:qle,defineExpose:Xle,defineModel:Jle,defineOptions:Kle,defineProps:Gle,defineSSRCustomElement:wfe,defineSlots:Yle,devtools:Xce,effect:kue,effectScope:RN,getCurrentInstance:yo,getCurrentScope:MN,getCurrentWatcher:ale,getTransitionRawChildren:gA,guardReactiveProps:LV,h:jV,handleError:yd,hasInjectionContext:fV,hydrate:Ufe,hydrateOnIdle:Fle,hydrateOnInteraction:$le,hydrateOnMediaQuery:Ole,hydrateOnVisible:Nle,initCustomFormatter:Vce,initDirectivesForSSR:zfe,inject:uh,isMemoSame:GV,isProxy:fA,isReactive:Ru,isReadonly:Tf,isRef:Kn,isRuntimeOnly:zce,isShallow:ya,isVNode:dc,markRaw:hA,mergeDefaults:tce,mergeModels:nce,mergeProps:PV,nextTick:Fh,normalizeClass:no,normalizeProps:pue,normalizeStyle:Qf,onActivated:ZH,onBeforeMount:GN,onBeforeUnmount:vA,onBeforeUpdate:qN,onDeactivated:QH,onErrorCaptured:iV,onMounted:Sc,onRenderTracked:rV,onRenderTriggered:nV,onScopeDispose:mH,onServerPrefetch:tV,onUnmounted:yA,onUpdated:xA,onWatcherCleanup:PH,openBlock:je,popScopeId:mle,provide:cV,proxyRefs:zN,pushScopeId:gle,queuePostFlushCb:Ux,reactive:sa,readonly:UN,ref:oi,registerRuntimeCompiler:WV,render:cj,renderList:Mi,renderSlot:aV,resolveComponent:Ule,resolveDirective:Wle,resolveDynamicComponent:zle,resolveFilter:Zce,resolveTransitionHooks:ng,setBlockTracking:_3,setDevtoolsHook:Kce,setTransitionHooks:hc,shallowReactive:OH,shallowReadonly:que,shallowRef:$H,ssrContextKey:CV,ssrUtils:Jce,stop:Tue,toDisplayString:yr,toHandlerKey:Mp,toHandlers:Vle,toRaw:Gt,toRef:tle,toRefs:MH,toValue:Yue,transformVNodeArgs:Rce,triggerRef:Kue,unref:tr,useAttrs:ece,useCssModule:Cfe,useCssVars:cfe,useHost:nj,useId:Ele,useModel:bce,useSSRContext:kV,useShadowRoot:Sfe,useSlots:Qle,useTemplateRef:ble,useTransitionState:HN,vModelCheckbox:ny,vModelDynamic:ZE,vModelRadio:t6,vModelSelect:$h,vModelText:sg,vShow:KE,version:qV,warn:Gce,watch:Gs,watchEffect:yce,watchPostEffect:_ce,watchSyncEffect:TV,withAsyncContext:ice,withCtx:pA,withDefaults:Zle,withDirectives:zs,withKeys:Bfe,withMemo:jce,withModifiers:af,withScopeId:xle},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qx=Symbol(""),sx=Symbol(""),n6=Symbol(""),QE=Symbol(""),pj=Symbol(""),Ih=Symbol(""),gj=Symbol(""),mj=Symbol(""),r6=Symbol(""),i6=Symbol(""),ry=Symbol(""),s6=Symbol(""),xj=Symbol(""),a6=Symbol(""),o6=Symbol(""),u6=Symbol(""),l6=Symbol(""),c6=Symbol(""),f6=Symbol(""),vj=Symbol(""),yj=Symbol(""),wA=Symbol(""),eb=Symbol(""),h6=Symbol(""),d6=Symbol(""),Xx=Symbol(""),iy=Symbol(""),p6=Symbol(""),F3=Symbol(""),Hfe=Symbol(""),D3=Symbol(""),tb=Symbol(""),Vfe=Symbol(""),jfe=Symbol(""),g6=Symbol(""),Gfe=Symbol(""),qfe=Symbol(""),m6=Symbol(""),_j=Symbol(""),og={[qx]:"Fragment",[sx]:"Teleport",[n6]:"Suspense",[QE]:"KeepAlive",[pj]:"BaseTransition",[Ih]:"openBlock",[gj]:"createBlock",[mj]:"createElementBlock",[r6]:"createVNode",[i6]:"createElementVNode",[ry]:"createCommentVNode",[s6]:"createTextVNode",[xj]:"createStaticVNode",[a6]:"resolveComponent",[o6]:"resolveDynamicComponent",[u6]:"resolveDirective",[l6]:"resolveFilter",[c6]:"withDirectives",[f6]:"renderList",[vj]:"renderSlot",[yj]:"createSlots",[wA]:"toDisplayString",[eb]:"mergeProps",[h6]:"normalizeClass",[d6]:"normalizeStyle",[Xx]:"normalizeProps",[iy]:"guardReactiveProps",[p6]:"toHandlers",[F3]:"camelize",[Hfe]:"capitalize",[D3]:"toHandlerKey",[tb]:"setBlockTracking",[Vfe]:"pushScopeId",[jfe]:"popScopeId",[g6]:"withCtx",[Gfe]:"unref",[qfe]:"isRef",[m6]:"withMemo",[_j]:"isMemoSame"};function Xfe(e){Object.getOwnPropertySymbols(e).forEach(t=>{og[t]=e[t]})}const Ra={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Kfe(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Ra}}function Kx(e,t,n,r,i,s,a,o=!1,u=!1,l=!1,c=Ra){return e&&(o?(e.helper(Ih),e.helper(cg(e.inSSR,l))):e.helper(lg(e.inSSR,l)),a&&e.helper(c6)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:s,directives:a,isBlock:o,disableTracking:u,isComponent:l,loc:c}}function ch(e,t=Ra){return{type:17,loc:t,elements:e}}function Ja(e,t=Ra){return{type:15,loc:t,properties:e}}function cr(e,t){return{type:16,loc:Ra,key:_t(e)?Tt(e,!0):e,value:t}}function Tt(e,t=!1,n=Ra,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function Vo(e,t=Ra){return{type:8,loc:t,children:e}}function Sr(e,t=[],n=Ra){return{type:14,loc:n,callee:e,arguments:t}}function ug(e,t=void 0,n=!1,r=!1,i=Ra){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function N3(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:Ra}}function Yfe(e,t,n=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:r,needArraySpread:!1,loc:Ra}}function Jfe(e){return{type:21,body:e,loc:Ra}}function lg(e,t){return e||t?r6:i6}function cg(e,t){return e||t?gj:mj}function x6(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(lg(r,e.isComponent)),t(Ih),t(cg(r,e.isComponent)))}const VM=new Uint8Array([123,123]),jM=new Uint8Array([125,125]);function GM(e){return e>=97&&e<=122||e>=65&&e<=90}function la(e){return e===32||e===10||e===9||e===12||e===13}function Pc(e){return e===47||e===62||la(e)}function nb(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const yi={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Zfe{constructor(t,n){this.stack=t,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=VM,this.delimiterClose=jM,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=VM,this.delimiterClose=jM}getPos(t){let n=1,r=t+1;for(let i=this.newlines.length-1;i>=0;i--){const s=this.newlines[i];if(t>s){n=i+2,r=t-s;break}}return{column:r,line:n,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Pc(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||la(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===yi.TitleEnd||this.currentSequence===yi.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===yi.Cdata[this.sequenceIndex]?++this.sequenceIndex===yi.Cdata.length&&(this.state=28,this.currentSequence=yi.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===yi.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,n){this.enterRCDATA(t,n),this.state=31}enterRCDATA(t,n){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=n}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):GM(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Pc(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Pc(t)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(nb("</"+n),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){la(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=GM(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||la(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):la(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):la(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Pc(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Pc(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Pc(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Pc(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Pc(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):la(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):la(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,n){(t===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){la(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=yi.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===yi.ScriptEnd[3]?this.startSpecial(yi.ScriptEnd,4):t===yi.StyleEnd[3]?this.startSpecial(yi.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===yi.TitleEnd[3]?this.startSpecial(yi.TitleEnd,4):t===yi.TextareaEnd[3]?this.startSpecial(yi.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===yi.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){}}function qM(e,{compatConfig:t}){const n=t&&t[e];return e==="MODE"?n||3:n}function fh(e,t){const n=qM("MODE",t),r=qM(e,t);return n===3?r===!0:r!==!1}function Yx(e,t,n,...r){return fh(e,t)}function v6(e){throw e}function Ej(e){}function zn(e,t,n,r){const i=`https://vuejs.org/error-reference/#compiler-${e}`,s=new SyntaxError(String(i));return s.code=e,s.loc=t,s}const qs=e=>e.type===4&&e.isStatic;function bj(e){switch(e){case"Teleport":case"teleport":return sx;case"Suspense":case"suspense":return n6;case"KeepAlive":case"keep-alive":return QE;case"BaseTransition":case"base-transition":return pj}}const Qfe=/^\d|[^\$\w\xA0-\uFFFF]/,y6=e=>!Qfe.test(e),e0e=/[A-Za-z_$\xA0-\uFFFF]/,t0e=/[\.\?\w$\xA0-\uFFFF]/,n0e=/\s+[.[]\s*|\s*[.[]\s+/g,wj=e=>e.type===4?e.content:e.loc.source,r0e=e=>{const t=wj(e).trim().replace(n0e,o=>o.trim());let n=0,r=[],i=0,s=0,a=null;for(let o=0;o<t.length;o++){const u=t.charAt(o);switch(n){case 0:if(u==="[")r.push(n),n=1,i++;else if(u==="(")r.push(n),n=2,s++;else if(!(o===0?e0e:t0e).test(u))return!1;break;case 1:u==="'"||u==='"'||u==="`"?(r.push(n),n=3,a=u):u==="["?i++:u==="]"&&(--i||(n=r.pop()));break;case 2:if(u==="'"||u==='"'||u==="`")r.push(n),n=3,a=u;else if(u==="(")s++;else if(u===")"){if(o===t.length-1)return!1;--s||(n=r.pop())}break;case 3:u===a&&(n=r.pop(),a=null);break}}return!i&&!s},Aj=r0e,i0e=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,s0e=e=>i0e.test(wj(e)),a0e=s0e;function Ga(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(_t(t)?i.name===t:t.test(i.name)))return i}}function AA(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const s=e.props[i];if(s.type===6){if(n)continue;if(s.name===t&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&Z0(s.arg,t))return s}}function Z0(e,t){return!!(e&&qs(e)&&e.content===t)}function o0e(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function kk(e){return e.type===5||e.type===2}function u0e(e){return e.type===7&&e.name==="slot"}function rb(e){return e.type===1&&e.tagType===3}function ib(e){return e.type===1&&e.tagType===2}const l0e=new Set([Xx,iy]);function Sj(e,t=[]){if(e&&!_t(e)&&e.type===14){const n=e.callee;if(!_t(n)&&l0e.has(n))return Sj(e.arguments[0],t.concat(e))}return[e,t]}function sb(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],s=[],a;if(i&&!_t(i)&&i.type===14){const o=Sj(i);i=o[0],s=o[1],a=s[s.length-1]}if(i==null||_t(i))r=Ja([t]);else if(i.type===14){const o=i.arguments[0];!_t(o)&&o.type===15?XM(t,o)||o.properties.unshift(t):i.callee===p6?r=Sr(n.helper(eb),[Ja([t]),i]):i.arguments.unshift(Ja([t])),!r&&(r=i)}else i.type===15?(XM(t,i)||i.properties.unshift(t),r=i):(r=Sr(n.helper(eb),[Ja([t]),i]),a&&a.callee===iy&&(a=s[s.length-2]));e.type===13?a?a.arguments[0]=r:e.props=r:a?a.arguments[0]=r:e.arguments[2]=r}function XM(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function Jx(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function c0e(e){return e.type===14&&e.callee===m6?e.arguments[1].returns:e}const f0e=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Cj={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:bm,isPreTag:bm,isIgnoreNewlineTag:bm,isCustomElement:bm,onError:v6,onWarn:Ej,comments:!1,prefixIdentifiers:!1};let ln=Cj,Zx=null,Jl="",Ci=null,Jt=null,Ds="",Tl=-1,z0=-1,_6=0,Zc=!1,O3=null;const Bn=[],er=new Zfe(Bn,{onerr:bl,ontext(e,t){O_(ti(e,t),e,t)},ontextentity(e,t,n){O_(e,t,n)},oninterpolation(e,t){if(Zc)return O_(ti(e,t),e,t);let n=e+er.delimiterOpen.length,r=t-er.delimiterClose.length;for(;la(Jl.charCodeAt(n));)n++;for(;la(Jl.charCodeAt(r-1));)r--;let i=ti(n,r);i.includes("&")&&(i=ln.decodeEntities(i,!1)),$3({type:5,content:J2(i,!1,or(n,r)),loc:or(e,t)})},onopentagname(e,t){const n=ti(e,t);Ci={type:1,tag:n,ns:ln.getNamespace(n,Bn[0],ln.ns),tagType:0,props:[],children:[],loc:or(e-1,t),codegenNode:void 0}},onopentagend(e){YM(e)},onclosetag(e,t){const n=ti(e,t);if(!ln.isVoidTag(n)){let r=!1;for(let i=0;i<Bn.length;i++)if(Bn[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&bl(24,Bn[0].loc.start.offset);for(let a=0;a<=i;a++){const o=Bn.shift();Y2(o,t,a<i)}break}r||bl(23,kj(e,60))}},onselfclosingtag(e){const t=Ci.tag;Ci.isSelfClosing=!0,YM(e),Bn[0]&&Bn[0].tag===t&&Y2(Bn.shift(),e)},onattribname(e,t){Jt={type:6,name:ti(e,t),nameLoc:or(e,t),value:void 0,loc:or(e)}},ondirname(e,t){const n=ti(e,t),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Zc&&r===""&&bl(26,e),Zc||r==="")Jt={type:6,name:n,nameLoc:or(e,t),value:void 0,loc:or(e)};else if(Jt={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Tt("prop")]:[],loc:or(e)},r==="pre"){Zc=er.inVPre=!0,O3=Ci;const i=Ci.props;for(let s=0;s<i.length;s++)i[s].type===7&&(i[s]=b0e(i[s]))}},ondirarg(e,t){if(e===t)return;const n=ti(e,t);if(Zc)Jt.name+=n,Q0(Jt.nameLoc,t);else{const r=n[0]!=="[";Jt.arg=J2(r?n:n.slice(1,-1),r,or(e,t),r?3:0)}},ondirmodifier(e,t){const n=ti(e,t);if(Zc)Jt.name+="."+n,Q0(Jt.nameLoc,t);else if(Jt.name==="slot"){const r=Jt.arg;r&&(r.content+="."+n,Q0(r.loc,t))}else{const r=Tt(n,!0,or(e,t));Jt.modifiers.push(r)}},onattribdata(e,t){Ds+=ti(e,t),Tl<0&&(Tl=e),z0=t},onattribentity(e,t,n){Ds+=e,Tl<0&&(Tl=t),z0=n},onattribnameend(e){const t=Jt.loc.start.offset,n=ti(t,e);Jt.type===7&&(Jt.rawName=n),Ci.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&bl(2,t)},onattribend(e,t){if(Ci&&Jt){if(Q0(Jt.loc,t),e!==0)if(Ds.includes("&")&&(Ds=ln.decodeEntities(Ds,!0)),Jt.type===6)Jt.name==="class"&&(Ds=Fj(Ds).trim()),e===1&&!Ds&&bl(13,t),Jt.value={type:2,content:Ds,loc:e===1?or(Tl,z0):or(Tl-1,z0+1)},er.inSFCRoot&&Ci.tag==="template"&&Jt.name==="lang"&&Ds&&Ds!=="html"&&er.enterRCDATA(nb("</template"),0);else{let n=0;Jt.exp=J2(Ds,!1,or(Tl,z0),0,n),Jt.name==="for"&&(Jt.forParseResult=d0e(Jt.exp));let r=-1;Jt.name==="bind"&&(r=Jt.modifiers.findIndex(i=>i.content==="sync"))>-1&&Yx("COMPILER_V_BIND_SYNC",ln,Jt.loc,Jt.rawName)&&(Jt.name="model",Jt.modifiers.splice(r,1))}(Jt.type!==7||Jt.name!=="pre")&&Ci.props.push(Jt)}Ds="",Tl=z0=-1},oncomment(e,t){ln.comments&&$3({type:3,content:ti(e,t),loc:or(e-4,t+3)})},onend(){const e=Jl.length;for(let t=0;t<Bn.length;t++)Y2(Bn[t],e-1),bl(24,Bn[t].loc.start.offset)},oncdata(e,t){Bn[0].ns!==0?O_(ti(e,t),e,t):bl(1,e-9)},onprocessinginstruction(e){(Bn[0]?Bn[0].ns:ln.ns)===0&&bl(21,e-1)}}),KM=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,h0e=/^\(|\)$/g;function d0e(e){const t=e.loc,n=e.content,r=n.match(f0e);if(!r)return;const[,i,s]=r,a=(f,h,d=!1)=>{const p=t.start.offset+h,g=p+f.length;return J2(f,!1,or(p,g),0,d?1:0)},o={source:a(s.trim(),n.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=i.trim().replace(h0e,"").trim();const l=i.indexOf(u),c=u.match(KM);if(c){u=u.replace(KM,"").trim();const f=c[1].trim();let h;if(f&&(h=n.indexOf(f,l+u.length),o.key=a(f,h,!0)),c[2]){const d=c[2].trim();d&&(o.index=a(d,n.indexOf(d,o.key?h+f.length:l+u.length),!0))}}return u&&(o.value=a(u,l,!0)),o}function ti(e,t){return Jl.slice(e,t)}function YM(e){er.inSFCRoot&&(Ci.innerLoc=or(e+1,e+1)),$3(Ci);const{tag:t,ns:n}=Ci;n===0&&ln.isPreTag(t)&&_6++,ln.isVoidTag(t)?Y2(Ci,e):(Bn.unshift(Ci),(n===1||n===2)&&(er.inXML=!0)),Ci=null}function O_(e,t,n){{const s=Bn[0]&&Bn[0].tag;s!=="script"&&s!=="style"&&e.includes("&")&&(e=ln.decodeEntities(e,!1))}const r=Bn[0]||Zx,i=r.children[r.children.length-1];i&&i.type===2?(i.content+=e,Q0(i.loc,n)):r.children.push({type:2,content:e,loc:or(t,n)})}function Y2(e,t,n=!1){n?Q0(e.loc,kj(t,60)):Q0(e.loc,p0e(t,62)+1),er.inSFCRoot&&(e.children.length?e.innerLoc.end=Vt({},e.children[e.children.length-1].loc.end):e.innerLoc.end=Vt({},e.innerLoc.start),e.innerLoc.source=ti(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:i,children:s}=e;if(Zc||(r==="slot"?e.tagType=2:JM(e)?e.tagType=3:m0e(e)&&(e.tagType=1)),er.inRCDATA||(e.children=Tj(s)),i===0&&ln.isIgnoreNewlineTag(r)){const a=s[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}i===0&&ln.isPreTag(r)&&_6--,O3===e&&(Zc=er.inVPre=!1,O3=null),er.inXML&&(Bn[0]?Bn[0].ns:ln.ns)===0&&(er.inXML=!1);{const a=e.props;if(!er.inSFCRoot&&fh("COMPILER_NATIVE_TEMPLATE",ln)&&e.tag==="template"&&!JM(e)){const u=Bn[0]||Zx,l=u.children.indexOf(e);u.children.splice(l,1,...e.children)}const o=a.find(u=>u.type===6&&u.name==="inline-template");o&&Yx("COMPILER_INLINE_TEMPLATE",ln,o.loc)&&e.children.length&&(o.value={type:2,content:ti(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:o.loc})}}function p0e(e,t){let n=e;for(;Jl.charCodeAt(n)!==t&&n<Jl.length-1;)n++;return n}function kj(e,t){let n=e;for(;Jl.charCodeAt(n)!==t&&n>=0;)n--;return n}const g0e=new Set(["if","else","else-if","for","slot"]);function JM({tag:e,props:t}){if(e==="template"){for(let n=0;n<t.length;n++)if(t[n].type===7&&g0e.has(t[n].name))return!0}return!1}function m0e({tag:e,props:t}){if(ln.isCustomElement(e))return!1;if(e==="component"||x0e(e.charCodeAt(0))||bj(e)||ln.isBuiltInComponent&&ln.isBuiltInComponent(e)||ln.isNativeTag&&!ln.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const r=t[n];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Yx("COMPILER_IS_ON_ELEMENT",ln,r.loc))return!0}}else if(r.name==="bind"&&Z0(r.arg,"is")&&Yx("COMPILER_IS_ON_ELEMENT",ln,r.loc))return!0}return!1}function x0e(e){return e>64&&e<91}const v0e=/\r\n/g;function Tj(e,t){const n=ln.whitespace!=="preserve";let r=!1;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===2)if(_6)s.content=s.content.replace(v0e,`
`);else if(y0e(s.content)){const a=e[i-1]&&e[i-1].type,o=e[i+1]&&e[i+1].type;!a||!o||n&&(a===3&&(o===3||o===1)||a===1&&(o===3||o===1&&_0e(s.content)))?(r=!0,e[i]=null):s.content=" "}else n&&(s.content=Fj(s.content))}return r?e.filter(Boolean):e}function y0e(e){for(let t=0;t<e.length;t++)if(!la(e.charCodeAt(t)))return!1;return!0}function _0e(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n===10||n===13)return!0}return!1}function Fj(e){let t="",n=!1;for(let r=0;r<e.length;r++)la(e.charCodeAt(r))?n||(t+=" ",n=!0):(t+=e[r],n=!1);return t}function $3(e){(Bn[0]||Zx).children.push(e)}function or(e,t){return{start:er.getPos(e),end:t==null?t:er.getPos(t),source:t==null?t:ti(e,t)}}function E0e(e){return or(e.start.offset,e.end.offset)}function Q0(e,t){e.end=er.getPos(t),e.source=ti(e.start.offset,t)}function b0e(e){const t={type:6,name:e.rawName,nameLoc:or(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function J2(e,t=!1,n,r=0,i=0){return Tt(e,t,n,r)}function bl(e,t,n){ln.onError(zn(e,or(t,t)))}function w0e(){er.reset(),Ci=null,Jt=null,Ds="",Tl=-1,z0=-1,Bn.length=0}function A0e(e,t){if(w0e(),Jl=e,ln=Vt({},Cj),t){let i;for(i in t)t[i]!=null&&(ln[i]=t[i])}er.mode=ln.parseMode==="html"?1:ln.parseMode==="sfc"?2:0,er.inXML=ln.ns===1||ln.ns===2;const n=t&&t.delimiters;n&&(er.delimiterOpen=nb(n[0]),er.delimiterClose=nb(n[1]));const r=Zx=Kfe([],e);return er.parse(Jl),r.loc=or(0,e.length),r.children=Tj(r.children),Zx=null,r}function S0e(e,t){Z2(e,void 0,t,Dj(e,e.children[0]))}function Dj(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!ib(t)}function Z2(e,t,n,r=!1,i=!1){const{children:s}=e,a=[];for(let c=0;c<s.length;c++){const f=s[c];if(f.type===1&&f.tagType===0){const h=r?0:ga(f,n);if(h>0){if(h>=2){f.codegenNode.patchFlag=-1,a.push(f);continue}}else{const d=f.codegenNode;if(d.type===13){const p=d.patchFlag;if((p===void 0||p===512||p===1)&&Oj(f,n)>=2){const g=$j(f);g&&(d.props=n.hoist(g))}d.dynamicProps&&(d.dynamicProps=n.hoist(d.dynamicProps))}}}else if(f.type===12&&(r?0:ga(f,n))>=2){a.push(f);continue}if(f.type===1){const h=f.tagType===1;h&&n.scopes.vSlot++,Z2(f,e,n,!1,i),h&&n.scopes.vSlot--}else if(f.type===11)Z2(f,e,n,f.children.length===1,!0);else if(f.type===9)for(let h=0;h<f.branches.length;h++)Z2(f.branches[h],e,n,f.branches[h].children.length===1,i)}let o=!1;if(a.length===s.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Je(e.codegenNode.children))e.codegenNode.children=u(ch(e.codegenNode.children)),o=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Je(e.codegenNode.children)&&e.codegenNode.children.type===15){const c=l(e.codegenNode,"default");c&&(c.returns=u(ch(c.returns)),o=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Je(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=Ga(e,"slot",!0),f=c&&c.arg&&l(t.codegenNode,c.arg);f&&(f.returns=u(ch(f.returns)),o=!0)}}if(!o)for(const c of a)c.codegenNode=n.cache(c.codegenNode);function u(c){const f=n.cache(c);return i&&n.hmr&&(f.needArraySpread=!0),f}function l(c,f){if(c.children&&!Je(c.children)&&c.children.type===15){const h=c.children.properties.find(d=>d.key===f||d.key.content===f);return h&&h.value}}a.length&&n.transformHoist&&n.transformHoist(s,n,e)}function ga(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(i.patchFlag===void 0){let a=3;const o=Oj(e,t);if(o===0)return n.set(e,0),0;o<a&&(a=o);for(let u=0;u<e.children.length;u++){const l=ga(e.children[u],t);if(l===0)return n.set(e,0),0;l<a&&(a=l)}if(a>1)for(let u=0;u<e.props.length;u++){const l=e.props[u];if(l.type===7&&l.name==="bind"&&l.exp){const c=ga(l.exp,t);if(c===0)return n.set(e,0),0;c<a&&(a=c)}}if(i.isBlock){for(let u=0;u<e.props.length;u++)if(e.props[u].type===7)return n.set(e,0),0;t.removeHelper(Ih),t.removeHelper(cg(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(lg(t.inSSR,i.isComponent))}return n.set(e,a),a}else return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return ga(e.content,t);case 4:return e.constType;case 8:let s=3;for(let a=0;a<e.children.length;a++){const o=e.children[a];if(_t(o)||Zs(o))continue;const u=ga(o,t);if(u===0)return 0;u<s&&(s=u)}return s;case 20:return 2;default:return 0}}const C0e=new Set([h6,d6,Xx,iy]);function Nj(e,t){if(e.type===14&&!_t(e.callee)&&C0e.has(e.callee)){const n=e.arguments[0];if(n.type===4)return ga(n,t);if(n.type===14)return Nj(n,t)}return 0}function Oj(e,t){let n=3;const r=$j(e);if(r&&r.type===15){const{properties:i}=r;for(let s=0;s<i.length;s++){const{key:a,value:o}=i[s],u=ga(a,t);if(u===0)return u;u<n&&(n=u);let l;if(o.type===4?l=ga(o,t):o.type===14?l=Nj(o,t):l=0,l===0)return l;l<n&&(n=l)}}return n}function $j(e){const t=e.codegenNode;if(t.type===13)return t.props}function k0e(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:s=!1,nodeTransforms:a=[],directiveTransforms:o={},transformHoist:u=null,isBuiltInComponent:l=hi,isCustomElement:c=hi,expressionPlugins:f=[],scopeId:h=null,slotted:d=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:m="",bindingMetadata:x=zt,inline:y=!1,isTS:v=!1,onError:_=v6,onWarn:E=Ej,compatConfig:w}){const b=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={filename:t,selfName:b&&vd(Ln(b[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:s,nodeTransforms:a,directiveTransforms:o,transformHoist:u,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:f,scopeId:h,slotted:d,ssr:p,inSSR:g,ssrCssVars:m,bindingMetadata:x,inline:y,isTS:v,onError:_,onWarn:E,compatConfig:w,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(A){const C=S.helpers.get(A)||0;return S.helpers.set(A,C+1),A},removeHelper(A){const C=S.helpers.get(A);if(C){const k=C-1;k?S.helpers.set(A,k):S.helpers.delete(A)}},helperString(A){return`_${og[S.helper(A)]}`},replaceNode(A){S.parent.children[S.childIndex]=S.currentNode=A},removeNode(A){const C=S.parent.children,k=A?C.indexOf(A):S.currentNode?S.childIndex:-1;!A||A===S.currentNode?(S.currentNode=null,S.onNodeRemoved()):S.childIndex>k&&(S.childIndex--,S.onNodeRemoved()),S.parent.children.splice(k,1)},onNodeRemoved:hi,addIdentifiers(A){},removeIdentifiers(A){},hoist(A){_t(A)&&(A=Tt(A)),S.hoists.push(A);const C=Tt(`_hoisted_${S.hoists.length}`,!1,A.loc,2);return C.hoisted=A,C},cache(A,C=!1,k=!1){const F=Yfe(S.cached.length,A,C,k);return S.cached.push(F),F}};return S.filters=new Set,S}function T0e(e,t){const n=k0e(e,t);SA(e,n),t.hoistStatic&&S0e(e,n),t.ssr||F0e(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function F0e(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(Dj(e,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&x6(s,t),e.codegenNode=s}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=Kx(t,n(qx),void 0,e.children,i,void 0,void 0,!0,void 0,!1)}}function D0e(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];_t(i)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=r,SA(i,t))}}function SA(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let s=0;s<n.length;s++){const a=n[s](e,t);if(a&&(Je(a)?r.push(...a):r.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(ry);break;case 5:t.ssr||t.helper(wA);break;case 9:for(let s=0;s<e.branches.length;s++)SA(e.branches[s],t);break;case 10:case 11:case 1:case 0:D0e(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function Ij(e,t){const n=_t(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(u0e))return;const a=[];for(let o=0;o<s.length;o++){const u=s[o];if(u.type===7&&n(u.name)){s.splice(o,1),o--;const l=t(r,u,i);l&&a.push(l)}}return a}}}const CA="/*@__PURE__*/",Rj=e=>`${og[e]}: _${og[e]}`;function N0e(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:a=!1,runtimeGlobalName:o="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:c=!1,isTS:f=!1,inSSR:h=!1}){const d={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:s,optimizeImports:a,runtimeGlobalName:o,runtimeModuleName:u,ssrRuntimeModuleName:l,ssr:c,isTS:f,inSSR:h,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${og[g]}`},push(g,m=-2,x){d.code+=g},indent(){p(++d.indentLevel)},deindent(g=!1){g?--d.indentLevel:p(--d.indentLevel)},newline(){p(d.indentLevel)}};function p(g){d.push(`
`+"  ".repeat(g),0)}return d}function O0e(e,t={}){const n=N0e(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:s,indent:a,deindent:o,newline:u,scopeId:l,ssr:c}=n,f=Array.from(e.helpers),h=f.length>0,d=!s&&r!=="module";$0e(e,n);const g=c?"ssrRender":"render",x=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${g}(${x}) {`),a(),d&&(i("with (_ctx) {"),a(),h&&(i(`const { ${f.map(Rj).join(", ")} } = _Vue
`,-1),u())),e.components.length&&(Tk(e.components,"component",n),(e.directives.length||e.temps>0)&&u()),e.directives.length&&(Tk(e.directives,"directive",n),e.temps>0&&u()),e.filters&&e.filters.length&&(u(),Tk(e.filters,"filter",n),u()),e.temps>0){i("let ");for(let y=0;y<e.temps;y++)i(`${y>0?", ":""}_temp${y}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`,0),u()),c||i("return "),e.codegenNode?zi(e.codegenNode,n):i("null"),d&&(o(),i("}")),o(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function $0e(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:s,runtimeModuleName:a,runtimeGlobalName:o,ssrRuntimeModuleName:u}=t,l=o,c=Array.from(e.helpers);if(c.length>0&&(i(`const _Vue = ${l}
`,-1),e.hoists.length)){const f=[r6,i6,ry,s6,xj].filter(h=>c.includes(h)).map(Rj).join(", ");i(`const { ${f} } = _Vue
`,-1)}I0e(e.hoists,t),s(),i("return ")}function Tk(e,t,{helper:n,push:r,newline:i,isTS:s}){const a=n(t==="filter"?l6:t==="component"?a6:u6);for(let o=0;o<e.length;o++){let u=e[o];const l=u.endsWith("__self");l&&(u=u.slice(0,-6)),r(`const ${Jx(u,t)} = ${a}(${JSON.stringify(u)}${l?", true":""})${s?"!":""}`),o<e.length-1&&i()}}function I0e(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r}=t;r();for(let i=0;i<e.length;i++){const s=e[i];s&&(n(`const _hoisted_${i+1} = `),zi(s,t),r())}t.pure=!1}function E6(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),sy(e,t,n),n&&t.deindent(),t.push("]")}function sy(e,t,n=!1,r=!0){const{push:i,newline:s}=t;for(let a=0;a<e.length;a++){const o=e[a];_t(o)?i(o,-3):Je(o)?E6(o,t):zi(o,t),a<e.length-1&&(n?(r&&i(","),s()):r&&i(", "))}}function zi(e,t){if(_t(e)){t.push(e,-3);return}if(Zs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:zi(e.codegenNode,t);break;case 2:R0e(e,t);break;case 4:Mj(e,t);break;case 5:M0e(e,t);break;case 12:zi(e.codegenNode,t);break;case 8:Lj(e,t);break;case 3:P0e(e,t);break;case 13:B0e(e,t);break;case 14:z0e(e,t);break;case 15:W0e(e,t);break;case 17:H0e(e,t);break;case 18:V0e(e,t);break;case 19:j0e(e,t);break;case 20:G0e(e,t);break;case 21:sy(e.body,t,!0,!1);break}}function R0e(e,t){t.push(JSON.stringify(e.content),-3,e)}function Mj(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,-3,e)}function M0e(e,t){const{push:n,helper:r,pure:i}=t;i&&n(CA),n(`${r(wA)}(`),zi(e.content,t),n(")")}function Lj(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];_t(r)?t.push(r,-3):zi(r,t)}}function L0e(e,t){const{push:n}=t;if(e.type===8)n("["),Lj(e,t),n("]");else if(e.isStatic){const r=y6(e.content)?e.content:JSON.stringify(e.content);n(r,-2,e)}else n(`[${e.content}]`,-3,e)}function P0e(e,t){const{push:n,helper:r,pure:i}=t;i&&n(CA),n(`${r(ry)}(${JSON.stringify(e.content)})`,-3,e)}function B0e(e,t){const{push:n,helper:r,pure:i}=t,{tag:s,props:a,children:o,patchFlag:u,dynamicProps:l,directives:c,isBlock:f,disableTracking:h,isComponent:d}=e;let p;u&&(p=String(u)),c&&n(r(c6)+"("),f&&n(`(${r(Ih)}(${h?"true":""}), `),i&&n(CA);const g=f?cg(t.inSSR,d):lg(t.inSSR,d);n(r(g)+"(",-2,e),sy(U0e([s,a,o,p,l]),t),n(")"),f&&n(")"),c&&(n(", "),zi(c,t),n(")"))}function U0e(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function z0e(e,t){const{push:n,helper:r,pure:i}=t,s=_t(e.callee)?e.callee:r(e.callee);i&&n(CA),n(s+"(",-2,e),sy(e.arguments,t),n(")")}function W0e(e,t){const{push:n,indent:r,deindent:i,newline:s}=t,{properties:a}=e;if(!a.length){n("{}",-2,e);return}const o=a.length>1||!1;n(o?"{":"{ "),o&&r();for(let u=0;u<a.length;u++){const{key:l,value:c}=a[u];L0e(l,t),n(": "),zi(c,t),u<a.length-1&&(n(","),s())}o&&i(),n(o?"}":" }")}function H0e(e,t){E6(e.elements,t)}function V0e(e,t){const{push:n,indent:r,deindent:i}=t,{params:s,returns:a,body:o,newline:u,isSlot:l}=e;l&&n(`_${og[g6]}(`),n("(",-2,e),Je(s)?sy(s,t):s&&zi(s,t),n(") => "),(u||o)&&(n("{"),r()),a?(u&&n("return "),Je(a)?E6(a,t):zi(a,t)):o&&zi(o,t),(u||o)&&(i(),n("}")),l&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function j0e(e,t){const{test:n,consequent:r,alternate:i,newline:s}=e,{push:a,indent:o,deindent:u,newline:l}=t;if(n.type===4){const f=!y6(n.content);f&&a("("),Mj(n,t),f&&a(")")}else a("("),zi(n,t),a(")");s&&o(),t.indentLevel++,s||a(" "),a("? "),zi(r,t),t.indentLevel--,s&&l(),s||a(" "),a(": ");const c=i.type===19;c||t.indentLevel++,zi(i,t),c||t.indentLevel--,s&&u(!0)}function G0e(e,t){const{push:n,helper:r,indent:i,deindent:s,newline:a}=t,{needPauseTracking:o,needArraySpread:u}=e;u&&n("[...("),n(`_cache[${e.index}] || (`),o&&(i(),n(`${r(tb)}(-1`),e.inVOnce&&n(", true"),n("),"),a(),n("(")),n(`_cache[${e.index}] = `),zi(e.value,t),o&&(n(`).cacheIndex = ${e.index},`),a(),n(`${r(tb)}(1),`),a(),n(`_cache[${e.index}]`),s()),n(")"),u&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const q0e=Ij(/^(if|else|else-if)$/,(e,t,n)=>X0e(e,t,n,(r,i,s)=>{const a=n.parent.children;let o=a.indexOf(r),u=0;for(;o-->=0;){const l=a[o];l&&l.type===9&&(u+=l.branches.length)}return()=>{if(s)r.codegenNode=QM(i,u,n);else{const l=K0e(r.codegenNode);l.alternate=QM(i,u+r.branches.length-1,n)}}}));function X0e(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(zn(28,t.loc)),t.exp=Tt("true",!1,i)}if(t.name==="if"){const i=ZM(e,t),s={type:9,loc:E0e(e.loc),branches:[i]};if(n.replaceNode(s),r)return r(s,i,!0)}else{const i=n.parent.children;let s=i.indexOf(e);for(;s-->=-1;){const a=i[s];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(zn(30,e.loc)),n.removeNode();const o=ZM(e,t);a.branches.push(o);const u=r&&r(a,o,!1);SA(o,n),u&&u(),n.currentNode=null}else n.onError(zn(30,e.loc));break}}}function ZM(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!Ga(e,"for")?e.children:[e],userKey:AA(e,"key"),isTemplateIf:n}}function QM(e,t,n){return e.condition?N3(e.condition,eL(e,t,n),Sr(n.helper(ry),['""',"true"])):eL(e,t,n)}function eL(e,t,n){const{helper:r}=n,i=cr("key",Tt(`${t}`,!1,Ra,2)),{children:s}=e,a=s[0];if(s.length!==1||a.type!==1)if(s.length===1&&a.type===11){const u=a.codegenNode;return sb(u,i,n),u}else return Kx(n,r(qx),Ja([i]),s,64,void 0,void 0,!0,!1,!1,e.loc);else{const u=a.codegenNode,l=c0e(u);return l.type===13&&x6(l,n),sb(l,i,n),u}}function K0e(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Y0e=(e,t,n)=>{const{modifiers:r,loc:i}=e,s=e.arg;let{exp:a}=e;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(s.type!==4||!s.isStatic)return n.onError(zn(52,s.loc)),{props:[cr(s,Tt("",!0,i))]};Pj(e),a=e.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.some(o=>o.content==="camel")&&(s.type===4?s.isStatic?s.content=Ln(s.content):s.content=`${n.helperString(F3)}(${s.content})`:(s.children.unshift(`${n.helperString(F3)}(`),s.children.push(")"))),n.inSSR||(r.some(o=>o.content==="prop")&&tL(s,"."),r.some(o=>o.content==="attr")&&tL(s,"^")),{props:[cr(s,a)]}},Pj=(e,t)=>{const n=e.arg,r=Ln(n.content);e.exp=Tt(r,!1,n.loc)},tL=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},J0e=Ij("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return Z0e(e,t,n,s=>{const a=Sr(r(f6),[s.source]),o=rb(e),u=Ga(e,"memo"),l=AA(e,"key",!1,!0);l&&l.type===7&&!l.exp&&Pj(l);let f=l&&(l.type===6?l.value?Tt(l.value.content,!0):void 0:l.exp);const h=l&&f?cr("key",f):null,d=s.source.type===4&&s.source.constType>0,p=d?64:l?128:256;return s.codegenNode=Kx(n,r(qx),void 0,a,p,void 0,void 0,!0,!d,!1,e.loc),()=>{let g;const{children:m}=s,x=m.length!==1||m[0].type!==1,y=ib(e)?e:o&&e.children.length===1&&ib(e.children[0])?e.children[0]:null;if(y?(g=y.codegenNode,o&&h&&sb(g,h,n)):x?g=Kx(n,r(qx),h?Ja([h]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=m[0].codegenNode,o&&h&&sb(g,h,n),g.isBlock!==!d&&(g.isBlock?(i(Ih),i(cg(n.inSSR,g.isComponent))):i(lg(n.inSSR,g.isComponent))),g.isBlock=!d,g.isBlock?(r(Ih),r(cg(n.inSSR,g.isComponent))):r(lg(n.inSSR,g.isComponent))),u){const v=ug(I3(s.parseResult,[Tt("_cached")]));v.body=Jfe([Vo(["const _memo = (",u.exp,")"]),Vo(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${n.helperString(_j)}(_cached, _memo)) return _cached`]),Vo(["const _item = ",g]),Tt("_item.memo = _memo"),Tt("return _item")]),a.arguments.push(v,Tt("_cache"),Tt(String(n.cached.length))),n.cached.push(null)}else a.arguments.push(ug(I3(s.parseResult),g,!0))}})});function Z0e(e,t,n,r){if(!t.exp){n.onError(zn(31,t.loc));return}const i=t.forParseResult;if(!i){n.onError(zn(32,t.loc));return}Bj(i);const{addIdentifiers:s,removeIdentifiers:a,scopes:o}=n,{source:u,value:l,key:c,index:f}=i,h={type:11,loc:t.loc,source:u,valueAlias:l,keyAlias:c,objectIndexAlias:f,parseResult:i,children:rb(e)?e.children:[e]};n.replaceNode(h),o.vFor++;const d=r&&r(h);return()=>{o.vFor--,d&&d()}}function Bj(e,t){e.finalized||(e.finalized=!0)}function I3({value:e,key:t,index:n},r=[]){return Q0e([e,t,n,...r])}function Q0e(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Tt("_".repeat(r+1),!1))}const nL=Tt("undefined",!1),ehe=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=Ga(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},the=(e,t,n,r)=>ug(e,n,!1,!0,n.length?n[0].loc:r);function nhe(e,t,n=the){t.helper(g6);const{children:r,loc:i}=e,s=[],a=[];let o=t.scopes.vSlot>0||t.scopes.vFor>0;const u=Ga(e,"slot",!0);if(u){const{arg:m,exp:x}=u;m&&!qs(m)&&(o=!0),s.push(cr(m||Tt("default",!0),n(x,void 0,r,i)))}let l=!1,c=!1;const f=[],h=new Set;let d=0;for(let m=0;m<r.length;m++){const x=r[m];let y;if(!rb(x)||!(y=Ga(x,"slot",!0))){x.type!==3&&f.push(x);continue}if(u){t.onError(zn(37,y.loc));break}l=!0;const{children:v,loc:_}=x,{arg:E=Tt("default",!0),exp:w,loc:b}=y;let S;qs(E)?S=E?E.content:"default":o=!0;const A=Ga(x,"for"),C=n(w,A,v,_);let k,F;if(k=Ga(x,"if"))o=!0,a.push(N3(k.exp,$_(E,C,d++),nL));else if(F=Ga(x,/^else(-if)?$/,!0)){let N=m,R;for(;N--&&(R=r[N],R.type===3););if(R&&rb(R)&&Ga(R,/^(else-)?if$/)){let D=a[a.length-1];for(;D.alternate.type===19;)D=D.alternate;D.alternate=F.exp?N3(F.exp,$_(E,C,d++),nL):$_(E,C,d++)}else t.onError(zn(30,F.loc))}else if(A){o=!0;const N=A.forParseResult;N?(Bj(N),a.push(Sr(t.helper(f6),[N.source,ug(I3(N),$_(E,C),!0)]))):t.onError(zn(32,A.loc))}else{if(S){if(h.has(S)){t.onError(zn(38,b));continue}h.add(S),S==="default"&&(c=!0)}s.push(cr(E,C))}}if(!u){const m=(x,y)=>{const v=n(x,void 0,y,i);return t.compatConfig&&(v.isNonScopedSlot=!0),cr("default",v)};l?f.length&&f.some(x=>Uj(x))&&(c?t.onError(zn(39,f[0].loc)):s.push(m(void 0,f))):s.push(m(void 0,r))}const p=o?2:Q2(e.children)?3:1;let g=Ja(s.concat(cr("_",Tt(p+"",!1))),i);return a.length&&(g=Sr(t.helper(yj),[g,ch(a)])),{slots:g,hasDynamicSlots:o}}function $_(e,t,n){const r=[cr("name",e),cr("fn",t)];return n!=null&&r.push(cr("key",Tt(String(n),!0))),Ja(r)}function Q2(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||Q2(n.children))return!0;break;case 9:if(Q2(n.branches))return!0;break;case 10:case 11:if(Q2(n.children))return!0;break}}return!1}function Uj(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Uj(e.content)}const zj=new WeakMap,rhe=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:i}=e,s=e.tagType===1;let a=s?ihe(e,t):`"${r}"`;const o=_n(a)&&a.callee===o6;let u,l,c=0,f,h,d,p=o||a===sx||a===n6||!s&&(r==="svg"||r==="foreignObject"||r==="math");if(i.length>0){const g=Wj(e,t,void 0,s,o);u=g.props,c=g.patchFlag,h=g.dynamicPropNames;const m=g.directives;d=m&&m.length?ch(m.map(x=>ahe(x,t))):void 0,g.shouldUseBlock&&(p=!0)}if(e.children.length>0)if(a===QE&&(p=!0,c|=1024),s&&a!==sx&&a!==QE){const{slots:m,hasDynamicSlots:x}=nhe(e,t);l=m,x&&(c|=1024)}else if(e.children.length===1&&a!==sx){const m=e.children[0],x=m.type,y=x===5||x===8;y&&ga(m,t)===0&&(c|=1),y||x===2?l=m:l=e.children}else l=e.children;h&&h.length&&(f=ohe(h)),e.codegenNode=Kx(t,a,u,l,c===0?void 0:c,f,d,!!p,!1,s,e.loc)};function ihe(e,t,n=!1){let{tag:r}=e;const i=R3(r),s=AA(e,"is",!1,!0);if(s)if(i||fh("COMPILER_IS_ON_ELEMENT",t)){let o;if(s.type===6?o=s.value&&Tt(s.value.content,!0):(o=s.exp,o||(o=Tt("is",!1,s.arg.loc))),o)return Sr(t.helper(o6),[o])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const a=bj(r)||t.isBuiltInComponent(r);return a?(n||t.helper(a),a):(t.helper(a6),t.components.add(r),Jx(r,"component"))}function Wj(e,t,n=e.props,r,i,s=!1){const{tag:a,loc:o,children:u}=e;let l=[];const c=[],f=[],h=u.length>0;let d=!1,p=0,g=!1,m=!1,x=!1,y=!1,v=!1,_=!1;const E=[],w=C=>{l.length&&(c.push(Ja(rL(l),o)),l=[]),C&&c.push(C)},b=()=>{t.scopes.vFor>0&&l.push(cr(Tt("ref_for",!0),Tt("true")))},S=({key:C,value:k})=>{if(qs(C)){const F=C.content,N=md(F);if(N&&(!r||i)&&F.toLowerCase()!=="onclick"&&F!=="onUpdate:modelValue"&&!mf(F)&&(y=!0),N&&mf(F)&&(_=!0),N&&k.type===14&&(k=k.arguments[0]),k.type===20||(k.type===4||k.type===8)&&ga(k,t)>0)return;F==="ref"?g=!0:F==="class"?m=!0:F==="style"?x=!0:F!=="key"&&!E.includes(F)&&E.push(F),r&&(F==="class"||F==="style")&&!E.includes(F)&&E.push(F)}else v=!0};for(let C=0;C<n.length;C++){const k=n[C];if(k.type===6){const{loc:F,name:N,nameLoc:R,value:D}=k;let O=!0;if(N==="ref"&&(g=!0,b()),N==="is"&&(R3(a)||D&&D.content.startsWith("vue:")||fh("COMPILER_IS_ON_ELEMENT",t)))continue;l.push(cr(Tt(N,!0,R),Tt(D?D.content:"",O,D?D.loc:F)))}else{const{name:F,arg:N,exp:R,loc:D,modifiers:O}=k,M=F==="bind",z=F==="on";if(F==="slot"){r||t.onError(zn(40,D));continue}if(F==="once"||F==="memo"||F==="is"||M&&Z0(N,"is")&&(R3(a)||fh("COMPILER_IS_ON_ELEMENT",t))||z&&s)continue;if((M&&Z0(N,"key")||z&&h&&Z0(N,"vue:before-update"))&&(d=!0),M&&Z0(N,"ref")&&b(),!N&&(M||z)){if(v=!0,R)if(M){if(b(),w(),fh("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(R);continue}c.push(R)}else w({type:14,loc:D,callee:t.helper(p6),arguments:r?[R]:[R,"true"]});else t.onError(zn(M?34:35,D));continue}M&&O.some(X=>X.content==="prop")&&(p|=32);const K=t.directiveTransforms[F];if(K){const{props:X,needRuntime:ve}=K(k,e,t);!s&&X.forEach(S),z&&N&&!qs(N)?w(Ja(X,o)):l.push(...X),ve&&(f.push(k),Zs(ve)&&zj.set(k,ve))}else sue(F)||(f.push(k),h&&(d=!0))}}let A;if(c.length?(w(),c.length>1?A=Sr(t.helper(eb),c,o):A=c[0]):l.length&&(A=Ja(rL(l),o)),v?p|=16:(m&&!r&&(p|=2),x&&!r&&(p|=4),E.length&&(p|=8),y&&(p|=32)),!d&&(p===0||p===32)&&(g||_||f.length>0)&&(p|=512),!t.inSSR&&A)switch(A.type){case 15:let C=-1,k=-1,F=!1;for(let D=0;D<A.properties.length;D++){const O=A.properties[D].key;qs(O)?O.content==="class"?C=D:O.content==="style"&&(k=D):O.isHandlerKey||(F=!0)}const N=A.properties[C],R=A.properties[k];F?A=Sr(t.helper(Xx),[A]):(N&&!qs(N.value)&&(N.value=Sr(t.helper(h6),[N.value])),R&&(x||R.value.type===4&&R.value.content.trim()[0]==="["||R.value.type===17)&&(R.value=Sr(t.helper(d6),[R.value])));break;case 14:break;default:A=Sr(t.helper(Xx),[Sr(t.helper(iy),[A])]);break}return{props:A,directives:f,patchFlag:p,dynamicPropNames:E,shouldUseBlock:d}}function rL(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const s=i.key.content,a=t.get(s);a?(s==="style"||s==="class"||md(s))&&she(a,i):(t.set(s,i),n.push(i))}return n}function she(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=ch([e.value,t.value],e.loc)}function ahe(e,t){const n=[],r=zj.get(e);r?n.push(t.helperString(r)):(t.helper(u6),t.directives.add(e.name),n.push(Jx(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const s=Tt("true",!1,i);n.push(Ja(e.modifiers.map(a=>cr(a,s)),i))}return ch(n,e.loc)}function ohe(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function R3(e){return e==="component"||e==="Component"}const uhe=(e,t)=>{if(ib(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:s}=lhe(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let o=2;s&&(a[2]=s,o=3),n.length&&(a[3]=ug([],n,!1,!1,r),o=4),t.scopeId&&!t.slotted&&(o=5),a.splice(o),e.codegenNode=Sr(t.helper(vj),a,r)}};function lhe(e,t){let n='"default"',r;const i=[];for(let s=0;s<e.props.length;s++){const a=e.props[s];if(a.type===6)a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=Ln(a.name),i.push(a)));else if(a.name==="bind"&&Z0(a.arg,"name")){if(a.exp)n=a.exp;else if(a.arg&&a.arg.type===4){const o=Ln(a.arg.content);n=a.exp=Tt(o,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&qs(a.arg)&&(a.arg.content=Ln(a.arg.content)),i.push(a)}if(i.length>0){const{props:s,directives:a}=Wj(e,t,i,!1,!1);r=s,a.length&&t.onError(zn(36,a[0].loc))}return{slotName:n,slotProps:r}}const Hj=(e,t,n,r)=>{const{loc:i,modifiers:s,arg:a}=e;!e.exp&&!s.length&&n.onError(zn(35,i));let o;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const h=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?Mp(Ln(f)):`on:${f}`;o=Tt(h,!0,a.loc)}else o=Vo([`${n.helperString(D3)}(`,a,")"]);else o=a,o.children.unshift(`${n.helperString(D3)}(`),o.children.push(")");let u=e.exp;u&&!u.content.trim()&&(u=void 0);let l=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const f=Aj(u),h=!(f||a0e(u)),d=u.content.includes(";");(h||l&&f)&&(u=Vo([`${h?"$event":"(...args)"} => ${d?"{":"("}`,u,d?"}":")"]))}let c={props:[cr(o,u||Tt("() => {}",!1,i))]};return r&&(c=r(c)),l&&(c.props[0].value=n.cache(c.props[0].value)),c.props.forEach(f=>f.key.isHandlerKey=!0),c},che=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let s=0;s<n.length;s++){const a=n[s];if(kk(a)){i=!0;for(let o=s+1;o<n.length;o++){const u=n[o];if(kk(u))r||(r=n[s]=Vo([a],a.loc)),r.children.push(" + ",u),n.splice(o,1),o--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(s=>s.type===7&&!t.directiveTransforms[s.name])&&e.tag!=="template")))for(let s=0;s<n.length;s++){const a=n[s];if(kk(a)||a.type===8){const o=[];(a.type!==2||a.content!==" ")&&o.push(a),!t.ssr&&ga(a,t)===0&&o.push("1"),n[s]={type:12,content:a,loc:a.loc,codegenNode:Sr(t.helper(s6),o)}}}}},iL=new WeakSet,fhe=(e,t)=>{if(e.type===1&&Ga(e,"once",!0))return iL.has(e)||t.inVOnce||t.inSSR?void 0:(iL.add(e),t.inVOnce=!0,t.helper(tb),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0,!0))})},Vj=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(zn(41,e.loc)),I_();const s=r.loc.source.trim(),a=r.type===4?r.content:s,o=n.bindingMetadata[s];if(o==="props"||o==="props-aliased")return n.onError(zn(44,r.loc)),I_();if(!a.trim()||!Aj(r))return n.onError(zn(42,r.loc)),I_();const u=i||Tt("modelValue",!0),l=i?qs(i)?`onUpdate:${Ln(i.content)}`:Vo(['"onUpdate:" + ',i]):"onUpdate:modelValue";let c;const f=n.isTS?"($event: any)":"$event";c=Vo([`${f} => ((`,r,") = $event)"]);const h=[cr(u,e.exp),cr(l,c)];if(e.modifiers.length&&t.tagType===1){const d=e.modifiers.map(g=>g.content).map(g=>(y6(g)?g:JSON.stringify(g))+": true").join(", "),p=i?qs(i)?`${i.content}Modifiers`:Vo([i,' + "Modifiers"']):"modelModifiers";h.push(cr(p,Tt(`{ ${d} }`,!1,e.loc,2)))}return I_(h)};function I_(e=[]){return{props:e}}const hhe=/[\w).+\-_$\]]/,dhe=(e,t)=>{fh("COMPILER_FILTERS",t)&&(e.type===5?ab(e.content,t):e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&ab(n.exp,t)}))};function ab(e,t){if(e.type===4)sL(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?sL(r,t):r.type===8?ab(e,t):r.type===5&&ab(r.content,t))}}function sL(e,t){const n=e.content;let r=!1,i=!1,s=!1,a=!1,o=0,u=0,l=0,c=0,f,h,d,p,g=[];for(d=0;d<n.length;d++)if(h=f,f=n.charCodeAt(d),r)f===39&&h!==92&&(r=!1);else if(i)f===34&&h!==92&&(i=!1);else if(s)f===96&&h!==92&&(s=!1);else if(a)f===47&&h!==92&&(a=!1);else if(f===124&&n.charCodeAt(d+1)!==124&&n.charCodeAt(d-1)!==124&&!o&&!u&&!l)p===void 0?(c=d+1,p=n.slice(0,d).trim()):m();else{switch(f){case 34:i=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:l++;break;case 41:l--;break;case 91:u++;break;case 93:u--;break;case 123:o++;break;case 125:o--;break}if(f===47){let x=d-1,y;for(;x>=0&&(y=n.charAt(x),y===" ");x--);(!y||!hhe.test(y))&&(a=!0)}}p===void 0?p=n.slice(0,d).trim():c!==0&&m();function m(){g.push(n.slice(c,d).trim()),c=d+1}if(g.length){for(d=0;d<g.length;d++)p=phe(p,g[d],t);e.content=p,e.ast=void 0}}function phe(e,t,n){n.helper(l6);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${Jx(t,"filter")}(${e})`;{const i=t.slice(0,r),s=t.slice(r+1);return n.filters.add(i),`${Jx(i,"filter")}(${e}${s!==")"?","+s:s}`}}const aL=new WeakSet,ghe=(e,t)=>{if(e.type===1){const n=Ga(e,"memo");return!n||aL.has(e)?void 0:(aL.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&x6(r,t),e.codegenNode=Sr(t.helper(m6),[n.exp,ug(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function mhe(e){return[[fhe,q0e,ghe,J0e,dhe,uhe,rhe,ehe,che],{on:Hj,bind:Y0e,model:Vj}]}function xhe(e,t={}){const n=t.onError||v6,r=t.mode==="module";t.prefixIdentifiers===!0?n(zn(47)):r&&n(zn(48));const i=!1;t.cacheHandlers&&n(zn(49)),t.scopeId&&!r&&n(zn(50));const s=Vt({},t,{prefixIdentifiers:i}),a=_t(e)?A0e(e,s):e,[o,u]=mhe();return T0e(a,Vt({},s,{nodeTransforms:[...o,...t.nodeTransforms||[]],directiveTransforms:Vt({},u,t.directiveTransforms||{})})),O0e(a,s)}const vhe=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jj=Symbol(""),Gj=Symbol(""),qj=Symbol(""),Xj=Symbol(""),M3=Symbol(""),Kj=Symbol(""),Yj=Symbol(""),Jj=Symbol(""),Zj=Symbol(""),Qj=Symbol("");Xfe({[jj]:"vModelRadio",[Gj]:"vModelCheckbox",[qj]:"vModelText",[Xj]:"vModelSelect",[M3]:"vModelDynamic",[Kj]:"withModifiers",[Yj]:"withKeys",[Jj]:"vShow",[Zj]:"Transition",[Qj]:"TransitionGroup"});let Jd;function yhe(e,t=!1){return Jd||(Jd=document.createElement("div")),t?(Jd.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Jd.children[0].getAttribute("foo")):(Jd.innerHTML=e,Jd.textContent)}const _he={parseMode:"html",isVoidTag:bue,isNativeTag:e=>yue(e)||_ue(e)||Eue(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:yhe,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Zj;if(e==="TransitionGroup"||e==="transition-group")return Qj},getNamespace(e,t,n){let r=t?t.ns:n;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},Ehe=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Tt("style",!0,t.loc),exp:bhe(t.value.content,t.loc),modifiers:[],loc:t.loc})})},bhe=(e,t)=>{const n=hH(e);return Tt(JSON.stringify(n),!1,t,3)};function yf(e,t){return zn(e,t)}const whe=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(yf(53,i)),t.children.length&&(n.onError(yf(54,i)),t.children.length=0),{props:[cr(Tt("innerHTML",!0,i),r||Tt("",!0))]}},Ahe=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(yf(55,i)),t.children.length&&(n.onError(yf(56,i)),t.children.length=0),{props:[cr(Tt("textContent",!0),r?ga(r,n)>0?r:Sr(n.helperString(wA),[r],i):Tt("",!0))]}},She=(e,t,n)=>{const r=Vj(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(yf(58,e.arg.loc));const{tag:i}=t,s=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let a=qj,o=!1;if(i==="input"||s){const u=AA(t,"type");if(u){if(u.type===7)a=M3;else if(u.value)switch(u.value.content){case"radio":a=jj;break;case"checkbox":a=Gj;break;case"file":o=!0,n.onError(yf(59,e.loc));break}}else o0e(t)&&(a=M3)}else i==="select"&&(a=Xj);o||(r.needRuntime=n.helper(a))}else n.onError(yf(57,e.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},Che=Ia("passive,once,capture"),khe=Ia("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),The=Ia("left,right"),eG=Ia("onkeyup,onkeydown,onkeypress"),Fhe=(e,t,n,r)=>{const i=[],s=[],a=[];for(let o=0;o<t.length;o++){const u=t[o].content;u==="native"&&Yx("COMPILER_V_ON_NATIVE",n)||Che(u)?a.push(u):The(u)?qs(e)?eG(e.content.toLowerCase())?i.push(u):s.push(u):(i.push(u),s.push(u)):khe(u)?s.push(u):i.push(u)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:a}},oL=(e,t)=>qs(e)&&e.content.toLowerCase()==="onclick"?Tt(t,!0):e.type!==4?Vo(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Dhe=(e,t,n)=>Hj(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:s,value:a}=r.props[0];const{keyModifiers:o,nonKeyModifiers:u,eventOptionModifiers:l}=Fhe(s,i,n,e.loc);if(u.includes("right")&&(s=oL(s,"onContextmenu")),u.includes("middle")&&(s=oL(s,"onMouseup")),u.length&&(a=Sr(n.helper(Kj),[a,JSON.stringify(u)])),o.length&&(!qs(s)||eG(s.content.toLowerCase()))&&(a=Sr(n.helper(Yj),[a,JSON.stringify(o)])),l.length){const c=l.map(vd).join("");s=qs(s)?Tt(`${s.content}${c}`,!0):Vo(["(",s,`) + "${c}"`])}return{props:[cr(s,a)]}}),Nhe=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(yf(61,i)),{props:[],needRuntime:n.helper(Jj)}},Ohe=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},$he=[Ehe],Ihe={cloak:vhe,html:whe,text:Ahe,model:She,on:Dhe,show:Nhe};function Rhe(e,t={}){return xhe(e,Vt({},_he,t,{nodeTransforms:[Ohe,...$he,...t.nodeTransforms||[]],directiveTransforms:Vt({},Ihe,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const uL=Object.create(null);function Mhe(e,t){if(!_t(e))if(e.nodeType)e=e.innerHTML;else return hi;const n=uue(e,t),r=uL[n];if(r)return r;if(e[0]==="#"){const o=document.querySelector(e);e=o?o.innerHTML:""}const i=Vt({hoistStatic:!0,onError:void 0,onWarn:hi},t);!i.isCustomElement&&typeof customElements<"u"&&(i.isCustomElement=o=>!!customElements.get(o));const{code:s}=Rhe(e,i),a=new Function("Vue",s)(Wfe);return a._rc=!0,uL[n]=a}WV(Mhe);/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let tG;const kA=e=>tG=e,nG=Symbol();function L3(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ax;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ax||(ax={}));function rG(){const e=RN(!0),t=e.run(()=>oi({}));let n=[],r=[];const i=hA({install(s){kA(i),i._a=s,s.provide(nG,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const iG=()=>{};function lL(e,t,n,r=iG){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&MN()&&mH(i),i}function Zd(e,...t){e.slice().forEach(n=>{n(...t)})}const Lhe=e=>e(),cL=Symbol(),Fk=Symbol();function P3(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];L3(i)&&L3(r)&&e.hasOwnProperty(n)&&!Kn(r)&&!Ru(r)?e[n]=P3(i,r):e[n]=r}return e}const Phe=Symbol();function Bhe(e){return!L3(e)||!e.hasOwnProperty(Phe)}const{assign:Vc}=Object;function Uhe(e){return!!(Kn(e)&&e.effect)}function zhe(e,t,n,r){const{state:i,actions:s,getters:a}=t,o=n.state.value[e];let u;function l(){o||(n.state.value[e]=i?i():{});const c=MH(n.state.value[e]);return Vc(c,s,Object.keys(a||{}).reduce((f,h)=>(f[h]=hA(Yl(()=>{kA(n);const d=n._s.get(e);return a[h].call(d,d)})),f),{}))}return u=sG(e,l,t,n,r,!0),u}function sG(e,t,n={},r,i,s){let a;const o=Vc({actions:{}},n),u={deep:!0};let l,c,f=[],h=[],d;const p=r.state.value[e];!s&&!p&&(r.state.value[e]={}),oi({});let g;function m(S){let A;l=c=!1,typeof S=="function"?(S(r.state.value[e]),A={type:ax.patchFunction,storeId:e,events:d}):(P3(r.state.value[e],S),A={type:ax.patchObject,payload:S,storeId:e,events:d});const C=g=Symbol();Fh().then(()=>{g===C&&(l=!0)}),c=!0,Zd(f,A,r.state.value[e])}const x=s?function(){const{state:A}=n,C=A?A():{};this.$patch(k=>{Vc(k,C)})}:iG;function y(){a.stop(),f=[],h=[],r._s.delete(e)}const v=(S,A="")=>{if(cL in S)return S[Fk]=A,S;const C=function(){kA(r);const k=Array.from(arguments),F=[],N=[];function R(M){F.push(M)}function D(M){N.push(M)}Zd(h,{args:k,name:C[Fk],store:E,after:R,onError:D});let O;try{O=S.apply(this&&this.$id===e?this:E,k)}catch(M){throw Zd(N,M),M}return O instanceof Promise?O.then(M=>(Zd(F,M),M)).catch(M=>(Zd(N,M),Promise.reject(M))):(Zd(F,O),O)};return C[cL]=!0,C[Fk]=A,C},_={_p:r,$id:e,$onAction:lL.bind(null,h),$patch:m,$reset:x,$subscribe(S,A={}){const C=lL(f,S,A.detached,()=>k()),k=a.run(()=>Gs(()=>r.state.value[e],F=>{(A.flush==="sync"?c:l)&&S({storeId:e,type:ax.direct,events:d},F)},Vc({},u,A)));return C},$dispose:y},E=sa(_);r._s.set(e,E);const b=(r._a&&r._a.runWithContext||Lhe)(()=>r._e.run(()=>(a=RN()).run(()=>t({action:v}))));for(const S in b){const A=b[S];if(Kn(A)&&!Uhe(A)||Ru(A))s||(p&&Bhe(A)&&(Kn(A)?A.value=p[S]:P3(A,p[S])),r.state.value[e][S]=A);else if(typeof A=="function"){const C=v(A,S);b[S]=C,o.actions[S]=A}}return Vc(E,b),Vc(Gt(E),b),Object.defineProperty(E,"$state",{get:()=>r.state.value[e],set:S=>{m(A=>{Vc(A,S)})}}),r._p.forEach(S=>{Vc(E,a.run(()=>S({store:E,app:r._a,pinia:r,options:o})))}),p&&s&&n.hydrate&&n.hydrate(E.$state,p),l=!0,c=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Whe(e,t,n){let r;const i=typeof t=="function";r=i?n:t;function s(a,o){const u=fV();return a=a||(u?uh(nG,null):null),a&&kA(a),a=tG,a._s.has(e)||(i?sG(e,t,r,a):zhe(e,r,a)),a._s.get(e)}return s.$id=e,s}function Zl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hhe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s1(e){let t,n,r;e.length!==2?(t=Zl,n=(o,u)=>Zl(e(o),u),r=(o,u)=>e(o)-u):(t=e===Zl||e===Hhe?e:Vhe,n=e,r=e);function i(o,u,l=0,c=o.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(o[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(o,u,l=0,c=o.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(o[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function a(o,u,l=0,c=o.length){const f=i(o,u,l,c-1);return f>l&&r(o[f-1],u)>-r(o[f],u)?f-1:f}return{left:i,center:a,right:s}}function Vhe(){return 0}function aG(e){return e===null?NaN:+e}function*jhe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const oG=s1(Zl),Df=oG.right,Ghe=oG.left;s1(aG).center;function qhe(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i))}if(n>1)return s/(n-1)}function Xhe(e,t){const n=qhe(e,t);return n&&Math.sqrt(n)}class _s{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=t+s,o=Math.abs(t)<Math.abs(s)?t-(a-s):s-(a-t);o&&(n[r++]=o),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}class fL extends Map{constructor(t,n=cG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(B3(this,t))}has(t){return super.has(B3(this,t))}set(t,n){return super.set(uG(this,t),n)}delete(t){return super.delete(lG(this,t))}}class ob extends Set{constructor(t,n=cG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(B3(this,t))}add(t){return super.add(uG(this,t))}delete(t){return super.delete(lG(this,t))}}function B3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uG({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lG({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function cG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Khe(e,t){return Array.from(t,n=>e[n])}function Yhe(e=Zl){if(e===Zl)return fG;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function fG(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Jhe=Math.sqrt(50),Zhe=Math.sqrt(10),Qhe=Math.sqrt(2);function ub(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Jhe?10:s>=Zhe?5:s>=Qhe?2:1;let o,u,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(e*l),u=Math.round(t*l),o/l<e&&++o,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*a,o=Math.round(e/l),u=Math.round(t/l),o*l<e&&++o,u*l>t&&--u),u<o&&.5<=n&&n<2?ub(e,t,n*2):[o,u,l]}function U3(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?ub(t,e,n):ub(e,t,n);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(r)if(a<0)for(let l=0;l<o;++l)u[l]=(s-l)/-a;else for(let l=0;l<o;++l)u[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)u[l]=(i+l)/-a;else for(let l=0;l<o;++l)u[l]=(i+l)*a;return u}function z3(e,t,n){return t=+t,e=+e,n=+n,ub(e,t,n)[2]}function Nf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?z3(t,e,n):z3(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function hh(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function W3(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function hG(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?fG:Yhe(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),d=Math.max(n,Math.floor(t-l*f/u+h)),p=Math.min(r,Math.floor(t+(u-l)*f/u+h));hG(e,t,d,p,i)}const s=e[t];let a=n,o=r;for(q1(e,n,t),i(e[r],s)>0&&q1(e,n,r);a<o;){for(q1(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[n],s)===0?q1(e,n,o):(++o,q1(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function q1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function H3(e,t,n){if(e=Float64Array.from(jhe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return W3(e);if(t>=1)return hh(e);var r,i=(r-1)*t,s=Math.floor(i),a=hh(hG(e,s).subarray(0,s+1)),o=W3(e.subarray(s+1));return a+(o-a)*(i-s)}}function dG(e,t,n=aG){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),o=+n(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function W0(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function pG(e,t){return H3(e,.5,t)}function*ede(e){for(const t of e)yield*t}function gG(e){return Array.from(ede(e))}function ma(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function mG(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function tde(e,...t){e=new ob(e),t=t.map(nde);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function nde(e){return e instanceof ob?e:new ob(e)}function rde(...e){const t=new ob;for(const n of e)for(const r of n)t.add(r);return t}var ide={value:()=>{}};function b6(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new eE(n)}function eE(e){this._=e}function sde(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}eE.prototype=b6.prototype={constructor:eE,on:function(e,t){var n=this._,r=sde(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=ade(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=hL(n[i],e.name,t);else if(t==null)for(i in n)n[i]=hL(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new eE(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function ade(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function hL(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ide,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var V3="http://www.w3.org/1999/xhtml";const dL={svg:"http://www.w3.org/2000/svg",xhtml:V3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function TA(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),dL.hasOwnProperty(t)?{space:dL[t],local:e}:e}function ode(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===V3&&t.documentElement.namespaceURI===V3?t.createElement(e):t.createElementNS(n,e)}}function ude(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xG(e){var t=TA(e);return(t.local?ude:ode)(t)}function lde(){}function w6(e){return e==null?lde:function(){return this.querySelector(e)}}function cde(e){typeof e!="function"&&(e=w6(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),o[c]=l);return new As(r,this._parents)}function vG(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function fde(){return[]}function yG(e){return e==null?fde:function(){return this.querySelectorAll(e)}}function hde(e){return function(){return vG(e.apply(this,arguments))}}function dde(e){typeof e=="function"?e=hde(e):e=yG(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],o=a.length,u,l=0;l<o;++l)(u=a[l])&&(r.push(e.call(u,u.__data__,l,a)),i.push(u));return new As(r,i)}function _G(e){return function(){return this.matches(e)}}function EG(e){return function(t){return t.matches(e)}}var pde=Array.prototype.find;function gde(e){return function(){return pde.call(this.children,e)}}function mde(){return this.firstElementChild}function xde(e){return this.select(e==null?mde:gde(typeof e=="function"?e:EG(e)))}var vde=Array.prototype.filter;function yde(){return Array.from(this.children)}function _de(e){return function(){return vde.call(this.children,e)}}function Ede(e){return this.selectAll(e==null?yde:_de(typeof e=="function"?e:EG(e)))}function bde(e){typeof e!="function"&&(e=_G(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],u,l=0;l<a;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&o.push(u);return new As(r,this._parents)}function bG(e){return new Array(e.length)}function wde(){return new As(this._enter||this._groups.map(bG),this._parents)}function lb(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}lb.prototype={constructor:lb,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ade(e){return function(){return e}}function Sde(e,t,n,r,i,s){for(var a=0,o,u=t.length,l=s.length;a<l;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new lb(e,s[a]);for(;a<u;++a)(o=t[a])&&(i[a]=o)}function Cde(e,t,n,r,i,s,a){var o,u,l=new Map,c=t.length,f=s.length,h=new Array(c),d;for(o=0;o<c;++o)(u=t[o])&&(h[o]=d=a.call(u,u.__data__,o,t)+"",l.has(d)?i[o]=u:l.set(d,u));for(o=0;o<f;++o)d=a.call(e,s[o],o,s)+"",(u=l.get(d))?(r[o]=u,u.__data__=s[o],l.delete(d)):n[o]=new lb(e,s[o]);for(o=0;o<c;++o)(u=t[o])&&l.get(h[o])===u&&(i[o]=u)}function kde(e){return e.__data__}function Tde(e,t){if(!arguments.length)return Array.from(this,kde);var n=t?Cde:Sde,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ade(e));for(var s=i.length,a=new Array(s),o=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],h=f.length,d=Fde(e.call(c,c&&c.__data__,l,r)),p=d.length,g=o[l]=new Array(p),m=a[l]=new Array(p),x=u[l]=new Array(h);n(c,f,g,m,x,d,t);for(var y=0,v=0,_,E;y<p;++y)if(_=g[y]){for(y>=v&&(v=y+1);!(E=m[v])&&++v<p;);_._next=E||null}}return a=new As(a,r),a._enter=o,a._exit=u,a}function Fde(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Dde(){return new As(this._exit||this._groups.map(bG),this._parents)}function Nde(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Ode(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],f=l.length,h=o[u]=new Array(f),d,p=0;p<f;++p)(d=l[p]||c[p])&&(h[p]=d);for(;u<i;++u)o[u]=n[u];return new As(o,this._parents)}function $de(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Ide(e){e||(e=Rde);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,u=i[s]=new Array(o),l,c=0;c<o;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new As(i,this._parents).order()}function Rde(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Mde(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lde(){return Array.from(this)}function Pde(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Bde(){let e=0;for(const t of this)++e;return e}function Ude(){return!this.node()}function zde(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function Wde(e){return function(){this.removeAttribute(e)}}function Hde(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vde(e,t){return function(){this.setAttribute(e,t)}}function jde(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Gde(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function qde(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xde(e,t){var n=TA(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Hde:Wde:typeof t=="function"?n.local?qde:Gde:n.local?jde:Vde)(n,t))}function wG(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Kde(e){return function(){this.style.removeProperty(e)}}function Yde(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Jde(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Zde(e,t,n){return arguments.length>1?this.each((t==null?Kde:typeof t=="function"?Jde:Yde)(e,t,n??"")):fg(this.node(),e)}function fg(e,t){return e.style.getPropertyValue(t)||wG(e).getComputedStyle(e,null).getPropertyValue(t)}function Qde(e){return function(){delete this[e]}}function epe(e,t){return function(){this[e]=t}}function tpe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function npe(e,t){return arguments.length>1?this.each((t==null?Qde:typeof t=="function"?tpe:epe)(e,t)):this.node()[e]}function AG(e){return e.trim().split(/^|\s+/)}function A6(e){return e.classList||new SG(e)}function SG(e){this._node=e,this._names=AG(e.getAttribute("class")||"")}SG.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function CG(e,t){for(var n=A6(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function kG(e,t){for(var n=A6(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function rpe(e){return function(){CG(this,e)}}function ipe(e){return function(){kG(this,e)}}function spe(e,t){return function(){(t.apply(this,arguments)?CG:kG)(this,e)}}function ape(e,t){var n=AG(e+"");if(arguments.length<2){for(var r=A6(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?spe:t?rpe:ipe)(n,t))}function ope(){this.textContent=""}function upe(e){return function(){this.textContent=e}}function lpe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function cpe(e){return arguments.length?this.each(e==null?ope:(typeof e=="function"?lpe:upe)(e)):this.node().textContent}function fpe(){this.innerHTML=""}function hpe(e){return function(){this.innerHTML=e}}function dpe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ppe(e){return arguments.length?this.each(e==null?fpe:(typeof e=="function"?dpe:hpe)(e)):this.node().innerHTML}function gpe(){this.nextSibling&&this.parentNode.appendChild(this)}function mpe(){return this.each(gpe)}function xpe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vpe(){return this.each(xpe)}function ype(e){var t=typeof e=="function"?e:xG(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _pe(){return null}function Epe(e,t){var n=typeof e=="function"?e:xG(e),r=t==null?_pe:typeof t=="function"?t:w6(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bpe(){var e=this.parentNode;e&&e.removeChild(this)}function wpe(){return this.each(bpe)}function Ape(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Spe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cpe(e){return this.select(e?Spe:Ape)}function kpe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Tpe(e){return function(t){e.call(this,t,this.__data__)}}function Fpe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Dpe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Npe(e,t,n){return function(){var r=this.__on,i,s=Tpe(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ope(e,t,n){var r=Fpe(e+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,l=o.length,c;u<l;++u)for(i=0,c=o[u];i<s;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=t?Npe:Dpe,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function TG(e,t,n){var r=wG(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $pe(e,t){return function(){return TG(this,e,t)}}function Ipe(e,t){return function(){return TG(this,e,t.apply(this,arguments))}}function Rpe(e,t){return this.each((typeof t=="function"?Ipe:$pe)(e,t))}function*Mpe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var S6=[null];function As(e,t){this._groups=e,this._parents=t}function ay(){return new As([[document.documentElement]],S6)}function Lpe(){return this}As.prototype=ay.prototype={constructor:As,select:cde,selectAll:dde,selectChild:xde,selectChildren:Ede,filter:bde,data:Tde,enter:wde,exit:Dde,join:Nde,merge:Ode,selection:Lpe,order:$de,sort:Ide,call:Mde,nodes:Lde,node:Pde,size:Bde,empty:Ude,each:zde,attr:Xde,style:Zde,property:npe,classed:ape,text:cpe,html:ppe,raise:mpe,lower:vpe,append:ype,insert:Epe,remove:wpe,clone:Cpe,datum:kpe,on:Ope,dispatch:Rpe,[Symbol.iterator]:Mpe};function k0(e){return typeof e=="string"?new As([[document.querySelector(e)]],[document.documentElement]):new As([[e]],S6)}function Ppe(e){return typeof e=="string"?new As([document.querySelectorAll(e)],[document.documentElement]):new As([vG(e)],S6)}function a1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function oy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function n0(){}var Rh=.7,hg=1/Rh,Up="\\s*([+-]?\\d+)\\s*",Qx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bpe=/^#([0-9a-f]{3,8})$/,Upe=new RegExp(`^rgb\\(${Up},${Up},${Up}\\)$`),zpe=new RegExp(`^rgb\\(${Mu},${Mu},${Mu}\\)$`),Wpe=new RegExp(`^rgba\\(${Up},${Up},${Up},${Qx}\\)$`),Hpe=new RegExp(`^rgba\\(${Mu},${Mu},${Mu},${Qx}\\)$`),Vpe=new RegExp(`^hsl\\(${Qx},${Mu},${Mu}\\)$`),jpe=new RegExp(`^hsla\\(${Qx},${Mu},${Mu},${Qx}\\)$`),pL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a1(n0,Mh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gL,formatHex:gL,formatHex8:Gpe,formatHsl:qpe,formatRgb:mL,toString:mL});function gL(){return this.rgb().formatHex()}function Gpe(){return this.rgb().formatHex8()}function qpe(){return FG(this).formatHsl()}function mL(){return this.rgb().formatRgb()}function Mh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bpe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xL(t):n===3?new zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?R_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?R_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Upe.exec(e))?new zr(t[1],t[2],t[3],1):(t=zpe.exec(e))?new zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wpe.exec(e))?R_(t[1],t[2],t[3],t[4]):(t=Hpe.exec(e))?R_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Vpe.exec(e))?_L(t[1],t[2]/100,t[3]/100,1):(t=jpe.exec(e))?_L(t[1],t[2]/100,t[3]/100,t[4]):pL.hasOwnProperty(e)?xL(pL[e]):e==="transparent"?new zr(NaN,NaN,NaN,0):null}function xL(e){return new zr(e>>16&255,e>>8&255,e&255,1)}function R_(e,t,n,r){return r<=0&&(e=t=n=NaN),new zr(e,t,n,r)}function C6(e){return e instanceof n0||(e=Mh(e)),e?(e=e.rgb(),new zr(e.r,e.g,e.b,e.opacity)):new zr}function Of(e,t,n,r){return arguments.length===1?C6(e):new zr(e,t,n,r??1)}function zr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}a1(zr,Of,oy(n0,{brighter(e){return e=e==null?hg:Math.pow(hg,e),new zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rh:Math.pow(Rh,e),new zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zr(dh(this.r),dh(this.g),dh(this.b),cb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vL,formatHex:vL,formatHex8:Xpe,formatRgb:yL,toString:yL}));function vL(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}`}function Xpe(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}${eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function yL(){const e=cb(this.opacity);return`${e===1?"rgb(":"rgba("}${dh(this.r)}, ${dh(this.g)}, ${dh(this.b)}${e===1?")":`, ${e})`}`}function cb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eh(e){return e=dh(e),(e<16?"0":"")+e.toString(16)}function _L(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ro(e,t,n,r)}function FG(e){if(e instanceof Ro)return new Ro(e.h,e.s,e.l,e.opacity);if(e instanceof n0||(e=Mh(e)),!e)return new Ro;if(e instanceof Ro)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,u=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new Ro(a,o,u,e.opacity)}function fb(e,t,n,r){return arguments.length===1?FG(e):new Ro(e,t,n,r??1)}function Ro(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}a1(Ro,fb,oy(n0,{brighter(e){return e=e==null?hg:Math.pow(hg,e),new Ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rh:Math.pow(Rh,e),new Ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zr(Dk(e>=240?e-240:e+120,i,r),Dk(e,i,r),Dk(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ro(EL(this.h),M_(this.s),M_(this.l),cb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cb(this.opacity);return`${e===1?"hsl(":"hsla("}${EL(this.h)}, ${M_(this.s)*100}%, ${M_(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EL(e){return e=(e||0)%360,e<0?e+360:e}function M_(e){return Math.max(0,Math.min(1,e||0))}function Dk(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const DG=Math.PI/180,NG=180/Math.PI,hb=18,OG=.96422,$G=1,IG=.82521,RG=4/29,zp=6/29,MG=3*zp*zp,Kpe=zp*zp*zp;function LG(e){if(e instanceof Lu)return new Lu(e.l,e.a,e.b,e.opacity);if(e instanceof Wl)return PG(e);e instanceof zr||(e=C6(e));var t=Ik(e.r),n=Ik(e.g),r=Ik(e.b),i=Nk((.2225045*t+.7168786*n+.0606169*r)/$G),s,a;return t===n&&n===r?s=a=i:(s=Nk((.4360747*t+.3850649*n+.1430804*r)/OG),a=Nk((.0139322*t+.0971045*n+.7141733*r)/IG)),new Lu(116*i-16,500*(s-i),200*(i-a),e.opacity)}function db(e,t,n,r){return arguments.length===1?LG(e):new Lu(e,t,n,r??1)}function Lu(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}a1(Lu,db,oy(n0,{brighter(e){return new Lu(this.l+hb*(e??1),this.a,this.b,this.opacity)},darker(e){return new Lu(this.l-hb*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=OG*Ok(t),e=$G*Ok(e),n=IG*Ok(n),new zr($k(3.1338561*t-1.6168667*e-.4906146*n),$k(-.9787684*t+1.9161415*e+.033454*n),$k(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Nk(e){return e>Kpe?Math.pow(e,1/3):e/MG+RG}function Ok(e){return e>zp?e*e*e:MG*(e-RG)}function $k(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ik(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ype(e){if(e instanceof Wl)return new Wl(e.h,e.c,e.l,e.opacity);if(e instanceof Lu||(e=LG(e)),e.a===0&&e.b===0)return new Wl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*NG;return new Wl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function pb(e,t,n,r){return arguments.length===1?Ype(e):new Wl(e,t,n,r??1)}function Wl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function PG(e){if(isNaN(e.h))return new Lu(e.l,0,0,e.opacity);var t=e.h*DG;return new Lu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}a1(Wl,pb,oy(n0,{brighter(e){return new Wl(this.h,this.c,this.l+hb*(e??1),this.opacity)},darker(e){return new Wl(this.h,this.c,this.l-hb*(e??1),this.opacity)},rgb(){return PG(this).rgb()}}));var BG=-.14861,k6=1.78277,T6=-.29227,FA=-.90649,ev=1.97294,bL=ev*FA,wL=ev*k6,AL=k6*T6-FA*BG;function Jpe(e){if(e instanceof ph)return new ph(e.h,e.s,e.l,e.opacity);e instanceof zr||(e=C6(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(AL*r+bL*t-wL*n)/(AL+bL-wL),s=r-i,a=(ev*(n-i)-T6*s)/FA,o=Math.sqrt(a*a+s*s)/(ev*i*(1-i)),u=o?Math.atan2(a,s)*NG-120:NaN;return new ph(u<0?u+360:u,o,i,e.opacity)}function j3(e,t,n,r){return arguments.length===1?Jpe(e):new ph(e,t,n,r??1)}function ph(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}a1(ph,j3,oy(n0,{brighter(e){return e=e==null?hg:Math.pow(hg,e),new ph(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rh:Math.pow(Rh,e),new ph(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*DG,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new zr(255*(t+n*(BG*r+k6*i)),255*(t+n*(T6*r+FA*i)),255*(t+n*(ev*r)),this.opacity)}}));function UG(e,t,n,r,i){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*n+(1+3*e+3*s-3*a)*r+a*i)/6}function zG(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],a=r>0?e[r-1]:2*i-s,o=r<t-1?e[r+2]:2*s-i;return UG((n-r/t)*t,a,i,s,o)}}function WG(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],a=e[(r+1)%t],o=e[(r+2)%t];return UG((n-r/t)*t,i,s,a,o)}}const DA=e=>()=>e;function HG(e,t){return function(n){return e+n*t}}function Zpe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function NA(e,t){var n=t-e;return n?HG(e,n>180||n<-180?n-360*Math.round(n/360):n):DA(isNaN(e)?t:e)}function Qpe(e){return(e=+e)==1?Wr:function(t,n){return n-t?Zpe(t,n,e):DA(isNaN(t)?n:t)}}function Wr(e,t){var n=t-e;return n?HG(e,n):DA(isNaN(e)?t:e)}const tv=function e(t){var n=Qpe(t);function r(i,s){var a=n((i=Of(i)).r,(s=Of(s)).r),o=n(i.g,s.g),u=n(i.b,s.b),l=Wr(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function VG(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),a,o;for(a=0;a<n;++a)o=Of(t[a]),r[a]=o.r||0,i[a]=o.g||0,s[a]=o.b||0;return r=e(r),i=e(i),s=e(s),o.opacity=1,function(u){return o.r=r(u),o.g=i(u),o.b=s(u),o+""}}}var ege=VG(zG),tge=VG(WG);function F6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function jG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nge(e,t){return(jG(t)?F6:GG)(e,t)}function GG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=r0(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function qG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function qa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function XG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=r0(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var G3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rk=new RegExp(G3.source,"g");function rge(e){return function(){return e}}function ige(e){return function(t){return e(t)+""}}function D6(e,t){var n=G3.lastIndex=Rk.lastIndex=0,r,i,s,a=-1,o=[],u=[];for(e=e+"",t=t+"";(r=G3.exec(e))&&(i=Rk.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:qa(r,i)})),n=Rk.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?ige(u[0].x):rge(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)o[(f=u[c]).i]=f.x(l);return o.join("")})}function r0(e,t){var n=typeof t,r;return t==null||n==="boolean"?DA(t):(n==="number"?qa:n==="string"?(r=Mh(t))?(t=r,tv):D6:t instanceof Mh?tv:t instanceof Date?qG:jG(t)?F6:Array.isArray(t)?GG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XG:qa)(e,t)}function sge(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function age(e,t){var n=NA(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function uy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var SL=180/Math.PI,q3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KG(e,t,n,r,i,s){var a,o,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*SL,skewX:Math.atan(u)*SL,scaleX:a,scaleY:o}}var L_;function oge(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?q3:KG(t.a,t.b,t.c,t.d,t.e,t.f)}function uge(e){return e==null||(L_||(L_=document.createElementNS("http://www.w3.org/2000/svg","g")),L_.setAttribute("transform",e),!(e=L_.transform.baseVal.consolidate()))?q3:(e=e.matrix,KG(e.a,e.b,e.c,e.d,e.e,e.f))}function YG(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,h,d,p){if(l!==f||c!==h){var g=d.push("translate(",null,t,null,n);p.push({i:g-4,x:qa(l,f)},{i:g-2,x:qa(c,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function a(l,c,f,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:qa(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(l,c,f,h){l!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:qa(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,h,d,p){if(l!==f||c!==h){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:qa(l,f)},{i:g-2,x:qa(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(l,c){var f=[],h=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,h),a(l.rotate,c.rotate,f,h),o(l.skewX,c.skewX,f,h),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,h),l=c=null,function(d){for(var p=-1,g=h.length,m;++p<g;)f[(m=h[p]).i]=m.x(d);return f.join("")}}}var JG=YG(oge,"px, ","px)","deg)"),ZG=YG(uge,", ",")",")"),lge=1e-12;function CL(e){return((e=Math.exp(e))+1/e)/2}function cge(e){return((e=Math.exp(e))-1/e)/2}function fge(e){return((e=Math.exp(2*e))-1)/(e+1)}const hge=function e(t,n,r){function i(s,a){var o=s[0],u=s[1],l=s[2],c=a[0],f=a[1],h=a[2],d=c-o,p=f-u,g=d*d+p*p,m,x;if(g<lge)x=Math.log(h/l)/t,m=function(b){return[o+b*d,u+b*p,l*Math.exp(t*b*x)]};else{var y=Math.sqrt(g),v=(h*h-l*l+r*g)/(2*l*n*y),_=(h*h-l*l-r*g)/(2*h*n*y),E=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(_*_+1)-_);x=(w-E)/t,m=function(b){var S=b*x,A=CL(E),C=l/(n*y)*(A*fge(t*S+E)-cge(E));return[o+C*d,u+C*p,l*A/CL(t*S+E)]}}return m.duration=x*1e3*t/Math.SQRT2,m}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,u=o*o;return e(a,o,u)},i}(Math.SQRT2,2,4);function QG(e){return function(t,n){var r=e((t=fb(t)).h,(n=fb(n)).h),i=Wr(t.s,n.s),s=Wr(t.l,n.l),a=Wr(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=s(o),t.opacity=a(o),t+""}}}const dge=QG(NA);var pge=QG(Wr);function gge(e,t){var n=Wr((e=db(e)).l,(t=db(t)).l),r=Wr(e.a,t.a),i=Wr(e.b,t.b),s=Wr(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=s(a),e+""}}function eq(e){return function(t,n){var r=e((t=pb(t)).h,(n=pb(n)).h),i=Wr(t.c,n.c),s=Wr(t.l,n.l),a=Wr(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=s(o),t.opacity=a(o),t+""}}}const mge=eq(NA);var xge=eq(Wr);function tq(e){return function t(n){n=+n;function r(i,s){var a=e((i=j3(i)).h,(s=j3(s)).h),o=Wr(i.s,s.s),u=Wr(i.l,s.l),l=Wr(i.opacity,s.opacity);return function(c){return i.h=a(c),i.s=o(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}const vge=tq(NA);var yge=tq(Wr);function N6(e,t){t===void 0&&(t=e,e=r0);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function _ge(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Ege=Object.freeze(Object.defineProperty({__proto__:null,interpolate:r0,interpolateArray:nge,interpolateBasis:zG,interpolateBasisClosed:WG,interpolateCubehelix:vge,interpolateCubehelixLong:yge,interpolateDate:qG,interpolateDiscrete:sge,interpolateHcl:mge,interpolateHclLong:xge,interpolateHsl:dge,interpolateHslLong:pge,interpolateHue:age,interpolateLab:gge,interpolateNumber:qa,interpolateNumberArray:F6,interpolateObject:XG,interpolateRgb:tv,interpolateRgbBasis:ege,interpolateRgbBasisClosed:tge,interpolateRound:uy,interpolateString:D6,interpolateTransformCss:JG,interpolateTransformSvg:ZG,interpolateZoom:hge,piecewise:N6,quantize:_ge},Symbol.toStringTag,{value:"Module"}));var dg=0,Sm=0,X1=0,nq=1e3,gb,Cm,mb=0,Lh=0,OA=0,nv=typeof performance=="object"&&performance.now?performance:Date,rq=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $A(){return Lh||(rq(bge),Lh=nv.now()+OA)}function bge(){Lh=0}function rv(){this._call=this._time=this._next=null}rv.prototype=O6.prototype={constructor:rv,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$A():+n)+(t==null?0:+t),!this._next&&Cm!==this&&(Cm?Cm._next=this:gb=this,Cm=this),this._call=e,this._time=n,X3()},stop:function(){this._call&&(this._call=null,this._time=1/0,X3())}};function O6(e,t,n){var r=new rv;return r.restart(e,t,n),r}function wge(){$A(),++dg;for(var e=gb,t;e;)(t=Lh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dg}function kL(){Lh=(mb=nv.now())+OA,dg=Sm=0;try{wge()}finally{dg=0,Sge(),Lh=0}}function Age(){var e=nv.now(),t=e-mb;t>nq&&(OA-=t,mb=e)}function Sge(){for(var e,t=gb,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:gb=n);Cm=e,X3(r)}function X3(e){if(!dg){Sm&&(Sm=clearTimeout(Sm));var t=e-Lh;t>24?(e<1/0&&(Sm=setTimeout(kL,e-nv.now()-OA)),X1&&(X1=clearInterval(X1))):(X1||(mb=nv.now(),X1=setInterval(Age,nq)),dg=1,rq(kL))}}function TL(e,t,n){var r=new rv;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function Cge(e,t,n){var r=new rv,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,a,o){a=+a,o=o==null?$A():+o,r._restart(function u(l){l+=i,r._restart(u,i+=a,o),s(l)},a,o)},r.restart(e,t,n),r)}var kge=b6("start","end","cancel","interrupt"),Tge=[],iq=0,FL=1,K3=2,tE=3,DL=4,Y3=5,nE=6;function IA(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Fge(e,n,{name:t,index:r,group:i,on:kge,tween:Tge,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:iq})}function $6(e,t){var n=tu(e,t);if(n.state>iq)throw new Error("too late; already scheduled");return n}function nl(e,t){var n=tu(e,t);if(n.state>tE)throw new Error("too late; already running");return n}function tu(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Fge(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=O6(s,0,n.time);function s(l){n.state=FL,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,f,h,d;if(n.state!==FL)return u();for(c in r)if(d=r[c],d.name===n.name){if(d.state===tE)return TL(a);d.state===DL?(d.state=nE,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=nE,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(TL(function(){n.state===tE&&(n.state=DL,n.timer.restart(o,n.delay,n.time),o(l))}),n.state=K3,n.on.call("start",e,e.__data__,n.index,n.group),n.state===K3){for(n.state=tE,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function o(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Y3,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===Y3&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=nE,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Dge(e,t){var n=e.__transition,r,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>K3&&r.state<Y3,r.state=nE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function Nge(e){return this.each(function(){Dge(this,e)})}function Oge(e,t){var n,r;return function(){var i=nl(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function $ge(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=nl(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=o;break}u===l&&i.push(o)}s.tween=i}}function Ige(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=tu(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Oge:$ge)(n,e,t))}function I6(e,t,n){var r=e._id;return e.each(function(){var i=nl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return tu(i,r).value[t]}}function sq(e,t){var n;return(typeof t=="number"?qa:t instanceof Mh?tv:(n=Mh(t))?(t=n,tv):D6)(e,t)}function Rge(e){return function(){this.removeAttribute(e)}}function Mge(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lge(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function Pge(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function Bge(e,t,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=t(r=a,o)))}}function Uge(e,t,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=t(r=a,o)))}}function zge(e,t){var n=TA(e),r=n==="transform"?ZG:sq;return this.attrTween(e,typeof t=="function"?(n.local?Uge:Bge)(n,r,I6(this,"attr."+e,t)):t==null?(n.local?Mge:Rge)(n):(n.local?Pge:Lge)(n,r,t))}function Wge(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Hge(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Vge(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Hge(e,s)),n}return i._value=t,i}function jge(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Wge(e,s)),n}return i._value=t,i}function Gge(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=TA(e);return this.tween(n,(r.local?Vge:jge)(r,t))}function qge(e,t){return function(){$6(this,e).delay=+t.apply(this,arguments)}}function Xge(e,t){return t=+t,function(){$6(this,e).delay=t}}function Kge(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?qge:Xge)(t,e)):tu(this.node(),t).delay}function Yge(e,t){return function(){nl(this,e).duration=+t.apply(this,arguments)}}function Jge(e,t){return t=+t,function(){nl(this,e).duration=t}}function Zge(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Yge:Jge)(t,e)):tu(this.node(),t).duration}function Qge(e,t){if(typeof t!="function")throw new Error;return function(){nl(this,e).ease=t}}function e1e(e){var t=this._id;return arguments.length?this.each(Qge(t,e)):tu(this.node(),t).ease}function t1e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;nl(this,e).ease=n}}function n1e(e){if(typeof e!="function")throw new Error;return this.each(t1e(this._id,e))}function r1e(e){typeof e!="function"&&(e=_G(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],u,l=0;l<a;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&o.push(u);return new pc(r,this._parents,this._name,this._id)}function i1e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var u=t[o],l=n[o],c=u.length,f=a[o]=new Array(c),h,d=0;d<c;++d)(h=u[d]||l[d])&&(f[d]=h);for(;o<r;++o)a[o]=t[o];return new pc(a,this._parents,this._name,this._id)}function s1e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function a1e(e,t,n){var r,i,s=s1e(t)?$6:nl;return function(){var a=s(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function o1e(e,t){var n=this._id;return arguments.length<2?tu(this.node(),n).on.on(e):this.each(a1e(n,e,t))}function u1e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function l1e(){return this.on("end.remove",u1e(this._id))}function c1e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=w6(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],u=o.length,l=s[a]=new Array(u),c,f,h=0;h<u;++h)(c=o[h])&&(f=e.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),l[h]=f,IA(l[h],t,n,h,l,tu(c,n)));return new pc(s,this._parents,t,n)}function f1e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yG(e));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var u=r[o],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var h=e.call(c,c.__data__,f,u),d,p=tu(c,n),g=0,m=h.length;g<m;++g)(d=h[g])&&IA(d,t,n,g,h,p);s.push(h),a.push(c)}return new pc(s,a,t,n)}var h1e=ay.prototype.constructor;function d1e(){return new h1e(this._groups,this._parents)}function p1e(e,t){var n,r,i;return function(){var s=fg(this,e),a=(this.style.removeProperty(e),fg(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function aq(e){return function(){this.style.removeProperty(e)}}function g1e(e,t,n){var r,i=n+"",s;return function(){var a=fg(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function m1e(e,t,n){var r,i,s;return function(){var a=fg(this,e),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),fg(this,e))),a===u?null:a===r&&u===i?s:(i=u,s=t(r=a,o))}}function x1e(e,t){var n,r,i,s="style."+t,a="end."+s,o;return function(){var u=nl(this,e),l=u.on,c=u.value[s]==null?o||(o=aq(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function v1e(e,t,n){var r=(e+="")=="transform"?JG:sq;return t==null?this.styleTween(e,p1e(e,r)).on("end.style."+e,aq(e)):typeof t=="function"?this.styleTween(e,m1e(e,r,I6(this,"style."+e,t))).each(x1e(this._id,e)):this.styleTween(e,g1e(e,r,t),n).on("end.style."+e,null)}function y1e(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function _1e(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&y1e(e,a,n)),r}return s._value=t,s}function E1e(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,_1e(e,t,n??""))}function b1e(e){return function(){this.textContent=e}}function w1e(e){return function(){var t=e(this);this.textContent=t??""}}function A1e(e){return this.tween("text",typeof e=="function"?w1e(I6(this,"text",e)):b1e(e==null?"":e+""))}function S1e(e){return function(t){this.textContent=e.call(this,t)}}function C1e(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&S1e(i)),t}return r._value=e,r}function k1e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,C1e(e))}function T1e(){for(var e=this._name,t=this._id,n=oq(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,l=0;l<o;++l)if(u=a[l]){var c=tu(u,t);IA(u,e,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new pc(r,this._parents,e,n)}function F1e(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},u={value:function(){--i===0&&s()}};n.each(function(){var l=nl(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),l.on=t}),i===0&&s()})}var D1e=0;function pc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function oq(){return++D1e}var wl=ay.prototype;pc.prototype={constructor:pc,select:c1e,selectAll:f1e,selectChild:wl.selectChild,selectChildren:wl.selectChildren,filter:r1e,merge:i1e,selection:d1e,transition:T1e,call:wl.call,nodes:wl.nodes,node:wl.node,size:wl.size,empty:wl.empty,each:wl.each,on:o1e,attr:zge,attrTween:Gge,style:v1e,styleTween:E1e,text:A1e,textTween:k1e,remove:l1e,tween:Ige,delay:Kge,duration:Zge,ease:e1e,easeVarying:n1e,end:F1e,[Symbol.iterator]:wl[Symbol.iterator]};function rE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var N1e={time:null,delay:0,duration:250,ease:rE};function O1e(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function $1e(e){var t,n;e instanceof pc?(t=e._id,e=e._name):(t=oq(),(n=N1e).time=$A(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,l=0;l<o;++l)(u=a[l])&&IA(u,e,t,l,a,n||O1e(u,t));return new pc(r,this._parents,e,t)}ay.prototype.interrupt=Nge;ay.prototype.transition=$1e;const J3=Math.PI,Z3=2*J3,H0=1e-6,I1e=Z3-H0;function uq(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function R1e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uq;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let R6=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uq:R1e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=r-t,l=i-n,c=a-t,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>H0)if(!(Math.abs(f*u-l*c)>H0)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-a,p=i-o,g=u*u+l*l,m=d*d+p*p,x=Math.sqrt(g),y=Math.sqrt(h),v=s*Math.tan((J3-Math.acos((g+h-m)/(2*x*y)))/2),_=v/y,E=v/x;Math.abs(_-1)>H0&&this._append`L${t+_*c},${n+_*f}`,this._append`A${s},${s},0,0,${+(f*d>c*p)},${this._x1=t+E*u},${this._y1=n+E*l}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),l=t+o,c=n+u,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>H0||Math.abs(this._y1-c)>H0)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%Z3+Z3),h>I1e?this._append`A${r},${r},0,1,${f},${t-o},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:h>H0&&this._append`A${r},${r},0,${+(h>=J3)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function RA(){return new R6}RA.prototype=R6.prototype;const Ql=11102230246251565e-32,_i=134217729,M1e=(3+8*Ql)*Ql;function Mk(e,t,n,r,i){let s,a,o,u,l=t[0],c=r[0],f=0,h=0;c>l==c>-l?(s=l,l=t[++f]):(s=c,c=r[++h]);let d=0;if(f<e&&h<n)for(c>l==c>-l?(a=l+s,o=s-(a-l),l=t[++f]):(a=c+s,o=s-(a-c),c=r[++h]),s=a,o!==0&&(i[d++]=o);f<e&&h<n;)c>l==c>-l?(a=s+l,u=a-s,o=s-(a-u)+(l-u),l=t[++f]):(a=s+c,u=a-s,o=s-(a-u)+(c-u),c=r[++h]),s=a,o!==0&&(i[d++]=o);for(;f<e;)a=s+l,u=a-s,o=s-(a-u)+(l-u),l=t[++f],s=a,o!==0&&(i[d++]=o);for(;h<n;)a=s+c,u=a-s,o=s-(a-u)+(c-u),c=r[++h],s=a,o!==0&&(i[d++]=o);return(s!==0||d===0)&&(i[d++]=s),d}function L1e(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function ly(e){return new Float64Array(e)}const P1e=(3+16*Ql)*Ql,B1e=(2+12*Ql)*Ql,U1e=(9+64*Ql)*Ql*Ql,Qd=ly(4),NL=ly(8),OL=ly(12),$L=ly(16),ns=ly(4);function z1e(e,t,n,r,i,s,a){let o,u,l,c,f,h,d,p,g,m,x,y,v,_,E,w,b,S;const A=e-i,C=n-i,k=t-s,F=r-s;_=A*F,h=_i*A,d=h-(h-A),p=A-d,h=_i*F,g=h-(h-F),m=F-g,E=p*m-(_-d*g-p*g-d*m),w=k*C,h=_i*k,d=h-(h-k),p=k-d,h=_i*C,g=h-(h-C),m=C-g,b=p*m-(w-d*g-p*g-d*m),x=E-b,f=E-x,Qd[0]=E-(x+f)+(f-b),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,Qd[1]=v-(x+f)+(f-w),S=y+x,f=S-y,Qd[2]=y-(S-f)+(x-f),Qd[3]=S;let N=L1e(4,Qd),R=B1e*a;if(N>=R||-N>=R||(f=e-A,o=e-(A+f)+(f-i),f=n-C,l=n-(C+f)+(f-i),f=t-k,u=t-(k+f)+(f-s),f=r-F,c=r-(F+f)+(f-s),o===0&&u===0&&l===0&&c===0)||(R=U1e*a+M1e*Math.abs(N),N+=A*c+F*o-(k*l+C*u),N>=R||-N>=R))return N;_=o*F,h=_i*o,d=h-(h-o),p=o-d,h=_i*F,g=h-(h-F),m=F-g,E=p*m-(_-d*g-p*g-d*m),w=u*C,h=_i*u,d=h-(h-u),p=u-d,h=_i*C,g=h-(h-C),m=C-g,b=p*m-(w-d*g-p*g-d*m),x=E-b,f=E-x,ns[0]=E-(x+f)+(f-b),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,ns[1]=v-(x+f)+(f-w),S=y+x,f=S-y,ns[2]=y-(S-f)+(x-f),ns[3]=S;const D=Mk(4,Qd,4,ns,NL);_=A*c,h=_i*A,d=h-(h-A),p=A-d,h=_i*c,g=h-(h-c),m=c-g,E=p*m-(_-d*g-p*g-d*m),w=k*l,h=_i*k,d=h-(h-k),p=k-d,h=_i*l,g=h-(h-l),m=l-g,b=p*m-(w-d*g-p*g-d*m),x=E-b,f=E-x,ns[0]=E-(x+f)+(f-b),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,ns[1]=v-(x+f)+(f-w),S=y+x,f=S-y,ns[2]=y-(S-f)+(x-f),ns[3]=S;const O=Mk(D,NL,4,ns,OL);_=o*c,h=_i*o,d=h-(h-o),p=o-d,h=_i*c,g=h-(h-c),m=c-g,E=p*m-(_-d*g-p*g-d*m),w=u*l,h=_i*u,d=h-(h-u),p=u-d,h=_i*l,g=h-(h-l),m=l-g,b=p*m-(w-d*g-p*g-d*m),x=E-b,f=E-x,ns[0]=E-(x+f)+(f-b),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,ns[1]=v-(x+f)+(f-w),S=y+x,f=S-y,ns[2]=y-(S-f)+(x-f),ns[3]=S;const M=Mk(O,OL,4,ns,$L);return $L[M-1]}function P_(e,t,n,r,i,s){const a=(t-s)*(n-i),o=(e-i)*(r-s),u=a-o,l=Math.abs(a+o);return Math.abs(u)>=P1e*l?u:-z1e(e,t,n,r,i,s,l)}const IL=Math.pow(2,-52),B_=new Uint32Array(512);class xb{static from(t,n=G1e,r=q1e){const i=t.length,s=new Float64Array(i*2);for(let a=0;a<i;a++){const o=t[a];s[2*a]=n(o),s[2*a+1]=r(o)}return new xb(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,a=t.length>>1;let o=1/0,u=1/0,l=-1/0,c=-1/0;for(let A=0;A<a;A++){const C=t[2*A],k=t[2*A+1];C<o&&(o=C),k<u&&(u=k),C>l&&(l=C),k>c&&(c=k),this._ids[A]=A}const f=(o+l)/2,h=(u+c)/2;let d,p,g;for(let A=0,C=1/0;A<a;A++){const k=Lk(f,h,t[2*A],t[2*A+1]);k<C&&(d=A,C=k)}const m=t[2*d],x=t[2*d+1];for(let A=0,C=1/0;A<a;A++){if(A===d)continue;const k=Lk(m,x,t[2*A],t[2*A+1]);k<C&&k>0&&(p=A,C=k)}let y=t[2*p],v=t[2*p+1],_=1/0;for(let A=0;A<a;A++){if(A===d||A===p)continue;const C=V1e(m,x,y,v,t[2*A],t[2*A+1]);C<_&&(g=A,_=C)}let E=t[2*g],w=t[2*g+1];if(_===1/0){for(let k=0;k<a;k++)this._dists[k]=t[2*k]-t[0]||t[2*k+1]-t[1];Ap(this._ids,this._dists,0,a-1);const A=new Uint32Array(a);let C=0;for(let k=0,F=-1/0;k<a;k++){const N=this._ids[k],R=this._dists[N];R>F&&(A[C++]=N,F=R)}this.hull=A.subarray(0,C),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(P_(m,x,y,v,E,w)<0){const A=p,C=y,k=v;p=g,y=E,v=w,g=A,E=C,w=k}const b=j1e(m,x,y,v,E,w);this._cx=b.x,this._cy=b.y;for(let A=0;A<a;A++)this._dists[A]=Lk(t[2*A],t[2*A+1],b.x,b.y);Ap(this._ids,this._dists,0,a-1),this._hullStart=d;let S=3;r[d]=n[g]=p,r[p]=n[d]=g,r[g]=n[p]=d,i[d]=0,i[p]=1,i[g]=2,s.fill(-1),s[this._hashKey(m,x)]=d,s[this._hashKey(y,v)]=p,s[this._hashKey(E,w)]=g,this.trianglesLen=0,this._addTriangle(d,p,g,-1,-1,-1);for(let A=0,C,k;A<this._ids.length;A++){const F=this._ids[A],N=t[2*F],R=t[2*F+1];if(A>0&&Math.abs(N-C)<=IL&&Math.abs(R-k)<=IL||(C=N,k=R,F===d||F===p||F===g))continue;let D=0;for(let X=0,ve=this._hashKey(N,R);X<this._hashSize&&(D=s[(ve+X)%this._hashSize],!(D!==-1&&D!==r[D]));X++);D=n[D];let O=D,M;for(;M=r[O],P_(N,R,t[2*O],t[2*O+1],t[2*M],t[2*M+1])>=0;)if(O=M,O===D){O=-1;break}if(O===-1)continue;let z=this._addTriangle(O,F,r[O],-1,-1,i[O]);i[F]=this._legalize(z+2),i[O]=z,S++;let K=r[O];for(;M=r[K],P_(N,R,t[2*K],t[2*K+1],t[2*M],t[2*M+1])<0;)z=this._addTriangle(K,F,M,i[F],-1,i[K]),i[F]=this._legalize(z+2),r[K]=K,S--,K=M;if(O===D)for(;M=n[O],P_(N,R,t[2*M],t[2*M+1],t[2*O],t[2*O+1])<0;)z=this._addTriangle(M,F,O,-1,i[O],i[M]),this._legalize(z+2),i[M]=z,r[O]=O,S--,O=M;this._hullStart=n[F]=O,r[O]=n[K]=F,r[F]=K,s[this._hashKey(N,R)]=F,s[this._hashKey(t[2*O],t[2*O+1])]=O}this.hull=new Uint32Array(S);for(let A=0,C=this._hullStart;A<S;A++)this.hull[A]=C,C=r[C];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(W1e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,a=0;for(;;){const o=r[t],u=t-t%3;if(a=u+(t+2)%3,o===-1){if(s===0)break;t=B_[--s];continue}const l=o-o%3,c=u+(t+1)%3,f=l+(o+2)%3,h=n[a],d=n[t],p=n[c],g=n[f];if(H1e(i[2*h],i[2*h+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[o]=h;const x=r[f];if(x===-1){let v=this._hullStart;do{if(this._hullTri[v]===f){this._hullTri[v]=t;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(t,x),this._link(o,r[a]),this._link(a,f);const y=l+(o+1)%3;s<B_.length&&(B_[s++]=y)}else{if(s===0)break;t=B_[--s]}}return a}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,a){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=n,this._triangles[o+2]=r,this._link(o,i),this._link(o+1,s),this._link(o+2,a),this.trianglesLen+=3,o}}function W1e(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Lk(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function H1e(e,t,n,r,i,s,a,o){const u=e-a,l=t-o,c=n-a,f=r-o,h=i-a,d=s-o,p=u*u+l*l,g=c*c+f*f,m=h*h+d*d;return u*(f*m-g*d)-l*(c*m-g*h)+p*(c*d-f*h)<0}function V1e(e,t,n,r,i,s){const a=n-e,o=r-t,u=i-e,l=s-t,c=a*a+o*o,f=u*u+l*l,h=.5/(a*l-o*u),d=(l*c-o*f)*h,p=(a*f-u*c)*h;return d*d+p*p}function j1e(e,t,n,r,i,s){const a=n-e,o=r-t,u=i-e,l=s-t,c=a*a+o*o,f=u*u+l*l,h=.5/(a*l-o*u),d=e+(l*c-o*f)*h,p=t+(a*f-u*c)*h;return{x:d,y:p}}function Ap(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],a=t[s];let o=i-1;for(;o>=n&&t[e[o]]>a;)e[o+1]=e[o--];e[o+1]=s}else{const i=n+r>>1;let s=n+1,a=r;K1(e,i,s),t[e[n]]>t[e[r]]&&K1(e,n,r),t[e[s]]>t[e[r]]&&K1(e,s,r),t[e[n]]>t[e[s]]&&K1(e,n,s);const o=e[s],u=t[o];for(;;){do s++;while(t[e[s]]<u);do a--;while(t[e[a]]>u);if(a<s)break;K1(e,s,a)}e[n+1]=e[a],e[a]=o,r-s+1>=a-n?(Ap(e,t,s,r),Ap(e,t,n,a-1)):(Ap(e,t,n,a-1),Ap(e,t,s,r))}}function K1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function G1e(e){return e[0]}function q1e(e){return e[1]}const RL=1e-6;class th{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>RL||Math.abs(this._y1-s)>RL)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Q3{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let X1e=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,a;const o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,x=r.length,y,v;g<x;g+=3,m+=2){const _=r[g]*2,E=r[g+1]*2,w=r[g+2]*2,b=t[_],S=t[_+1],A=t[E],C=t[E+1],k=t[w],F=t[w+1],N=A-b,R=C-S,D=k-b,O=F-S,M=(N*O-R*D)*2;if(Math.abs(M)<1e-9){if(s===void 0){s=a=0;for(const K of n)s+=t[K*2],a+=t[K*2+1];s/=n.length,a/=n.length}const z=1e9*Math.sign((s-b)*O-(a-S)*D);y=(b+k)/2-z*O,v=(S+F)/2+z*D}else{const z=1/M,K=N*N+R*R,X=D*D+O*O;y=b+(O*K-R*X)*z,v=S+(N*X-D*K)*z}o[m]=y,o[m+1]=v}let u=n[n.length-1],l,c=u*4,f,h=t[2*u],d,p=t[2*u+1];i.fill(0);for(let g=0;g<n.length;++g)u=n[g],l=c,f=h,d=p,c=u*4,h=t[2*u],p=t[2*u+1],i[l+2]=i[c]=d-p,i[l+3]=i[c+1]=h-f}render(t){const n=t==null?t=new th:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:a,vectors:o}=this;if(s.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const h=r[c];if(h<c)continue;const d=Math.floor(c/3)*2,p=Math.floor(h/3)*2,g=a[d],m=a[d+1],x=a[p],y=a[p+1];this._renderSegment(g,m,x,y,t)}let u,l=s[s.length-1];for(let c=0;c<s.length;++c){u=l,l=s[c];const f=Math.floor(i[l]/3)*2,h=a[f],d=a[f+1],p=u*4,g=this._project(h,d,o[p+2],o[p+3]);g&&this._renderSegment(h,d,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new th:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new th:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let a=2;a<s;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new Q3;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let a;const o=this._regioncode(t,n),u=this._regioncode(r,i);o===0&&u===0?(s.moveTo(t,n),s.lineTo(r,i)):(a=this._clipSegment(t,n,r,i,o,u))&&(s.moveTo(a[0],a[1]),s.lineTo(a[2],a[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,a=n.length;s<a;s+=2)for(let o=0,u=i.length;o<u;o+=2)if(n[s]===i[o]&&n[s+1]===i[o+1]&&n[(s+2)%a]===i[(o+u-2)%u]&&n[(s+3)%a]===i[(o+u-1)%u]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,a=r[t];if(a===-1)return null;const o=[];let u=a;do{const l=Math.floor(u/3);if(o.push(n[l*2],n[l*2+1]),u=u%3===2?u-2:u+1,s[u]!==t)break;u=i[u]}while(u!==a&&u!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,a,o=n[r-2],u=n[r-1],l,c=this._regioncode(o,u),f,h=0;for(let d=0;d<r;d+=2)if(s=o,a=u,o=n[d],u=n[d+1],l=c,c=this._regioncode(o,u),l===0&&c===0)f=h,h=0,i?i.push(o,u):i=[o,u];else{let p,g,m,x,y;if(l===0){if((p=this._clipSegment(s,a,o,u,l,c))===null)continue;[g,m,x,y]=p}else{if((p=this._clipSegment(o,u,s,a,c,l))===null)continue;[x,y,g,m]=p,f=h,h=this._edgecode(g,m),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(g,m):i=[g,m]}f=h,h=this._edgecode(x,y),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(x,y):i=[x,y]}if(i)f=h,h=this._edgecode(i[0],i[1]),f&&h&&this._edge(t,f,h,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,a){const o=s<a;for(o&&([t,n,r,i,s,a]=[r,i,t,n,a,s]);;){if(s===0&&a===0)return o?[r,i,t,n]:[t,n,r,i];if(s&a)return null;let u,l,c=s||a;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),s?(t=u,n=l,s=this._regioncode(t,n)):(r=u,i=l,a=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,a){let o=Array.from(n),u;if((u=this._project(o[0],o[1],r,i))&&o.unshift(u[0],u[1]),(u=this._project(o[o.length-2],o[o.length-1],s,a))&&o.push(u[0],u[1]),o=this._clipFinite(t,o))for(let l=0,c=o.length,f,h=this._edgecode(o[c-2],o[c-1]);l<c;l+=2)f=h,h=this._edgecode(o[l],o[l+1]),f&&h&&(l=this._edge(t,f,h,o,l),c=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,n,r,i,s){for(;n!==r;){let a,o;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,o=this.ymin;break}(i[s]!==a||i[s+1]!==o)&&this.contains(t,a,o)&&(i.splice(s,0,a,o),s+=2)}return s}_project(t,n,r,i){let s=1/0,a,o,u;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<s&&(u=this.ymin,o=t+(s=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<s&&(u=this.ymax,o=t+(s=a)*r)}if(r>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/r)<s&&(o=this.xmax,u=n+(s=a)*i)}else if(r<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/r)<s&&(o=this.xmin,u=n+(s=a)*i)}return[o,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const K1e=2*Math.PI,ep=Math.pow;function Y1e(e){return e[0]}function J1e(e){return e[1]}function Z1e(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function Q1e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class M6{static from(t,n=Y1e,r=J1e,i){return new M6("length"in t?eme(t,n,r,i):Float64Array.from(tme(t,n,r,i)))}constructor(t){this._delaunator=new xb(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Z1e(t)){this.collinear=Int32Array.from({length:n.length/2},(h,d)=>d).sort((h,d)=>n[2*h]-n[2*d]||n[2*h+1]-n[2*d+1]);const u=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[n[2*u],n[2*u+1],n[2*l],n[2*l+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let h=0,d=n.length/2;h<d;++h){const p=Q1e(n[2*h],n[2*h+1],f);n[2*h]=p[0],n[2*h+1]=p[1]}this._delaunator=new xb(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let u=0,l=r.length;u<l;++u){const c=s[u%3===2?u-2:u+1];(r[u]===-1||a[c]===-1)&&(a[c]=u)}for(let u=0,l=i.length;u<l;++u)o[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new X1e(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:a,collinear:o}=this;if(o){const f=o.indexOf(t);f>0&&(yield o[f-1]),f<o.length-1&&(yield o[f+1]);return}const u=n[t];if(u===-1)return;let l=u,c=-1;do{if(yield c=a[l],l=l%3===2?l-2:l+1,a[l]!==t)return;if(l=s[l],l===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(l!==u)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:a,halfedges:o,triangles:u,points:l}=this;if(i[t]===-1||!l.length)return(t+1)%(l.length>>1);let c=t,f=ep(n-l[t*2],2)+ep(r-l[t*2+1],2);const h=i[t];let d=h;do{let p=u[d];const g=ep(n-l[p*2],2)+ep(r-l[p*2+1],2);if(g<f&&(f=g,c=p),d=d%3===2?d-2:d+1,u[d]!==t)break;if(d=o[d],d===-1){if(d=s[(a[t]+1)%s.length],d!==p&&ep(n-l[d*2],2)+ep(r-l[d*2+1],2)<f)return d;break}}while(d!==h);return c}render(t){const n=t==null?t=new th:void 0,{points:r,halfedges:i,triangles:s}=this;for(let a=0,o=i.length;a<o;++a){const u=i[a];if(u<a)continue;const l=s[a]*2,c=s[u]*2;t.moveTo(r[l],r[l+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new th:void 0,{points:i}=this;for(let s=0,a=i.length;s<a;s+=2){const o=i[s],u=i[s+1];t.moveTo(o+n,u),t.arc(o,u,n,0,K1e)}return r&&r.value()}renderHull(t){const n=t==null?t=new th:void 0,{hull:r,points:i}=this,s=r[0]*2,a=r.length;t.moveTo(i[s],i[s+1]);for(let o=1;o<a;++o){const u=2*r[o];t.lineTo(i[u],i[u+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Q3;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new th:void 0,{points:i,triangles:s}=this,a=s[t*=3]*2,o=s[t+1]*2,u=s[t+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[o],i[o+1]),n.lineTo(i[u],i[u+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Q3;return this.renderTriangle(t,n),n.value()}}function eme(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let a=0;a<i;++a){const o=e[a];s[a*2]=t.call(r,o,a,e),s[a*2+1]=n.call(r,o,a,e)}return s}function*tme(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var ML={},Pk={},Bk=34,Y1=10,Uk=13;function lq(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function nme(e,t){var n=lq(e);return function(r,i){return t(n(r),i,e)}}function LL(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ns(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function rme(e){return e<0?"-"+Ns(-e,6):e>9999?"+"+Ns(e,6):Ns(e,4)}function ime(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":rme(e.getUTCFullYear())+"-"+Ns(e.getUTCMonth()+1,2)+"-"+Ns(e.getUTCDate(),2)+(i?"T"+Ns(t,2)+":"+Ns(n,2)+":"+Ns(r,2)+"."+Ns(i,3)+"Z":r?"T"+Ns(t,2)+":"+Ns(n,2)+":"+Ns(r,2)+"Z":n||t?"T"+Ns(t,2)+":"+Ns(n,2)+"Z":"")}function cq(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,h){var d,p,g=i(f,function(m,x){if(d)return d(m,x-1);p=m,d=h?nme(m,h):lq(m)});return g.columns=p||[],g}function i(f,h){var d=[],p=f.length,g=0,m=0,x,y=p<=0,v=!1;f.charCodeAt(p-1)===Y1&&--p,f.charCodeAt(p-1)===Uk&&--p;function _(){if(y)return Pk;if(v)return v=!1,ML;var w,b=g,S;if(f.charCodeAt(b)===Bk){for(;g++<p&&f.charCodeAt(g)!==Bk||f.charCodeAt(++g)===Bk;);return(w=g)>=p?y=!0:(S=f.charCodeAt(g++))===Y1?v=!0:S===Uk&&(v=!0,f.charCodeAt(g)===Y1&&++g),f.slice(b+1,w-1).replace(/""/g,'"')}for(;g<p;){if((S=f.charCodeAt(w=g++))===Y1)v=!0;else if(S===Uk)v=!0,f.charCodeAt(g)===Y1&&++g;else if(S!==n)continue;return f.slice(b,w)}return y=!0,f.slice(b,p)}for(;(x=_())!==Pk;){for(var E=[];x!==ML&&x!==Pk;)E.push(x),x=_();h&&(E=h(E,m++))==null||d.push(E)}return d}function s(f,h){return f.map(function(d){return h.map(function(p){return c(d[p])}).join(e)})}function a(f,h){return h==null&&(h=LL(f)),[h.map(c).join(e)].concat(s(f,h)).join(`
`)}function o(f,h){return h==null&&(h=LL(f)),s(f,h).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?ime(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:o,formatRows:u,formatRow:l,formatValue:c}}var fq=cq(","),hq=fq.parse,sme=fq.format;function ame(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function ome(e,t){return fetch(e,t).then(ame)}function ume(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),ome(t,n).then(function(i){return e(i,r)})}}var dq=ume(hq);function lme(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,a=n.length,o,u=0,l=0;for(s=0;s<a;++s)o=n[s],u+=o.x,l+=o.y;for(u=(u/a-e)*r,l=(l/a-t)*r,s=0;s<a;++s)o=n[s],o.x-=u,o.y-=l}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function cme(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return pq(this.cover(t,n),t,n,e)}function pq(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,a={data:r},o=e._x0,u=e._y0,l=e._x1,c=e._y1,f,h,d,p,g,m,x,y;if(!s)return e._root=a,e;for(;s.length;)if((g=t>=(f=(o+l)/2))?o=f:l=f,(m=n>=(h=(u+c)/2))?u=h:c=h,i=s,!(s=s[x=m<<1|g]))return i[x]=a,e;if(d=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===d&&n===p)return a.next=s,i?i[x]=a:e._root=a,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(g=t>=(f=(o+l)/2))?o=f:l=f,(m=n>=(h=(u+c)/2))?u=h:c=h;while((x=m<<1|g)===(y=(p>=h)<<1|d>=f));return i[y]=s,i[x]=a,e}function fme(e){var t,n,r=e.length,i,s,a=new Array(r),o=new Array(r),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(a[n]=i,o[n]=s,i<u&&(u=i),i>c&&(c=i),s<l&&(l=s),s>f&&(f=s));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<r;++n)pq(this,a[n],o[n],e[n]);return this}function hme(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var a=i-n||1,o=this._root,u,l;n>e||e>=i||r>t||t>=s;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=o,o=u,a*=2,l){case 0:i=n+a,s=r+a;break;case 1:n=i-a,s=r+a;break;case 2:i=n+a,r=s-a;break;case 3:n=i-a,r=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function dme(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function pme(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ms(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function gme(e,t,n){var r,i=this._x0,s=this._y0,a,o,u,l,c=this._x1,f=this._y1,h=[],d=this._root,p,g;for(d&&h.push(new ms(d,i,s,c,f)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,f=t+n,n*=n);p=h.pop();)if(!(!(d=p.node)||(a=p.x0)>c||(o=p.y0)>f||(u=p.x1)<i||(l=p.y1)<s))if(d.length){var m=(a+u)/2,x=(o+l)/2;h.push(new ms(d[3],m,x,u,l),new ms(d[2],a,x,m,l),new ms(d[1],m,o,u,x),new ms(d[0],a,o,m,x)),(g=(t>=x)<<1|e>=m)&&(p=h[h.length-1],h[h.length-1]=h[h.length-1-g],h[h.length-1-g]=p)}else{var y=e-+this._x.call(null,d.data),v=t-+this._y.call(null,d.data),_=y*y+v*v;if(_<n){var E=Math.sqrt(n=_);i=e-E,s=t-E,c=e+E,f=t+E,r=d.data}}return r}function mme(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,a=this._x0,o=this._y0,u=this._x1,l=this._y1,c,f,h,d,p,g,m,x;if(!n)return this;if(n.length)for(;;){if((p=c>=(h=(a+u)/2))?a=h:u=h,(g=f>=(d=(o+l)/2))?o=d:l=d,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,x=m)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[m]=s:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=s,this)}function xme(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function vme(){return this._root}function yme(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function _me(e){var t=[],n,r=this._root,i,s,a,o,u;for(r&&t.push(new ms(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,a=n.y0,o=n.x1,u=n.y1)&&r.length){var l=(s+o)/2,c=(a+u)/2;(i=r[3])&&t.push(new ms(i,l,c,o,u)),(i=r[2])&&t.push(new ms(i,s,c,l,u)),(i=r[1])&&t.push(new ms(i,l,a,o,c)),(i=r[0])&&t.push(new ms(i,s,a,l,c))}return this}function Eme(e){var t=[],n=[],r;for(this._root&&t.push(new ms(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,a=r.x0,o=r.y0,u=r.x1,l=r.y1,c=(a+u)/2,f=(o+l)/2;(s=i[0])&&t.push(new ms(s,a,o,c,f)),(s=i[1])&&t.push(new ms(s,c,o,u,f)),(s=i[2])&&t.push(new ms(s,a,f,c,l)),(s=i[3])&&t.push(new ms(s,c,f,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function bme(e){return e[0]}function wme(e){return arguments.length?(this._x=e,this):this._x}function Ame(e){return e[1]}function Sme(e){return arguments.length?(this._y=e,this):this._y}function L6(e,t,n){var r=new P6(t??bme,n??Ame,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function P6(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function PL(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ts=L6.prototype=P6.prototype;Ts.copy=function(){var e=new P6(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=PL(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=PL(r));return e};Ts.add=cme;Ts.addAll=fme;Ts.cover=hme;Ts.data=dme;Ts.extent=pme;Ts.find=gme;Ts.remove=mme;Ts.removeAll=xme;Ts.root=vme;Ts.size=yme;Ts.visit=_me;Ts.visitAfter=Eme;Ts.x=wme;Ts.y=Sme;function vs(e){return function(){return e}}function of(e){return(e()-.5)*1e-6}function Cme(e){return e.x+e.vx}function kme(e){return e.y+e.vy}function Tme(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=vs(e==null?1:+e));function a(){for(var l,c=t.length,f,h,d,p,g,m,x=0;x<s;++x)for(f=L6(t,Cme,kme).visitAfter(o),l=0;l<c;++l)h=t[l],g=n[h.index],m=g*g,d=h.x+h.vx,p=h.y+h.vy,f.visit(y);function y(v,_,E,w,b){var S=v.data,A=v.r,C=g+A;if(S){if(S.index>h.index){var k=d-S.x-S.vx,F=p-S.y-S.vy,N=k*k+F*F;N<C*C&&(k===0&&(k=of(r),N+=k*k),F===0&&(F=of(r),N+=F*F),N=(C-(N=Math.sqrt(N)))/N*i,h.vx+=(k*=N)*(C=(A*=A)/(m+A)),h.vy+=(F*=N)*C,S.vx-=k*(C=1-C),S.vy-=F*C)}return}return _>d+C||w<d-C||E>p+C||b<p-C}}function o(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,f;for(n=new Array(c),l=0;l<c;++l)f=t[l],n[f.index]=+e(f,l,t)}}return a.initialize=function(l,c){t=l,r=c,u()},a.iterations=function(l){return arguments.length?(s=+l,a):s},a.strength=function(l){return arguments.length?(i=+l,a):i},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:vs(+l),u(),a):e},a}function Fme(e){return e.index}function BL(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Dme(e){var t=Fme,n=f,r,i=vs(30),s,a,o,u,l,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(o[m.source.index],o[m.target.index])}function h(m){for(var x=0,y=e.length;x<c;++x)for(var v=0,_,E,w,b,S,A,C;v<y;++v)_=e[v],E=_.source,w=_.target,b=w.x+w.vx-E.x-E.vx||of(l),S=w.y+w.vy-E.y-E.vy||of(l),A=Math.sqrt(b*b+S*S),A=(A-s[v])/A*m*r[v],b*=A,S*=A,w.vx-=b*(C=u[v]),w.vy-=S*C,E.vx+=b*(C=1-C),E.vy+=S*C}function d(){if(a){var m,x=a.length,y=e.length,v=new Map(a.map((E,w)=>[t(E,w,a),E])),_;for(m=0,o=new Array(x);m<y;++m)_=e[m],_.index=m,typeof _.source!="object"&&(_.source=BL(v,_.source)),typeof _.target!="object"&&(_.target=BL(v,_.target)),o[_.source.index]=(o[_.source.index]||0)+1,o[_.target.index]=(o[_.target.index]||0)+1;for(m=0,u=new Array(y);m<y;++m)_=e[m],u[m]=o[_.source.index]/(o[_.source.index]+o[_.target.index]);r=new Array(y),p(),s=new Array(y),g()}}function p(){if(a)for(var m=0,x=e.length;m<x;++m)r[m]=+n(e[m],m,e)}function g(){if(a)for(var m=0,x=e.length;m<x;++m)s[m]=+i(e[m],m,e)}return h.initialize=function(m,x){a=m,l=x,d()},h.links=function(m){return arguments.length?(e=m,d(),h):e},h.id=function(m){return arguments.length?(t=m,h):t},h.iterations=function(m){return arguments.length?(c=+m,h):c},h.strength=function(m){return arguments.length?(n=typeof m=="function"?m:vs(+m),p(),h):n},h.distance=function(m){return arguments.length?(i=typeof m=="function"?m:vs(+m),g(),h):i},h}const Nme=1664525,Ome=1013904223,UL=4294967296;function $me(){let e=1;return()=>(e=(Nme*e+Ome)%UL)/UL}function Ime(e){return e.x}function Rme(e){return e.y}var Mme=10,Lme=Math.PI*(3-Math.sqrt(5));function Pme(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,a=.6,o=new Map,u=O6(f),l=b6("tick","end"),c=$me();e==null&&(e=[]);function f(){h(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function h(g){var m,x=e.length,y;g===void 0&&(g=1);for(var v=0;v<g;++v)for(n+=(s-n)*i,o.forEach(function(_){_(n)}),m=0;m<x;++m)y=e[m],y.fx==null?y.x+=y.vx*=a:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=a:(y.y=y.fy,y.vy=0);return t}function d(){for(var g=0,m=e.length,x;g<m;++g){if(x=e[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var y=Mme*Math.sqrt(.5+g),v=g*Lme;x.x=y*Math.cos(v),x.y=y*Math.sin(v)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return d(),t={tick:h,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(g){return arguments.length?(e=g,d(),o.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(s=+g,t):s},velocityDecay:function(g){return arguments.length?(a=1-g,t):1-a},randomSource:function(g){return arguments.length?(c=g,o.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?o.delete(g):o.set(g,p(m)),t):o.get(g)},find:function(g,m,x){var y=0,v=e.length,_,E,w,b,S;for(x==null?x=1/0:x*=x,y=0;y<v;++y)b=e[y],_=g-b.x,E=m-b.y,w=_*_+E*E,w<x&&(S=b,x=w);return S},on:function(g,m){return arguments.length>1?(l.on(g,m),t):l.on(g)}}}function Bme(){var e,t,n,r,i=vs(-30),s,a=1,o=1/0,u=.81;function l(d){var p,g=e.length,m=L6(e,Ime,Rme).visitAfter(f);for(r=d,p=0;p<g;++p)t=e[p],m.visit(h)}function c(){if(e){var d,p=e.length,g;for(s=new Array(p),d=0;d<p;++d)g=e[d],s[g.index]=+i(g,d,e)}}function f(d){var p=0,g,m,x=0,y,v,_;if(d.length){for(y=v=_=0;_<4;++_)(g=d[_])&&(m=Math.abs(g.value))&&(p+=g.value,x+=m,y+=m*g.x,v+=m*g.y);d.x=y/x,d.y=v/x}else{g=d,g.x=g.data.x,g.y=g.data.y;do p+=s[g.data.index];while(g=g.next)}d.value=p}function h(d,p,g,m){if(!d.value)return!0;var x=d.x-t.x,y=d.y-t.y,v=m-p,_=x*x+y*y;if(v*v/u<_)return _<o&&(x===0&&(x=of(n),_+=x*x),y===0&&(y=of(n),_+=y*y),_<a&&(_=Math.sqrt(a*_)),t.vx+=x*d.value*r/_,t.vy+=y*d.value*r/_),!0;if(d.length||_>=o)return;(d.data!==t||d.next)&&(x===0&&(x=of(n),_+=x*x),y===0&&(y=of(n),_+=y*y),_<a&&(_=Math.sqrt(a*_)));do d.data!==t&&(v=s[d.data.index]*r/_,t.vx+=x*v,t.vy+=y*v);while(d=d.next)}return l.initialize=function(d,p){e=d,n=p,c()},l.strength=function(d){return arguments.length?(i=typeof d=="function"?d:vs(+d),c(),l):i},l.distanceMin=function(d){return arguments.length?(a=d*d,l):Math.sqrt(a)},l.distanceMax=function(d){return arguments.length?(o=d*d,l):Math.sqrt(o)},l.theta=function(d){return arguments.length?(u=d*d,l):Math.sqrt(u)},l}function Ume(e){var t=vs(.1),n,r,i;typeof e!="function"&&(e=vs(e==null?0:+e));function s(o){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*o}function a(){if(n){var o,u=n.length;for(r=new Array(u),i=new Array(u),o=0;o<u;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(t=typeof o=="function"?o:vs(+o),a(),s):t},s.x=function(o){return arguments.length?(e=typeof o=="function"?o:vs(+o),a(),s):e},s}function zme(e){var t=vs(.1),n,r,i;typeof e!="function"&&(e=vs(e==null?0:+e));function s(o){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*o}function a(){if(n){var o,u=n.length;for(r=new Array(u),i=new Array(u),o=0;o<u;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(t=typeof o=="function"?o:vs(+o),a(),s):t},s.y=function(o){return arguments.length?(e=typeof o=="function"?o:vs(+o),a(),s):e},s}function Wme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pg(e){return e=vb(Math.abs(e)),e?e[1]:NaN}function Hme(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),s.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function Vme(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ph(e){if(!(t=jme.exec(e)))throw new Error("invalid format: "+e);var t;return new B6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ph.prototype=B6.prototype;function B6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}B6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gme(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var gq;function qme(e,t){var n=vb(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(gq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+vb(e,Math.max(0,t+s-1))[0]}function zL(e,t){var n=vb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zL(e*100,t),r:zL,s:qme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HL(e){return e}var VL=Array.prototype.map,jL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mq(e){var t=e.grouping===void 0||e.thousands===void 0?HL:Hme(VL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?HL:Vme(VL.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Ph(f);var h=f.fill,d=f.align,p=f.sign,g=f.symbol,m=f.zero,x=f.width,y=f.comma,v=f.precision,_=f.trim,E=f.type;E==="n"?(y=!0,E="g"):WL[E]||(v===void 0&&(v=12),_=!0,E="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",b=g==="$"?r:/[%p]/.test(E)?a:"",S=WL[E],A=/[defgprs%]/.test(E);v=v===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function C(k){var F=w,N=b,R,D,O;if(E==="c")N=S(k)+N,k="";else{k=+k;var M=k<0||1/k<0;if(k=isNaN(k)?u:S(Math.abs(k),v),_&&(k=Gme(k)),M&&+k==0&&p!=="+"&&(M=!1),F=(M?p==="("?p:o:p==="-"||p==="("?"":p)+F,N=(E==="s"?jL[8+gq/3]:"")+N+(M&&p==="("?")":""),A){for(R=-1,D=k.length;++R<D;)if(O=k.charCodeAt(R),48>O||O>57){N=(O===46?i+k.slice(R+1):k.slice(R))+N,k=k.slice(0,R);break}}}y&&!m&&(k=t(k,1/0));var z=F.length+k.length+N.length,K=z<x?new Array(x-z+1).join(h):"";switch(y&&m&&(k=t(K+k,K.length?x-N.length:1/0),K=""),d){case"<":k=F+k+N+K;break;case"=":k=F+K+k+N;break;case"^":k=K.slice(0,z=K.length>>1)+F+k+N+K.slice(z);break;default:k=K+F+k+N;break}return s(k)}return C.toString=function(){return f+""},C}function c(f,h){var d=l((f=Ph(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(pg(h)/3)))*3,g=Math.pow(10,-p),m=jL[8+p/3];return function(x){return d(g*x)+m}}return{format:l,formatPrefix:c}}var U_,MA,U6;Xme({thousands:",",grouping:[3],currency:["$",""]});function Xme(e){return U_=mq(e),MA=U_.format,U6=U_.formatPrefix,U_}function xq(e){return Math.max(0,-pg(Math.abs(e)))}function vq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pg(t)/3)))*3-pg(Math.abs(e)))}function yq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pg(t)-pg(e))+1}var mt=1e-6,e4=1e-12,Pt=Math.PI,rr=Pt/2,yb=Pt/4,Ss=Pt*2,ur=180/Pt,Rt=Pt/180,Xt=Math.abs,o1=Math.atan,uo=Math.atan2,gt=Math.cos,z_=Math.ceil,_q=Math.exp,t4=Math.hypot,_b=Math.log,zk=Math.pow,lt=Math.sin,Za=Math.sign||function(e){return e>0?1:e<0?-1:0},Cs=Math.sqrt,z6=Math.tan;function Eq(e){return e>1?0:e<-1?Pt:Math.acos(e)}function Qs(e){return e>1?rr:e<-1?-rr:Math.asin(e)}function ui(){}function Eb(e,t){e&&qL.hasOwnProperty(e.type)&&qL[e.type](e,t)}var GL={Feature:function(e,t){Eb(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Eb(n[r].geometry,t)}},qL={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){n4(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)n4(n[r],t,0)},Polygon:function(e,t){XL(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)XL(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Eb(n[r],t)}};function n4(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function XL(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)n4(e[n],t,1);t.polygonEnd()}function Ul(e,t){e&&GL.hasOwnProperty(e.type)?GL[e.type](e,t):Eb(e,t)}var bb=new _s,wb=new _s,bq,wq,r4,i4,s4,ju={point:ui,lineStart:ui,lineEnd:ui,polygonStart:function(){bb=new _s,ju.lineStart=Kme,ju.lineEnd=Yme},polygonEnd:function(){var e=+bb;wb.add(e<0?Ss+e:e),this.lineStart=this.lineEnd=this.point=ui},sphere:function(){wb.add(Ss)}};function Kme(){ju.point=Jme}function Yme(){Aq(bq,wq)}function Jme(e,t){ju.point=Aq,bq=e,wq=t,e*=Rt,t*=Rt,r4=e,i4=gt(t=t/2+yb),s4=lt(t)}function Aq(e,t){e*=Rt,t*=Rt,t=t/2+yb;var n=e-r4,r=n>=0?1:-1,i=r*n,s=gt(t),a=lt(t),o=s4*a,u=i4*s+o*gt(i),l=o*r*lt(i);bb.add(uo(l,u)),r4=e,i4=s,s4=a}function Zme(e){return wb=new _s,Ul(e,ju),wb*2}function Ab(e){return[uo(e[1],e[0]),Qs(e[2])]}function Bh(e){var t=e[0],n=e[1],r=gt(n);return[r*gt(t),r*lt(t),lt(n)]}function W_(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gg(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Wk(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function H_(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Sb(e){var t=Cs(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Gn,Bs,Zn,fa,V0,Sq,Cq,Wp,ox,Qc,gc,Ol={point:a4,lineStart:KL,lineEnd:YL,polygonStart:function(){Ol.point=Tq,Ol.lineStart=Qme,Ol.lineEnd=exe,ox=new _s,ju.polygonStart()},polygonEnd:function(){ju.polygonEnd(),Ol.point=a4,Ol.lineStart=KL,Ol.lineEnd=YL,bb<0?(Gn=-(Zn=180),Bs=-(fa=90)):ox>mt?fa=90:ox<-1e-6&&(Bs=-90),gc[0]=Gn,gc[1]=Zn},sphere:function(){Gn=-(Zn=180),Bs=-(fa=90)}};function a4(e,t){Qc.push(gc=[Gn=e,Zn=e]),t<Bs&&(Bs=t),t>fa&&(fa=t)}function kq(e,t){var n=Bh([e*Rt,t*Rt]);if(Wp){var r=gg(Wp,n),i=[r[1],-r[0],0],s=gg(i,r);Sb(s),s=Ab(s);var a=e-V0,o=a>0?1:-1,u=s[0]*ur*o,l,c=Xt(a)>180;c^(o*V0<u&&u<o*e)?(l=s[1]*ur,l>fa&&(fa=l)):(u=(u+360)%360-180,c^(o*V0<u&&u<o*e)?(l=-s[1]*ur,l<Bs&&(Bs=l)):(t<Bs&&(Bs=t),t>fa&&(fa=t))),c?e<V0?ca(Gn,e)>ca(Gn,Zn)&&(Zn=e):ca(e,Zn)>ca(Gn,Zn)&&(Gn=e):Zn>=Gn?(e<Gn&&(Gn=e),e>Zn&&(Zn=e)):e>V0?ca(Gn,e)>ca(Gn,Zn)&&(Zn=e):ca(e,Zn)>ca(Gn,Zn)&&(Gn=e)}else Qc.push(gc=[Gn=e,Zn=e]);t<Bs&&(Bs=t),t>fa&&(fa=t),Wp=n,V0=e}function KL(){Ol.point=kq}function YL(){gc[0]=Gn,gc[1]=Zn,Ol.point=a4,Wp=null}function Tq(e,t){if(Wp){var n=e-V0;ox.add(Xt(n)>180?n+(n>0?360:-360):n)}else Sq=e,Cq=t;ju.point(e,t),kq(e,t)}function Qme(){ju.lineStart()}function exe(){Tq(Sq,Cq),ju.lineEnd(),Xt(ox)>mt&&(Gn=-(Zn=180)),gc[0]=Gn,gc[1]=Zn,Wp=null}function ca(e,t){return(t-=e)<0?t+360:t}function txe(e,t){return e[0]-t[0]}function JL(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function nxe(e){var t,n,r,i,s,a,o;if(fa=Zn=-(Gn=Bs=1/0),Qc=[],Ul(e,Ol),n=Qc.length){for(Qc.sort(txe),t=1,r=Qc[0],s=[r];t<n;++t)i=Qc[t],JL(r,i[0])||JL(r,i[1])?(ca(r[0],i[1])>ca(r[0],r[1])&&(r[1]=i[1]),ca(i[0],r[1])>ca(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(a=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(o=ca(r[1],i[0]))>a&&(a=o,Gn=i[0],Zn=r[1])}return Qc=gc=null,Gn===1/0||Bs===1/0?[[NaN,NaN],[NaN,NaN]]:[[Gn,Bs],[Zn,fa]]}var km,Cb,kb,Tb,Fb,Db,Nb,Ob,o4,u4,l4,Fq,Dq,hs,ds,ps,Lo={sphere:ui,point:W6,lineStart:ZL,lineEnd:QL,polygonStart:function(){Lo.lineStart=sxe,Lo.lineEnd=axe},polygonEnd:function(){Lo.lineStart=ZL,Lo.lineEnd=QL}};function W6(e,t){e*=Rt,t*=Rt;var n=gt(t);cy(n*gt(e),n*lt(e),lt(t))}function cy(e,t,n){++km,kb+=(e-kb)/km,Tb+=(t-Tb)/km,Fb+=(n-Fb)/km}function ZL(){Lo.point=rxe}function rxe(e,t){e*=Rt,t*=Rt;var n=gt(t);hs=n*gt(e),ds=n*lt(e),ps=lt(t),Lo.point=ixe,cy(hs,ds,ps)}function ixe(e,t){e*=Rt,t*=Rt;var n=gt(t),r=n*gt(e),i=n*lt(e),s=lt(t),a=uo(Cs((a=ds*s-ps*i)*a+(a=ps*r-hs*s)*a+(a=hs*i-ds*r)*a),hs*r+ds*i+ps*s);Cb+=a,Db+=a*(hs+(hs=r)),Nb+=a*(ds+(ds=i)),Ob+=a*(ps+(ps=s)),cy(hs,ds,ps)}function QL(){Lo.point=W6}function sxe(){Lo.point=oxe}function axe(){Nq(Fq,Dq),Lo.point=W6}function oxe(e,t){Fq=e,Dq=t,e*=Rt,t*=Rt,Lo.point=Nq;var n=gt(t);hs=n*gt(e),ds=n*lt(e),ps=lt(t),cy(hs,ds,ps)}function Nq(e,t){e*=Rt,t*=Rt;var n=gt(t),r=n*gt(e),i=n*lt(e),s=lt(t),a=ds*s-ps*i,o=ps*r-hs*s,u=hs*i-ds*r,l=t4(a,o,u),c=Qs(l),f=l&&-c/l;o4.add(f*a),u4.add(f*o),l4.add(f*u),Cb+=c,Db+=c*(hs+(hs=r)),Nb+=c*(ds+(ds=i)),Ob+=c*(ps+(ps=s)),cy(hs,ds,ps)}function uxe(e){km=Cb=kb=Tb=Fb=Db=Nb=Ob=0,o4=new _s,u4=new _s,l4=new _s,Ul(e,Lo);var t=+o4,n=+u4,r=+l4,i=t4(t,n,r);return i<e4&&(t=Db,n=Nb,r=Ob,Cb<mt&&(t=kb,n=Tb,r=Fb),i=t4(t,n,r),i<e4)?[NaN,NaN]:[uo(n,t)*ur,Qs(r/i)*ur]}function c4(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function f4(e,t){return Xt(e)>Pt&&(e-=Math.round(e/Ss)*Ss),[e,t]}f4.invert=f4;function Oq(e,t,n){return(e%=Ss)?t||n?c4(tP(e),nP(t,n)):tP(e):t||n?nP(t,n):f4}function eP(e){return function(t,n){return t+=e,Xt(t)>Pt&&(t-=Math.round(t/Ss)*Ss),[t,n]}}function tP(e){var t=eP(e);return t.invert=eP(-e),t}function nP(e,t){var n=gt(e),r=lt(e),i=gt(t),s=lt(t);function a(o,u){var l=gt(u),c=gt(o)*l,f=lt(o)*l,h=lt(u),d=h*n+c*r;return[uo(f*i-d*s,c*n-h*r),Qs(d*i+f*s)]}return a.invert=function(o,u){var l=gt(u),c=gt(o)*l,f=lt(o)*l,h=lt(u),d=h*i-f*s;return[uo(f*i+h*s,c*n+d*r),Qs(d*n-c*r)]},a}function lxe(e){e=Oq(e[0]*Rt,e[1]*Rt,e.length>2?e[2]*Rt:0);function t(n){return n=e(n[0]*Rt,n[1]*Rt),n[0]*=ur,n[1]*=ur,n}return t.invert=function(n){return n=e.invert(n[0]*Rt,n[1]*Rt),n[0]*=ur,n[1]*=ur,n},t}function cxe(e,t,n,r,i,s){if(n){var a=gt(t),o=lt(t),u=r*n;i==null?(i=t+r*Ss,s=t-u/2):(i=rP(a,i),s=rP(a,s),(r>0?i<s:i>s)&&(i+=r*Ss));for(var l,c=i;r>0?c>s:c<s;c-=u)l=Ab([a,-o*gt(c),-o*lt(c)]),e.point(l[0],l[1])}}function rP(e,t){t=Bh(t),t[0]-=e,Sb(t);var n=Eq(-t[1]);return((-t[2]<0?-n:n)+Ss-mt)%Ss}function $q(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:ui,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function iE(e,t){return Xt(e[0]-t[0])<mt&&Xt(e[1]-t[1])<mt}function V_(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Iq(e,t,n,r,i){var s=[],a=[],o,u;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],x=p[g],y;if(iE(m,x)){if(!m[2]&&!x[2]){for(i.lineStart(),o=0;o<g;++o)i.point((m=p[o])[0],m[1]);i.lineEnd();return}x[0]+=2*mt}s.push(y=new V_(m,p,null,!0)),a.push(y.o=new V_(m,null,y,!1)),s.push(y=new V_(x,p,null,!1)),a.push(y.o=new V_(x,null,y,!0))}}),!!s.length){for(a.sort(t),iP(s),iP(a),o=0,u=a.length;o<u;++o)a[o].e=n=!n;for(var l=s[0],c,f;;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,u=c.length;o<u;++o)i.point((f=c[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((f=c[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);i.lineEnd()}}}function iP(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Hk(e){return Xt(e[0])<=Pt?e[0]:Za(e[0])*((Xt(e[0])+Pt)%Ss-Pt)}function fxe(e,t){var n=Hk(t),r=t[1],i=lt(r),s=[lt(n),-gt(n),0],a=0,o=0,u=new _s;i===1?r=rr+mt:i===-1&&(r=-rr-mt);for(var l=0,c=e.length;l<c;++l)if(h=(f=e[l]).length)for(var f,h,d=f[h-1],p=Hk(d),g=d[1]/2+yb,m=lt(g),x=gt(g),y=0;y<h;++y,p=_,m=w,x=b,d=v){var v=f[y],_=Hk(v),E=v[1]/2+yb,w=lt(E),b=gt(E),S=_-p,A=S>=0?1:-1,C=A*S,k=C>Pt,F=m*w;if(u.add(uo(F*A*lt(C),x*b+F*gt(C))),a+=k?S+A*Ss:S,k^p>=n^_>=n){var N=gg(Bh(d),Bh(v));Sb(N);var R=gg(s,N);Sb(R);var D=(k^S>=0?-1:1)*Qs(R[2]);(r>D||r===D&&(N[0]||N[1]))&&(o+=k^S>=0?1:-1)}}return(a<-1e-6||a<mt&&u<-1e-12)^o&1}function Rq(e,t,n,r){return function(i){var s=t(i),a=$q(),o=t(a),u=!1,l,c,f,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=x,h.lineStart=y,h.lineEnd=v,c=[],l=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,c=gG(c);var _=fxe(l,r);c.length?(u||(i.polygonStart(),u=!0),Iq(c,dxe,_,n,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,E){e(_,E)&&i.point(_,E)}function p(_,E){s.point(_,E)}function g(){h.point=p,s.lineStart()}function m(){h.point=d,s.lineEnd()}function x(_,E){f.push([_,E]),o.point(_,E)}function y(){o.lineStart(),f=[]}function v(){x(f[0][0],f[0][1]),o.lineEnd();var _=o.clean(),E=a.result(),w,b=E.length,S,A,C;if(f.pop(),l.push(f),f=null,!!b){if(_&1){if(A=E[0],(S=A.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),w=0;w<S;++w)i.point((C=A[w])[0],C[1]);i.lineEnd()}return}b>1&&_&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(hxe))}}return h}}function hxe(e){return e.length>1}function dxe(e,t){return((e=e.x)[0]<0?e[1]-rr-mt:rr-e[1])-((t=t.x)[0]<0?t[1]-rr-mt:rr-t[1])}const sP=Rq(function(){return!0},pxe,mxe,[-Pt,-rr]);function pxe(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,a){var o=s>0?Pt:-Pt,u=Xt(s-t);Xt(u-Pt)<mt?(e.point(t,n=(n+a)/2>0?rr:-rr),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(s,n),i=0):r!==o&&u>=Pt&&(Xt(t-r)<mt&&(t-=r*mt),Xt(s-o)<mt&&(s-=o*mt),n=gxe(t,n,s,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=s,n=a),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function gxe(e,t,n,r){var i,s,a=lt(e-n);return Xt(a)>mt?o1((lt(t)*(s=gt(r))*lt(n)-lt(r)*(i=gt(t))*lt(e))/(i*s*a)):(t+r)/2}function mxe(e,t,n,r){var i;if(e==null)i=n*rr,r.point(-Pt,i),r.point(0,i),r.point(Pt,i),r.point(Pt,0),r.point(Pt,-i),r.point(0,-i),r.point(-Pt,-i),r.point(-Pt,0),r.point(-Pt,i);else if(Xt(e[0]-t[0])>mt){var s=e[0]<t[0]?Pt:-Pt;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function xxe(e){var t=gt(e),n=2*Rt,r=t>0,i=Xt(t)>mt;function s(c,f,h,d){cxe(d,e,n,h,c,f)}function a(c,f){return gt(c)*gt(f)>t}function o(c){var f,h,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,x){var y=[m,x],v,_=a(m,x),E=r?_?0:l(m,x):_?l(m+(m<0?Pt:-Pt),x):0;if(!f&&(p=d=_)&&c.lineStart(),_!==d&&(v=u(f,y),(!v||iE(f,v)||iE(y,v))&&(y[2]=1)),_!==d)g=0,_?(c.lineStart(),v=u(y,f),c.point(v[0],v[1])):(v=u(f,y),c.point(v[0],v[1],2),c.lineEnd()),f=v;else if(i&&f&&r^_){var w;!(E&h)&&(w=u(y,f,!0))&&(g=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}_&&(!f||!iE(f,y))&&c.point(y[0],y[1]),f=y,d=_,h=E},lineEnd:function(){d&&c.lineEnd(),f=null},clean:function(){return g|(p&&d)<<1}}}function u(c,f,h){var d=Bh(c),p=Bh(f),g=[1,0,0],m=gg(d,p),x=W_(m,m),y=m[0],v=x-y*y;if(!v)return!h&&c;var _=t*x/v,E=-t*y/v,w=gg(g,m),b=H_(g,_),S=H_(m,E);Wk(b,S);var A=w,C=W_(b,A),k=W_(A,A),F=C*C-k*(W_(b,b)-1);if(!(F<0)){var N=Cs(F),R=H_(A,(-C-N)/k);if(Wk(R,b),R=Ab(R),!h)return R;var D=c[0],O=f[0],M=c[1],z=f[1],K;O<D&&(K=D,D=O,O=K);var X=O-D,ve=Xt(X-Pt)<mt,te=ve||X<mt;if(!ve&&z<M&&(K=M,M=z,z=K),te?ve?M+z>0^R[1]<(Xt(R[0]-D)<mt?M:z):M<=R[1]&&R[1]<=z:X>Pt^(D<=R[0]&&R[0]<=O)){var ue=H_(A,(-C+N)/k);return Wk(ue,b),[R,Ab(ue)]}}}function l(c,f){var h=r?e:Pt-e,d=0;return c<-h?d|=1:c>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return Rq(a,o,s,r?[0,-e]:[-Pt,e-Pt])}function vxe(e,t,n,r,i,s){var a=e[0],o=e[1],u=t[0],l=t[1],c=0,f=1,h=u-a,d=l-o,p;if(p=n-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=i-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}if(p=r-o,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=s-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=a+c*h,e[1]=o+c*d),f<1&&(t[0]=a+f*h,t[1]=o+f*d),!0}}}}}var j_=1e9,G_=-1e9;function Mq(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function s(l,c,f,h){var d=0,p=0;if(l==null||(d=a(l,f))!==(p=a(c,f))||u(l,c)<0^f>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+f+4)%4)!==p);else h.point(c[0],c[1])}function a(l,c){return Xt(l[0]-e)<mt?c>0?0:3:Xt(l[0]-n)<mt?c>0?2:1:Xt(l[1]-t)<mt?c>0?1:0:c>0?3:2}function o(l,c){return u(l.x,c.x)}function u(l,c){var f=a(l,1),h=a(c,1);return f!==h?f-h:f===0?c[1]-l[1]:f===1?l[0]-c[0]:f===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,f=$q(),h,d,p,g,m,x,y,v,_,E,w,b={point:S,lineStart:F,lineEnd:N,polygonStart:C,polygonEnd:k};function S(D,O){i(D,O)&&c.point(D,O)}function A(){for(var D=0,O=0,M=d.length;O<M;++O)for(var z=d[O],K=1,X=z.length,ve=z[0],te,ue,le=ve[0],de=ve[1];K<X;++K)te=le,ue=de,ve=z[K],le=ve[0],de=ve[1],ue<=r?de>r&&(le-te)*(r-ue)>(de-ue)*(e-te)&&++D:de<=r&&(le-te)*(r-ue)<(de-ue)*(e-te)&&--D;return D}function C(){c=f,h=[],d=[],w=!0}function k(){var D=A(),O=w&&D,M=(h=gG(h)).length;(O||M)&&(l.polygonStart(),O&&(l.lineStart(),s(null,null,1,l),l.lineEnd()),M&&Iq(h,o,D,s,l),l.polygonEnd()),c=l,h=d=p=null}function F(){b.point=R,d&&d.push(p=[]),E=!0,_=!1,y=v=NaN}function N(){h&&(R(g,m),x&&_&&f.rejoin(),h.push(f.result())),b.point=S,_&&c.lineEnd()}function R(D,O){var M=i(D,O);if(d&&p.push([D,O]),E)g=D,m=O,x=M,E=!1,M&&(c.lineStart(),c.point(D,O));else if(M&&_)c.point(D,O);else{var z=[y=Math.max(G_,Math.min(j_,y)),v=Math.max(G_,Math.min(j_,v))],K=[D=Math.max(G_,Math.min(j_,D)),O=Math.max(G_,Math.min(j_,O))];vxe(z,K,e,t,n,r)?(_||(c.lineStart(),c.point(z[0],z[1])),c.point(K[0],K[1]),M||c.lineEnd(),w=!1):M&&(c.lineStart(),c.point(D,O),w=!1)}y=D,v=O,_=M}return b}}function aP(e,t,n){var r=ma(e,t-mt,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function oP(e,t,n){var r=ma(e,t-mt,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function yxe(){var e,t,n,r,i,s,a,o,u=10,l=u,c=90,f=360,h,d,p,g,m=2.5;function x(){return{type:"MultiLineString",coordinates:y()}}function y(){return ma(z_(r/c)*c,n,c).map(p).concat(ma(z_(o/f)*f,a,f).map(g)).concat(ma(z_(t/u)*u,e,u).filter(function(v){return Xt(v%c)>mt}).map(h)).concat(ma(z_(s/l)*l,i,l).filter(function(v){return Xt(v%f)>mt}).map(d))}return x.lines=function(){return y().map(function(v){return{type:"LineString",coordinates:v}})},x.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(a).slice(1),p(n).reverse().slice(1),g(o).reverse().slice(1))]}},x.extent=function(v){return arguments.length?x.extentMajor(v).extentMinor(v):x.extentMinor()},x.extentMajor=function(v){return arguments.length?(r=+v[0][0],n=+v[1][0],o=+v[0][1],a=+v[1][1],r>n&&(v=r,r=n,n=v),o>a&&(v=o,o=a,a=v),x.precision(m)):[[r,o],[n,a]]},x.extentMinor=function(v){return arguments.length?(t=+v[0][0],e=+v[1][0],s=+v[0][1],i=+v[1][1],t>e&&(v=t,t=e,e=v),s>i&&(v=s,s=i,i=v),x.precision(m)):[[t,s],[e,i]]},x.step=function(v){return arguments.length?x.stepMajor(v).stepMinor(v):x.stepMinor()},x.stepMajor=function(v){return arguments.length?(c=+v[0],f=+v[1],x):[c,f]},x.stepMinor=function(v){return arguments.length?(u=+v[0],l=+v[1],x):[u,l]},x.precision=function(v){return arguments.length?(m=+v,h=aP(s,i,90),d=oP(t,e,m),p=aP(o,a,90),g=oP(r,n,m),x):m},x.extentMajor([[-180,-90+mt],[180,90-mt]]).extentMinor([[-180,-80-mt],[180,80+mt]])}const iv=e=>e;var Vk=new _s,h4=new _s,Lq,Pq,d4,p4,zl={point:ui,lineStart:ui,lineEnd:ui,polygonStart:function(){zl.lineStart=_xe,zl.lineEnd=bxe},polygonEnd:function(){zl.lineStart=zl.lineEnd=zl.point=ui,Vk.add(Xt(h4)),h4=new _s},result:function(){var e=Vk/2;return Vk=new _s,e}};function _xe(){zl.point=Exe}function Exe(e,t){zl.point=Bq,Lq=d4=e,Pq=p4=t}function Bq(e,t){h4.add(p4*e-d4*t),d4=e,p4=t}function bxe(){Bq(Lq,Pq)}var mg=1/0,$b=mg,sv=-mg,Ib=sv,Rb={point:wxe,lineStart:ui,lineEnd:ui,polygonStart:ui,polygonEnd:ui,result:function(){var e=[[mg,$b],[sv,Ib]];return sv=Ib=-($b=mg=1/0),e}};function wxe(e,t){e<mg&&(mg=e),e>sv&&(sv=e),t<$b&&($b=t),t>Ib&&(Ib=t)}var g4=0,m4=0,Tm=0,Mb=0,Lb=0,Sp=0,x4=0,v4=0,Fm=0,Uq,zq,Fu,Du,Ka={point:Uh,lineStart:uP,lineEnd:lP,polygonStart:function(){Ka.lineStart=Cxe,Ka.lineEnd=kxe},polygonEnd:function(){Ka.point=Uh,Ka.lineStart=uP,Ka.lineEnd=lP},result:function(){var e=Fm?[x4/Fm,v4/Fm]:Sp?[Mb/Sp,Lb/Sp]:Tm?[g4/Tm,m4/Tm]:[NaN,NaN];return g4=m4=Tm=Mb=Lb=Sp=x4=v4=Fm=0,e}};function Uh(e,t){g4+=e,m4+=t,++Tm}function uP(){Ka.point=Axe}function Axe(e,t){Ka.point=Sxe,Uh(Fu=e,Du=t)}function Sxe(e,t){var n=e-Fu,r=t-Du,i=Cs(n*n+r*r);Mb+=i*(Fu+e)/2,Lb+=i*(Du+t)/2,Sp+=i,Uh(Fu=e,Du=t)}function lP(){Ka.point=Uh}function Cxe(){Ka.point=Txe}function kxe(){Wq(Uq,zq)}function Txe(e,t){Ka.point=Wq,Uh(Uq=Fu=e,zq=Du=t)}function Wq(e,t){var n=e-Fu,r=t-Du,i=Cs(n*n+r*r);Mb+=i*(Fu+e)/2,Lb+=i*(Du+t)/2,Sp+=i,i=Du*e-Fu*t,x4+=i*(Fu+e),v4+=i*(Du+t),Fm+=i*3,Uh(Fu=e,Du=t)}function Hq(e){this._context=e}Hq.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ss);break}}},result:ui};var y4=new _s,jk,Vq,jq,Dm,Nm,av={point:ui,lineStart:function(){av.point=Fxe},lineEnd:function(){jk&&Gq(Vq,jq),av.point=ui},polygonStart:function(){jk=!0},polygonEnd:function(){jk=null},result:function(){var e=+y4;return y4=new _s,e}};function Fxe(e,t){av.point=Gq,Vq=Dm=e,jq=Nm=t}function Gq(e,t){Dm-=e,Nm-=t,y4.add(Cs(Dm*Dm+Nm*Nm)),Dm=e,Nm=t}let cP,Pb,fP,hP;class dP{constructor(t){this._append=t==null?qq:Dxe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==fP||this._append!==Pb){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,fP=r,Pb=this._append,hP=this._,this._=i}this._+=hP;break}}}result(){const t=this._;return this._="",t.length?t:null}}function qq(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Dxe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return qq;if(t!==cP){const n=10**t;cP=t,Pb=function(i){let s=1;this._+=i[0];for(const a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return Pb}function Xq(e,t){let n=3,r=4.5,i,s;function a(o){return o&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),Ul(o,i(s))),s.result()}return a.area=function(o){return Ul(o,i(zl)),zl.result()},a.measure=function(o){return Ul(o,i(av)),av.result()},a.bounds=function(o){return Ul(o,i(Rb)),Rb.result()},a.centroid=function(o){return Ul(o,i(Ka)),Ka.result()},a.projection=function(o){return arguments.length?(i=o==null?(e=null,iv):(e=o).stream,a):e},a.context=function(o){return arguments.length?(s=o==null?(t=null,new dP(n)):new Hq(t=o),typeof r!="function"&&s.pointRadius(r),a):t},a.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(s.pointRadius(+o),+o),a):r},a.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const u=Math.floor(o);if(!(u>=0))throw new RangeError(`invalid digits: ${o}`);n=u}return t===null&&(s=new dP(n)),a},a.projection(e).digits(n).context(t)}function LA(e){return function(t){var n=new _4;for(var r in e)n[r]=e[r];return n.stream=t,n}}function _4(){}_4.prototype={constructor:_4,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function H6(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Ul(n,e.stream(Rb)),t(Rb.result()),r!=null&&e.clipExtent(r),e}function PA(e,t,n){return H6(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),o=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(s-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,u])},n)}function V6(e,t,n){return PA(e,[[0,0],t],n)}function j6(e,t,n){return H6(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,o=-s*r[0][1];e.scale(150*s).translate([a,o])},n)}function G6(e,t,n){return H6(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],o=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,o])},n)}var pP=16,Nxe=gt(30*Rt);function gP(e,t){return+t?$xe(e,t):Oxe(e)}function Oxe(e){return LA({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function $xe(e,t){function n(r,i,s,a,o,u,l,c,f,h,d,p,g,m){var x=l-r,y=c-i,v=x*x+y*y;if(v>4*t&&g--){var _=a+h,E=o+d,w=u+p,b=Cs(_*_+E*E+w*w),S=Qs(w/=b),A=Xt(Xt(w)-1)<mt||Xt(s-f)<mt?(s+f)/2:uo(E,_),C=e(A,S),k=C[0],F=C[1],N=k-r,R=F-i,D=y*N-x*R;(D*D/v>t||Xt((x*N+y*R)/v-.5)>.3||a*h+o*d+u*p<Nxe)&&(n(r,i,s,a,o,u,k,F,A,_/=b,E/=b,w,g,m),m.point(k,F),n(k,F,A,_,E,w,l,c,f,h,d,p,g,m))}}return function(r){var i,s,a,o,u,l,c,f,h,d,p,g,m={point:x,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),m.lineStart=E},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function x(S,A){S=e(S,A),r.point(S[0],S[1])}function y(){f=NaN,m.point=v,r.lineStart()}function v(S,A){var C=Bh([S,A]),k=e(S,A);n(f,h,c,d,p,g,f=k[0],h=k[1],c=S,d=C[0],p=C[1],g=C[2],pP,r),r.point(f,h)}function _(){m.point=x,r.lineEnd()}function E(){y(),m.point=w,m.lineEnd=b}function w(S,A){v(i=S,A),s=f,a=h,o=d,u=p,l=g,m.point=v}function b(){n(f,h,c,d,p,g,s,a,i,o,u,l,pP,r),m.lineEnd=_,_()}return m}}var Ixe=LA({point:function(e,t){this.stream.point(e*Rt,t*Rt)}});function Rxe(e){return LA({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Mxe(e,t,n,r,i){function s(a,o){return a*=r,o*=i,[t+e*a,n-e*o]}return s.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},s}function mP(e,t,n,r,i,s){if(!s)return Mxe(e,t,n,r,i);var a=gt(s),o=lt(s),u=a*e,l=o*e,c=a/e,f=o/e,h=(o*n-a*t)/e,d=(o*t+a*n)/e;function p(g,m){return g*=r,m*=i,[u*g-l*m+t,n-l*g-u*m]}return p.invert=function(g,m){return[r*(c*g-f*m+h),i*(d-f*g-c*m)]},p}function rl(e){return Kq(function(){return e})()}function Kq(e){var t,n=150,r=480,i=250,s=0,a=0,o=0,u=0,l=0,c,f=0,h=1,d=1,p=null,g=sP,m=null,x,y,v,_=iv,E=.5,w,b,S,A,C;function k(D){return S(D[0]*Rt,D[1]*Rt)}function F(D){return D=S.invert(D[0],D[1]),D&&[D[0]*ur,D[1]*ur]}k.stream=function(D){return A&&C===D?A:A=Ixe(Rxe(c)(g(w(_(C=D)))))},k.preclip=function(D){return arguments.length?(g=D,p=void 0,R()):g},k.postclip=function(D){return arguments.length?(_=D,m=x=y=v=null,R()):_},k.clipAngle=function(D){return arguments.length?(g=+D?xxe(p=D*Rt):(p=null,sP),R()):p*ur},k.clipExtent=function(D){return arguments.length?(_=D==null?(m=x=y=v=null,iv):Mq(m=+D[0][0],x=+D[0][1],y=+D[1][0],v=+D[1][1]),R()):m==null?null:[[m,x],[y,v]]},k.scale=function(D){return arguments.length?(n=+D,N()):n},k.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],N()):[r,i]},k.center=function(D){return arguments.length?(s=D[0]%360*Rt,a=D[1]%360*Rt,N()):[s*ur,a*ur]},k.rotate=function(D){return arguments.length?(o=D[0]%360*Rt,u=D[1]%360*Rt,l=D.length>2?D[2]%360*Rt:0,N()):[o*ur,u*ur,l*ur]},k.angle=function(D){return arguments.length?(f=D%360*Rt,N()):f*ur},k.reflectX=function(D){return arguments.length?(h=D?-1:1,N()):h<0},k.reflectY=function(D){return arguments.length?(d=D?-1:1,N()):d<0},k.precision=function(D){return arguments.length?(w=gP(b,E=D*D),R()):Cs(E)},k.fitExtent=function(D,O){return PA(k,D,O)},k.fitSize=function(D,O){return V6(k,D,O)},k.fitWidth=function(D,O){return j6(k,D,O)},k.fitHeight=function(D,O){return G6(k,D,O)};function N(){var D=mP(n,0,0,h,d,f).apply(null,t(s,a)),O=mP(n,r-D[0],i-D[1],h,d,f);return c=Oq(o,u,l),b=c4(t,O),S=c4(c,b),w=gP(b,E),R()}function R(){return A=C=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&F,N()}}function q6(e){var t=0,n=Pt/3,r=Kq(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*Rt,n=s[1]*Rt):[t*ur,n*ur]},i}function Lxe(e){var t=gt(e);function n(r,i){return[r*t,lt(i)/t]}return n.invert=function(r,i){return[r/t,Qs(i*t)]},n}function Pxe(e,t){var n=lt(e),r=(n+lt(t))/2;if(Xt(r)<mt)return Lxe(e);var i=1+n*(2*r-n),s=Cs(i)/r;function a(o,u){var l=Cs(i-2*r*lt(u))/r;return[l*lt(o*=r),s-l*gt(o)]}return a.invert=function(o,u){var l=s-u,c=uo(o,Xt(l))*Za(l);return l*r<0&&(c-=Pt*Za(o)*Za(l)),[c/r,Qs((i-(o*o+l*l)*r*r)/(2*r))]},a}function Bb(){return q6(Pxe).scale(155.424).center([0,33.6442])}function Yq(){return Bb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Bxe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Uxe(){var e,t,n=Yq(),r,i=Bb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=Bb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,u,l={point:function(h,d){u=[h,d]}};function c(h){var d=h[0],p=h[1];return u=null,r.point(d,p),u||(s.point(d,p),u)||(o.point(d,p),u)}c.invert=function(h){var d=n.scale(),p=n.translate(),g=(h[0]-p[0])/d,m=(h[1]-p[1])/d;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:n).invert(h)},c.stream=function(h){return e&&t===h?e:e=Bxe([n.stream(t=h),i.stream(h),a.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),a.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),a.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),p=+h[0],g=+h[1];return r=n.translate(h).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(l),s=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+mt,g+.12*d+mt],[p-.214*d-mt,g+.234*d-mt]]).stream(l),o=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+mt,g+.166*d+mt],[p-.115*d-mt,g+.234*d-mt]]).stream(l),f()},c.fitExtent=function(h,d){return PA(c,h,d)},c.fitSize=function(h,d){return V6(c,h,d)},c.fitWidth=function(h,d){return j6(c,h,d)},c.fitHeight=function(h,d){return G6(c,h,d)};function f(){return e=t=null,c}return c.scale(1070)}function Jq(e){return function(t,n){var r=gt(t),i=gt(n),s=e(r*i);return s===1/0?[2,0]:[s*i*lt(t),s*lt(n)]}}function fy(e){return function(t,n){var r=Cs(t*t+n*n),i=e(r),s=lt(i),a=gt(i);return[uo(t*s,r*a),Qs(r&&n*s/r)]}}var Zq=Jq(function(e){return Cs(2/(1+e))});Zq.invert=fy(function(e){return 2*Qs(e/2)});function zxe(){return rl(Zq).scale(124.75).clipAngle(180-.001)}var Qq=Jq(function(e){return(e=Eq(e))&&e/lt(e)});Qq.invert=fy(function(e){return e});function Wxe(){return rl(Qq).scale(79.4188).clipAngle(180-.001)}function BA(e,t){return[e,_b(z6((rr+t)/2))]}BA.invert=function(e,t){return[e,2*o1(_q(t))-rr]};function Hxe(){return eX(BA).scale(961/Ss)}function eX(e){var t=rl(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,a=null,o,u,l;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=o=u=l=null:(a=+f[0][0],o=+f[0][1],u=+f[1][0],l=+f[1][1]),c()):a==null?null:[[a,o],[u,l]]};function c(){var f=Pt*r(),h=t(lxe(t.rotate()).invert([0,0]));return s(a==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:e===BA?[[Math.max(h[0]-f,a),o],[Math.min(h[0]+f,u),l]]:[[a,Math.max(h[1]-f,o)],[u,Math.min(h[1]+f,l)]])}return c()}function q_(e){return z6((rr+e)/2)}function Vxe(e,t){var n=gt(e),r=e===t?lt(e):_b(n/gt(t))/_b(q_(t)/q_(e)),i=n*zk(q_(e),r)/r;if(!r)return BA;function s(a,o){i>0?o<-rr+mt&&(o=-rr+mt):o>rr-mt&&(o=rr-mt);var u=i/zk(q_(o),r);return[u*lt(r*a),i-u*gt(r*a)]}return s.invert=function(a,o){var u=i-o,l=Za(r)*Cs(a*a+u*u),c=uo(a,Xt(u))*Za(u);return u*r<0&&(c-=Pt*Za(a)*Za(u)),[c/r,2*o1(zk(i/l,1/r))-rr]},s}function jxe(){return q6(Vxe).scale(109.5).parallels([30,30])}function Ub(e,t){return[e,t]}Ub.invert=Ub;function Gxe(){return rl(Ub).scale(152.63)}function qxe(e,t){var n=gt(e),r=e===t?lt(e):(n-gt(t))/(t-e),i=n/r+e;if(Xt(r)<mt)return Ub;function s(a,o){var u=i-o,l=r*a;return[u*lt(l),i-u*gt(l)]}return s.invert=function(a,o){var u=i-o,l=uo(a,Xt(u))*Za(u);return u*r<0&&(l-=Pt*Za(a)*Za(u)),[l/r,i-Za(r)*Cs(a*a+u*u)]},s}function Xxe(){return q6(qxe).scale(131.154).center([0,13.9389])}var ux=1.340264,lx=-.081106,cx=893e-6,fx=.003796,zb=Cs(3)/2,Kxe=12;function tX(e,t){var n=Qs(zb*lt(t)),r=n*n,i=r*r*r;return[e*gt(n)/(zb*(ux+3*lx*r+i*(7*cx+9*fx*r))),n*(ux+lx*r+i*(cx+fx*r))]}tX.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,a,o,u;s<Kxe&&(o=n*(ux+lx*r+i*(cx+fx*r))-t,u=ux+3*lx*r+i*(7*cx+9*fx*r),n-=a=o/u,r=n*n,i=r*r*r,!(Xt(a)<e4));++s);return[zb*e*(ux+3*lx*r+i*(7*cx+9*fx*r))/gt(n),Qs(lt(n)/zb)]};function Yxe(){return rl(tX).scale(177.158)}function nX(e,t){var n=gt(t),r=gt(e)*n;return[n*lt(e)/r,lt(t)/r]}nX.invert=fy(o1);function Jxe(){return rl(nX).scale(144.049).clipAngle(60)}function Zxe(){var e=1,t=0,n=0,r=1,i=1,s=0,a,o,u=null,l,c,f,h=1,d=1,p=LA({point:function(_,E){var w=v([_,E]);this.stream.point(w[0],w[1])}}),g=iv,m,x;function y(){return h=e*r,d=e*i,m=x=null,v}function v(_){var E=_[0]*h,w=_[1]*d;if(s){var b=w*a-E*o;E=E*a+w*o,w=b}return[E+t,w+n]}return v.invert=function(_){var E=_[0]-t,w=_[1]-n;if(s){var b=w*a+E*o;E=E*a-w*o,w=b}return[E/h,w/d]},v.stream=function(_){return m&&x===_?m:m=p(g(x=_))},v.postclip=function(_){return arguments.length?(g=_,u=l=c=f=null,y()):g},v.clipExtent=function(_){return arguments.length?(g=_==null?(u=l=c=f=null,iv):Mq(u=+_[0][0],l=+_[0][1],c=+_[1][0],f=+_[1][1]),y()):u==null?null:[[u,l],[c,f]]},v.scale=function(_){return arguments.length?(e=+_,y()):e},v.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],y()):[t,n]},v.angle=function(_){return arguments.length?(s=_%360*Rt,o=lt(s),a=gt(s),y()):s*ur},v.reflectX=function(_){return arguments.length?(r=_?-1:1,y()):r<0},v.reflectY=function(_){return arguments.length?(i=_?-1:1,y()):i<0},v.fitExtent=function(_,E){return PA(v,_,E)},v.fitSize=function(_,E){return V6(v,_,E)},v.fitWidth=function(_,E){return j6(v,_,E)},v.fitHeight=function(_,E){return G6(v,_,E)},v}function rX(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}rX.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,a=s*s;n-=i=(n*(1.007226+s*(.015085+a*(-.044475+.028874*s-.005916*a)))-t)/(1.007226+s*(.015085*3+a*(-.044475*7+.028874*9*s-.005916*11*a)))}while(Xt(i)>mt&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function Qxe(){return rl(rX).scale(175.295)}function iX(e,t){return[gt(t)*lt(e),lt(t)]}iX.invert=fy(Qs);function eve(){return rl(iX).scale(249.5).clipAngle(90+mt)}function sX(e,t){var n=gt(t),r=1+gt(e)*n;return[n*lt(e)/r,lt(t)/r]}sX.invert=fy(function(e){return 2*o1(e)});function tve(){return rl(sX).scale(250).clipAngle(142)}function aX(e,t){return[_b(z6((rr+t)/2)),-e]}aX.invert=function(e,t){return[-t,2*o1(_q(e))-rr]};function nve(){var e=eX(aX),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function rve(e,t){return e.parent===t.parent?1:2}function ive(e){return e.reduce(sve,0)/e.length}function sve(e,t){return e+t.x}function ave(e){return 1+e.reduce(ove,0)}function ove(e,t){return Math.max(e,t.y)}function uve(e){for(var t;t=e.children;)e=t[0];return e}function lve(e){for(var t;t=e.children;)e=t[t.length-1];return e}function cve(){var e=rve,t=1,n=1,r=!1;function i(s){var a,o=0;s.eachAfter(function(h){var d=h.children;d?(h.x=ive(d),h.y=ave(d)):(h.x=a?o+=e(h,a):0,h.y=0,a=h)});var u=uve(s),l=lve(s),c=u.x-e(u,l)/2,f=l.x+e(l,u)/2;return s.eachAfter(r?function(h){h.x=(h.x-s.x)*t,h.y=(s.y-h.y)*n}:function(h){h.x=(h.x-c)/(f-c)*t,h.y=(1-(s.y?h.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function fve(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function hve(){return this.eachAfter(fve)}function dve(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function pve(e,t){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(e.call(t,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function gve(e,t){for(var n=this,r=[n],i=[],s,a,o,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function mve(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function xve(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function vve(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function yve(e){for(var t=this,n=_ve(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function _ve(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Eve(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function bve(){return Array.from(this)}function wve(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Ave(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Sve(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function X6(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Tve)):t===void 0&&(t=kve);for(var n=new xg(e),r,i=[n],s,a,o,u;r=i.pop();)if((a=t(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,o=u-1;o>=0;--o)i.push(s=a[o]=new xg(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(oX)}function Cve(){return X6(this).eachBefore(Fve)}function kve(e){return e.children}function Tve(e){return Array.isArray(e)?e[1]:null}function Fve(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function oX(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function xg(e){this.data=e,this.depth=this.height=0,this.parent=null}xg.prototype=X6.prototype={constructor:xg,count:hve,each:dve,eachAfter:gve,eachBefore:pve,find:mve,sum:xve,sort:vve,path:yve,ancestors:Eve,descendants:bve,leaves:wve,links:Ave,copy:Cve,[Symbol.iterator]:Sve};function sE(e){return e==null?null:uX(e)}function uX(e){if(typeof e!="function")throw new Error;return e}function G0(){return 0}function mp(e){return function(){return e}}const Dve=1664525,Nve=1013904223,xP=4294967296;function Ove(){let e=1;return()=>(e=(Dve*e+Nve)%xP)/xP}function $ve(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ive(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function Rve(e,t){for(var n=0,r=(e=Ive(Array.from(e),t)).length,i=[],s,a;n<r;)s=e[n],a&&lX(a,s)?++n:(a=Lve(i=Mve(i,s)),n=0);return a}function Mve(e,t){var n,r;if(Gk(t,e))return[t];for(n=0;n<e.length;++n)if(X_(t,e[n])&&Gk(Om(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(X_(Om(e[n],e[r]),t)&&X_(Om(e[n],t),e[r])&&X_(Om(e[r],t),e[n])&&Gk(cX(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function X_(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function lX(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Gk(e,t){for(var n=0;n<t.length;++n)if(!lX(e,t[n]))return!1;return!0}function Lve(e){switch(e.length){case 1:return Pve(e[0]);case 2:return Om(e[0],e[1]);case 3:return cX(e[0],e[1],e[2])}}function Pve(e){return{x:e.x,y:e.y,r:e.r}}function Om(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,a=t.y,o=t.r,u=s-n,l=a-r,c=o-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+o)/2}}function cX(e,t,n){var r=e.x,i=e.y,s=e.r,a=t.x,o=t.y,u=t.r,l=n.x,c=n.y,f=n.r,h=r-a,d=r-l,p=i-o,g=i-c,m=u-s,x=f-s,y=r*r+i*i-s*s,v=y-a*a-o*o+u*u,_=y-l*l-c*c+f*f,E=d*p-h*g,w=(p*_-g*v)/(E*2)-r,b=(g*m-p*x)/E,S=(d*v-h*_)/(E*2)-i,A=(h*x-d*m)/E,C=b*b+A*A-1,k=2*(s+w*b+S*A),F=w*w+S*S-s*s,N=-(Math.abs(C)>1e-6?(k+Math.sqrt(k*k-4*C*F))/(2*C):F/k);return{x:r+w+b*N,y:i+S+A*N,r:N}}function vP(e,t,n){var r=e.x-t.x,i,s,a=e.y-t.y,o,u,l=r*r+a*a;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),o=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-o*a,n.y=e.y-i*a+o*r):(i=(l+s-u)/(2*l),o=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-o*a,n.y=t.y+i*a+o*r)):(n.x=t.x+n.r,n.y=t.y)}function yP(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function _P(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function K_(e){this._=e,this.next=null,this.previous=null}function Bve(e,t){if(!(s=(e=$ve(e)).length))return 0;var n,r,i,s,a,o,u,l,c,f,h;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;vP(r,n,i=e[2]),n=new K_(n),r=new K_(r),i=new K_(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){vP(n._,r._,i=e[u]),i=new K_(i),l=r.next,c=n.previous,f=r._.r,h=n._.r;do if(f<=h){if(yP(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(yP(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}h+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=_P(n);(i=i.next)!==r;)(o=_P(i))<a&&(n=i,a=o);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Rve(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function Uve(e){return Math.sqrt(e.value)}function zve(){var e=null,t=1,n=1,r=G0;function i(s){const a=Ove();return s.x=t/2,s.y=n/2,e?s.eachBefore(EP(e)).eachAfter(qk(r,.5,a)).eachBefore(bP(1)):s.eachBefore(EP(Uve)).eachAfter(qk(G0,1,a)).eachAfter(qk(r,s.r/Math.min(t,n),a)).eachBefore(bP(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=sE(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:mp(+s),i):r},i}function EP(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function qk(e,t,n){return function(r){if(i=r.children){var i,s,a=i.length,o=e(r)*t||0,u;if(o)for(s=0;s<a;++s)i[s].r+=o;if(u=Bve(i,n),o)for(s=0;s<a;++s)i[s].r-=o;r.r=u+o}}}function bP(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function fX(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function hy(e,t,n,r,i){for(var s=e.children,a,o=-1,u=s.length,l=e.value&&(r-t)/e.value;++o<u;)a=s[o],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l}function Wve(){var e=1,t=1,n=0,r=!1;function i(a){var o=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/o,a.eachBefore(s(t,o)),r&&a.eachBefore(fX),a}function s(a,o){return function(u){u.children&&hy(u,u.x0,a*(u.depth+1)/o,u.x1,a*(u.depth+2)/o);var l=u.x0,c=u.y0,f=u.x1-n,h=u.y1-n;f<l&&(l=f=(l+f)/2),h<c&&(c=h=(c+h)/2),u.x0=l,u.y0=c,u.x1=f,u.y1=h}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(e=+a[0],t=+a[1],i):[e,t]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var Hve={depth:-1},wP={},Xk={};function Vve(e){return e.id}function jve(e){return e.parentId}function AP(){var e=Vve,t=jve,n;function r(i){var s=Array.from(i),a=e,o=t,u,l,c,f,h,d,p,g,m=new Map;if(n!=null){const x=s.map((_,E)=>Gve(n(_,E,i))),y=x.map(SP),v=new Set(x).add("");for(const _ of y)v.has(_)||(v.add(_),x.push(_),y.push(SP(_)),s.push(Xk));a=(_,E)=>x[E],o=(_,E)=>y[E]}for(c=0,u=s.length;c<u;++c)l=s[c],d=s[c]=new xg(l),(p=a(l,c,i))!=null&&(p+="")&&(g=d.id=p,m.set(g,m.has(g)?wP:d)),(p=o(l,c,i))!=null&&(p+="")&&(d.parent=p);for(c=0;c<u;++c)if(d=s[c],p=d.parent){if(h=m.get(p),!h)throw new Error("missing: "+p);if(h===wP)throw new Error("ambiguous: "+p);h.children?h.children.push(d):h.children=[d],d.parent=h}else{if(f)throw new Error("multiple roots");f=d}if(!f)throw new Error("no root");if(n!=null){for(;f.data===Xk&&f.children.length===1;)f=f.children[0],--u;for(let x=s.length-1;x>=0&&(d=s[x],d.data===Xk);--x)d.data=null}if(f.parent=Hve,f.eachBefore(function(x){x.depth=x.parent.depth+1,--u}).eachBefore(oX),f.parent=null,u>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=sE(i),r):e},r.parentId=function(i){return arguments.length?(t=sE(i),r):t},r.path=function(i){return arguments.length?(n=sE(i),r):n},r}function Gve(e){e=`${e}`;let t=e.length;return E4(e,t-1)&&!E4(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function SP(e){let t=e.length;if(t<2)return"";for(;--t>1&&!E4(e,t););return e.slice(0,t)}function E4(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function qve(e,t){return e.parent===t.parent?1:2}function Kk(e){var t=e.children;return t?t[0]:e.t}function Yk(e){var t=e.children;return t?t[t.length-1]:e.t}function Xve(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Kve(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function Yve(e,t,n){return e.a.parent===t.parent?e.a:n}function aE(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}aE.prototype=Object.create(xg.prototype);function Jve(e){for(var t=new aE(e,0),n,r=[t],i,s,a,o;n=r.pop();)if(s=n._.children)for(n.children=new Array(o=s.length),a=o-1;a>=0;--a)r.push(i=n.children[a]=new aE(s[a],a)),i.parent=n;return(t.parent=new aE(null,0)).children=[t],t}function Zve(){var e=qve,t=1,n=1,r=null;function i(l){var c=Jve(l);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(a),r)l.eachBefore(u);else{var f=l,h=l,d=l;l.eachBefore(function(y){y.x<f.x&&(f=y),y.x>h.x&&(h=y),y.depth>d.depth&&(d=y)});var p=f===h?1:e(f,h)/2,g=p-f.x,m=t/(h.x+p+g),x=n/(d.depth||1);l.eachBefore(function(y){y.x=(y.x+g)*m,y.y=y.depth*x})}return l}function s(l){var c=l.children,f=l.parent.children,h=l.i?f[l.i-1]:null;if(c){Kve(l);var d=(c[0].z+c[c.length-1].z)/2;h?(l.z=h.z+e(l._,h._),l.m=l.z-d):l.z=d}else h&&(l.z=h.z+e(l._,h._));l.parent.A=o(l,h,l.parent.A||f[0])}function a(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function o(l,c,f){if(c){for(var h=l,d=l,p=c,g=h.parent.children[0],m=h.m,x=d.m,y=p.m,v=g.m,_;p=Yk(p),h=Kk(h),p&&h;)g=Kk(g),d=Yk(d),d.a=l,_=p.z+y-h.z-m+e(p._,h._),_>0&&(Xve(Yve(p,l,f),l,_),m+=_,x+=_),y+=p.m,m+=h.m,v+=g.m,x+=d.m;p&&!Yk(d)&&(d.t=p,d.m+=y-x),h&&!Kk(g)&&(g.t=h,g.m+=m-v,f=l)}return f}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i}function UA(e,t,n,r,i){for(var s=e.children,a,o=-1,u=s.length,l=e.value&&(i-n)/e.value;++o<u;)a=s[o],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*l}var hX=(1+Math.sqrt(5))/2;function dX(e,t,n,r,i,s){for(var a=[],o=t.children,u,l,c=0,f=0,h=o.length,d,p,g=t.value,m,x,y,v,_,E,w;c<h;){d=i-n,p=s-r;do m=o[f++].value;while(!m&&f<h);for(x=y=m,E=Math.max(p/d,d/p)/(g*e),w=m*m*E,_=Math.max(y/w,w/x);f<h;++f){if(m+=l=o[f].value,l<x&&(x=l),l>y&&(y=l),w=m*m*E,v=Math.max(y/w,w/x),v>_){m-=l;break}_=v}a.push(u={value:m,dice:d<p,children:o.slice(c,f)}),u.dice?hy(u,n,r,i,g?r+=p*m/g:s):UA(u,n,r,g?n+=d*m/g:i,s),g-=m,c=f}return a}const pX=function e(t){function n(r,i,s,a,o){dX(t,r,i,s,a,o)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(hX);function Qve(){var e=pX,t=!1,n=1,r=1,i=[0],s=G0,a=G0,o=G0,u=G0,l=G0;function c(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(f),i=[0],t&&h.eachBefore(fX),h}function f(h){var d=i[h.depth],p=h.x0+d,g=h.y0+d,m=h.x1-d,x=h.y1-d;m<p&&(p=m=(p+m)/2),x<g&&(g=x=(g+x)/2),h.x0=p,h.y0=g,h.x1=m,h.y1=x,h.children&&(d=i[h.depth+1]=s(h)/2,p+=l(h)-d,g+=a(h)-d,m-=o(h)-d,x-=u(h)-d,m<p&&(p=m=(p+m)/2),x<g&&(g=x=(g+x)/2),e(h,p,g,m,x))}return c.round=function(h){return arguments.length?(t=!!h,c):t},c.size=function(h){return arguments.length?(n=+h[0],r=+h[1],c):[n,r]},c.tile=function(h){return arguments.length?(e=uX(h),c):e},c.padding=function(h){return arguments.length?c.paddingInner(h).paddingOuter(h):c.paddingInner()},c.paddingInner=function(h){return arguments.length?(s=typeof h=="function"?h:mp(+h),c):s},c.paddingOuter=function(h){return arguments.length?c.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):c.paddingTop()},c.paddingTop=function(h){return arguments.length?(a=typeof h=="function"?h:mp(+h),c):a},c.paddingRight=function(h){return arguments.length?(o=typeof h=="function"?h:mp(+h),c):o},c.paddingBottom=function(h){return arguments.length?(u=typeof h=="function"?h:mp(+h),c):u},c.paddingLeft=function(h){return arguments.length?(l=typeof h=="function"?h:mp(+h),c):l},c}function eye(e,t,n,r,i){var s=e.children,a,o=s.length,u,l=new Array(o+1);for(l[0]=u=a=0;a<o;++a)l[a+1]=u+=s[a].value;c(0,o,e.value,t,n,r,i);function c(f,h,d,p,g,m,x){if(f>=h-1){var y=s[f];y.x0=p,y.y0=g,y.x1=m,y.y1=x;return}for(var v=l[f],_=d/2+v,E=f+1,w=h-1;E<w;){var b=E+w>>>1;l[b]<_?E=b+1:w=b}_-l[E-1]<l[E]-_&&f+1<E&&--E;var S=l[E]-v,A=d-S;if(m-p>x-g){var C=d?(p*A+m*S)/d:m;c(f,E,S,p,g,C,x),c(E,h,A,C,g,m,x)}else{var k=d?(g*A+x*S)/d:x;c(f,E,S,p,g,m,k),c(E,h,A,p,k,m,x)}}}function tye(e,t,n,r,i){(e.depth&1?UA:hy)(e,t,n,r,i)}const nye=function e(t){function n(r,i,s,a,o){if((u=r._squarify)&&u.ratio===t)for(var u,l,c,f,h=-1,d,p=u.length,g=r.value;++h<p;){for(l=u[h],c=l.children,f=l.value=0,d=c.length;f<d;++f)l.value+=c[f].value;l.dice?hy(l,i,s,a,g?s+=(o-s)*l.value/g:o):UA(l,i,s,g?i+=(a-i)*l.value/g:a,o),g-=l.value}else r._squarify=u=dX(t,r,i,s,a,o),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(hX);function il(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function i0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b4=Symbol("implicit");function K6(){var e=new fL,t=[],n=[],r=b4;function i(s){let a=e.get(s);if(a===void 0){if(r!==b4)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new fL;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return K6(t,n).unknown(r)},il.apply(i,arguments),i}function rye(e){return function(){return e}}function w4(e){return+e}var CP=[0,1];function Xs(e){return e}function A4(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rye(isNaN(t)?NaN:.5)}function iye(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sye(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=A4(i,r),s=n(a,s)):(r=A4(r,i),s=n(s,a)),function(o){return s(r(o))}}function aye(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=A4(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var u=Df(e,o,1,r)-1;return s[u](i[u](o))}}function dy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zA(){var e=CP,t=CP,n=r0,r,i,s,a=Xs,o,u,l;function c(){var h=Math.min(e.length,t.length);return a!==Xs&&(a=iye(e[0],e[h-1])),o=h>2?aye:sye,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?s:(u||(u=o(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((l||(l=o(t,e.map(r),qa)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,w4),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=uy,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Xs,c()):a!==Xs},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,c()}}function gX(){return zA()(Xs,Xs)}function mX(e,t,n,r){var i=Nf(e,t,n),s;switch(r=Ph(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=vq(i,a))&&(r.precision=s),U6(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=yq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=xq(i))&&(r.precision=s-(r.type==="%")*2);break}}return MA(r)}function _d(e){var t=e.domain;return e.ticks=function(n){var r=t();return U3(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return mX(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],u,l,c=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);c-- >0;){if(l=z3(a,o,n),l===u)return r[i]=a,r[s]=o,t(r);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;u=l}return e},e}function xX(){var e=gX();return e.copy=function(){return dy(e,xX())},il.apply(e,arguments),_d(e)}function vX(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,w4),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vX(e).unknown(t)},e=arguments.length?Array.from(e,w4):[0,1],_d(n)}function yX(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function kP(e){return Math.log(e)}function TP(e){return Math.exp(e)}function oye(e){return-Math.log(-e)}function uye(e){return-Math.exp(-e)}function lye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cye(e){return e===10?lye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FP(e){return(t,n)=>-e(-t,n)}function Y6(e){const t=e(kP,TP),n=t.domain;let r=10,i,s;function a(){return i=fye(r),s=cye(r),n()[0]<0?(i=FP(i),s=FP(s),e(oye,uye)):e(kP,TP),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let h=i(l),d=i(c),p,g;const m=o==null?10:+o;let x=[];if(!(r%1)&&d-h<m){if(h=Math.floor(h),d=Math.ceil(d),l>0){for(;h<=d;++h)for(p=1;p<r;++p)if(g=h<0?p/s(-h):p*s(h),!(g<l)){if(g>c)break;x.push(g)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<l)){if(g>c)break;x.push(g)}x.length*2<m&&(x=U3(l,c,m))}else x=U3(h,d,Math.min(d-h,m)).map(s);return f?x.reverse():x},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ph(u)).precision==null&&(u.trim=!0),u=MA(u)),o===1/0)return u;const l=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/s(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},t.nice=()=>n(yX(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function _X(){const e=Y6(zA()).domain([1,10]);return e.copy=()=>dy(e,_X()).base(e.base()),il.apply(e,arguments),e}function DP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function NP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function J6(e){var t=1,n=e(DP(t),NP(t));return n.constant=function(r){return arguments.length?e(DP(t=+r),NP(t)):t},_d(n)}function EX(){var e=J6(zA());return e.copy=function(){return dy(e,EX()).constant(e.constant())},il.apply(e,arguments)}function OP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dye(e){return e<0?-e*e:e*e}function Z6(e){var t=e(Xs,Xs),n=1;function r(){return n===1?e(Xs,Xs):n===.5?e(hye,dye):e(OP(n),OP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},_d(t)}function Q6(){var e=Z6(zA());return e.copy=function(){return dy(e,Q6()).exponent(e.exponent())},il.apply(e,arguments),e}function pye(){return Q6.apply(null,arguments).exponent(.5)}function bX(){var e=[],t=[],n=[],r;function i(){var a=0,o=Math.max(1,t.length);for(n=new Array(o-1);++a<o;)n[a-1]=dG(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:t[Df(n,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Zl),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return bX().domain(e).range(t).unknown(r)},il.apply(s,arguments)}function wX(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[Df(r,u,0,n)]:s}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return wX().domain([e,t]).range(i).unknown(s)},il.apply(_d(a),arguments)}function AX(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Df(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return AX().domain(e).range(t).unknown(n)},il.apply(i,arguments)}const Jk=new Date,Zk=new Date;function Mr(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let l;do u.push(l=new Date(+s)),t(s,o),e(s);while(l<s&&s<a);return u},i.filter=s=>Mr(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(Jk.setTime(+s),Zk.setTime(+a),e(Jk),e(Zk),Math.floor(n(Jk,Zk))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const vg=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vg);vg.range;const Hl=1e3,Qa=Hl*60,Vl=Qa*60,mc=Vl*24,e8=mc*7,$P=mc*30,Qk=mc*365,jl=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCSeconds());jl.range;const WA=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getMinutes());WA.range;const HA=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getUTCMinutes());HA.range;const VA=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl-e.getMinutes()*Qa)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getHours());VA.range;const jA=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCHours());jA.range;const ec=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qa)/mc,e=>e.getDate()-1);ec.range;const _f=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>e.getUTCDate()-1);_f.range;const SX=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>Math.floor(e/mc));SX.range;function Ed(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qa)/e8)}const u1=Ed(0),Wb=Ed(1),gye=Ed(2),mye=Ed(3),yg=Ed(4),xye=Ed(5),vye=Ed(6);u1.range;Wb.range;gye.range;mye.range;yg.range;xye.range;vye.range;function bd(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/e8)}const l1=bd(0),Hb=bd(1),yye=bd(2),_ye=bd(3),_g=bd(4),Eye=bd(5),bye=bd(6);l1.range;Hb.range;yye.range;_ye.range;_g.range;Eye.range;bye.range;const ov=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ov.range;const uv=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uv.range;const Gu=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Gu.range;const qu=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});qu.range;function CX(e,t,n,r,i,s){const a=[[jl,1,Hl],[jl,5,5*Hl],[jl,15,15*Hl],[jl,30,30*Hl],[s,1,Qa],[s,5,5*Qa],[s,15,15*Qa],[s,30,30*Qa],[i,1,Vl],[i,3,3*Vl],[i,6,6*Vl],[i,12,12*Vl],[r,1,mc],[r,2,2*mc],[n,1,e8],[t,1,$P],[t,3,3*$P],[e,1,Qk]];function o(l,c,f){const h=c<l;h&&([l,c]=[c,l]);const d=f&&typeof f.range=="function"?f:u(l,c,f),p=d?d.range(l,+c+1):[];return h?p.reverse():p}function u(l,c,f){const h=Math.abs(c-l)/f,d=s1(([,,m])=>m).right(a,h);if(d===a.length)return e.every(Nf(l/Qk,c/Qk,f));if(d===0)return vg.every(Math.max(Nf(l,c,f),1));const[p,g]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return p.every(g)}return[o,u]}const[wye,Aye]=CX(qu,uv,l1,SX,jA,HA),[Sye,Cye]=CX(Gu,ov,u1,ec,VA,WA);function eT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function J1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,u=e.shortMonths,l=Z1(i),c=Q1(i),f=Z1(s),h=Q1(s),d=Z1(a),p=Q1(a),g=Z1(o),m=Q1(o),x=Z1(u),y=Q1(u),v={a:M,A:z,b:K,B:X,c:null,d:BP,e:BP,f:Kye,g:s_e,G:o_e,H:Gye,I:qye,j:Xye,L:TX,m:Yye,M:Jye,p:ve,q:te,Q:WP,s:HP,S:Zye,u:Qye,U:e_e,V:t_e,w:n_e,W:r_e,x:null,X:null,y:i_e,Y:a_e,Z:u_e,"%":zP},_={a:ue,A:le,b:de,B:ke,c:null,d:UP,e:UP,f:h_e,g:b_e,G:A_e,H:l_e,I:c_e,j:f_e,L:DX,m:d_e,M:p_e,p:He,q:B,Q:WP,s:HP,S:g_e,u:m_e,U:x_e,V:v_e,w:y_e,W:__e,x:null,X:null,y:E_e,Y:w_e,Z:S_e,"%":zP},E={a:C,A:k,b:F,B:N,c:R,d:LP,e:LP,f:Wye,g:MP,G:RP,H:PP,I:PP,j:Pye,L:zye,m:Lye,M:Bye,p:A,q:Mye,Q:Vye,s:jye,S:Uye,u:Nye,U:Oye,V:$ye,w:Dye,W:Iye,x:D,X:O,y:MP,Y:RP,Z:Rye,"%":Hye};v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_);function w(j,G){return function(W){var Y=[],T=-1,L=0,J=j.length,Z,ee,ne;for(W instanceof Date||(W=new Date(+W));++T<J;)j.charCodeAt(T)===37&&(Y.push(j.slice(L,T)),(ee=IP[Z=j.charAt(++T)])!=null?Z=j.charAt(++T):ee=Z==="e"?" ":"0",(ne=G[Z])&&(Z=ne(W,ee)),Y.push(Z),L=T+1);return Y.push(j.slice(L,T)),Y.join("")}}function b(j,G){return function(W){var Y=J1(1900,void 0,1),T=S(Y,j,W+="",0),L,J;if(T!=W.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(G&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(L=tT(J1(Y.y,0,1)),J=L.getUTCDay(),L=J>4||J===0?Hb.ceil(L):Hb(L),L=_f.offset(L,(Y.V-1)*7),Y.y=L.getUTCFullYear(),Y.m=L.getUTCMonth(),Y.d=L.getUTCDate()+(Y.w+6)%7):(L=eT(J1(Y.y,0,1)),J=L.getDay(),L=J>4||J===0?Wb.ceil(L):Wb(L),L=ec.offset(L,(Y.V-1)*7),Y.y=L.getFullYear(),Y.m=L.getMonth(),Y.d=L.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),J="Z"in Y?tT(J1(Y.y,0,1)).getUTCDay():eT(J1(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(J+5)%7:Y.w+Y.U*7-(J+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,tT(Y)):eT(Y)}}function S(j,G,W,Y){for(var T=0,L=G.length,J=W.length,Z,ee;T<L;){if(Y>=J)return-1;if(Z=G.charCodeAt(T++),Z===37){if(Z=G.charAt(T++),ee=E[Z in IP?G.charAt(T++):Z],!ee||(Y=ee(j,W,Y))<0)return-1}else if(Z!=W.charCodeAt(Y++))return-1}return Y}function A(j,G,W){var Y=l.exec(G.slice(W));return Y?(j.p=c.get(Y[0].toLowerCase()),W+Y[0].length):-1}function C(j,G,W){var Y=d.exec(G.slice(W));return Y?(j.w=p.get(Y[0].toLowerCase()),W+Y[0].length):-1}function k(j,G,W){var Y=f.exec(G.slice(W));return Y?(j.w=h.get(Y[0].toLowerCase()),W+Y[0].length):-1}function F(j,G,W){var Y=x.exec(G.slice(W));return Y?(j.m=y.get(Y[0].toLowerCase()),W+Y[0].length):-1}function N(j,G,W){var Y=g.exec(G.slice(W));return Y?(j.m=m.get(Y[0].toLowerCase()),W+Y[0].length):-1}function R(j,G,W){return S(j,t,G,W)}function D(j,G,W){return S(j,n,G,W)}function O(j,G,W){return S(j,r,G,W)}function M(j){return a[j.getDay()]}function z(j){return s[j.getDay()]}function K(j){return u[j.getMonth()]}function X(j){return o[j.getMonth()]}function ve(j){return i[+(j.getHours()>=12)]}function te(j){return 1+~~(j.getMonth()/3)}function ue(j){return a[j.getUTCDay()]}function le(j){return s[j.getUTCDay()]}function de(j){return u[j.getUTCMonth()]}function ke(j){return o[j.getUTCMonth()]}function He(j){return i[+(j.getUTCHours()>=12)]}function B(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var G=w(j+="",v);return G.toString=function(){return j},G},parse:function(j){var G=b(j+="",!1);return G.toString=function(){return j},G},utcFormat:function(j){var G=w(j+="",_);return G.toString=function(){return j},G},utcParse:function(j){var G=b(j+="",!0);return G.toString=function(){return j},G}}}var IP={"-":"",_:" ",0:"0"},Qr=/^\s*\d+/,kye=/^%/,Tye=/[\\^$*+?|[\]().{}]/g;function rn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Fye(e){return e.replace(Tye,"\\$&")}function Z1(e){return new RegExp("^(?:"+e.map(Fye).join("|")+")","i")}function Q1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Dye(e,t,n){var r=Qr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Nye(e,t,n){var r=Qr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Oye(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function $ye(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Iye(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function RP(e,t,n){var r=Qr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function MP(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mye(e,t,n){var r=Qr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Lye(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function LP(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Pye(e,t,n){var r=Qr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PP(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bye(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Uye(e,t,n){var r=Qr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function zye(e,t,n){var r=Qr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Wye(e,t,n){var r=Qr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hye(e,t,n){var r=kye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Vye(e,t,n){var r=Qr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jye(e,t,n){var r=Qr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function BP(e,t){return rn(e.getDate(),t,2)}function Gye(e,t){return rn(e.getHours(),t,2)}function qye(e,t){return rn(e.getHours()%12||12,t,2)}function Xye(e,t){return rn(1+ec.count(Gu(e),e),t,3)}function TX(e,t){return rn(e.getMilliseconds(),t,3)}function Kye(e,t){return TX(e,t)+"000"}function Yye(e,t){return rn(e.getMonth()+1,t,2)}function Jye(e,t){return rn(e.getMinutes(),t,2)}function Zye(e,t){return rn(e.getSeconds(),t,2)}function Qye(e){var t=e.getDay();return t===0?7:t}function e_e(e,t){return rn(u1.count(Gu(e)-1,e),t,2)}function FX(e){var t=e.getDay();return t>=4||t===0?yg(e):yg.ceil(e)}function t_e(e,t){return e=FX(e),rn(yg.count(Gu(e),e)+(Gu(e).getDay()===4),t,2)}function n_e(e){return e.getDay()}function r_e(e,t){return rn(Wb.count(Gu(e)-1,e),t,2)}function i_e(e,t){return rn(e.getFullYear()%100,t,2)}function s_e(e,t){return e=FX(e),rn(e.getFullYear()%100,t,2)}function a_e(e,t){return rn(e.getFullYear()%1e4,t,4)}function o_e(e,t){var n=e.getDay();return e=n>=4||n===0?yg(e):yg.ceil(e),rn(e.getFullYear()%1e4,t,4)}function u_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rn(t/60|0,"0",2)+rn(t%60,"0",2)}function UP(e,t){return rn(e.getUTCDate(),t,2)}function l_e(e,t){return rn(e.getUTCHours(),t,2)}function c_e(e,t){return rn(e.getUTCHours()%12||12,t,2)}function f_e(e,t){return rn(1+_f.count(qu(e),e),t,3)}function DX(e,t){return rn(e.getUTCMilliseconds(),t,3)}function h_e(e,t){return DX(e,t)+"000"}function d_e(e,t){return rn(e.getUTCMonth()+1,t,2)}function p_e(e,t){return rn(e.getUTCMinutes(),t,2)}function g_e(e,t){return rn(e.getUTCSeconds(),t,2)}function m_e(e){var t=e.getUTCDay();return t===0?7:t}function x_e(e,t){return rn(l1.count(qu(e)-1,e),t,2)}function NX(e){var t=e.getUTCDay();return t>=4||t===0?_g(e):_g.ceil(e)}function v_e(e,t){return e=NX(e),rn(_g.count(qu(e),e)+(qu(e).getUTCDay()===4),t,2)}function y_e(e){return e.getUTCDay()}function __e(e,t){return rn(Hb.count(qu(e)-1,e),t,2)}function E_e(e,t){return rn(e.getUTCFullYear()%100,t,2)}function b_e(e,t){return e=NX(e),rn(e.getUTCFullYear()%100,t,2)}function w_e(e,t){return rn(e.getUTCFullYear()%1e4,t,4)}function A_e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_g(e):_g.ceil(e),rn(e.getUTCFullYear()%1e4,t,4)}function S_e(){return"+0000"}function zP(){return"%"}function WP(e){return+e}function HP(e){return Math.floor(+e/1e3)}var tp,t8,OX,n8,$X;C_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function C_e(e){return tp=kX(e),t8=tp.format,OX=tp.parse,n8=tp.utcFormat,$X=tp.utcParse,tp}function k_e(e){return new Date(e)}function T_e(e){return e instanceof Date?+e:+new Date(+e)}function r8(e,t,n,r,i,s,a,o,u,l){var c=gX(),f=c.invert,h=c.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),x=l("%a %d"),y=l("%b %d"),v=l("%B"),_=l("%Y");function E(w){return(u(w)<w?d:o(w)<w?p:a(w)<w?g:s(w)<w?m:r(w)<w?i(w)<w?x:y:n(w)<w?v:_)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?h(Array.from(w,T_e)):h().map(k_e)},c.ticks=function(w){var b=h();return e(b[0],b[b.length-1],w??10)},c.tickFormat=function(w,b){return b==null?E:l(b)},c.nice=function(w){var b=h();return(!w||typeof w.range!="function")&&(w=t(b[0],b[b.length-1],w??10)),w?h(yX(b,w)):c},c.copy=function(){return dy(c,r8(e,t,n,r,i,s,a,o,u,l))},c}function F_e(){return il.apply(r8(Sye,Cye,Gu,ov,u1,ec,VA,WA,jl,t8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D_e(){return il.apply(r8(wye,Aye,qu,uv,l1,_f,jA,HA,jl,n8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function GA(){var e=0,t=1,n,r,i,s,a=Xs,o=!1,u;function l(f){return f==null||isNaN(f=+f)?u:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(o=!!f,l):o},l.interpolator=function(f){return arguments.length?(a=f,l):a};function c(f){return function(h){var d,p;return arguments.length?([d,p]=h,a=f(d,p),l):[a(0),a(1)]}}return l.range=c(r0),l.rangeRound=c(uy),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),l}}function s0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function i8(){var e=_d(GA()(Xs));return e.copy=function(){return s0(e,i8())},i0.apply(e,arguments)}function IX(){var e=Y6(GA()).domain([1,10]);return e.copy=function(){return s0(e,IX()).base(e.base())},i0.apply(e,arguments)}function RX(){var e=J6(GA());return e.copy=function(){return s0(e,RX()).constant(e.constant())},i0.apply(e,arguments)}function s8(){var e=Z6(GA());return e.copy=function(){return s0(e,s8()).exponent(e.exponent())},i0.apply(e,arguments)}function N_e(){return s8.apply(null,arguments).exponent(.5)}function qA(){var e=0,t=.5,n=1,r=1,i,s,a,o,u,l=Xs,c,f=!1,h;function d(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-s)*(r*g<r*s?o:u),l(f?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),s=c(t=+t),a=c(n=+n),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,d):[e,t,n]},d.clamp=function(g){return arguments.length?(f=!!g,d):f},d.interpolator=function(g){return arguments.length?(l=g,d):l};function p(g){return function(m){var x,y,v;return arguments.length?([x,y,v]=m,l=N6(g,[x,y,v]),d):[l(0),l(.5),l(1)]}}return d.range=p(r0),d.rangeRound=p(uy),d.unknown=function(g){return arguments.length?(h=g,d):h},function(g){return c=g,i=g(e),s=g(t),a=g(n),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,d}}function MX(){var e=_d(qA()(Xs));return e.copy=function(){return s0(e,MX())},i0.apply(e,arguments)}function LX(){var e=Y6(qA()).domain([.1,1,10]);return e.copy=function(){return s0(e,LX()).base(e.base())},i0.apply(e,arguments)}function PX(){var e=J6(qA());return e.copy=function(){return s0(e,PX()).constant(e.constant())},i0.apply(e,arguments)}function a8(){var e=Z6(qA());return e.copy=function(){return s0(e,a8()).exponent(e.exponent())},i0.apply(e,arguments)}function O_e(){return a8.apply(null,arguments).exponent(.5)}function sl(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const $_e=sl("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),I_e=sl("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),R_e=sl("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),M_e=sl("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),L_e=sl("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),P_e=sl("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),B_e=sl("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),U_e=sl("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),z_e=sl("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),W_e=sl("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function hn(e){return function(){return e}}const VP=Math.abs,Ei=Math.atan2,T0=Math.cos,H_e=Math.max,nT=Math.min,pu=Math.sin,nh=Math.sqrt,wi=1e-12,Eg=Math.PI,Vb=Eg/2,BX=2*Eg;function V_e(e){return e>1?0:e<-1?Eg:Math.acos(e)}function jP(e){return e>=1?Vb:e<=-1?-Vb:Math.asin(e)}function XA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new R6(t)}function j_e(e){return e.innerRadius}function G_e(e){return e.outerRadius}function q_e(e){return e.startAngle}function X_e(e){return e.endAngle}function K_e(e){return e&&e.padAngle}function Y_e(e,t,n,r,i,s,a,o){var u=n-e,l=r-t,c=a-i,f=o-s,h=f*u-c*l;if(!(h*h<wi))return h=(c*(t-s)-f*(e-i))/h,[e+h*u,t+h*l]}function Y_(e,t,n,r,i,s,a){var o=e-n,u=t-r,l=(a?s:-s)/nh(o*o+u*u),c=l*u,f=-l*o,h=e+c,d=t+f,p=n+c,g=r+f,m=(h+p)/2,x=(d+g)/2,y=p-h,v=g-d,_=y*y+v*v,E=i-s,w=h*g-p*d,b=(v<0?-1:1)*nh(H_e(0,E*E*_-w*w)),S=(w*v-y*b)/_,A=(-w*y-v*b)/_,C=(w*v+y*b)/_,k=(-w*y+v*b)/_,F=S-m,N=A-x,R=C-m,D=k-x;return F*F+N*N>R*R+D*D&&(S=C,A=k),{cx:S,cy:A,x01:-c,y01:-f,x11:S*(i/E-1),y11:A*(i/E-1)}}function J_e(){var e=j_e,t=G_e,n=hn(0),r=null,i=q_e,s=X_e,a=K_e,o=null,u=XA(l);function l(){var c,f,h=+e.apply(this,arguments),d=+t.apply(this,arguments),p=i.apply(this,arguments)-Vb,g=s.apply(this,arguments)-Vb,m=VP(g-p),x=g>p;if(o||(o=c=u()),d<h&&(f=d,d=h,h=f),!(d>wi))o.moveTo(0,0);else if(m>BX-wi)o.moveTo(d*T0(p),d*pu(p)),o.arc(0,0,d,p,g,!x),h>wi&&(o.moveTo(h*T0(g),h*pu(g)),o.arc(0,0,h,g,p,x));else{var y=p,v=g,_=p,E=g,w=m,b=m,S=a.apply(this,arguments)/2,A=S>wi&&(r?+r.apply(this,arguments):nh(h*h+d*d)),C=nT(VP(d-h)/2,+n.apply(this,arguments)),k=C,F=C,N,R;if(A>wi){var D=jP(A/h*pu(S)),O=jP(A/d*pu(S));(w-=D*2)>wi?(D*=x?1:-1,_+=D,E-=D):(w=0,_=E=(p+g)/2),(b-=O*2)>wi?(O*=x?1:-1,y+=O,v-=O):(b=0,y=v=(p+g)/2)}var M=d*T0(y),z=d*pu(y),K=h*T0(E),X=h*pu(E);if(C>wi){var ve=d*T0(v),te=d*pu(v),ue=h*T0(_),le=h*pu(_),de;if(m<Eg)if(de=Y_e(M,z,ue,le,ve,te,K,X)){var ke=M-de[0],He=z-de[1],B=ve-de[0],j=te-de[1],G=1/pu(V_e((ke*B+He*j)/(nh(ke*ke+He*He)*nh(B*B+j*j)))/2),W=nh(de[0]*de[0]+de[1]*de[1]);k=nT(C,(h-W)/(G-1)),F=nT(C,(d-W)/(G+1))}else k=F=0}b>wi?F>wi?(N=Y_(ue,le,M,z,d,F,x),R=Y_(ve,te,K,X,d,F,x),o.moveTo(N.cx+N.x01,N.cy+N.y01),F<C?o.arc(N.cx,N.cy,F,Ei(N.y01,N.x01),Ei(R.y01,R.x01),!x):(o.arc(N.cx,N.cy,F,Ei(N.y01,N.x01),Ei(N.y11,N.x11),!x),o.arc(0,0,d,Ei(N.cy+N.y11,N.cx+N.x11),Ei(R.cy+R.y11,R.cx+R.x11),!x),o.arc(R.cx,R.cy,F,Ei(R.y11,R.x11),Ei(R.y01,R.x01),!x))):(o.moveTo(M,z),o.arc(0,0,d,y,v,!x)):o.moveTo(M,z),!(h>wi)||!(w>wi)?o.lineTo(K,X):k>wi?(N=Y_(K,X,ve,te,h,-k,x),R=Y_(M,z,ue,le,h,-k,x),o.lineTo(N.cx+N.x01,N.cy+N.y01),k<C?o.arc(N.cx,N.cy,k,Ei(N.y01,N.x01),Ei(R.y01,R.x01),!x):(o.arc(N.cx,N.cy,k,Ei(N.y01,N.x01),Ei(N.y11,N.x11),!x),o.arc(0,0,h,Ei(N.cy+N.y11,N.cx+N.x11),Ei(R.cy+R.y11,R.cx+R.x11),x),o.arc(R.cx,R.cy,k,Ei(R.y11,R.x11),Ei(R.y01,R.x01),!x))):o.arc(0,0,h,E,_,x)}if(o.closePath(),c)return o=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Eg/2;return[T0(f)*c,pu(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:hn(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:hn(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:hn(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:hn(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:hn(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:hn(+c),l):s},l.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:hn(+c),l):a},l.context=function(c){return arguments.length?(o=c??null,l):o},l}function UX(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zX(e){this._context=e}zX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function o8(e){return new zX(e)}function WX(e){return e[0]}function HX(e){return e[1]}function VX(e,t){var n=hn(!0),r=null,i=o8,s=null,a=XA(o);e=typeof e=="function"?e:e===void 0?WX:hn(e),t=typeof t=="function"?t:t===void 0?HX:hn(t);function o(u){var l,c=(u=UX(u)).length,f,h=!1,d;for(r==null&&(s=i(d=a())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,l,u),+t(f,l,u));if(d)return s=null,d+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:hn(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:hn(+u),o):t},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:hn(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),o):r},o}function jX(e,t,n){var r=null,i=hn(!0),s=null,a=o8,o=null,u=XA(l);e=typeof e=="function"?e:e===void 0?WX:hn(+e),t=typeof t=="function"?t:hn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?HX:hn(+n);function l(f){var h,d,p,g=(f=UX(f)).length,m,x=!1,y,v=new Array(g),_=new Array(g);for(s==null&&(o=a(y=u())),h=0;h<=g;++h){if(!(h<g&&i(m=f[h],h,f))===x)if(x=!x)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=d;--p)o.point(v[p],_[p]);o.lineEnd(),o.areaEnd()}x&&(v[h]=+e(m,h,f),_[h]=+t(m,h,f),o.point(r?+r(m,h,f):v[h],n?+n(m,h,f):_[h]))}if(y)return o=null,y+""||null}function c(){return VX().defined(i).curve(a).context(s)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:hn(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:hn(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:hn(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:hn(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:hn(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:hn(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:hn(!!f),l):i},l.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),l):a},l.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),l):s},l}const Z_e={draw(e,t){const n=nh(t/Eg);e.moveTo(n,0),e.arc(0,0,n,0,BX)}};function Q_e(e,t){let n=null,r=XA(i);e=typeof e=="function"?e:hn(e||Z_e),t=typeof t=="function"?t:hn(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:hn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:hn(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function $f(){}function jb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function KA(e){this._context=e}KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e2e(e){return new KA(e)}function GX(e){this._context=e}GX.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t2e(e){return new GX(e)}function qX(e){this._context=e}qX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n2e(e){return new qX(e)}function XX(e,t){this._basis=new KA(e),this._beta=t}XX.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,a=t[n]-i,o=-1,u;++o<=n;)u=o/n,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+u*s),this._beta*t[o]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const r2e=function e(t){function n(r){return t===1?new KA(r):new XX(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Gb(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function u8(e,t){this._context=e,this._k=(1-t)/6}u8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Gb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i2e=function e(t){function n(r){return new u8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function l8(e,t){this._context=e,this._k=(1-t)/6}l8.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s2e=function e(t){function n(r){return new l8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function c8(e,t){this._context=e,this._k=(1-t)/6}c8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a2e=function e(t){function n(r){return new c8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function f8(e,t,n){var r=e._x1,i=e._y1,s=e._x2,a=e._y2;if(e._l01_a>wi){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>wi){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,s,a,e._x2,e._y2)}function KX(e,t){this._context=e,this._alpha=t}KX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:f8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o2e=function e(t){function n(r){return t?new KX(r,t):new u8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function YX(e,t){this._context=e,this._alpha=t}YX.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:f8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u2e=function e(t){function n(r){return t?new YX(r,t):new l8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function JX(e,t){this._context=e,this._alpha=t}JX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:f8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const l2e=function e(t){function n(r){return t?new JX(r,t):new c8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function ZX(e){this._context=e}ZX.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function c2e(e){return new ZX(e)}function GP(e){return e<0?-1:1}function qP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(GP(s)+GP(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function XP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rT(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function qb(e){this._context=e}qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rT(this,this._t0,XP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rT(this,XP(this,n=qP(this,e,t)),n);break;default:rT(this,this._t0,n=qP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function QX(e){this._context=new eK(e)}(QX.prototype=Object.create(qb.prototype)).point=function(e,t){qb.prototype.point.call(this,t,e)};function eK(e){this._context=e}eK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function f2e(e){return new qb(e)}function h2e(e){return new QX(e)}function tK(e){this._context=e}tK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=KP(e),i=KP(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KP(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function d2e(e){return new tK(e)}function YA(e,t){this._context=e,this._t=t}YA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function p2e(e){return new YA(e,.5)}function g2e(e){return new YA(e,0)}function m2e(e){return new YA(e,1)}function $m(e,t,n){this.k=e,this.x=t,this.y=n}$m.prototype={constructor:$m,scale:function(e){return e===1?this:new $m(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $m(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$m.prototype;function aa(e,t,n){return e.fields=t||[],e.fname=n,e}function ir(e){return e==null?null:e.fname}function Wi(e){return e==null?null:e.fields}function nK(e){return e.length===1?x2e(e[0]):v2e(e)}const x2e=e=>function(t){return t[e]},v2e=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function he(e){throw Error(e)}function al(e){const t=[],n=e.length;let r=null,i=0,s="",a,o,u;e=e+"";function l(){t.push(s+e.substring(a,o)),s="",a=o+1}for(a=o=0;o<n;++o)if(u=e[o],u==="\\")s+=e.substring(a,o++),a=o;else if(u===r)l(),r=null,i=-1;else{if(r)continue;a===i&&u==='"'||a===i&&u==="'"?(a=o+1,r=u):u==="."&&!i?o>a?l():a=o+1:u==="["?(o>a&&l(),i=a=o+1):u==="]"&&(i||he("Access path missing open bracket: "+e),i>0&&l(),i=0,a=o+1)}return i&&he("Access path missing closing bracket: "+e),r&&he("Access path missing closing quote: "+e),o>a&&(o++,l()),t}function lo(e,t,n){const r=al(e);return e=r.length===1?r[0]:e,aa((n&&n.get||nK)(r),[e],t||e)}const py=lo("id"),Zi=aa(e=>e,[],"identity"),sf=aa(()=>0,[],"zero"),c1=aa(()=>1,[],"one"),co=aa(()=>!0,[],"true"),jc=aa(()=>!1,[],"false");function y2e(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const rK=0,h8=1,d8=2,iK=3,sK=4;function p8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y2e,r=e||rK;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=h8&&n(t||"error","ERROR",arguments),this},warn(){return r>=d8&&n(t||"warn","WARN",arguments),this},info(){return r>=iK&&n(t||"log","INFO",arguments),this},debug(){return r>=sK&&n(t||"log","DEBUG",arguments),this}}}var _e=Array.isArray;function qe(e){return e===Object(e)}const YP=e=>e!=="__proto__";function f1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=_2e(r.signals,i.signals);else{const a=s==="legend"?{layout:1}:s==="style"?!0:null;h1(r,s,i[s],a)}return r},{})}function h1(e,t,n,r){if(!YP(t))return;let i,s;if(qe(n)&&!_e(n)){s=qe(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?h1(s,i,n[i]):YP(i)&&(s[i]=n[i])}else e[t]=n}function _2e(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function Kt(e){return e[e.length-1]}function Pi(e){return e==null||e===""?null:+e}const aK=e=>t=>e*Math.exp(t),oK=e=>t=>Math.log(e*t),uK=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),lK=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Xb=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function JA(e,t,n,r){const i=n(e[0]),s=n(Kt(e)),a=(s-i)*t;return[r(i-a),r(s-a)]}function cK(e,t){return JA(e,t,Pi,Zi)}function fK(e,t){var n=Math.sign(e[0]);return JA(e,t,oK(n),aK(n))}function hK(e,t,n){return JA(e,t,Xb(n),Xb(1/n))}function dK(e,t,n){return JA(e,t,uK(n),lK(n))}function ZA(e,t,n,r,i){const s=r(e[0]),a=r(Kt(e)),o=t!=null?r(t):(s+a)/2;return[i(o+(s-o)*n),i(o+(a-o)*n)]}function g8(e,t,n){return ZA(e,t,n,Pi,Zi)}function m8(e,t,n){const r=Math.sign(e[0]);return ZA(e,t,n,oK(r),aK(r))}function Kb(e,t,n,r){return ZA(e,t,n,Xb(r),Xb(1/r))}function x8(e,t,n,r){return ZA(e,t,n,uK(r),lK(r))}function pK(e){return 1+~~(new Date(e).getMonth()/3)}function gK(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Xe(e){return e!=null?_e(e)?e:[e]:[]}function mK(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function Et(e){return typeof e=="function"}const E2e="descending";function v8(e,t,n){n=n||{},t=Xe(t)||[];const r=[],i=[],s={},a=n.comparator||b2e;return Xe(e).forEach((o,u)=>{o!=null&&(r.push(t[u]===E2e?-1:1),i.push(o=Et(o)?o:lo(o,null,n)),(Wi(o)||[]).forEach(l=>s[l]=1))}),i.length===0?null:aa(a(i,r),Object.keys(s))}const d1=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),b2e=(e,t)=>e.length===1?w2e(e[0],t[0]):A2e(e,t,e.length),w2e=(e,t)=>function(n,r){return d1(e(n),e(r))*t},A2e=(e,t,n)=>(t.push(0),function(r,i){let s,a=0,o=-1;for(;a===0&&++o<n;)s=e[o],a=d1(s(r),s(i));return a*t[o]});function Qi(e){return Et(e)?e:()=>e}function y8(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Ft(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Xu(e,t){let n=0,r,i,s,a;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=a=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>a&&(a=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=a=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>a&&(a=i))}return[s,a]}function xK(e,t){const n=e.length;let r=-1,i,s,a,o,u;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=a=s;break}if(r===n)return[-1,-1];for(o=u=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,o=r),a<s&&(a=s,u=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=a=s;break}if(r===n)return[-1,-1];for(o=u=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,o=r),a<s&&(a=s,u=r))}return[o,u]}function Ke(e,t){return Object.hasOwn(e,t)}const J_={};function p1(e){let t={},n;function r(s){return Ke(t,s)&&t[s]!==J_}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,a){return r(s)||(++i.size,t[s]===J_&&--i.empty),t[s]=a,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=J_),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let a=0;for(const o in t){const u=t[o];u!==J_&&(!n||!n(u))&&(s[o]=u,++a)}i.size=a,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function vK(e,t,n,r,i,s){if(!n&&n!==0)return s;const a=+n;let o=e[0],u=Kt(e),l;u<o&&(l=o,o=u,u=l),l=Math.abs(t-o);const c=Math.abs(u-t);return l<c&&l<=a?r:c<=a?i:s}function Ue(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Ft(r,n)}function Cp(e,t,n,r){let i=t[0],s=t[t.length-1],a;return i>s&&(a=i,i=s,s=a),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function a0(e){return typeof e=="boolean"}function Ef(e){return Object.prototype.toString.call(e)==="[object Date]"}function yK(e){return e&&Et(e[Symbol.iterator])}function sn(e){return typeof e=="number"}function _8(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ge(e){return typeof e=="string"}function E8(e,t,n){e&&(e=t?Xe(e).map(o=>o.replace(/\\(.)/g,"$1")):Xe(e));const r=e&&e.length,i=n&&n.get||nK,s=o=>i(t?[o]:al(o));let a;if(!r)a=function(){return""};else if(r===1){const o=s(e[0]);a=function(u){return""+o(u)}}else{const o=e.map(s);a=function(u){let l=""+o[0](u),c=0;for(;++c<r;)l+="|"+o[c](u);return l}}return aa(a,e,"key")}function _K(e,t){const n=e[0],r=Kt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const S2e=1e4;function EK(e){e=+e||S2e;let t,n,r;const i=()=>{t={},n={},r=0},s=(a,o)=>(++r>e&&(n=t,t={},r=1),t[a]=o);return i(),{clear:i,has:a=>Ke(t,a)||Ke(n,a),get:a=>Ke(t,a)?t[a]:Ke(n,a)?s(a,n[a]):void 0,set:(a,o)=>Ke(t,a)?t[a]=o:s(a,o)}}function bK(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const a=r||new t.constructor(i+s);let o=0,u=0,l=0;for(;o<i&&u<s;++l)a[l]=e(t[o],n[u])>0?n[u++]:t[o++];for(;o<i;++o,++l)a[l]=t[o];for(;u<s;++u,++l)a[l]=n[u];return a}function Im(e,t){let n="";for(;--t>=0;)n+=e;return n}function wK(e,t,n,r){const i=n||" ",s=e+"",a=t-s.length;return a<=0?s:r==="left"?Im(i,a)+s:r==="center"?Im(i,~~(a/2))+s+Im(i,Math.ceil(a/2)):s+Im(i,a)}function gy(e){return e&&Kt(e)-e[0]||0}function Me(e){return _e(e)?"["+e.map(Me)+"]":qe(e)||Ge(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function b8(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const C2e=e=>sn(e)||Ef(e)?e:Date.parse(e);function w8(e,t){return t=t||C2e,e==null||e===""?null:t(e)}function A8(e){return e==null||e===""?null:e+""}function Aa(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function AK(e,t,n,r){const i=r??"",s=e+"",a=s.length,o=Math.max(0,t-i.length);return a<=t?s:n==="left"?i+s.slice(a-o):n==="center"?s.slice(0,Math.ceil(o/2))+i+s.slice(a-~~(o/2)):s.slice(0,o)+i}function ef(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function S4(e,t,n,r){if(_e(e))return`[${e.map(i=>t(Ge(i)?i:JP(i,n))).join(", ")}]`;if(qe(e)){let i="";const{title:s,image:a,...o}=e;s&&(i+=`<h2>${t(s)}</h2>`),a&&(i+=`<img src="${new URL(t(a),r||location.href).href}">`);const u=Object.keys(o);if(u.length>0){i+="<table>";for(const l of u){let c=o[l];c!==void 0&&(qe(c)&&(c=JP(c,n)),i+=`<tr><td class="key">${t(l)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function k2e(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function JP(e,t){return JSON.stringify(e,k2e(t))}var T2e=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const SK="vg-tooltip-element",F2e={offsetX:10,offsetY:10,id:SK,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:D2e,maxDepth:2,formatTooltip:S4,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function D2e(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function N2e(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return T2e.toString().replace(SK,e)}function CK(e,t,{offsetX:n,offsetY:r}){const i=kK({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),s=["bottom-right","bottom-left","top-right","top-left"];for(const a of s)if(TK(i[a],t))return i[a];return i["top-left"]}function O2e(e,t,n,r,i){const{position:s,offsetX:a,offsetY:o}=i,u=e._el.getBoundingClientRect(),l=e._origin,c=$2e(u,l,n),f=kK(c,r,a,o),h=Array.isArray(s)?s:[s];for(const d of h)if(TK(f[d],r)&&!I2e(t,f[d],r))return f[d];return CK(t,r,i)}function $2e(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,s=e.top+t[1]+r.y1,a=n;for(;a.mark.group;)a=a.mark.group,i+=a.x??0,s+=a.y??0;const o=r.x2-r.x1,u=r.y2-r.y1;return{x1:i,x2:i+o,y1:s,y2:s+u}}function kK(e,t,n,r){const i=(e.x1+e.x2)/2,s=(e.y1+e.y2)/2,a=e.x1-t.width-n,o=i-t.width/2,u=e.x2+n,l=e.y1-t.height-r,c=s-t.height/2,f=e.y2+r;return{top:{x:o,y:l},bottom:{x:o,y:f},left:{x:a,y:c},right:{x:u,y:c},"top-left":{x:a,y:l},"top-right":{x:u,y:l},"bottom-left":{x:a,y:f},"bottom-right":{x:u,y:f}}}function TK(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function I2e(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}let R2e=class{constructor(t){this.options={...F2e,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=N2e(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:a}=this.options.anchor==="mark"?O2e(t,n,r,this.el.getBoundingClientRect(),this.options):CK(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${a}px`,this.el.style.left=`${s}px`}};const M2e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language,kp=["Region","RegionLabel","Color","ColorGroup","Inset","Geographic Area"],ZP=kp.length,Z_=2,iT=4,sT=5,L2e=[{text:"C (center)",value:"C"},{text:"L (left)",value:"L"},{text:"R (right)",value:"R"},{text:"T (top)",value:"T"},{text:"D (down)",value:"D"}],C4={theme:"dark",formatTooltip:(e,t)=>{if(typeof e!="object")return S4(e,t,0);const n={};for(const[r,i]of Object.entries(e)){if(!i||r==="ColorGroup")continue;const s=Number(i);if(isNaN(s))r==="RegionLabel"?(n[i]=n.Region,delete n.Region):n[r]=i;else{let a="",o=r.replace(/\s*\(([^)]+)\)/,(u,l)=>(a=" "+l,"")).trim();o==="Geographic Area"&&(o="Area",a=" sq. km"),n[o]=new Intl.NumberFormat(M2e,{notation:"compact",compactDisplay:"short",maximumFractionDigits:3}).format(s)+a}}return S4(n,t,0)}},wd=Whe("cartogram",()=>{const e=oi(""),t=oi({}),n=oi(""),r=oi({showGrid:!0,numberOfPanels:window.innerWidth>768?2:1});return{currentMapName:e,versions:t,highlightedRegionID:n,options:r}}),P2e={key:0,class:"d-flex p-2"},B2e=["value"],U2e={key:1},z2e=Zr({__name:"CMenuSelectMap",props:{isEmbed:{type:Boolean},maps:{},mapTitle:{},mapDBKey:{}},emits:["map_changed"],setup(e,{emit:t}){const n=wd(),r=e,i=t;let s;Sc(async()=>{s=null,a()});async function a(){const o=s||(r.mapDBKey?"/static/userdata/"+r.mapDBKey+"/data.csv":"/static/cartdata/"+n.currentMapName+"/data.csv"),u=await dq(o);n.versions={};for(let l=0;l<u.columns.length;l++){if(kp.includes(u.columns[l]))continue;const c=u.columns[l].match(/\(([^)]+)\)$/),f=c?c[1].trim():"",h=u.columns[l].replace("("+f+")","").trim();n.versions[l.toString()]={key:l.toString(),header:u.columns[l],name:h,unit:f}}i("map_changed")}return(o,u)=>r.isEmbed?Ar("",!0):(je(),Ye("div",P2e,[r.mapDBKey?(je(),Ye("span",U2e,yr(r.mapTitle),1)):zs((je(),Ye("select",{key:0,class:"form-select","onUpdate:modelValue":u[0]||(u[0]=l=>tr(n).currentMapName=l),onChange:a},[(je(!0),Ye(Mt,null,Mi(r.maps,(l,c)=>(je(),Ye("option",{value:c,key:c},yr(l.name),9,B2e))),128))],544)),[[$h,tr(n).currentMapName]])]))}});function W2e(e){let t=0;return e.forEach(n=>{t+=n.Area}),t}function QP(e,t,n){let r=0,i=0;const s=[];let a=[];n.forEach(u=>{if(u[e]&&u[e].toString()!==""&&u[e].toString()!=="NA"){const l=typeof u[e]=="string"?Number(u[e]):u[e];i+=l}else s.push(u.Region)}),a=Array(s.length),t.forEach(u=>{const l=s.indexOf(u.Region);l>-1?a[l]=u.Area:r+=u.Area});const o=i/r;return a.forEach(function(u){i+=o*u,r+=u}),[r,i]}const oE=[1,2,5,10,20,50];function FK(e){let t=99;const n=Math.floor(Math.log10(e)),r=e/Math.pow(10,n);let i=Math.abs(r-t);return oE.forEach(function(s){Math.abs(r-s)<i&&(i=Math.abs(r-s),t=s)}),[t,n]}function Q_(){return[[1,0,0],[0,1,0],[0,0,1]]}function e2(e,t){return[[e,0,0],[0,t,0],[0,0,1]]}function em(e){return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]}function H2e(e,t){return[[1,0,e],[0,1,t],[0,0,1]]}function Bc(e,t){if(e.length!==3||t.length!==3)throw new Error("Both matrices should be 3x3.");const n=[[0,0,0],[0,0,0],[0,0,0]];for(let r=0;r<3;r++)for(let i=0;i<3;i++)for(let s=0;s<3;s++)n[r][i]+=e[r][s]*t[s][i];return n}function k4(e,t){var r;const n=e+"-icon";navigator.clipboard.writeText(t),(r=document.getElementById(n))==null||r.setAttribute("src","/static/img/clipboard-check.svg"),setTimeout(function(){var i;(i=document.getElementById(n))==null||i.setAttribute("src","/static/img/clipboard.svg")},2e3)}function uE(e,t,n){return"/static"+(t&&t!==""&&(e==="custom"||n!=="Geographic Area.json")?"/userdata/"+t+"/":"/cartdata/"+e+"/")+n}function V2e(e,t){return"/static"+(t&&t!==""?"/userdata/"+t+"/":"/cartdata/"+e+"/")+"data.csv"}const j2e={class:"form-group"},eB="Gastner MT, Seguy V, More P. Fast low-based algorithm for creating density-equalizing map projections. Proc Natl Acad Sci USA 115(10):E2156E2164 (2018).",DK=Zr({__name:"CTextCitation",setup(e){return(t,n)=>(je(),Ye("div",null,[n[2]||(n[2]=Q("p",{class:"lead text-center"},"Liked our work? Make sure to credit us using the citation below:",-1)),Q("div",j2e,[Q("a",{id:"citation-text",class:"text-primary",href:"https://www.pnas.org/content/115/10/E2156",target:"_blank",rel:"noopener noreferrer"},yr(eB)),Q("button",{style:{"margin-top":"25px"},class:"clipboard-copy",id:"clipboard-citation","data-animation":"false",title:"Copy",onClick:n[0]||(n[0]=r=>k4("clipboard-citation",eB))},n[1]||(n[1]=[Q("img",{id:"clipboard-citation-icon",src:"/static/img/clipboard.svg",alt:"Copy button",title:"Copy"},null,-1)]))])]))}}),G2e={class:"modal fade text-wrap",id:"shareModal",tabindex:"-1","aria-labelledby":"shareModalLabel","aria-hidden":"true"},q2e={class:"modal-dialog"},X2e={class:"modal-content"},K2e={class:"modal-body"},Y2e={class:"text-center"},J2e=["href"],Z2e=["href"],Q2e=["href"],eEe=["href"],tEe={class:"mb-3"},nEe={class:"form-group"},rEe=["value"],iEe={id:"share-embed",class:"mb-5"},sEe={class:"form-group"},aEe=Zr({__name:"CMenuBtnShare",props:{mapDBKey:{}},setup(e){const t=wd(),n=e,r=Yl(()=>n.mapDBKey&&n.mapDBKey!==""?location.protocol+"//"+location.host+"/cartogram/key/"+n.mapDBKey:location.protocol+"//"+location.host+"/cartogram/map/"+t.currentMapName),i=Yl(()=>window.encodeURIComponent(r.value)),s=Yl(()=>'<iframe src="'+(r.value+"/embed")+'" width="800" height="550" style="border: 1px solid black;"></iframe>');function a(){new XMLHttpRequest().open("GET",r.value)}return(o,u)=>(je(),Ye(Mt,null,[Q("button",{class:"btn btn-primary me-2 d-flex align-items-center","data-bs-toggle":"modal","data-bs-target":"#shareModal",title:"Save and share cartogram",onClick:u[0]||(u[0]=l=>a())},u[4]||(u[4]=[Q("span",{class:"d-none d-md-block me-2"},"Share",-1),Q("i",{class:"fas fa-share-alt"},null,-1)])),Q("div",G2e,[Q("div",q2e,[Q("div",X2e,[u[16]||(u[16]=Q("div",{class:"modal-header"},[Q("h1",{class:"modal-title fs-5",id:"shareModalLabel"},"Share cartogram"),Q("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Q("div",K2e,[Q("div",null,[u[9]||(u[9]=Q("div",null,[Q("p",{class:"bg-warning-subtle p-1 rounded"},[Q("span",{class:"badge text-bg-warning"},"Important"),nr(" The share link/embed will be pruned from our server if there is no access for one year. We strongly advise you to back up your original data in a safe place so you can regenerate the cartogram if needed. ")])],-1)),u[10]||(u[10]=Q("h3",{class:"text-center"},"Share now",-1)),Q("div",Y2e,[Q("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+i.value,onclick:"javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;",target:"_blank",title:"Share on Facebook",class:"social-link",id:"facebook-share"},u[5]||(u[5]=[Q("i",{class:"fab fa-facebook-square"},null,-1)]),8,J2e),Q("a",{href:"https://www.linkedin.com/shareArticle?url="+i.value+"&mini=true&title=Cartogram&summary=Create%20cartograms%20with%20go-cart.io&source=go-cart.io",onclick:"javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=520,width=570');return false;",target:"_blank",title:"Share on LinkedIn",class:"social-link",id:"linkedin-share"},u[6]||(u[6]=[Q("i",{class:"fab fa-linkedin"},null,-1)]),8,Z2e),Q("a",{href:"https://twitter.com/share?url="+i.value,onclick:"javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;",target:"_blank",title:"Share on Twitter",class:"social-link",id:"twitter-share"},u[7]||(u[7]=[Q("i",{class:"fab fa-twitter-square"},null,-1)]),8,Q2e),Q("a",{href:"mailto:?body="+i.value,title:"Share by Email",class:"social-link",id:"email-share"},u[8]||(u[8]=[Q("i",{class:"fas fa-envelope-square"},null,-1)]),8,eEe)])]),Q("div",tEe,[u[12]||(u[12]=Q("h3",{class:"text-center"},"Link",-1)),Q("div",nEe,[Q("input",{type:"text",id:"share-link-href",class:"form-control w-100",disabled:"",style:{"font-family":"monospace"},value:r.value},null,8,rEe),Q("button",{style:{"margin-top":"4.6px"},"data-animation":"false",class:"clipboard-copy",id:"clipboard-link",title:"Copy",onClick:u[1]||(u[1]=l=>k4("clipboard-link",r.value))},u[11]||(u[11]=[Q("img",{id:"clipboard-link-icon",src:"/static/img/clipboard.svg",alt:"Copy button"},null,-1)]))])]),Q("div",iEe,[u[14]||(u[14]=Q("h3",{class:"text-center"},"Embed",-1)),u[15]||(u[15]=Q("p",{class:"text-center"}," To embed yor cartogram into any webpage, insert the HTML code below: ",-1)),Q("div",sEe,[zs(Q("textarea",{id:"share-embed-code",class:"form-control w-100",disabled:"",rows:"3",style:{"font-family":"monospace",resize:"none"},"onUpdate:modelValue":u[2]||(u[2]=l=>s.value=l)},null,512),[[sg,s.value]]),Q("button",{class:"clipboard-copy",id:"clipboard-embed","data-animation":"false",title:"Copy",onClick:u[3]||(u[3]=l=>k4("clipboard-embed",s.value))},u[13]||(u[13]=[Q("img",{id:"clipboard-embed-icon",src:"/static/img/clipboard.svg",alt:"Copy button"},null,-1)]))])]),Ht(DK)])])])])],64))}}),g1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},oEe=g1(aEe,[["__scopeId","data-v-4b1a4995"]]),uEe={class:"navbar bg-light p-0"},lEe={class:"w-100 mw-100 d-flex justify-content-between"},cEe={key:0,class:"p-2"},fEe={class:"py-2 d-flex flex-nowrap"},hEe=["href"],dEe={class:"dropdown me-2 d-flex"},pEe={class:"dropdown-menu dropdown-menu-end p-2 container",style:{width:"250px"}},gEe={class:"row"},mEe={class:"col-4 text-end"},xEe={class:"row"},vEe={class:"col-4 text-end"},yEe=["value"],_Ee=Zr({__name:"CMenuBar",props:{isEmbed:{type:Boolean,default:!1},maps:{},mapTitle:{},mapDBKey:{}},emits:["map_changed"],setup(e,{emit:t}){const n=wd(),r=e,i=t;function s(a){i("map_changed",a)}return(a,o)=>(je(),Ye("nav",uEe,[Q("div",lEe,[r.isEmbed?(je(),Ye("div",cEe,o[2]||(o[2]=[Q("img",{src:"/static/img/gocart_final.svg",width:"80",alt:"go-cart.io logo"},null,-1)]))):Ar("",!0),Ht(z2e,{maps:r.maps,mapTitle:r.mapTitle,mapDBKey:r.mapDBKey,isEmbed:r.isEmbed,onMap_changed:s},null,8,["maps","mapTitle","mapDBKey","isEmbed"]),Q("div",fEe,[Q("a",{class:"btn btn-primary me-2 d-flex align-items-center",title:"Edit cartogram",href:r.mapDBKey?"/cartogram/edit/key/"+r.mapDBKey:"/cartogram/edit/map/"+tr(n).currentMapName},o[3]||(o[3]=[Q("span",{class:"d-none d-md-block me-2"},"Edit",-1),Q("i",{class:"far fa-edit"},null,-1)]),8,hEe),Ht(oEe,{mapDBKey:r.mapDBKey},null,8,["mapDBKey"]),Q("div",dEe,[o[6]||(o[6]=Q("button",{class:"btn btn-primary dropdown-toggle d-flex align-items-center",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Customize cartogram viewer"},[Q("span",{class:"d-none d-md-block me-2"},"Customize"),Q("i",{class:"fas fa-cog"})],-1)),Q("div",pEe,[Q("div",gEe,[o[4]||(o[4]=Q("div",{class:"col-8"},[Q("label",{class:"form-check-label",for:"gridline-toggle-cartogram"},"Show grid lines")],-1)),Q("div",mEe,[zs(Q("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":o[0]||(o[0]=u=>tr(n).options.showGrid=u)},null,512),[[ny,tr(n).options.showGrid]])])]),Q("div",xEe,[o[5]||(o[5]=Q("div",{class:"col-8"},[Q("label",{class:"form-check-label",for:"gridline-toggle-cartogram"},"Number of panels")],-1)),Q("div",vEe,[zs(Q("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=u=>tr(n).options.numberOfPanels=u)},[(je(),Ye(Mt,null,Mi([1,2,3,4,5],u=>Q("option",{key:u,value:u},yr(u),9,yEe)),64))],512),[[$h,tr(n).options.numberOfPanels]])])])])])])])]))}});class EEe{constructor(){E_(this,"touches",new Map);E_(this,"touchIds",[]);E_(this,"thumbIndex",-1)}set(t){if(!(this.touches.size>=3||!t.pointerId))switch(this.touchIds.push(t.pointerId),this.touches.set(t.pointerId,t),this.touches.size){case 1:this.thumbIndex=t.pointerId;return;case 2:return;case 3:const n=Math.hypot(this.getTouchId(this.touchIds[1]).pageY-this.getTouchId(this.touchIds[0]).pageY,this.getTouchId(this.touchIds[1]).pageX-this.getTouchId(this.touchIds[0]).pageX),r=Math.hypot(this.getTouchId(this.touchIds[2]).pageY-this.getTouchId(this.touchIds[1]).pageY,this.getTouchId(this.touchIds[2]).pageX-this.getTouchId(this.touchIds[1]).pageX),i=Math.hypot(this.getTouchId(this.touchIds[0]).pageY-this.getTouchId(this.touchIds[2]).pageY,this.getTouchId(this.touchIds[0]).pageX-this.getTouchId(this.touchIds[2]).pageX);n<=r&&n<=i?this.thumbIndex=this.getTouchId(this.touchIds[2]).pointerId:n>r&&r<=i?this.thumbIndex=this.getTouchId(this.touchIds[0]).pointerId:this.thumbIndex=this.getTouchId(this.touchIds[1]).pointerId;return;default:return}}update(t){this.touches.has(t.pointerId)&&this.touches.set(t.pointerId,t)}clear(t){this.touches.delete(t.pointerId),this.touchIds=this.touchIds.filter(n=>n!==t.pointerId),this.thumbIndex===t.pointerId&&(this.thumbIndex=this.touchIds[0])}length(){return this.touches.size}getTouches(){return this.touches}getTouchId(t){return this.touches.has(t)?this.touches.get(t):{pageX:-1,pageY:-1,pointerId:-1}}getAllPoints(t=0,n=0){const r=[];return this.touches.forEach(i=>{r.push([i.pageX-t,i.pageY-n])}),r}getMergedPoints(t=0,n=0){try{if(this.touches.size===1)return[this.getThumb(t,n)];if(this.touches.size>1)return[this.getThumb(t,n),this.getOthers(t,n)]}catch(r){console.error(r)}return[]}getThumb(t=0,n=0){return[this.getTouchId(this.thumbIndex).pageX-t,this.getTouchId(this.thumbIndex).pageY-n]}getOthers(t=0,n=0){if(this.touches.size<2)return[];let r=0,i=0;return this.touches.forEach((s,a)=>{a!==this.thumbIndex&&(r+=s.pageX-t,i+=s.pageY-n)}),[r/(this.touches.size-1),i/(this.touches.size-1)]}}const bEe=["cx","cy"],wEe={key:0},AEe=["x1","y1","x2","y2"],SEe=Zr({__name:"CTouchVis",props:{touchInfo:{},touchLenght:{}},setup(e){const t=oi();let n=0,r=0;const i=e,s=sa({points:[],line:[]});Sc(()=>{const o=t.value.getBoundingClientRect();n=o.left,r=o.top,a()}),Gs(()=>i.touchLenght,()=>{a()});function a(){s.points=[],s.line=[];try{i.touchInfo.length()>2&&(s.line=i.touchInfo.getMergedPoints(n,r))}catch(o){console.log(o)}}return(o,u)=>(je(),Ye("svg",{ref_key:"svgEl",ref:t,class:"w-100 h-100 position-absolute z-3",style:{"pointer-events":"none"}},[(je(!0),Ye(Mt,null,Mi(s.points,(l,c)=>(je(),Ye("g",{key:c},[Q("circle",{cx:l[0],cy:l[1],fill:"blue",r:"5"},null,8,bEe)]))),128)),s.line.length>0?(je(),Ye("g",wEe,[Q("line",{x1:s.line[0][0],y1:s.line[0][1],x2:s.line[1][0],y2:s.line[1][1],style:{stroke:"rgb(255, 0, 0)","stroke-width":"2"}},null,8,AEe)])):Ar("",!0)],512))}}),CEe=/("(?:[^\\"]|\\.)*")|[:,]/g;function aT(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function s(a,o,u){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const l=JSON.stringify(a,i);if(l===void 0)return l;const c=r-o.length-u;if(l.length<=c){const f=l.replace(CEe,(h,d)=>d||`${h} `);if(f.length<=c)return f}if(i!=null&&(a=JSON.parse(l),i=void 0),typeof a=="object"&&a!==null){const f=o+n,h=[];let d=0,p,g;if(Array.isArray(a)){p="[",g="]";const{length:m}=a;for(;d<m;d++)h.push(s(a[d],f,d===m-1?0:1)||"null")}else{p="{",g="}";const m=Object.keys(a),{length:x}=m;for(;d<x;d++){const y=m[d],v=`${JSON.stringify(y)}: `,_=s(a[y],f,v.length+(d===x-1?0:1));_!==void 0&&h.push(v+_)}}if(h.length>0)return[p,n+h.join(`,
${f}`),g].join(`
${o}`)}return l}(e,"",0)}function kEe(e){return e}function TEe(e){if(e==null)return kEe;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],a=e.translate[1];return function(o,u){u||(t=n=0);var l=2,c=o.length,f=new Array(c);for(f[0]=(t+=o[0])*r+s,f[1]=(n+=o[1])*i+a;l<c;)f[l]=o[l],++l;return f}}function FEe(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function DEe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return tB(e,n)})}:tB(e,t)}function tB(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=NK(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function NK(e,t){var n=TEe(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var h=r[c<0?~c:c],d=0,p=h.length;d<p;++d)f.push(n(h[d],d));c<0&&FEe(f,p)}function s(c){return n(c)}function a(c){for(var f=[],h=0,d=c.length;h<d;++h)i(c[h],f);return f.length<2&&f.push(f[0]),f}function o(c){for(var f=a(c);f.length<4;)f.push(f[0]);return f}function u(c){return c.map(o)}function l(c){var f=c.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(l)};case"Point":h=s(c.coordinates);break;case"MultiPoint":h=c.coordinates.map(s);break;case"LineString":h=a(c.arcs);break;case"MultiLineString":h=c.arcs.map(a);break;case"Polygon":h=u(c.arcs);break;case"MultiPolygon":h=c.arcs.map(u);break;default:return null}return{type:f,coordinates:h}}return l(t)}function NEe(e,t){var n={},r={},i={},s=[],a=-1;t.forEach(function(l,c){var f=e.arcs[l<0?~l:l],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=t[++a],t[a]=l,t[c]=h)}),t.forEach(function(l){var c=o(l),f=c[0],h=c[1],d,p;if(d=i[f])if(delete i[d.end],d.push(l),d.end=h,p=r[h]){delete r[p.start];var g=p===d?d:d.concat(p);r[g.start=d.start]=i[g.end=p.end]=g}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(l),d.start=f,p=i[f]){delete i[p.end];var m=p===d?d:p.concat(d);r[m.start=p.start]=i[m.end=d.end]=m}else r[d.start]=i[d.end]=d;else d=[l],r[d.start=f]=i[d.end=h]=d});function o(l){var c=e.arcs[l<0?~l:l],f=c[0],h;return e.transform?(h=[0,0],c.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=c[c.length-1],l<0?[h,f]:[f,h]}function u(l,c){for(var f in l){var h=l[f];delete c[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),s.push(h)}}return u(i,r),u(r,i),t.forEach(function(l){n[l<0?~l:l]||s.push([l])}),s}function OEe(e){return NK(e,$Ee.apply(this,arguments))}function $Ee(e,t,n){var r,i,s;if(arguments.length>1)r=IEe(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:NEe(e,r)}}function IEe(e,t,n){var r=[],i=[],s;function a(f){var h=f<0?~f:f;(i[h]||(i[h]=[])).push({i:f,g:s})}function o(f){f.forEach(a)}function u(f){f.forEach(o)}function l(f){f.forEach(u)}function c(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":o(f.arcs);break;case"MultiLineString":case"Polygon":u(f.arcs);break;case"MultiPolygon":l(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const di="year",ea="quarter",Hi="month",Nr="week",ta="date",Ii="day",Ku="dayofyear",Sa="hours",Ca="minutes",fo="seconds",Ko="milliseconds",S8=[di,ea,Hi,Nr,ta,Ii,Ku,Sa,Ca,fo,Ko],oT=S8.reduce((e,t,n)=>(e[t]=1+n,e),{});function C8(e){const t=Xe(e).slice(),n={};return t.length||he("Missing time unit."),t.forEach(i=>{Ke(oT,i)?n[i]=1:he(`Invalid time unit: ${i}.`)}),(n[Nr]||n[Ii]?1:0)+(n[ea]||n[Hi]||n[ta]?1:0)+(n[Ku]?1:0)>1&&he(`Incompatible time units: ${e}`),t.sort((i,s)=>oT[i]-oT[s]),t}const REe={[di]:"%Y ",[ea]:"Q%q ",[Hi]:"%b ",[ta]:"%d ",[Nr]:"W%U ",[Ii]:"%a ",[Ku]:"%j ",[Sa]:"%H:00",[Ca]:"00:%M",[fo]:":%S",[Ko]:".%L",[`${di}-${Hi}`]:"%Y-%m ",[`${di}-${Hi}-${ta}`]:"%Y-%m-%d ",[`${Sa}-${Ca}`]:"%H:%M"};function OK(e,t){const n=Ft({},REe,t),r=C8(e),i=r.length;let s="",a=0,o,u;for(a=0;a<i;)for(o=r.length;o>a;--o)if(u=r.slice(a,o).join("-"),n[u]!=null){s+=n[u],a=o;break}return s.trim()}const q0=new Date;function k8(e){return q0.setFullYear(e),q0.setMonth(0),q0.setDate(1),q0.setHours(0,0,0,0),q0}function $K(e){return RK(new Date(e))}function IK(e){return T4(new Date(e))}function RK(e){return ec.count(k8(e.getFullYear())-1,e)}function T4(e){return u1.count(k8(e.getFullYear())-1,e)}function F4(e){return k8(e).getDay()}function MEe(e,t,n,r,i,s,a){if(0<=e&&e<100){const o=new Date(-1,t,n,r,i,s,a);return o.setFullYear(e),o}return new Date(e,t,n,r,i,s,a)}function MK(e){return PK(new Date(e))}function LK(e){return D4(new Date(e))}function PK(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return _f.count(t-1,e)}function D4(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return l1.count(t-1,e)}function N4(e){return q0.setTime(Date.UTC(e,0,1)),q0.getUTCDay()}function LEe(e,t,n,r,i,s,a){if(0<=e&&e<100){const o=new Date(Date.UTC(-1,t,n,r,i,s,a));return o.setUTCFullYear(n.y),o}return new Date(Date.UTC(e,t,n,r,i,s,a))}function BK(e,t,n,r,i){const s=t||1,a=Kt(e),o=(x,y,v)=>(v=v||x,PEe(n[v],r[v],x===a&&s,y)),u=new Date,l=Aa(e),c=l[di]?o(di):Qi(2012),f=l[Hi]?o(Hi):l[ea]?o(ea):sf,h=l[Nr]&&l[Ii]?o(Ii,1,Nr+Ii):l[Nr]?o(Nr,1):l[Ii]?o(Ii,1):l[ta]?o(ta,1):l[Ku]?o(Ku,1):c1,d=l[Sa]?o(Sa):sf,p=l[Ca]?o(Ca):sf,g=l[fo]?o(fo):sf,m=l[Ko]?o(Ko):sf;return function(x){u.setTime(+x);const y=c(u);return i(y,f(u),h(u,y),d(u),p(u),g(u),m(u))}}function PEe(e,t,n,r){const i=n<=1?e:r?(s,a)=>r+n*Math.floor((e(s,a)-r)/n):(s,a)=>n*Math.floor(e(s,a)/n);return t?(s,a)=>t(i(s,a),a):i}function bg(e,t,n){return t+e*7-(n+6)%7}const BEe={[di]:e=>e.getFullYear(),[ea]:e=>Math.floor(e.getMonth()/3),[Hi]:e=>e.getMonth(),[ta]:e=>e.getDate(),[Sa]:e=>e.getHours(),[Ca]:e=>e.getMinutes(),[fo]:e=>e.getSeconds(),[Ko]:e=>e.getMilliseconds(),[Ku]:e=>RK(e),[Nr]:e=>T4(e),[Nr+Ii]:(e,t)=>bg(T4(e),e.getDay(),F4(t)),[Ii]:(e,t)=>bg(1,e.getDay(),F4(t))},UEe={[ea]:e=>3*e,[Nr]:(e,t)=>bg(e,0,F4(t))};function UK(e,t){return BK(e,t||1,BEe,UEe,MEe)}const zEe={[di]:e=>e.getUTCFullYear(),[ea]:e=>Math.floor(e.getUTCMonth()/3),[Hi]:e=>e.getUTCMonth(),[ta]:e=>e.getUTCDate(),[Sa]:e=>e.getUTCHours(),[Ca]:e=>e.getUTCMinutes(),[fo]:e=>e.getUTCSeconds(),[Ko]:e=>e.getUTCMilliseconds(),[Ku]:e=>PK(e),[Nr]:e=>D4(e),[Ii]:(e,t)=>bg(1,e.getUTCDay(),N4(t)),[Nr+Ii]:(e,t)=>bg(D4(e),e.getUTCDay(),N4(t))},WEe={[ea]:e=>3*e,[Nr]:(e,t)=>bg(e,0,N4(t))};function zK(e,t){return BK(e,t||1,zEe,WEe,LEe)}const HEe={[di]:Gu,[ea]:ov.every(3),[Hi]:ov,[Nr]:u1,[ta]:ec,[Ii]:ec,[Ku]:ec,[Sa]:VA,[Ca]:WA,[fo]:jl,[Ko]:vg},VEe={[di]:qu,[ea]:uv.every(3),[Hi]:uv,[Nr]:l1,[ta]:_f,[Ii]:_f,[Ku]:_f,[Sa]:jA,[Ca]:HA,[fo]:jl,[Ko]:vg};function m1(e){return HEe[e]}function x1(e){return VEe[e]}function WK(e,t,n){return e?e.offset(t,n):void 0}function HK(e,t,n){return WK(m1(e),t,n)}function VK(e,t,n){return WK(x1(e),t,n)}function jK(e,t,n,r){return e?e.range(t,n,r):void 0}function GK(e,t,n,r){return jK(m1(e),t,n,r)}function qK(e,t,n,r){return jK(x1(e),t,n,r)}const Rm=1e3,Mm=Rm*60,Lm=Mm*60,QA=Lm*24,jEe=QA*7,nB=QA*30,O4=QA*365,XK=[di,Hi,ta,Sa,Ca,fo,Ko],Pm=XK.slice(0,-1),Bm=Pm.slice(0,-1),Um=Bm.slice(0,-1),GEe=Um.slice(0,-1),qEe=[di,Nr],rB=[di,Hi],KK=[di],tm=[[Pm,1,Rm],[Pm,5,5*Rm],[Pm,15,15*Rm],[Pm,30,30*Rm],[Bm,1,Mm],[Bm,5,5*Mm],[Bm,15,15*Mm],[Bm,30,30*Mm],[Um,1,Lm],[Um,3,3*Lm],[Um,6,6*Lm],[Um,12,12*Lm],[GEe,1,QA],[qEe,1,jEe],[rB,1,nB],[rB,3,3*nB],[KK,1,O4]];function YK(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(gy(t))/n;let i=s1(o=>o[2]).right(tm,r),s,a;return i===tm.length?(s=KK,a=Nf(t[0]/O4,t[1]/O4,n)):i?(i=tm[r/tm[i-1][2]<tm[i][2]/r?i-1:i],s=i[0],a=i[1]):(s=XK,a=Math.max(Nf(t[0],t[1],n),1)),{units:s,step:a}}function zm(e){const t={};return n=>t[n]||(t[n]=e(n))}function XEe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=KEe(r,i);const a=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+a}}function KEe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function JK(e){const t=zm(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Ph(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return XEe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,a){a=Ph(a??",f");const o=Nf(r,i,s),u=Math.max(Math.abs(r),Math.abs(i));let l;if(a.precision==null)switch(a.type){case"s":return isNaN(l=vq(o,u))||(a.precision=l),n(a,u);case"":case"e":case"g":case"p":case"r":{isNaN(l=yq(o,u))||(a.precision=l-(a.type==="e"));break}case"f":case"%":{isNaN(l=xq(o))||(a.precision=l-(a.type==="%")*2);break}}return t(a)}}}let $4;ZK();function ZK(){return $4=JK({format:MA,formatPrefix:U6})}function QK(e){return JK(mq(e))}function Yb(e){return arguments.length?$4=QK(e):$4}function iB(e,t,n){n=n||{},qe(n)||he(`Invalid time multi-format specifier: ${n}`);const r=t(fo),i=t(Ca),s=t(Sa),a=t(ta),o=t(Nr),u=t(Hi),l=t(ea),c=t(di),f=e(n[Ko]||".%L"),h=e(n[fo]||":%S"),d=e(n[Ca]||"%I:%M"),p=e(n[Sa]||"%I %p"),g=e(n[ta]||n[Ii]||"%a %d"),m=e(n[Nr]||"%b %d"),x=e(n[Hi]||"%B"),y=e(n[ea]||"%B"),v=e(n[di]||"%Y");return _=>(r(_)<_?f:i(_)<_?h:s(_)<_?d:a(_)<_?p:u(_)<_?o(_)<_?g:m:c(_)<_?l(_)<_?x:y:v)(_)}function eY(e){const t=zm(e.format),n=zm(e.utcFormat);return{timeFormat:r=>Ge(r)?t(r):iB(t,m1,r),utcFormat:r=>Ge(r)?n(r):iB(n,x1,r),timeParse:zm(e.parse),utcParse:zm(e.utcParse)}}let I4;tY();function tY(){return I4=eY({format:t8,parse:OX,utcFormat:n8,utcParse:$X})}function nY(e){return eY(kX(e))}function lv(e){return arguments.length?I4=nY(e):I4}const R4=(e,t)=>Ft({},e,t);function rY(e,t){const n=e?QK(e):Yb(),r=t?nY(t):lv();return R4(n,r)}function T8(e,t){const n=arguments.length;return n&&n!==2&&he("defaultLocale expects either zero or two arguments."),n?R4(Yb(e),lv(t)):R4(Yb(),lv())}function YEe(){return ZK(),tY(),T8()}const JEe=/^(data:|([A-Za-z]+:)?\/\/)/,ZEe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,QEe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sB="file://";function ebe(e,t){return n=>({options:n||{},sanitize:nbe,load:tbe,fileAccess:!1,file:rbe(t),http:sbe(e)})}async function tbe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function nbe(e,t){t=Ft({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,a;const o=ZEe.test(e.replace(QEe,""));(e==null||typeof e!="string"||!o)&&he("Sanitize failure, invalid URI: "+Me(e));const u=JEe.test(e);return(a=t.baseURL)&&!u&&(!e.startsWith("/")&&!a.endsWith("/")&&(e="/"+e),e=a+e),s=(i=e.startsWith(sB))||t.mode==="file"||t.mode!=="http"&&!u&&n,i?e=e.slice(sB.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function rbe(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):ibe}async function ibe(){he("No file system access.")}function sbe(e){return e?async function(t,n){const r=Ft({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?Et(s[i])?s[i]():s.text():he(s.status+""+s.statusText)}:abe}async function abe(){he("No HTTP fetch method available.")}const obe=e=>e!=null&&e===e,ube=e=>e==="true"||e==="false"||e===!0||e===!1,lbe=e=>!Number.isNaN(Date.parse(e)),iY=e=>!Number.isNaN(+e)&&!(e instanceof Date),cbe=e=>iY(e)&&Number.isInteger(+e),M4={boolean:b8,integer:Pi,number:Pi,date:w8,string:A8,unknown:Zi},t2=[ube,cbe,iY,lbe],fbe=["boolean","integer","number","date"];function sY(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=t2.length,i=t2.map((s,a)=>a+1);for(let s=0,a=0,o,u;s<n;++s)for(u=t?e[s][t]:e[s],o=0;o<r;++o)if(i[o]&&obe(u)&&!t2[o](u)&&(i[o]=0,++a,a===t2.length))return"string";return fbe[i.reduce((s,a)=>s===0?a:s,0)-1]}function aY(e,t){return t.reduce((n,r)=>(n[r]=sY(e,r),n),{})}function aB(e){const t=function(n,r){const i={delimiter:e};return F8(n,r?Ft(r,i):i)};return t.responseType="text",t}function F8(e,t){return t.header&&(e=t.header.map(Me).join(t.delimiter)+`
`+e),cq(t.delimiter).parse(e+"")}F8.responseType="text";function hbe(e){return typeof Buffer=="function"&&Et(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function D8(e,t){const n=t&&t.property?lo(t.property):Zi;return qe(e)&&!hbe(e)?dbe(n(e),t):n(JSON.parse(e))}D8.responseType="json";function dbe(e,t){return!_e(e)&&yK(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const pbe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function oY(e,t){let n,r,i,s;return e=D8(e,t),t&&t.feature?(n=DEe,i=t.feature):t&&t.mesh?(n=OEe,i=t.mesh,s=pbe[t.filter]):he("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):he("Invalid TopoJSON object: "+i),r&&r.features||[r]}oY.responseType="json";const lE={dsv:F8,csv:aB(","),tsv:aB("	"),json:D8,topojson:oY};function N8(e,t){return arguments.length>1?(lE[e]=t,this):Ke(lE,e)?lE[e]:null}function uY(e){const t=N8(e);return t&&t.responseType||"text"}function lY(e,t,n,r){t=t||{};const i=N8(t.type||"json");return i||he("Unknown data format type: "+t.type),e=i(e,t),t.parse&&gbe(e,t.parse,n,r),Ke(e,"columns")&&delete e.columns,e}function gbe(e,t,n,r){if(!e.length)return;const i=lv();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),a,o,u,l,c,f;t==="auto"&&(t=aY(e,s)),s=Object.keys(t);const h=s.map(d=>{const p=t[d];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!M4[p])throw Error("Illegal format pattern: "+d+":"+p);return M4[p]});for(u=0,c=e.length,f=s.length;u<c;++u)for(a=e[u],l=0;l<f;++l)o=s[l],a[o]=h[l](a[o])}const eS=ebe(typeof fetch<"u"&&fetch,null);function tS(e){const t=e||Zi,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const a=n.indexOf(i);a>=0&&n.splice(a,1)}return n},n}async function cE(e,t){try{await t(e)}catch(n){e.error(n)}}const cY=Symbol("vega_id");let mbe=1;function nS(e){return!!(e&&ut(e))}function ut(e){return e[cY]}function fY(e,t){return e[cY]=t,e}function fn(e){const t=e===Object(e)?e:{data:e};return ut(t)?t:fY(t,mbe++)}function O8(e){return rS(e,fn({}))}function rS(e,t){for(const n in e)t[n]=e[n];return t}function hY(e,t){return fY(t,ut(e))}function Ad(e,t){return e?t?(n,r)=>e(n,r)||ut(t(n))-ut(t(r)):(n,r)=>e(n,r)||ut(n)-ut(r):null}function dY(e){return e&&e.constructor===Sd}function Sd(){const e=[],t=[],n=[],r=[],i=[];let s=null,a=!1;return{constructor:Sd,insert(o){const u=Xe(o),l=u.length;for(let c=0;c<l;++c)e.push(u[c]);return this},remove(o){const u=Et(o)?r:t,l=Xe(o),c=l.length;for(let f=0;f<c;++f)u.push(l[f]);return this},modify(o,u,l){const c={field:u,value:Qi(l)};return Et(o)?(c.filter=o,i.push(c)):(c.tuple=o,n.push(c)),this},encode(o,u){return Et(o)?i.push({filter:o,field:u}):n.push({tuple:o,field:u}),this},clean(o){return s=o,this},reflow(){return a=!0,this},pulse(o,u){const l={},c={};let f,h,d,p,g,m;for(f=0,h=u.length;f<h;++f)l[ut(u[f])]=1;for(f=0,h=t.length;f<h;++f)g=t[f],l[ut(g)]=-1;for(f=0,h=r.length;f<h;++f)p=r[f],u.forEach(y=>{p(y)&&(l[ut(y)]=-1)});for(f=0,h=e.length;f<h;++f)g=e[f],m=ut(g),l[m]?l[m]=1:o.add.push(fn(e[f]));for(f=0,h=u.length;f<h;++f)g=u[f],l[ut(g)]<0&&o.rem.push(g);function x(y,v,_){_?y[v]=_(y):o.encode=v,a||(c[ut(y)]=y)}for(f=0,h=n.length;f<h;++f)d=n[f],g=d.tuple,p=d.field,m=l[ut(g)],m>0&&(x(g,p,d.value),o.modifies(p));for(f=0,h=i.length;f<h;++f)d=i[f],p=d.filter,u.forEach(y=>{p(y)&&l[ut(y)]>0&&x(y,d.field,d.value)}),o.modifies(d.field);if(a)o.mod=t.length||r.length?u.filter(y=>l[ut(y)]>0):u.slice();else for(m in c)o.mod.push(c[m]);return(s||s==null&&(t.length||r.length))&&o.clean(!0),o}}}const fE="_:mod:_";function iS(){Object.defineProperty(this,fE,{writable:!0,value:{}})}iS.prototype={set(e,t,n,r){const i=this,s=i[e],a=i[fE];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,a[t+":"+e]=-1,a[e]=-1):(s!==n||r)&&(i[e]=n,a[e]=_e(n)?1+n.length:-1),i},modified(e,t){const n=this[fE];if(arguments.length){if(_e(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[fE]={},this}};let xbe=0;const vbe="pulse",ybe=new iS,_be=1,Ebe=2;function Tn(e,t,n,r){this.id=++xbe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function oB(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Tn.prototype={targets(){return this._targets||(this._targets=tS(py))},set(e){return this.value!==e?(this.value=e,1):0},skip:oB(_be),modified:oB(Ebe),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new iS,i=this._argops=this._argops||[],s=[];let a,o,u,l;const c=(f,h,d)=>{d instanceof Tn?(d!==this&&(t&&d.targets().add(this),s.push(d)),i.push({op:d,name:f,index:h})):r.set(f,h,d)};for(a in e)if(o=e[a],a===vbe)Xe(o).forEach(f=>{f instanceof Tn?f!==this&&(f.targets().add(this),s.push(f)):he("Pulse parameters must be operator instances.")}),this.source=o;else if(_e(o))for(r.set(a,-1,Array(u=o.length)),l=0;l<u;++l)c(a,l,o[l]);else c(a,-1,o);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||ybe,n=this._argops;let r,i,s,a;if(n){const o=n.length;for(i=0;i<o;++i)r=n[i],s=r.op,a=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,a);if(n.initonly){for(i=0;i<o;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function bbe(e,t,n,r){let i=1,s;return e instanceof Tn?s=e:e&&e.prototype instanceof Tn?s=new e:Et(e)?s=new Tn(null,e):(i=0,s=new Tn(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function wbe(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Abe=0;function sS(e,t,n){this.id=++Abe,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Gc(e,t,n){return new sS(e,t,n)}sS.prototype={_filter:co,_apply:Zi,targets(){return this._targets||(this._targets=tS(py))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Gc(e);return this.targets().add(t),t},apply(e){const t=Gc(null,e);return this.targets().add(t),t},merge(){const e=Gc();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Gc();return this.targets().add(Gc(null,null,y8(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Gc(null,null,()=>n=!0)),t.targets().add(Gc(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=co,this._targets=null}};function Sbe(e,t,n,r){const i=this,s=Gc(n,r),a=function(l){l.dataflow=i;try{s.receive(l)}catch(c){i.error(c)}finally{i.run()}};let o;typeof e=="string"&&typeof document<"u"?o=document.querySelectorAll(e):o=Xe(e);const u=o.length;for(let l=0;l<u;++l)o[l].addEventListener(t,a);return s}function Cbe(e,t){const n=this.locale();return lY(e,t,n.timeParse,n.utcParse)}function kbe(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Tbe(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:uY(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function Fbe(e,t,n){const r=this,i=r._pending||Dbe(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(co).insert(s.data||[])),i.done(),s}function Dbe(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Nbe={skip:!0};function Obe(e,t,n,r,i){return(e instanceof Tn?Ibe:$be)(this,e,t,n,r,i),this}function $be(e,t,n,r,i,s){const a=Ft({},s,Nbe);let o,u;Et(n)||(n=Qi(n)),r===void 0?o=l=>e.touch(n(l)):Et(r)?(u=new Tn(null,r,i,!1),o=l=>{u.evaluate(l);const c=n(l),f=u.value;dY(f)?e.pulse(c,f,s):e.update(c,f,a)}):o=l=>e.update(n(l),r,a),t.apply(o)}function Ibe(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const a=s||{},o=new Tn(null,Rbe(n,r),i,!1);o.modified(a.force),o.rank=t.rank,t.targets().add(o),n&&(o.skip(!0),o.value=n.value,o.targets().add(n),e.connect(n,[o]))}}function Rbe(e,t){return t=Et(t)?t:Qi(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Mbe(e){e.rank=++this._rank}function Lbe(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&he("Cycle detected in dataflow graph.")}const Jb={},Au=1,tf=2,Nl=4,Pbe=Au|tf,uB=Au|Nl,np=Au|tf|Nl,lB=8,nm=16,cB=32,fB=64;function bf(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function uT(e,t){const n=[];return ef(e,t,r=>n.push(r)),n}function hB(e,t){const n={};return e.visit(t,r=>{n[ut(r)]=1}),r=>n[ut(r)]?null:r}function n2(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}bf.prototype={StopPropagation:Jb,ADD:Au,REM:tf,MOD:Nl,ADD_REM:Pbe,ADD_MOD:uB,ALL:np,REFLOW:lB,SOURCE:nm,NO_SOURCE:cB,NO_FIELDS:fB,fork(e){return new bf(this.dataflow).init(this,e)},clone(){const e=this.fork(np);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(np|nm)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new bf(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&fB)&&(n.fields=e.fields),t&Au?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&tf?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Nl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&cB?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||np;return t&Au&&this.add.length||t&tf&&this.rem.length||t&Nl&&this.mod.length},reflow(e){if(e)return this.fork(np).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Nl,hB(this,Au))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return _e(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?_e(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Au&&(n.addF=n2(n.addF,t)),e&tf&&(n.remF=n2(n.remF,t)),e&Nl&&(n.modF=n2(n.modF,t)),e&nm&&(n.srcF=n2(n.srcF,t)),n},materialize(e){e=e||np;const t=this;return e&Au&&t.addF&&(t.add=uT(t.add,t.addF),t.addF=null),e&tf&&t.remF&&(t.rem=uT(t.rem,t.remF),t.remF=null),e&Nl&&t.modF&&(t.mod=uT(t.mod,t.modF),t.modF=null),e&nm&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&nm)return ef(n.source,n.srcF,r),n;e&Au&&ef(n.add,n.addF,r),e&tf&&ef(n.rem,n.remF,r),e&Nl&&ef(n.mod,n.modF,r);const i=n.source;if(e&lB&&i){const s=n.add.length+n.mod.length;s===i.length||(s?ef(i,hB(n,uB),r):ef(i,n.srcF,r))}return n}};function $8(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const a of n)if(a.stamp===t){if(a.fields){const o=i.fields||(i.fields={});for(const u in a.fields)o[u]=1}a.changed(i.ADD)&&(s|=i.ADD),a.changed(i.REM)&&(s|=i.REM),a.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}Ue($8,bf,{fork(e){const t=new bf(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?_e(e)?e.some(r=>n[r]):n[e]:0},filter(){he("MultiPulse does not support filtering.")},materialize(){he("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function Bbe(e,t,n){const r=this,i=[];if(r._pulse)return pY(r);if(r._pending&&await r._pending,t&&await cE(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new bf(r,s,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=tS(py);let a=0,o,u,l;try{for(;r._heap.size()>0;){if(o=r._heap.pop(),o.rank!==o.qrank){r._enqueue(o,!0);continue}u=o.run(r._getPulse(o,e)),u.then?u=await u:u.async&&(i.push(u.async),u=Jb),u!==Jb&&o._targets&&o._targets.forEach(c=>r._enqueue(c)),++a}}catch(c){r._heap.clear(),l=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${a} operators`),l&&(r._postrun=[],r.error(l)),r._postrun.length){const c=r._postrun.sort((f,h)=>h.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await cE(r,c[f].callback)}return n&&await cE(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(h){r.error(h)}})})),r}async function Ube(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function zbe(e,t,n){return this._pulse?pY(this):(this.evaluate(e,t,n),this)}function Wbe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function pY(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Hbe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Vbe(e,t){const n=e.source,r=this._clock;return n&&_e(n)?new $8(this,r,n.map(i=>i.pulse),t):this._input[e.id]||jbe(this._pulse,n&&n.pulse)}function jbe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==Jb&&(e.source=t.source),e)}const I8={skip:!1,force:!1};function Gbe(e,t){const n=t||I8;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function qbe(e,t,n){const r=n||I8;return(e.set(t)||r.force)&&this.touch(e,r),this}function Xbe(e,t,n){this.touch(e,n||I8);const r=new bf(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Kbe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),gY(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Ybe(t,0,e)):r=n,r}}}function gY(e,t,n,r){let i,s;const a=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(a,i)<0){e[n]=i,n=s;continue}break}return e[n]=a}function Ybe(e,t,n){const r=t,i=e.length,s=e[t];let a=(t<<1)+1,o;for(;a<i;)o=a+1,o<i&&n(e[a],e[o])>=0&&(a=o),e[t]=e[a],t=a,a=(t<<1)+1;return e[t]=s,gY(e,r,t,n)}function Hp(){this.logger(p8()),this.logLevel(h8),this._clock=0,this._rank=0,this._locale=T8();try{this._loader=eS()}catch{}this._touched=tS(py),this._input={},this._pulse=null,this._heap=Kbe((e,t)=>e.qrank-t.qrank),this._postrun=[]}function rm(e){return function(){return this._log[e].apply(this,arguments)}}Hp.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:rm("error"),warn:rm("warn"),info:rm("info"),debug:rm("debug"),logLevel:rm("level"),cleanThreshold:1e4,add:bbe,connect:wbe,rank:Mbe,rerank:Lbe,pulse:Xbe,touch:Gbe,update:qbe,changeset:Sd,ingest:kbe,parse:Cbe,preload:Fbe,request:Tbe,events:Sbe,on:Obe,evaluate:Bbe,run:zbe,runAsync:Ube,runAfter:Wbe,_enqueue:Hbe,_getPulse:Vbe};function fe(e,t){Tn.call(this,e,null,t)}Ue(fe,Tn,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const wg={};function mY(e){const t=xY(e);return t&&t.Definition||null}function xY(e){return e=e&&e.toLowerCase(),Ke(wg,e)?wg[e]:null}function*vY(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function R8(e,t,n){const r=Float64Array.from(vY(e,n));return r.sort(Zl),t.map(i=>dG(r,i))}function M8(e,t){return R8(e,[.25,.5,.75],t)}function L8(e,t){const n=e.length,r=Xhe(e,t),i=M8(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function yY(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],a=e.extent[1],o,u,l,c,f,h;const d=e.span||a-s||Math.abs(s)||1;if(e.step)o=e.step;else if(e.steps){for(c=d/t,f=0,h=e.steps.length;f<h&&e.steps[f]<c;++f);o=e.steps[Math.max(0,f-1)]}else{for(u=Math.ceil(Math.log(t)/r),l=e.minstep||0,o=Math.max(l,Math.pow(n,Math.round(Math.log(d)/r)-u));Math.ceil(d/o)>t;)o*=n;for(f=0,h=i.length;f<h;++f)c=o/i[f],c>=l&&d/c<=t&&(o=c)}c=Math.log(o);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(s/o+g)*o,s=s<c?c-o:c,a=Math.ceil(a/o)*o),{start:s,stop:a===s?s+o:a,step:o}}var ho=Math.random;function Jbe(e){ho=e}function _Y(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(vY(e,r)),s=i.length,a=t;let o,u,l,c;for(l=0,c=Array(a);l<a;++l){for(o=0,u=0;u<s;++u)o+=i[~~(ho()*s)];c[l]=o/s}return c.sort(Zl),[H3(c,n/2),H3(c,1-n/2)]}function EY(e,t,n,r){r=r||(h=>h);const i=e.length,s=new Float64Array(i);let a=0,o=1,u=r(e[0]),l=u,c=u+t,f;for(;o<i;++o){if(f=r(e[o]),f>=c){for(l=(u+l)/2;a<o;++a)s[a]=l;c=f+t,u=f}l=f}for(l=(u+l)/2;a<o;++a)s[a]=l;return n?Zbe(s,t+t/4):s}function Zbe(e,t){const n=e.length;let r=0,i=1,s,a;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(a=i+(r+s-i-i>>1);a<i;)e[a++]=e[i];for(;a>i;)e[a--]=e[r]}r=i,i=s}return e}function Qbe(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function ewe(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(a){return arguments.length?(n=a||0,i=r-n,s):n},max(a){return arguments.length?(r=a||0,i=r-n,s):r},sample(){return n+Math.floor(i*ho())},pdf(a){return a===Math.floor(a)&&a>=n&&a<r?1/i:0},cdf(a){const o=Math.floor(a);return o<n?0:o>=r?1:(o-n+1)/i},icdf(a){return a>=0&&a<=1?n-1+Math.floor(a*i):NaN}};return s.min(e).max(t)}const bY=Math.sqrt(2*Math.PI),twe=Math.SQRT2;let im=NaN;function aS(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(im===im)n=im,im=NaN;else{do n=ho()*2-1,r=ho()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,im=r*s}return e+n*t}function P8(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*bY)}function oS(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const a=Math.exp(-i*i/2);let o;i<7.07106781186547?(o=.0352624965998911*i+.700383064443688,o=o*i+6.37396220353165,o=o*i+33.912866078383,o=o*i+112.079291497871,o=o*i+221.213596169931,o=o*i+220.206867912376,s=a*o,o=.0883883476483184*i+1.75566716318264,o=o*i+16.064177579207,o=o*i+86.7807322029461,o=o*i+296.564248779674,o=o*i+637.333633378831,o=o*i+793.826512519948,o=o*i+440.413735824752,s=s/o):(o=i+.65,o=i+4/o,o=i+3/o,o=i+2/o,o=i+1/o,s=a/o/2.506628274631)}return r>0?1-s:s}function uS(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*twe*nwe(2*e-1)}function nwe(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function B8(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>aS(n,r),pdf:s=>P8(s,n,r),cdf:s=>oS(s,n,r),icdf:s=>uS(s,n,r)};return i.mean(e).stdev(t)}function U8(e,t){const n=B8();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=L8(e)),i):t},sample(){return e[~~(ho()*r)]+t*n.sample()},pdf(s){let a=0,o=0;for(;o<r;++o)a+=n.pdf((s-e[o])/t);return a/t/r},cdf(s){let a=0,o=0;for(;o<r;++o)a+=n.cdf((s-e[o])/t);return a/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function z8(e,t){return e=e||0,t=t??1,Math.exp(e+aS()*t)}function W8(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*bY*e)}function H8(e,t,n){return oS(Math.log(e),t,n)}function V8(e,t,n){return Math.exp(uS(e,t,n))}function wY(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>z8(n,r),pdf:s=>W8(s,n,r),cdf:s=>H8(s,n,r),icdf:s=>V8(s,n,r)};return i.mean(e).stdev(t)}function AY(e,t){let n=0,r;function i(a){const o=[];let u=0,l;for(l=0;l<n;++l)u+=o[l]=a[l]==null?1:+a[l];for(l=0;l<n;++l)o[l]/=u;return o}const s={weights(a){return arguments.length?(r=i(t=a||[]),s):t},distributions(a){return arguments.length?(a?(n=a.length,e=a):(n=0,e=[]),s.weights(t)):e},sample(){const a=ho();let o=e[n-1],u=r[0],l=0;for(;l<n-1;u+=r[++l])if(a<u){o=e[l];break}return o.sample()},pdf(a){let o=0,u=0;for(;u<n;++u)o+=r[u]*e[u].pdf(a);return o},cdf(a){let o=0,u=0;for(;u<n;++u)o+=r[u]*e[u].cdf(a);return o},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function j8(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*ho()}function G8(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function q8(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function X8(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function SY(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>j8(n,r),pdf:s=>G8(s,n,r),cdf:s=>q8(s,n,r),icdf:s=>X8(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function K8(e,t,n){let r=0,i=0;for(const s of e){const a=n(s);t(s)==null||a==null||isNaN(a)||(r+=(a-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function my(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function lS(e,t,n,r){e=e.filter(d=>{let p=t(d),g=n(d);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((d,p)=>t(d)-t(p));const i=e.length,s=new Float64Array(i),a=new Float64Array(i);let o=0,u=0,l=0,c,f,h;for(h of e)s[o]=c=+t(h),a[o]=f=+n(h),++o,u+=(c-u)/o,l+=(f-l)/o;for(o=0;o<i;++o)s[o]-=u,a[o]-=l;return[s,a,u,l]}function xy(e,t,n,r){let i=-1,s,a;for(const o of e)s=t(o),a=n(o),s!=null&&(s=+s)>=s&&a!=null&&(a=+a)>=a&&r(s,a,++i)}function v1(e,t,n,r,i){let s=0,a=0;return xy(e,t,n,(o,u)=>{const l=u-i(o),c=u-r;s+=l*l,a+=c*c}),1-s/a}function Y8(e,t,n){let r=0,i=0,s=0,a=0,o=0;xy(e,t,n,(c,f)=>{++o,r+=(c-r)/o,i+=(f-i)/o,s+=(c*f-s)/o,a+=(c*c-a)/o});const u=my(r,i,s,a),l=c=>u[0]+u[1]*c;return{coef:u,predict:l,rSquared:v1(e,t,n,i,l)}}function CY(e,t,n){let r=0,i=0,s=0,a=0,o=0;xy(e,t,n,(c,f)=>{++o,c=Math.log(c),r+=(c-r)/o,i+=(f-i)/o,s+=(c*f-s)/o,a+=(c*c-a)/o});const u=my(r,i,s,a),l=c=>u[0]+u[1]*Math.log(c);return{coef:u,predict:l,rSquared:v1(e,t,n,i,l)}}function kY(e,t,n){const[r,i,s,a]=lS(e,t,n);let o=0,u=0,l=0,c=0,f=0,h,d,p;xy(e,t,n,(y,v)=>{h=r[f++],d=Math.log(v),p=h*v,o+=(v*d-o)/f,u+=(p-u)/f,l+=(p*d-l)/f,c+=(h*p-c)/f});const[g,m]=my(u/a,o/a,l/a,c/a),x=y=>Math.exp(g+m*(y-s));return{coef:[Math.exp(g-m*s),m],predict:x,rSquared:v1(e,t,n,a,x)}}function TY(e,t,n){let r=0,i=0,s=0,a=0,o=0,u=0;xy(e,t,n,(f,h)=>{const d=Math.log(f),p=Math.log(h);++u,r+=(d-r)/u,i+=(p-i)/u,s+=(d*p-s)/u,a+=(d*d-a)/u,o+=(h-o)/u});const l=my(r,i,s,a),c=f=>l[0]*Math.pow(f,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:v1(e,t,n,o,c)}}function J8(e,t,n){const[r,i,s,a]=lS(e,t,n),o=r.length;let u=0,l=0,c=0,f=0,h=0,d,p,g,m;for(d=0;d<o;)p=r[d],g=i[d++],m=p*p,u+=(m-u)/d,l+=(m*p-l)/d,c+=(m*m-c)/d,f+=(p*g-f)/d,h+=(m*g-h)/d;const x=c-u*u,y=u*x-l*l,v=(h*u-f*l)/y,_=(f*x-h*l)/y,E=-v*u,w=b=>(b=b-s,v*b*b+_*b+E+a);return{coef:[E-_*s+v*s*s+a,_-2*v*s,v],predict:w,rSquared:v1(e,t,n,a,w)}}function FY(e,t,n,r){if(r===0)return K8(e,t,n);if(r===1)return Y8(e,t,n);if(r===2)return J8(e,t,n);const[i,s,a,o]=lS(e,t,n),u=i.length,l=[],c=[],f=r+1;let h,d,p,g,m;for(h=0;h<f;++h){for(p=0,g=0;p<u;++p)g+=Math.pow(i[p],h)*s[p];for(l.push(g),m=new Float64Array(f),d=0;d<f;++d){for(p=0,g=0;p<u;++p)g+=Math.pow(i[p],h+d);m[d]=g}c.push(m)}c.push(l);const x=iwe(c),y=v=>{v-=a;let _=o+x[0]+x[1]*v+x[2]*v*v;for(h=3;h<f;++h)_+=x[h]*Math.pow(v,h);return _};return{coef:rwe(f,x,-a,o),predict:y,rSquared:v1(e,t,n,o,y)}}function rwe(e,t,n,r){const i=Array(e);let s,a,o,u;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(o=t[s],u=1,i[s]+=o,a=1;a<=s;++a)u*=(s+1-a)/a,i[s-a]+=o*Math.pow(n,a)*u;return i[0]+=r,i}function iwe(e){const t=e.length-1,n=[];let r,i,s,a,o;for(r=0;r<t;++r){for(a=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][a])&&(a=i);for(s=r;s<t+1;++s)o=e[s][r],e[s][r]=e[s][a],e[s][a]=o;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(o=0,s=i+1;s<t;++s)o+=e[s][i]*n[s];n[i]=(e[t][i]-o)/e[i][i]}return n}const dB=2,pB=1e-12;function DY(e,t,n,r){const[i,s,a,o]=lS(e,t,n,!0),u=i.length,l=Math.max(2,~~(r*u)),c=new Float64Array(u),f=new Float64Array(u),h=new Float64Array(u).fill(1);for(let d=-1;++d<=dB;){const p=[0,l-1];for(let m=0;m<u;++m){const x=i[m],y=p[0],v=p[1],_=x-i[y]>i[v]-x?y:v;let E=0,w=0,b=0,S=0,A=0;const C=1/Math.abs(i[_]-x||1);for(let N=y;N<=v;++N){const R=i[N],D=s[N],O=swe(Math.abs(x-R)*C)*h[N],M=R*O;E+=O,w+=M,b+=D*O,S+=D*M,A+=R*M}const[k,F]=my(w/E,b/E,S/E,A/E);c[m]=k+F*x,f[m]=Math.abs(s[m]-c[m]),awe(i,m+1,p)}if(d===dB)break;const g=pG(f);if(Math.abs(g)<pB)break;for(let m=0,x,y;m<u;++m)x=f[m]/(6*g),h[m]=x>=1?pB:(y=1-x*x)*y}return owe(i,c,a,o)}function swe(e){return(e=1-e*e*e)*e*e}function awe(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function owe(e,t,n,r){const i=e.length,s=[];let a=0,o=0,u=[],l;for(;a<i;++a)l=e[a]+n,u[0]===l?u[1]+=(t[a]-u[1])/++o:(o=0,u[1]+=r,u=[l,t[a]],s.push(u));return u[1]+=r,s}const uwe=.5*Math.PI/180;function cS(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],s=t[0],a=t[1],o=a-s,u=o/r,l=[i(s)],c=[];if(n===r){for(let g=1;g<r;++g)l.push(i(s+g/n*o));return l.push(i(a)),l}else{c.push(i(a));for(let g=n;--g>0;)c.push(i(s+g/n*o))}let f=l[0],h=c[c.length-1];const d=1/o,p=lwe(f[1],c);for(;h;){const g=i((f[0]+h[0])/2);g[0]-f[0]>=u&&cwe(f,g,h,d,p)>uwe?c.push(g):(f=h,l.push(h),c.pop()),h=c[c.length-1]}return l}function lwe(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const a=t[s][1];a<n&&(n=a),a>r&&(r=a)}return 1/(r-n)}function cwe(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),a=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-a)}function fwe(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function L4(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:fwe(e)}function NY(e,t,n){return n||e+(t?"_"+t:"")}const lT=()=>{},hwe={init:lT,add:lT,rem:lT,idx:0},cv={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},vy=Object.keys(cv).filter(e=>e!=="__count__");function dwe(e,t){return(n,r)=>Ft({name:e,aggregate_param:r,out:n||e},hwe,t)}[...vy,"__count__"].forEach(e=>{cv[e]=dwe(e,cv[e])});function OY(e,t,n){return cv[e](n,t)}function $Y(e,t){return e.idx-t.idx}function pwe(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=cv[i]())})};return e.forEach(n),Object.values(t).sort($Y)}function gwe(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function mwe(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function xwe(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function vwe(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function IY(e,t){const n=t||Zi,r=pwe(e),i=e.slice().sort($Y);function s(a){this._ops=r,this._out=i,this.cell=a,this.init()}return s.prototype.init=gwe,s.prototype.add=mwe,s.prototype.rem=xwe,s.prototype.set=vwe,s.prototype.get=n,s.fields=e.map(a=>a.out),s}function Z8(e){this._key=e?lo(e):ut,this.reset()}const mi=Z8.prototype;mi.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};mi.add=function(e){this._add.push(e)};mi.rem=function(e){this._rem.push(e)};mi.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),a={};let o,u,l;for(o=0;o<i;++o)a[n(t[o])]=1;for(o=0,u=0;o<r;++o)a[n(l=e[o])]?a[n(l)]=0:s[u++]=l;return this._rem=[],this._add=s};mi.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",Ke(n,s)||(n[s]=1,++i);return i};mi.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=xK(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};mi.argmin=function(e){return this.extent(e)[0]||{}};mi.argmax=function(e){return this.extent(e)[1]||{}};mi.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};mi.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};mi.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=M8(this.values(),e),this._get=e),this._q};mi.q1=function(e){return this.quartile(e)[0]};mi.q2=function(e){return this.quartile(e)[1]};mi.q3=function(e){return this.quartile(e)[2]};mi.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=_Y(this.values(),1e3,.05,e),this._get=e),this._ci};mi.ci0=function(e){return this.ci(e)[0]};mi.ci1=function(e){return this.ci(e)[1]};function If(e){fe.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}If.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:vy},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Ue(If,fe,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(o){let u,l,c,f;for(u in o)for(c=o[u].tuple,l=0;l<i;++l)r[l][f=c[n[l]]]=f}s(e._prev),s(t);function a(o,u,l){const c=n[l],f=r[l++];for(const h in f){const d=o?o+"|"+h:h;u[c]=f[h],l<i?a(d,u,l):t[d]||e.cell(d,u)}}a("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(y){const v=Xe(Wi(y)),_=v.length;let E=0,w;for(;E<_;++E)r[w=v[E]]||(r[w]=1,t.push(w))}this._dims=Xe(e.groupby),this._dnames=this._dims.map(y=>{const v=ir(y);return i(y),n.push(v),v}),this.cellkey=e.key?e.key:L4(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],a=e.ops||["count"],o=e.aggregate_params||[null],u=e.as||[],l=s.length,c={};let f,h,d,p,g,m,x;for(l!==a.length&&he("Unmatched number of fields and aggregate ops."),x=0;x<l;++x){if(f=s[x],h=a[x],d=o[x]||null,f==null&&h!=="count"&&he("Null aggregate field specified."),g=ir(f),m=NY(h,g,u[x]),n.push(m),h==="count"){this._counts.push(m);continue}p=c[g],p||(i(f),p=c[g]=[],p.field=f,this._measures.push(p)),h!=="count"&&(this._countOnly=!1),p.push(OY(h,d,m))}return this._measures=this._measures.map(y=>IY(y,y.field)),Object.create(null)},cellkey:L4(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new Z8),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let a=0;a<i;++a)s[n[a]]=r[a](e);return t?hY(t.tuple,s):fn(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,a=e.rem,o=e.mod;let u,l,c,f;if(r)for(l in r)u=r[l],(!i||u.num)&&a.push(u.tuple);for(c=0,f=this._alen;c<f;++c)s.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)u=n[c],(u.num===0&&i?a:o).push(this.celltuple(u)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const ywe=1e-14;function Q8(e){fe.call(this,null,e)}Q8.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Ue(Q8,fe,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,a=e.as||["bin0","bin1"],o=a[0],u=a[1];let l;return e.modified()?(t=t.reflow(!0),l=t.SOURCE):l=t.modified(Wi(e.field))?t.ADD_MOD:t.ADD,t.visit(l,n?c=>{const f=r(c);c[o]=f,c[u]=f==null?null:i+s*(1+(f-i)/s)}:c=>c[o]=r(c)),t.modifies(n?a:o)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=yY(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,a,o;(a=e.anchor)!=null&&(o=a-(i+r*Math.floor((a-i)/r)),i+=o,s+=o);const u=function(l){let c=Pi(t(l));return c==null?null:c<i?-1/0:c>s?1/0:(c=Math.max(i,Math.min(c,s-r)),i+r*Math.floor(ywe+(c-i)/r))};return u.start=i,u.stop=n.stop,u.step=r,this.value=aa(u,Wi(t),e.name||"bin_"+ir(t))}});function RY(e,t,n){const r=e;let i=t||[],s=n||[],a={},o=0;return{add:u=>s.push(u),remove:u=>a[r(u)]=++o,size:()=>i.length,data:(u,l)=>(o&&(i=i.filter(c=>!a[r(c)]),a={},o=0),l&&u&&i.sort(u),s.length&&(i=u?bK(u,i,s.sort(u)):i.concat(s),s=[]),i)}}function eO(e){fe.call(this,[],e)}eO.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Ue(eO,fe,{transform(e,t){const n=t.fork(t.ALL),r=RY(ut,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(Ad(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function MY(e){Tn.call(this,null,_we,e)}Ue(MY,Tn);function _we(e){return this.value&&!e.modified()?this.value:v8(e.fields,e.orders)}function tO(e){fe.call(this,null,e)}tO.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Ewe(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Ue(tO,fe,{transform(e,t){const n=f=>h=>{for(var d=Ewe(o(h),e.case,s)||[],p,g=0,m=d.length;g<m;++g)a.test(p=d[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,a=this._stop,o=e.field,u=e.as||["text","count"],l=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let o,u,l;for(o in n)u=r[o],l=n[o]||0,!u&&l?(r[o]=u=fn({}),u[i]=o,u[s]=l,a.add.push(u)):l===0?(u&&a.rem.push(u),n[o]=null,r[o]=null):u[s]!==l&&(u[s]=l,a.mod.push(u));return a.modifies(t)}});function nO(e){fe.call(this,null,e)}nO.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Ue(nO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let o=this.value;return a?(o&&(n.rem=o),o=t.materialize(t.SOURCE).source,n.add=this.value=bwe(o,i,s,e.filter||co)):n.mod=o,n.source=this.value,n.modifies(r)}});function bwe(e,t,n,r){for(var i=[],s={},a=e.length,o=0,u,l;o<a;++o)for(s[t]=l=e[o],u=0;u<a;++u)s[n]=e[u],r(s)&&(i.push(fn(s)),s={},s[t]=l);return i}const gB={kde:U8,mixture:AY,normal:B8,lognormal:wY,uniform:SY},wwe="distributions",mB="function",Awe="field";function LY(e,t){const n=e[mB];Ke(gB,n)||he("Unknown distribution function: "+n);const r=gB[n]();for(const i in e)i===Awe?r.data((e.from||t()).map(e[i])):i===wwe?r[i](e[i].map(s=>LY(s,t))):typeof r[i]===mB&&r[i](e[i]);return r}function rO(e){fe.call(this,null,e)}const PY=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Swe={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:PY},{name:"weights",type:"number",array:!0}]};rO.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:PY.concat(Swe)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ue(rO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=LY(e.distribution,Cwe(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let a=e.method||"pdf";a!=="pdf"&&a!=="cdf"&&he("Invalid density method: "+a),!e.extent&&!r.data&&he("Missing density extent parameter."),a=r[a];const o=e.as||["value","density"],u=e.extent||Xu(r.data()),l=cS(a,u,i,s).map(c=>{const f={};return f[o[0]]=c[0],f[o[1]]=c[1],fn(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function Cwe(e){return()=>e.materialize(e.SOURCE).source}function BY(e,t){return e?e.map((n,r)=>t[r]||ir(n)):null}function iO(e,t,n){const r=[],i=f=>f(u);let s,a,o,u,l,c;if(t==null)r.push(e.map(n));else for(s={},a=0,o=e.length;a<o;++a)u=e[a],l=t.map(i),c=s[l],c||(s[l]=c=[],c.dims=l,r.push(c)),c.push(n(u));return r}const UY="bin";function sO(e){fe.call(this,null,e)}sO.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:UY}]};const kwe=(e,t)=>gy(Xu(e,t))/30;Ue(sO,fe,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=iO(t.source,e.groupby,Zi),i=e.smooth||!1,s=e.field,a=e.step||kwe(n,s),o=Ad((p,g)=>s(p)-s(g)),u=e.as||UY,l=r.length;let c=1/0,f=-1/0,h=0,d;for(;h<l;++h){const p=r[h].sort(o);d=-1;for(const g of EY(p,a,i,s))g<c&&(c=g),g>f&&(f=g),p[++d][u]=g}return this.value={start:c,stop:f,step:a},t.reflow(!0).modifies(u)}});function zY(e){Tn.call(this,null,Twe,e),this.modified(!0)}Ue(zY,Tn);function Twe(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:aa(n=>t(n,e),Wi(t),ir(t))}function aO(e){fe.call(this,[void 0,void 0],e)}aO.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Ue(aO,fe,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],a=n[1];if((i||s==null)&&(s=1/0,a=-1/0),t.visit(i?t.SOURCE:t.ADD,o=>{const u=Pi(r(o));u!=null&&(u<s&&(s=u),u>a&&(a=u))}),!Number.isFinite(s)||!Number.isFinite(a)){let o=ir(r);o&&(o=` for field "${o}"`),t.dataflow.warn(`Infinite extent${o}: [${s}, ${a}]`),s=a=void 0}this.value=[s,a]}});function oO(e,t){Tn.call(this,e),this.parent=t,this.count=0}Ue(oO,Tn,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function fS(e){fe.call(this,{},e),this._keys=p1();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Ue(fS,fe,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=Ke(i,e)&&i[e],a,o;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(o=r||(o=this._group[e])&&o.tuple,a=n.dataflow,s=new oO(n.fork(n.NO_SOURCE),this),a.add(s).connect(t(a,e,o)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,a=e.modified("key"),o=u=>this.subflow(u,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const l=ut(u),c=s.get(l);c!==void 0&&(s.delete(l),o(c).rem(u))}),t.visit(t.ADD,u=>{const l=r(u);s.set(ut(u),l),o(l).add(u)}),a||t.modified(r.fields)?t.visit(t.MOD,u=>{const l=ut(u),c=s.get(l),f=r(u);c===f?o(f).mod(u):(s.set(l,f),o(c).rem(u),o(f).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{o(s.get(ut(u))).mod(u)}),a&&t.visit(t.REFLOW,u=>{const l=ut(u),c=s.get(l),f=r(u);c!==f&&(s.set(l,f),o(c).rem(u),o(f).add(u))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function WY(e){Tn.call(this,null,Fwe,e)}Ue(WY,Tn);function Fwe(e){return this.value&&!e.modified()?this.value:_e(e.name)?Xe(e.name).map(t=>lo(t)):lo(e.name,e.as)}function uO(e){fe.call(this,p1(),e)}uO.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Ue(uO,fe,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,a=i.rem,o=i.mod,u=e.expr;let l=!0;t.visit(t.REM,f=>{const h=ut(f);r.has(h)?r.delete(h):a.push(f)}),t.visit(t.ADD,f=>{u(f,e)?s.push(f):r.set(ut(f),1)});function c(f){const h=ut(f),d=u(f,e),p=r.get(h);d&&p?(r.delete(h),s.push(f)):!d&&!p?(r.set(h,1),a.push(f)):l&&d&&!p&&o.push(f)}return t.visit(t.MOD,c),e.modified()&&(l=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function lO(e){fe.call(this,[],e)}lO.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Ue(lO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=BY(r,e.as||[]),s=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,o=>{const u=r.map(p=>p(o)),l=u.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,h,d;for(;c<l;++c){for(h=O8(o),f=0;f<a;++f)h[i[f]]=(d=u[f][c])==null?null:d;s&&(h[s]=c),n.add.push(h)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function cO(e){fe.call(this,[],e)}cO.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Ue(cO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(ir),s=e.as||["key","value"],a=s[0],o=s[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,l=>{for(let c=0,f;c<u;++c)f=O8(l),f[a]=i[c],f[o]=r[c](l),n.add.push(f)}),this.value=n.source=n.add,n.modifies(s)}});function fO(e){fe.call(this,null,e)}fO.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Ue(fO,fe,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,a=>a[r]=n(a,e))}});function HY(e){fe.call(this,[],e)}Ue(HY,fe,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,a,o,u;if(s>0){for(a=[];--s>=0;)a.push(u=fn(r(e))),i.push(u);n.add=n.add.length?n.materialize(n.ADD).add.concat(a):a}else o=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,i=i.slice(-s);return n.source=this.value=i,n}});const r2={value:"value",median:pG,mean:W0,min:W3,max:hh},Dwe=[];function hO(e){fe.call(this,[],e)}hO.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Nwe(e){var t=e.method||r2.value,n;if(r2[t]==null)he("Unrecognized imputation method: "+t);else return t===r2.value?(n=e.value!==void 0?e.value:0,()=>n):r2[t]}function Owe(e){const t=e.field;return n=>n?t(n):NaN}Ue(hO,fe,{transform(e,t){var n=t.fork(t.ALL),r=Nwe(e),i=Owe(e),s=ir(e.field),a=ir(e.key),o=(e.groupby||[]).map(ir),u=$we(t.source,e.groupby,e.key,e.keyvals),l=[],c=this.value,f=u.domain.length,h,d,p,g,m,x,y,v,_,E;for(m=0,v=u.length;m<v;++m)for(h=u[m],p=h.values,d=NaN,y=0;y<f;++y)if(h[y]==null){for(g=u.domain[y],E={_impute:!0},x=0,_=p.length;x<_;++x)E[o[x]]=p[x];E[a]=g,E[s]=Number.isNaN(d)?d=r(h,i):d,l.push(fn(E))}return l.length&&(n.add=n.materialize(n.ADD).add.concat(l)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=l,n}});function $we(e,t,n,r){var i=x=>x(m),s=[],a=r?r.slice():[],o={},u={},l,c,f,h,d,p,g,m;for(a.forEach((x,y)=>o[x]=y+1),h=0,g=e.length;h<g;++h)m=e[h],p=n(m),d=o[p]||(o[p]=a.push(p)),c=(l=t?t.map(i):Dwe)+"",(f=u[c])||(f=u[c]=[],s.push(f),f.values=l),f[d-1]=m;return s.domain=a,s}function dO(e){If.call(this,e)}dO.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:vy},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Ue(dO,If,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{Ft(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function pO(e){fe.call(this,null,e)}pO.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ue(pO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=iO(r,e.groupby,e.field),s=(e.groupby||[]).map(ir),a=e.bandwidth,o=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],l=[];let c=e.extent,f=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;o!=="pdf"&&o!=="cdf"&&he("Invalid density method: "+o),e.resolve==="shared"&&(c||(c=Xu(r,e.field)),f=h=e.steps||h),i.forEach(d=>{const p=U8(d,a)[o],g=e.counts?d.length:1,m=c||Xu(d);cS(p,m,f,h).forEach(x=>{const y={};for(let v=0;v<s.length;++v)y[s[v]]=d.dims[v];y[u[0]]=x[0],y[u[1]]=x[1]*g,l.push(fn(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function VY(e){Tn.call(this,null,Iwe,e)}Ue(VY,Tn);function Iwe(e){return this.value&&!e.modified()?this.value:E8(e.fields,e.flat)}function jY(e){fe.call(this,[],e),this._pending=null}Ue(jY,fe,{transform(e,t){const n=t.dataflow;return this._pending?cT(this,t,this._pending):Rwe(e)?t.StopPropagation:e.values?cT(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Xe(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>cT(this,t,Xe(r.data)))}});function Rwe(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function cT(e,t,n){n.forEach(fn);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function gO(e){fe.call(this,{},e)}gO.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Ue(gO,fe,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,a=e.modified(),o=n.length;let u=a?t.SOURCE:t.ADD,l=t,c=e.as,f,h,d;return i?(h=i.length,o>1&&!c&&he('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==o*h&&he('The "as" parameter has too few output field names.'),c=c||i.map(ir),f=function(p){for(var g=0,m=0,x,y;g<o;++g)if(y=r.get(n[g](p)),y==null)for(x=0;x<h;++x,++m)p[c[m]]=s;else for(x=0;x<h;++x,++m)p[c[m]]=i[x](y)}):(c||he("Missing output field names."),f=function(p){for(var g=0,m;g<o;++g)m=r.get(n[g](p)),p[c[g]]=m??s}),a?l=t.reflow(!0):(d=n.some(p=>t.modified(p.fields)),u|=d?t.MOD:0),t.visit(u,f),l.modifies(c)}});function GY(e){Tn.call(this,null,Mwe,e)}Ue(GY,Tn);function Mwe(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,a;for(s=0;s<n;++s)a=t[s],a[0]<r&&(r=a[0]),a[1]>i&&(i=a[1]);return[r,i]}function qY(e){Tn.call(this,null,Lwe,e)}Ue(qY,Tn);function Lwe(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function XY(e){fe.call(this,null,e)}Ue(XY,fe,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function mO(e){If.call(this,e)}mO.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:vy,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Ue(mO,If,{_transform:If.prototype.transform,transform(e,t){return this._transform(Pwe(e,t),t)}});function Pwe(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=Wi(n).concat(Wi(r)),a=Uwe(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map(()=>i),fields:a.map(o=>Bwe(o,n,r,s)),as:a.map(o=>o+""),modified:e.modified.bind(e)}}function Bwe(e,t,n,r){return aa(i=>t(i)===e?n(i):NaN,r,e+"")}function Uwe(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const a=e(s);r[a]||(r[a]=1,i.push(a))}),i.sort(d1),t?i.slice(0,t):i}function KY(e){fS.call(this,e)}Ue(KY,fS,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(ut(s),n,t,s);return(e.modified("field")||r&&t.modified(Wi(r)))&&he("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const a=i(s);r(s).forEach(o=>a.mod(o))}),t.visit(t.ADD,s=>{const a=i(s);r(s).forEach(o=>a.add(fn(o)))}),t.visit(t.REM,s=>{const a=i(s);r(s).forEach(o=>a.rem(o))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function xO(e){fe.call(this,null,e)}xO.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Ue(xO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=BY(e.fields,e.as||[]),s=r?(o,u)=>zwe(o,u,r,i):rS;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,o=>{const u=ut(o);n.rem.push(a[u]),a[u]=null}),t.visit(t.ADD,o=>{const u=s(o,fn({}));a[ut(o)]=u,n.add.push(u)}),t.visit(t.MOD,o=>{n.mod.push(s(o,a[ut(o)]))}),n}});function zwe(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function YY(e){fe.call(this,null,e)}Ue(YY,fe,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function vO(e){fe.call(this,null,e)}vO.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Wwe=1e-14;Ue(vO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=iO(i,e.groupby,e.field),a=(e.groupby||[]).map(ir),o=[],u=e.step||.01,l=e.probs||ma(u/2,1-Wwe,u),c=l.length;return s.forEach(f=>{const h=R8(f,l);for(let d=0;d<c;++d){const p={};for(let g=0;g<a.length;++g)p[a[g]]=f.dims[g];p[r[0]]=l[d],p[r[1]]=h[d],o.push(fn(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}});function JY(e){fe.call(this,null,e)}Ue(JY,fe,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=ut(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=O8(i);r[ut(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[ut(i)];for(const a in i)s[a]=i[a],n.modifies(a);n.mod.push(s)})),n}});function yO(e){fe.call(this,[],e),this.count=0}yO.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Ue(yO,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((c,f)=>(c[ut(f)]=1,c),{});let a=this.value,o=this.count,u=0;function l(c){let f,h;a.length<i?a.push(c):(h=~~((o+1)*ho()),h<a.length&&h>=u&&(f=a[h],s[ut(f)]&&n.rem.push(f),a[h]=c)),++o}if(t.rem.length&&(t.visit(t.REM,c=>{const f=ut(c);s[f]&&(s[f]=-1,n.rem.push(c)),--o}),a=a.filter(c=>s[ut(c)]!==-1)),(t.rem.length||r)&&a.length<i&&t.source&&(u=o=a.length,t.visit(t.SOURCE,c=>{s[ut(c)]||l(c)}),u=-1),r&&a.length>i){const c=a.length-i;for(let f=0;f<c;++f)s[ut(a[f])]=-1,n.rem.push(a[f]);a=a.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{s[ut(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,l),(t.add.length||u<0)&&(n.add=a.filter(c=>!s[ut(c)])),this.count=o,this.value=n.source=a,n}});function _O(e){fe.call(this,null,e)}_O.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Ue(_O,fe,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=ma(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,fn(s)}),n.add=t.add.concat(this.value),n}});function ZY(e){fe.call(this,null,e),this.modified(!0)}Ue(ZY,fe,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function EO(e){fe.call(this,null,e)}const QY=["unit0","unit1"];EO.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:S8,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:QY}]};Ue(EO,fe,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),a=(i?x1:m1)(s.unit).offset,o=e.as||QY,u=o[0],l=o[1],c=s.step;let f=s.start||1/0,h=s.stop||-1/0,d=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Wi(n)))&&(t=t.reflow(!0),d=t.SOURCE,f=1/0,h=-1/0),t.visit(d,p=>{const g=n(p);let m,x;g==null?(p[u]=null,r&&(p[l]=null)):(p[u]=m=x=s(g),r&&(p[l]=x=a(m,c)),m<f&&(f=m),x>h&&(h=x))}),s.start=f,s.stop=h,t.modifies(r?o:u)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:YK({extent:e.extent||Xu(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=C8(r),a=this.value||{},o=(n?zK:UK)(s,i);return o.unit=Kt(s),o.units=s,o.step=i,o.start=a.start,o.stop=a.stop,this.value=o}});function eJ(e){fe.call(this,p1(),e)}Ue(eJ,fe,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=o=>i.set(r(o),o);let a=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,o=>i.delete(r(o))),t.visit(t.ADD,s)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function tJ(e){fe.call(this,null,e)}Ue(tJ,fe,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Ad(e.sort)):t.source).map(e.field))}});function Hwe(e,t,n,r){const i=fv[e](t,n);return{init:i.init||sf,update:function(s,a){a[r]=i.next(s)}}}const fv={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=fv.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||he("ntile num must be greater than zero.");const n=fv.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||he("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Vwe(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Vwe(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const jwe=Object.keys(fv);function nJ(e){const t=Xe(e.ops),n=Xe(e.fields),r=Xe(e.params),i=Xe(e.aggregate_params),s=Xe(e.as),a=this.outputs=[],o=this.windows=[],u={},l={},c=[],f=[];let h=!0;function d(p){Xe(Wi(p)).forEach(g=>u[g]=1)}d(e.sort),t.forEach((p,g)=>{const m=n[g],x=r[g],y=i[g]||null,v=ir(m),_=NY(p,v,s[g]);if(d(m),a.push(_),Ke(fv,p))o.push(Hwe(p,m,x,_));else{if(m==null&&p!=="count"&&he("Null aggregate field specified."),p==="count"){c.push(_);return}h=!1;let E=l[v];E||(E=l[v]=[],E.field=m,f.push(E)),E.push(OY(p,y,_))}}),(c.length||f.length)&&(this.cell=Gwe(f,c,h)),this.inputs=Object.keys(u)}const rJ=nJ.prototype;rJ.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};rJ.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let a;if(n){for(a=e.p0;a<e.i0;++a)n.rem(i[a]);for(a=e.p1;a<e.i1;++a)n.add(i[a]);n.set(t)}for(a=0;a<s;++a)r[a].update(e,t)};function Gwe(e,t,n){e=e.map(u=>IY(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),a=0;a<i;++a)s[a]=new e[a](r);if(r.store)var o=r.data=new Z8;return r.add=function(u){if(r.num+=1,!n){o&&o.add(u);for(let l=0;l<i;++l)s[l].add(s[l].get(u),u)}},r.rem=function(u){if(r.num-=1,!n){o&&o.rem(u);for(let l=0;l<i;++l)s[l].rem(s[l].get(u),u)}},r.set=function(u){let l,c;for(o&&o.values(),l=0,c=t.length;l<c;++l)u[t[l]]=r.num;if(!n)for(l=0,c=s.length;l<c;++l)s[l].set(u)},r.init=function(){r.num=0,o&&o.reset();for(let u=0;u<i;++u)s[u].init()},r}function bO(e){fe.call(this,{},e),this._mlen=0,this._mods=[]}bO.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:jwe.concat(vy)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Ue(bO,fe,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Ad(e.sort),i=L4(e.groupby),s=o=>this.group(i(o));let a=this.state;(!a||n)&&(a=this.state=new nJ(e)),n||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,o=>s(o).add(o))):(t.visit(t.REM,o=>s(o).remove(o)),t.visit(t.ADD,o=>s(o).add(o)));for(let o=0,u=this._mlen;o<u;++o)qwe(this._mods[o],a,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=RY(ut),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function qwe(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,a=r.frame||[null,0],o=e.data(n),u=o.length,l=s?s1(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:i||Qi(-1)};t.init();for(let f=0;f<u;++f)Xwe(c,a,f,u),s&&Kwe(c,l),t.update(c,o[f])}function Xwe(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Kwe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,a=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<a&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const Ywe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:If,bin:Q8,collect:eO,compare:MY,countpattern:tO,cross:nO,density:rO,dotbin:sO,expression:zY,extent:aO,facet:fS,field:WY,filter:uO,flatten:lO,fold:cO,formula:fO,generate:HY,impute:hO,joinaggregate:dO,kde:pO,key:VY,load:jY,lookup:gO,multiextent:GY,multivalues:qY,params:XY,pivot:mO,prefacet:KY,project:xO,proxy:YY,quantile:vO,relay:JY,sample:yO,sequence:_O,sieve:ZY,subflow:oO,timeunit:EO,tupleindex:eJ,values:tJ,window:bO},Symbol.toStringTag,{value:"Module"}));function wf(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Jwe=()=>typeof Image<"u"?Image:null;function wO(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Zwe="identity",Ag="linear",xc="log",yy="pow",_y="sqrt",hS="symlog",zh="time",Wh="utc",Pu="sequential",y1="diverging",Sg="quantile",dS="quantize",pS="threshold",AO="ordinal",P4="point",iJ="band",SO="bin-ordinal",Lr="continuous",Ey="discrete",by="discretizing",_o="interpolating",CO="temporal";function Qwe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function eAe(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,a,o,u,l;for(i<r&&(o=r,r=i,i=o),u=0,l=n.length;u<l;++u)n[u]>=r&&n[u]<=i&&(s<0&&(s=u),a=u);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[a]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function kO(){const e=K6().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,a=!1,o=0,u=0,l=.5;delete e.unknown;function c(){const f=t().length,h=r[1]<r[0],d=r[1-h],p=wO(f,o,u);let g=r[h-0];i=(d-g)/(p||1),a&&(i=Math.floor(i)),g+=(d-g-i*(f-o))*l,s=i*(1-o),a&&(g=Math.round(g),s=Math.round(s));const m=ma(f).map(x=>g+i*x);return n(h?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],a=!0,c()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(f){return arguments.length?(a=!!f,c()):a},e.padding=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),o=u,c()):o},e.paddingInner=function(f){return arguments.length?(o=Math.max(0,Math.min(1,f)),c()):o},e.paddingOuter=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let g=+f[0],m=+f[1],x,y,v;if(!(g!==g||m!==m)&&(m<g&&(v=g,g=m,m=v),!(m<d[0]||g>r[1-h])))return x=Math.max(0,Df(d,g)-1),y=g===m?x:Df(d,m)-1,g-d[x]>s+1e-10&&++x,h&&(v=x,x=p-y,y=p-v),x>y?void 0:t().slice(x,y+1)},e.invert=function(f){const h=e.invertRange([f,f]);return h&&h[0]},e.copy=function(){return kO().domain(t()).range(r).round(a).paddingInner(o).paddingOuter(u).align(l)},c()}function sJ(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return sJ(t())},e}function tAe(){return sJ(kO().paddingInner(1))}var nAe=Array.prototype.map;function rAe(e){return nAe.call(e,Pi)}const iAe=Array.prototype.slice;function aJ(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Df(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=rAe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=iAe.call(r),n):t.slice()},n.tickFormat=function(r,i){return mX(e[0],Kt(e),r??10,i)},n.copy=function(){return aJ().domain(n.domain()).range(n.range())},n}const Zb=new Map,oJ=Symbol("vega_scale");function uJ(e){return e[oJ]=!0,e}function xB(e){return e&&e[oJ]===!0}function sAe(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?Qwe(s):s.invertExtent?eAe(s):void 0),s.type=e,uJ(s)};return r.metadata=Aa(Xe(n)),r}function an(e,t,n){return arguments.length>1?(Zb.set(e,sAe(e,t,n)),this):lJ(e)?Zb.get(e):void 0}an(Zwe,vX);an(Ag,xX,Lr);an(xc,_X,[Lr,xc]);an(yy,Q6,Lr);an(_y,pye,Lr);an(hS,EX,Lr);an(zh,F_e,[Lr,CO]);an(Wh,D_e,[Lr,CO]);an(Pu,i8,[Lr,_o]);an(`${Pu}-${Ag}`,i8,[Lr,_o]);an(`${Pu}-${xc}`,IX,[Lr,_o,xc]);an(`${Pu}-${yy}`,s8,[Lr,_o]);an(`${Pu}-${_y}`,N_e,[Lr,_o]);an(`${Pu}-${hS}`,RX,[Lr,_o]);an(`${y1}-${Ag}`,MX,[Lr,_o]);an(`${y1}-${xc}`,LX,[Lr,_o,xc]);an(`${y1}-${yy}`,a8,[Lr,_o]);an(`${y1}-${_y}`,O_e,[Lr,_o]);an(`${y1}-${hS}`,PX,[Lr,_o]);an(Sg,bX,[by,Sg]);an(dS,wX,by);an(pS,AX,by);an(SO,aJ,[Ey,by]);an(AO,K6,Ey);an(iJ,kO,Ey);an(P4,tAe,Ey);function lJ(e){return Zb.has(e)}function Cd(e,t){const n=Zb.get(e);return n&&n.metadata[t]}function TO(e){return Cd(e,Lr)}function Cg(e){return Cd(e,Ey)}function B4(e){return Cd(e,by)}function cJ(e){return Cd(e,xc)}function aAe(e){return Cd(e,CO)}function fJ(e){return Cd(e,_o)}function hJ(e){return Cd(e,Sg)}const oAe=["clamp","base","constant","exponent"];function dJ(e,t){const n=t[0],r=Kt(t)-n;return function(i){return e(n+i*r)}}function gS(e,t,n){return N6(FO(t||"rgb",n),e)}function pJ(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function gJ(e,t,n){const r=n-t;let i,s,a;return!r||!Number.isFinite(r)?Qi(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),a=an(s)().domain([t,n]).range([0,1]),oAe.forEach(o=>e[o]?a[o](e[o]()):0),a)}function FO(e,t){const n=Ege[uAe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function uAe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const lAe={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},cAe={accent:I_e,category10:$_e,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:R_e,observable10:M_e,paired:L_e,pastel1:P_e,pastel2:B_e,set1:U_e,set2:z_e,set3:W_e,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function mJ(e){if(_e(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function xJ(e,t){for(const n in e)mS(n,t(e[n]))}const vB={};xJ(cAe,mJ);xJ(lAe,e=>gS(mJ(e)));function mS(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(vB[e]=t,this):vB[e]}const hE="symbol",fAe="discrete",hAe="gradient",dAe=e=>_e(e)?e.map(t=>String(t)):String(e),pAe=(e,t)=>e[1]-t[1],gAe=(e,t)=>t[1]-e[1];function DO(e,t,n){let r;return sn(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(gy(e.domain())/n||1)+1))),qe(t)&&(r=t.step,t=t.interval),Ge(t)&&(t=e.type===zh?m1(t):e.type==Wh?x1(t):he("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function vJ(e,t,n){let r=e.range(),i=r[0],s=Kt(r),a=pAe;if(i>s&&(r=s,s=i,i=r,a=gAe),i=Math.floor(i),s=Math.ceil(s),t=t.map(o=>[o,e(o)]).filter(o=>i<=o[1]&&o[1]<=s).sort(a).map(o=>o[0]),n>0&&t.length>1){const o=[t[0],Kt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((u,l)=>!(l%2));t.length<3&&(t=o)}return t}function NO(e,t){return e.bins?vJ(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function yJ(e,t,n,r,i,s){const a=t.type;let o=dAe;if(a===zh||i===zh)o=e.timeFormat(r);else if(a===Wh||i===Wh)o=e.utcFormat(r);else if(cJ(a)){const u=e.formatFloat(r);if(s||t.bins)o=u;else{const l=_J(t,n,!1);o=c=>l(c)?u(c):""}}else if(t.tickFormat){const u=t.domain();o=e.formatSpan(u[0],u[u.length-1],n,r)}else r&&(o=e.format(r));return o}function _J(e,t,n){const r=NO(e,t),i=e.base(),s=Math.log(i),a=Math.max(1,i*t/r.length),o=u=>{let l=u/Math.pow(i,Math.round(Math.log(u)/s));return l*i<i-.5&&(l*=i),l<=a};return n?r.filter(o):o}const U4={[Sg]:"quantiles",[dS]:"thresholds",[pS]:"domain"},EJ={[Sg]:"quantiles",[dS]:"domain"};function bJ(e,t){return e.bins?vAe(e.bins):e.type===xc?_J(e,t,!0):U4[e.type]?xAe(e[U4[e.type]]()):NO(e,t)}function mAe(e,t,n){const r=t[EJ[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],a;for(a=1;a<i;++a)s=Math.min(s,r[a]-r[a-1]);return e.formatSpan(0,s,3*10,n)}function xAe(e){const t=[-1/0].concat(e);return t.max=1/0,t}function vAe(e){const t=e.slice(0,-1);return t.max=Kt(e),t}const yAe=e=>U4[e.type]||e.bins;function wJ(e,t,n,r,i,s,a){const o=EJ[t.type]&&s!==zh&&s!==Wh?mAe(e,t,i):yJ(e,t,n,i,s,a);return r===hE&&yAe(t)?_Ae(o):r===fAe?EAe(o):bAe(o)}const _Ae=e=>(t,n,r)=>{const i=yB(r[n+1],yB(r.max,1/0)),s=_B(t,e),a=_B(i,e);return s&&a?s+"  "+a:a?"< "+a:" "+s},yB=(e,t)=>e??t,EAe=e=>(t,n)=>n?e(t):null,bAe=e=>t=>e(t),_B=(e,t)=>Number.isFinite(e)?t(e):null;function wAe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Kt(t),s=i-r;if(e.type===pS){const a=n?s/n:.1;r-=a,i+=a,s=i-r}return a=>(a-r)/s}function AAe(e,t,n,r){const i=r||t.type;return Ge(n)&&aAe(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===zh?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Wh?e.utcFormat("%A, %d %B %Y, %X UTC"):wJ(e,t,5,null,n,r,!0)}function AJ(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=AAe(e,t,n.format,n.formatType);if(B4(t.type)){const s=bJ(t).slice(1).map(i),a=s.length;return`${a} boundar${a===1?"y":"ies"}: ${s.join(", ")}`}else if(Cg(t.type)){const s=t.domain(),a=s.length,o=a>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${a} value${a===1?"":"s"}: ${o}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(Kt(s))}`}}let SJ=0;function SAe(){SJ=0}const Qb="p_";function OO(e){return e&&e.gradient}function CJ(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?Qb:"";return i||(i=e.id="gradient_"+SJ++,r==="radial"?(e.x1=gu(e.x1,.5),e.y1=gu(e.y1,.5),e.r1=gu(e.r1,0),e.x2=gu(e.x2,.5),e.y2=gu(e.y2,.5),e.r2=gu(e.r2,.5),s=Qb):(e.x1=gu(e.x1,0),e.y1=gu(e.y1,0),e.x2=gu(e.x2,1),e.y2=gu(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function gu(e,t){return e??t}function kJ(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const EB={basis:{curve:e2e},"basis-closed":{curve:t2e},"basis-open":{curve:n2e},bundle:{curve:r2e,tension:"beta",value:.85},cardinal:{curve:i2e,tension:"tension",value:0},"cardinal-open":{curve:a2e,tension:"tension",value:0},"cardinal-closed":{curve:s2e,tension:"tension",value:0},"catmull-rom":{curve:o2e,tension:"alpha",value:.5},"catmull-rom-closed":{curve:u2e,tension:"alpha",value:.5},"catmull-rom-open":{curve:l2e,tension:"alpha",value:.5},linear:{curve:o8},"linear-closed":{curve:c2e},monotone:{horizontal:h2e,vertical:f2e},natural:{curve:d2e},step:{curve:p2e},"step-after":{curve:m2e},"step-before":{curve:g2e}};function $O(e,t,n){var r=Ke(EB,e)&&EB[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const CAe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},kAe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,TAe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,FAe=/^((\s+,?\s*)|(,\s*))/,DAe=/^[01]/;function kg(e){const t=[];return(e.match(kAe)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),a=CAe[s],o=NAe(s,a,r.slice(1).trim()),u=o.length;if(u<a||u&&u%a!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...o.slice(0,a)]),u!==a){s==="m"&&(i=i==="M"?"L":"l");for(let l=a;l<u;l+=a)t.push([i,...o.slice(l,l+a)])}}),t}function NAe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const a=e==="a"&&(s===3||s===4)?DAe:TAe,o=n.slice(i).match(a);if(o===null)throw Error("Invalid SVG path, incorrect parameter type");i+=o[0].length,r.push(+o[0]);const u=n.slice(i).match(FAe);u!==null&&(i+=u[0].length)}return r}const Rf=Math.PI/180,OAe=1e-14,X0=Math.PI/2,Nu=Math.PI*2,rp=Math.sqrt(3)/2;var fT={},hT={},TJ=[].join;function $Ae(e,t,n,r,i,s,a,o,u){const l=TJ.call(arguments);if(fT[l])return fT[l];const c=a*Rf,f=Math.sin(c),h=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const d=h*(o-e)*.5+f*(u-t)*.5,p=h*(u-t)*.5-f*(o-e)*.5;let g=d*d/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=h/n,x=f/n,y=-f/r,v=h/r,_=m*o+x*u,E=y*o+v*u,w=m*e+x*t,b=y*e+v*t;let A=1/((w-_)*(w-_)+(b-E)*(b-E))-.25;A<0&&(A=0);let C=Math.sqrt(A);s==i&&(C=-C);const k=.5*(_+w)-C*(b-E),F=.5*(E+b)+C*(w-_),N=Math.atan2(E-F,_-k);let D=Math.atan2(b-F,w-k)-N;D<0&&s===1?D+=Nu:D>0&&s===0&&(D-=Nu);const O=Math.ceil(Math.abs(D/(X0+.001))),M=[];for(let z=0;z<O;++z){const K=N+z*D/O,X=N+(z+1)*D/O;M[z]=[k,F,K,X,n,r,f,h]}return fT[l]=M}function IAe(e){const t=TJ.call(e);if(hT[t])return hT[t];var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],l=e[7];const c=l*a,f=-u*o,h=u*a,d=l*o,p=Math.cos(i),g=Math.sin(i),m=Math.cos(s),x=Math.sin(s),y=.5*(s-i),v=Math.sin(y*.5),_=8/3*v*v/Math.sin(y),E=n+p-_*g,w=r+g+_*p,b=n+m,S=r+x,A=b+_*x,C=S-_*m;return hT[t]=[c*E+f*w,h*E+d*w,c*A+f*C,h*A+d*C,c*b+f*S,h*b+d*S]}const Pa=["l",0,0,0,0,0,0,0];function RAe(e,t,n){const r=Pa[0]=e[0];if(r==="a"||r==="A")Pa[1]=t*e[1],Pa[2]=n*e[2],Pa[3]=e[3],Pa[4]=e[4],Pa[5]=e[5],Pa[6]=t*e[6],Pa[7]=n*e[7];else if(r==="h"||r==="H")Pa[1]=t*e[1];else if(r==="v"||r==="V")Pa[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)Pa[i]=(i%2==1?t:n)*e[i];return Pa}function hv(e,t,n,r,i,s){var a,o=null,u=0,l=0,c=0,f=0,h,d,p,g,m=0,x=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var y=0,v=t.length;y<v;++y){switch(a=t[y],(i!==1||s!==1)&&(a=RAe(a,i,s)),a[0]){case"l":u+=a[1],l+=a[2],e.lineTo(u+n,l+r);break;case"L":u=a[1],l=a[2],e.lineTo(u+n,l+r);break;case"h":u+=a[1],e.lineTo(u+n,l+r);break;case"H":u=a[1],e.lineTo(u+n,l+r);break;case"v":l+=a[1],e.lineTo(u+n,l+r);break;case"V":l=a[1],e.lineTo(u+n,l+r);break;case"m":u+=a[1],l+=a[2],m=u,x=l,e.moveTo(u+n,l+r);break;case"M":u=a[1],l=a[2],m=u,x=l,e.moveTo(u+n,l+r);break;case"c":h=u+a[5],d=l+a[6],c=u+a[3],f=l+a[4],e.bezierCurveTo(u+a[1]+n,l+a[2]+r,c+n,f+r,h+n,d+r),u=h,l=d;break;case"C":u=a[5],l=a[6],c=a[3],f=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,c+n,f+r,u+n,l+r);break;case"s":h=u+a[3],d=l+a[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,u+a[1]+n,l+a[2]+r,h+n,d+r),c=u+a[1],f=l+a[2],u=h,l=d;break;case"S":h=a[3],d=a[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,a[1]+n,a[2]+r,h+n,d+r),u=h,l=d,c=a[1],f=a[2];break;case"q":h=u+a[3],d=l+a[4],c=u+a[1],f=l+a[2],e.quadraticCurveTo(c+n,f+r,h+n,d+r),u=h,l=d;break;case"Q":h=a[3],d=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,h+n,d+r),u=h,l=d,c=a[1],f=a[2];break;case"t":h=u+a[1],d=l+a[2],o[0].match(/[QqTt]/)===null?(c=u,f=l):o[0]==="t"?(c=2*u-p,f=2*l-g):o[0]==="q"&&(c=2*u-c,f=2*l-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,h+n,d+r),u=h,l=d,c=u+a[1],f=l+a[2];break;case"T":h=a[1],d=a[2],c=2*u-c,f=2*l-f,e.quadraticCurveTo(c+n,f+r,h+n,d+r),u=h,l=d;break;case"a":bB(e,u+n,l+r,[a[1],a[2],a[3],a[4],a[5],a[6]+u+n,a[7]+l+r]),u+=a[6],l+=a[7];break;case"A":bB(e,u+n,l+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),u=a[6],l=a[7];break;case"z":case"Z":u=m,l=x,e.closePath();break}o=a}}function bB(e,t,n,r){const i=$Ae(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const a=IAe(i[s]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const wB=.5773502691896257,AB={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Nu)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=rp*n,i=r-n*wB,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=rp*n,i=r-n*wB;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=rp*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=rp*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=rp*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=rp*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function FJ(e){return Ke(AB,e)?AB[e]:MAe(e)}var dT={};function MAe(e){if(!Ke(dT,e)){const t=kg(e);dT[e]={draw:function(n,r){hv(n,t,0,0,Math.sqrt(r)/2)}}}return dT[e]}const Uc=.448084975506;function LAe(e){return e.x}function PAe(e){return e.y}function BAe(e){return e.width}function UAe(e){return e.height}function Al(e){return typeof e=="function"?e:()=>+e}function i2(e,t,n){return Math.max(t,Math.min(e,n))}function DJ(){var e=LAe,t=PAe,n=BAe,r=UAe,i=Al(0),s=i,a=i,o=i,u=null;function l(c,f,h){var d,p=f??+e.call(this,c),g=h??+t.call(this,c),m=+n.call(this,c),x=+r.call(this,c),y=Math.min(m,x)/2,v=i2(+i.call(this,c),0,y),_=i2(+s.call(this,c),0,y),E=i2(+a.call(this,c),0,y),w=i2(+o.call(this,c),0,y);if(u||(u=d=RA()),v<=0&&_<=0&&E<=0&&w<=0)u.rect(p,g,m,x);else{var b=p+m,S=g+x;u.moveTo(p+v,g),u.lineTo(b-_,g),u.bezierCurveTo(b-Uc*_,g,b,g+Uc*_,b,g+_),u.lineTo(b,S-w),u.bezierCurveTo(b,S-Uc*w,b-Uc*w,S,b-w,S),u.lineTo(p+E,S),u.bezierCurveTo(p+Uc*E,S,p,S-Uc*E,p,S-E),u.lineTo(p,g+v),u.bezierCurveTo(p,g+Uc*v,p+Uc*v,g,p+v,g),u.closePath()}if(d)return u=null,d+""||null}return l.x=function(c){return arguments.length?(e=Al(c),l):e},l.y=function(c){return arguments.length?(t=Al(c),l):t},l.width=function(c){return arguments.length?(n=Al(c),l):n},l.height=function(c){return arguments.length?(r=Al(c),l):r},l.cornerRadius=function(c,f,h,d){return arguments.length?(i=Al(c),s=f!=null?Al(f):i,o=h!=null?Al(h):i,a=d!=null?Al(d):s,l):i},l.context=function(c){return arguments.length?(u=c??null,l):u},l}function NJ(){var e,t,n,r,i=null,s,a,o,u;function l(f,h,d){const p=d/2;if(s){var g=o-h,m=f-a;if(g||m){var x=Math.hypot(g,m),y=(g/=x)*u,v=(m/=x)*u,_=Math.atan2(m,g);i.moveTo(a-y,o-v),i.lineTo(f-g*p,h-m*p),i.arc(f,h,p,_-Math.PI,_),i.lineTo(a+y,o+v),i.arc(a,o,u,_,_+Math.PI)}else i.arc(f,h,p,0,Nu);i.closePath()}else s=1;a=f,o=h,u=p}function c(f){var h,d=f.length,p,g=!1,m;for(i==null&&(i=m=RA()),h=0;h<=d;++h)!(h<d&&r(p=f[h],h,f))===g&&(g=!g)&&(s=0),g&&l(+e(p,h,f),+t(p,h,f),+n(p,h,f));if(m)return i=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function wy(e,t){return e??t}const Ay=e=>e.x||0,Sy=e=>e.y||0,zAe=e=>e.width||0,WAe=e=>e.height||0,HAe=e=>(e.x||0)+(e.width||0),VAe=e=>(e.y||0)+(e.height||0),jAe=e=>e.startAngle||0,GAe=e=>e.endAngle||0,qAe=e=>e.padAngle||0,XAe=e=>e.innerRadius||0,KAe=e=>e.outerRadius||0,YAe=e=>e.cornerRadius||0,JAe=e=>wy(e.cornerRadiusTopLeft,e.cornerRadius)||0,ZAe=e=>wy(e.cornerRadiusTopRight,e.cornerRadius)||0,QAe=e=>wy(e.cornerRadiusBottomRight,e.cornerRadius)||0,eSe=e=>wy(e.cornerRadiusBottomLeft,e.cornerRadius)||0,tSe=e=>wy(e.size,64),nSe=e=>e.size||1,xS=e=>e.defined!==!1,rSe=e=>FJ(e.shape||"circle"),iSe=J_e().startAngle(jAe).endAngle(GAe).padAngle(qAe).innerRadius(XAe).outerRadius(KAe).cornerRadius(YAe),sSe=jX().x(Ay).y1(Sy).y0(VAe).defined(xS),aSe=jX().y(Sy).x1(Ay).x0(HAe).defined(xS),oSe=VX().x(Ay).y(Sy).defined(xS),uSe=DJ().x(Ay).y(Sy).width(zAe).height(WAe).cornerRadius(JAe,ZAe,QAe,eSe),lSe=Q_e().type(rSe).size(tSe),cSe=NJ().x(Ay).y(Sy).defined(xS).size(nSe);function IO(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function fSe(e,t){return iSe.context(e)(t)}function hSe(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?aSe:sSe).curve($O(r,n.orient,n.tension)).context(e)(t)}function dSe(e,t){const n=t[0],r=n.interpolate||"linear";return oSe.curve($O(r,n.orient,n.tension)).context(e)(t)}function _1(e,t,n,r){return uSe.context(e)(t,n,r)}function pSe(e,t){return(t.mark.shape||t.shape).context(e)(t)}function gSe(e,t){return lSe.context(e)(t)}function mSe(e,t){return cSe.context(e)(t)}var OJ=1;function $J(){OJ=1}function RO(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+OJ++),a=i.clipping[s]||(i.clipping[s]={id:s});return Et(r)?a.path=r(null):IO(n)?a.path=_1(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+s+")"}function Er(e){this.clear(),e&&this.union(e)}Er.prototype={clone(){return new Er(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:a}=this,o=Math.cos(e),u=Math.sin(e),l=t-t*o+n*u,c=n-t*u-n*o;return[o*r-u*i+l,u*r+o*i+c,o*r-u*a+l,u*r+o*a+c,o*s-u*i+l,u*s+o*i+c,o*s-u*a+l,u*s+o*a+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function vS(e){this.mark=e,this.bounds=this.bounds||new Er}function yS(e){vS.call(this,e),this.items=this.items||[]}Ue(yS,vS);class IJ{constructor(t){this._pending=0,this._loader=t||eS()}pending(){return this._pending}sanitizeURL(t){const n=this;return SB(n),n._loader.sanitize(t,{context:"href"}).then(r=>(sm(n),r)).catch(()=>(sm(n),null))}loadImage(t){const n=this,r=Jwe();return SB(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const a=new r,o=Ke(i,"crossOrigin")?i.crossOrigin:"anonymous";return o!=null&&(a.crossOrigin=o),a.onload=()=>sm(n),a.onerror=()=>sm(n),a.src=s,a}).catch(i=>(sm(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function SB(e){e._pending+=1}function sm(e){e._pending-=1}function Cc(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?xSe(t,r):0))}return e}function xSe(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const vSe=Nu-1e-8;let _S,dE,pE,rh,z4,gE,W4,H4;const uf=(e,t)=>_S.add(e,t),mE=(e,t)=>uf(dE=e,pE=t),CB=e=>uf(e,_S.y1),kB=e=>uf(_S.x1,e),K0=(e,t)=>z4*e+W4*t,Y0=(e,t)=>gE*e+H4*t,pT=(e,t)=>uf(K0(e,t),Y0(e,t)),gT=(e,t)=>mE(K0(e,t),Y0(e,t));function Cy(e,t){return _S=e,t?(rh=t*Rf,z4=H4=Math.cos(rh),gE=Math.sin(rh),W4=-gE):(z4=H4=1,rh=gE=W4=0),ySe}const ySe={beginPath(){},closePath(){},moveTo:gT,lineTo:gT,rect(e,t,n,r){rh?(pT(e+n,t),pT(e+n,t+r),pT(e,t+r),gT(e,t)):(uf(e+n,t+r),mE(e,t))},quadraticCurveTo(e,t,n,r){const i=K0(e,t),s=Y0(e,t),a=K0(n,r),o=Y0(n,r);TB(dE,i,a,CB),TB(pE,s,o,kB),mE(a,o)},bezierCurveTo(e,t,n,r,i,s){const a=K0(e,t),o=Y0(e,t),u=K0(n,r),l=Y0(n,r),c=K0(i,s),f=Y0(i,s);FB(dE,a,u,c,CB),FB(pE,o,l,f,kB),mE(c,f)},arc(e,t,n,r,i,s){if(r+=rh,i+=rh,dE=n*Math.cos(i)+e,pE=n*Math.sin(i)+t,Math.abs(i-r)>vSe)uf(e-n,t-n),uf(e+n,t+n);else{const a=l=>uf(n*Math.cos(l)+e,n*Math.sin(l)+t);let o,u;if(a(r),a(i),i!==r)if(r=r%Nu,r<0&&(r+=Nu),i=i%Nu,i<0&&(i+=Nu),i<r&&(s=!s,o=r,r=i,i=o),s)for(i-=Nu,o=r-r%X0,u=0;u<4&&o>i;++u,o-=X0)a(o);else for(o=r-r%X0+X0,u=0;u<4&&o<i;++u,o=o+X0)a(o)}}};function TB(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function FB(e,t,n,r,i){const s=r-e+3*t-3*n,a=e+n-2*t,o=e-t;let u=0,l=0,c;Math.abs(s)>OAe?(c=a*a+o*s,c>=0&&(c=Math.sqrt(c),u=(-a+c)/s,l=(-a-c)/s)):u=.5*o/a,0<u&&u<1&&i(DB(u,e,t,n,r)),0<l&&l<1&&i(DB(l,e,t,n,r))}function DB(e,t,n,r,i){const s=1-e,a=s*s,o=e*e;return a*s*t+3*a*e*n+3*s*o*r+o*e*i}var Af=(Af=wf(1,1))?Af.getContext("2d"):null;const V4=new Er;function MO(e){return function(t,n){if(!Af)return!0;e(Af,t),V4.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:a}=V4;for(let o=i;o<=a;++o)for(let u=r;u<=s;++u)if(Af.isPointInPath(u,o))return!0;return!1}}function LO(e,t){return t.contains(e.x||0,e.y||0)}function RJ(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects(V4.set(n,r,n+i,r+s))}function MJ(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return Tp(t,n,r,i,s)}function Tp(e,t,n,r,i){const{x1:s,y1:a,x2:o,y2:u}=e,l=r-t,c=i-n;let f=0,h=1,d,p,g,m;for(m=0;m<4;++m){if(m===0&&(d=-l,p=-(s-t)),m===1&&(d=l,p=o-t),m===2&&(d=-c,p=-(a-n)),m===3&&(d=c,p=u-n),Math.abs(d)<1e-10&&p<0)return!1;if(g=p/d,d<0){if(g>h)return!1;g>f&&(f=g)}else if(d>0){if(g<f)return!1;g<h&&(h=g)}}return!0}function Tg(e,t){e.globalCompositeOperation=t.blend||"source-over"}function To(e,t){return e??t}function NB(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function _Se(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+To(t.x1,.5)*r,n.y1+To(t.y1,.5)*i,Math.max(r,i)*To(t.r1,0),n.x1+To(t.x2,.5)*r,n.y1+To(t.y2,.5)*i,Math.max(r,i)*To(t.r2,.5));else{const a=To(t.x1,0),o=To(t.y1,0),u=To(t.x2,1),l=To(t.y2,0);if(a===u||o===l||r===i)s=e.createLinearGradient(n.x1+a*r,n.y1+o*i,n.x1+u*r,n.y1+l*i);else{const c=wf(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=NB(f.createLinearGradient(a,o,u,l),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return NB(s,t.stops)}function LJ(e,t,n){return OO(n)?_Se(e,n,t.bounds):n}function ew(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=LJ(e,t,t.fill),!0):!1}var ESe=[];function Fg(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=LJ(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||ESe),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function bSe(e,t){return e.zindex-t.zindex||e.index-t.index}function PO(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(bSe)}function Yo(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=PO(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function tw(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=PO(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function BO(e){return function(t,n,r){Yo(n,i=>{(!r||r.intersects(i.bounds))&&PJ(e,t,i,i)})}}function wSe(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&PJ(e,t,n.items[0],n.items)}}function PJ(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Tg(t,n),n.fill&&ew(t,n,i)&&t.fill(),n.stroke&&Fg(t,n,i)&&t.stroke()))}function ES(e){return e=e||co,function(t,n,r,i,s,a){return r*=t.pixelRatio,i*=t.pixelRatio,tw(n,o=>{const u=o.bounds;if(!(u&&!u.contains(s,a)||!u)&&e(t,o,r,i,s,a))return o})}}function ky(e,t){return function(n,r,i,s){var a=Array.isArray(r)?r[0]:r,o=t??a.fill,u=a.stroke&&n.isPointInStroke,l,c;return u&&(l=a.strokeWidth,c=a.strokeCap,n.lineWidth=l??1,n.lineCap=c??"butt"),e(n,r)?!1:o&&n.isPointInPath(i,s)||u&&n.isPointInStroke(i,s)}}function UO(e){return ES(ky(e))}function gh(e,t){return"translate("+e+","+t+")"}function zO(e){return"rotate("+e+")"}function ASe(e,t){return"scale("+e+","+t+")"}function BJ(e){return gh(e.x||0,e.y||0)}function SSe(e){return gh(e.x||0,e.y||0)+(e.angle?" "+zO(e.angle):"")}function CSe(e){return gh(e.x||0,e.y||0)+(e.angle?" "+zO(e.angle):"")+(e.scaleX||e.scaleY?" "+ASe(e.scaleX||1,e.scaleY||1):"")}function WO(e,t,n){function r(a,o){a("transform",SSe(o)),a("d",t(null,o))}function i(a,o){return t(Cy(a,o.angle),o),Cc(a,o).translate(o.x||0,o.y||0)}function s(a,o){var u=o.x||0,l=o.y||0,c=o.angle||0;a.translate(u,l),c&&a.rotate(c*=Rf),a.beginPath(),t(a,o),c&&a.rotate(-c),a.translate(-u,-l)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:BO(s),pick:UO(s),isect:n||MO(s)}}var kSe=WO("arc",fSe);function TSe(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,a,o;--i>=0;)e[i].defined!==!1&&(o=Math.abs(e[i][r]-n),o<s&&(s=o,a=e[i]));return a}function FSe(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,a;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],a=i*i+s*s,a<n))return e[r];return null}function DSe(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function HO(e,t,n){function r(u,l){var c=l.mark.items;c.length&&u("d",t(null,c))}function i(u,l){var c=l.items;return c.length===0?u:(t(Cy(u),c),Cc(u,c[0]))}function s(u,l){u.beginPath(),t(u,l)}const a=ky(s);function o(u,l,c,f,h,d){var p=l.items,g=l.bounds;return!p||!p.length||g&&!g.contains(h,d)?null:(c*=u.pixelRatio,f*=u.pixelRatio,a(u,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:wSe(s),pick:o,isect:LO,tip:n}}var NSe=HO("area",hSe,TSe);function OSe(e,t){var n=t.clip;e.save(),Et(n)?(e.beginPath(),n(e),e.clip()):UJ(e,t.group)}function UJ(e,t){e.beginPath(),IO(t)?_1(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function zJ(e){const t=To(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function $Se(e,t){e("transform",BJ(t))}function WJ(e,t){const n=zJ(t);e("d",_1(null,t,n,n))}function ISe(e,t){e("class","background"),e("aria-hidden",!0),WJ(e,t)}function RSe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?WJ(e,t):e("d","")}function MSe(e,t,n){const r=t.clip?RO(n,t,t):null;e("clip-path",r)}function LSe(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Cc(e,t),e.translate(t.x||0,t.y||0)}function dv(e,t,n,r){const i=zJ(t);e.beginPath(),_1(e,t,(n||0)+i,(r||0)+i)}const PSe=ky(dv),BSe=ky(dv,!1),USe=ky(dv,!0);function zSe(e,t,n,r){Yo(t,i=>{const s=i.x||0,a=i.y||0,o=i.strokeForeground,u=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&u&&(dv(e,i,s,a),Tg(e,i),i.fill&&ew(e,i,u)&&e.fill(),i.stroke&&!o&&Fg(e,i,u)&&e.stroke()),e.save(),e.translate(s,a),i.clip&&UJ(e,i),n&&n.translate(-s,-a),Yo(i,l=>{(l.marktype==="group"||r==null||r.includes(l.marktype))&&this.draw(e,l,n,r)}),n&&n.translate(s,a),e.restore(),o&&i.stroke&&u&&(dv(e,i,s,a),Tg(e,i),Fg(e,i,u)&&e.stroke())})}function WSe(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const a=n*e.pixelRatio,o=r*e.pixelRatio;return tw(t,u=>{let l,c,f;const h=u.bounds;if(h&&!h.contains(i,s))return;c=u.x||0,f=u.y||0;const d=c+(u.width||0),p=f+(u.height||0),g=u.clip;if(g&&(i<c||i>d||s<f||s>p))return;if(e.save(),e.translate(c,f),c=i-c,f=s-f,g&&IO(u)&&!USe(e,u,a,o))return e.restore(),null;const m=u.strokeForeground,x=t.interactive!==!1;return x&&m&&u.stroke&&BSe(e,u,a,o)?(e.restore(),u):(l=tw(u,y=>HSe(y,c,f)?this.pick(y,n,r,c,f):null),!l&&x&&(u.fill||!m&&u.stroke)&&PSe(e,u,a,o)&&(l=u),e.restore(),l||null)})}function HSe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var VSe={type:"group",tag:"g",nested:!1,attr:$Se,bound:LSe,draw:zSe,pick:WSe,isect:RJ,content:MSe,background:ISe,foreground:RSe},pv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function VO(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function jO(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function GO(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function bS(e,t){return e==="center"?t/2:e==="right"?t:0}function wS(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function jSe(e,t,n){const r=VO(t,n),i=jO(t,r),s=GO(t,r),a=(t.x||0)-bS(t.align,i),o=(t.y||0)-wS(t.baseline,s),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",u,pv["xmlns:xlink"],"xlink:href"),e("transform",gh(a,o)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function GSe(e,t){const n=t.image,r=jO(t,n),i=GO(t,n),s=(t.x||0)-bS(t.align,r),a=(t.y||0)-wS(t.baseline,i);return e.set(s,a,s+r,a+i)}function qSe(e,t,n){Yo(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=VO(r,this);let s=jO(r,i),a=GO(r,i);if(s===0||a===0)return;let o=(r.x||0)-bS(r.align,s),u=(r.y||0)-wS(r.baseline,a),l,c,f,h;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(h=s/c,u+=(a-h)/2,a=h):(h=a*c,o+=(s-h)/2,s=h))),(i.complete||i.toDataURL)&&(Tg(e,r),e.globalAlpha=(l=r.opacity)!=null?l:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,o,u,s,a))})}var XSe={type:"image",tag:"image",nested:!1,attr:jSe,bound:GSe,draw:qSe,pick:ES(),isect:co,get:VO,xOffset:bS,yOffset:wS},KSe=HO("line",dSe,FSe);function YSe(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",CSe(t)),e("d",t.path)}function xE(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,a=t.scaleY||1,o=(t.angle||0)*Rf,u=t.pathCache;(!u||u.path!==n)&&((t.pathCache=u=kg(n)).path=n),o&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(o),hv(e,u,0,0,s,a),e.rotate(-o),e.translate(-r,-i)):hv(e,u,r,i,s,a)}function JSe(e,t){return xE(Cy(e,t.angle),t)?e.set(0,0,0,0):Cc(e,t,!0)}var ZSe={type:"path",tag:"path",nested:!1,attr:YSe,bound:JSe,draw:BO(xE),pick:UO(xE),isect:MO(xE)};function QSe(e,t){e("d",_1(null,t))}function eCe(e,t){var n,r;return Cc(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function OB(e,t){e.beginPath(),_1(e,t)}var tCe={type:"rect",tag:"path",nested:!1,attr:QSe,bound:eCe,draw:BO(OB),pick:UO(OB),isect:RJ};function nCe(e,t){e("transform",BJ(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function rCe(e,t){var n,r;return Cc(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function HJ(e,t,n){var r,i,s,a;return t.stroke&&Fg(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,a=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,a),!0):!1}function iCe(e,t,n){Yo(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&HJ(e,r,i)&&(Tg(e,r),e.stroke())}})}function sCe(e,t,n,r){return e.isPointInStroke?HJ(e,t,1)&&e.isPointInStroke(n,r):!1}var aCe={type:"rule",tag:"line",nested:!1,attr:nCe,bound:rCe,draw:iCe,pick:ES(sCe),isect:MJ},oCe=WO("shape",pSe),uCe=WO("symbol",gSe,LO);const $B=EK();var _a={height:ol,measureWidth:qO,estimateWidth:nw,width:nw,canvas:VJ};VJ(!0);function VJ(e){_a.width=e&&Af?qO:nw}function nw(e,t){return jJ(Lf(e,t),ol(e))}function jJ(e,t){return~~(.8*e.length*t)}function qO(e,t){return ol(e)<=0||!(t=Lf(e,t))?0:GJ(t,AS(e))}function GJ(e,t){const n=`(${t}) ${e}`;let r=$B.get(n);return r===void 0&&(Af.font=t,r=Af.measureText(e).width,$B.set(n,r)),r}function ol(e){return e.fontSize!=null?+e.fontSize||0:11}function Mf(e){return e.lineHeight!=null?e.lineHeight:ol(e)+2}function lCe(e){return _e(e)?e.length>1?e:e[0]:e}function Ty(e){return lCe(e.lineBreak&&e.text&&!_e(e.text)?e.text.split(e.lineBreak):e.text)}function XO(e){const t=Ty(e);return(_e(t)?t.length-1:0)*Mf(e)}function Lf(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?fCe(e,n):n}function cCe(e){if(_a.width===qO){const t=AS(e);return n=>GJ(n,t)}else if(_a.width===nw){const t=ol(e);return n=>jJ(n,t)}else return t=>_a.width(e,t)}function fCe(e,t){var n=+e.limit,r=cCe(e);if(r(t)<n)return t;var i=e.ellipsis||"",s=e.dir==="rtl",a=0,o=t.length,u;if(n-=r(i),s){for(;a<o;)u=a+o>>>1,r(t.slice(u))>n?a=u+1:o=u;return i+t.slice(a)}else{for(;a<o;)u=1+(a+o>>>1),r(t.slice(0,u))<n?a=u:o=u-1;return t.slice(0,a)+i}}function Fy(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function AS(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+ol(e)+"px "+Fy(e,t)}function KO(e){var t=e.baseline,n=ol(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Mf(e):t==="line-bottom"?.29*n-.5*Mf(e):0)}const hCe={left:"start",center:"middle",right:"end"},hx=new Er;function SS(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-X0,t+=r*Math.cos(i),n+=r*Math.sin(i)),hx.x1=t,hx.y1=n,hx}function dCe(e,t){var n=t.dx||0,r=(t.dy||0)+KO(t),i=SS(t),s=i.x1,a=i.y1,o=t.angle||0,u;e("text-anchor",hCe[t.align]||"start"),o?(u=gh(s,a)+" "+zO(o),(n||r)&&(u+=" "+gh(n,r))):u=gh(s+n,a+r),e("transform",u)}function YO(e,t,n){var r=_a.height(t),i=t.align,s=SS(t),a=s.x1,o=s.y1,u=t.dx||0,l=(t.dy||0)+KO(t)-Math.round(.8*r),c=Ty(t),f;if(_e(c)?(r+=Mf(t)*(c.length-1),f=c.reduce((h,d)=>Math.max(h,_a.width(t,d)),0)):f=_a.width(t,c),i==="center"?u-=f/2:i==="right"&&(u-=f),e.set(u+=a,l+=o,u+f,l+r),t.angle&&!n)e.rotate(t.angle*Rf,a,o);else if(n===2)return e.rotatedPoints(t.angle*Rf,a,o);return e}function pCe(e,t,n){Yo(t,r=>{var i=r.opacity==null?1:r.opacity,s,a,o,u,l,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=AS(r),e.textAlign=r.align||"left",s=SS(r),a=s.x1,o=s.y1,r.angle&&(e.save(),e.translate(a,o),e.rotate(r.angle*Rf),a=o=0),a+=r.dx||0,o+=(r.dy||0)+KO(r),c=Ty(r),Tg(e,r),_e(c))for(l=Mf(r),u=0;u<c.length;++u)f=Lf(r,c[u]),r.fill&&ew(e,r,i)&&e.fillText(f,a,o),r.stroke&&Fg(e,r,i)&&e.strokeText(f,a,o),o+=l;else f=Lf(r,c),r.fill&&ew(e,r,i)&&e.fillText(f,a,o),r.stroke&&Fg(e,r,i)&&e.strokeText(f,a,o);r.angle&&e.restore()}})}function gCe(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=SS(t),o=a.x1,u=a.y1,l=YO(hx,t,1),c=-t.angle*Rf,f=Math.cos(c),h=Math.sin(c),d=f*i-h*s+(o-f*o+h*u),p=h*i+f*s+(u-h*o-f*u);return l.contains(d,p)}function mCe(e,t){const n=YO(hx,e,2);return Tp(t,n[0],n[1],n[2],n[3])||Tp(t,n[0],n[1],n[4],n[5])||Tp(t,n[4],n[5],n[6],n[7])||Tp(t,n[2],n[3],n[6],n[7])}var xCe={type:"text",tag:"text",nested:!1,attr:dCe,bound:YO,draw:pCe,pick:ES(gCe),isect:mCe},vCe=HO("trail",mSe,DSe),ka={arc:kSe,area:NSe,group:VSe,image:XSe,line:KSe,path:ZSe,rect:tCe,rule:aCe,shape:oCe,symbol:uCe,text:xCe,trail:vCe};function j4(e,t,n){var r=ka[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Er),e,n)}var IB={mark:null};function qJ(e,t,n){var r=ka[e.marktype],i=r.bound,s=e.items,a=s&&s.length,o,u,l,c;if(r.nested)return a?l=s[0]:(IB.mark=e,l=IB),c=j4(l,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Er,a)for(o=0,u=s.length;o<u;++o)t.union(j4(s[o],i,n));return e.bounds=t}const yCe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function XJ(e,t){return JSON.stringify(e,yCe,t)}function KJ(e){const t=typeof e=="string"?JSON.parse(e):e;return YJ(t)}function YJ(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&YJ(n[i]);return t&&qJ(e),e}class JJ{constructor(t){arguments.length?this.root=KJ(t):(this.root=RB({marktype:"group",name:"root",role:"frame"}),this.root.items=[new yS(this.root)])}toJSON(t){return XJ(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=RB(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function RB(e,t){const n={bounds:new Er,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function lf(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function JO(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Tr(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=lf(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function Xa(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function ZJ(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function CS(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function _Ce(e,t,n,r){var i=e&&e.mark,s,a;if(i&&(s=ka[i.marktype]).tip){for(a=CS(t,n),a[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=s.tip(i.items,a)}return e}class ZO{constructor(t,n){this._active=null,this._handlers={},this._loader=t||eS(),this._tooltip=n||ECe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),a=lf(null,"a");for(const o in i)a.setAttribute(o,i[o]);a.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=_Ce(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,a=s.width(),o=s.height();let u=s.x1+i[0]+r.left,l=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,l+=t.y||0;return{x:u,y:l,width:a,height:o,left:u,top:l,right:u+a,bottom:l+o}}}function ECe(e,t,n,r){e.element().setAttribute("title",r||"")}class Dy{constructor(t){this._el=null,this._bgcolor=null,this._loader=new IJ(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(a=>{a&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const bCe="keydown",wCe="keypress",ACe="keyup",QJ="dragenter",vE="dragleave",eZ="dragover",G4="pointerdown",SCe="pointerup",rw="pointermove",yE="pointerout",tZ="pointerover",q4="mousedown",CCe="mouseup",nZ="mousemove",iw="mouseout",rZ="mouseover",sw="click",kCe="dblclick",TCe="wheel",iZ="mousewheel",aw="touchstart",ow="touchmove",uw="touchend",FCe=[bCe,wCe,ACe,QJ,vE,eZ,G4,SCe,rw,yE,tZ,q4,CCe,nZ,iw,rZ,sw,kCe,TCe,iZ,aw,ow,uw],X4=rw,dx=iw,K4=sw;class Ny extends ZO{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=FCe,this.pointermove=LB([rw,nZ],[tZ,rZ],[yE,iw]),this.dragover=LB([eZ],[QJ],[vE]),this.pointerout=PB([yE,iw]),this.dragleave=PB([vE])}initialize(t,n,r){return this._canvas=t&&JO(t,"canvas"),[sw,q4,G4,rw,yE,vE].forEach(i=>MB(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(iZ,t)}pointerdown(t){this._down=this._active,this.fire(G4,t)}mousedown(t){this._down=this._active,this.fire(q4,t)}click(t){this._down===this._active&&(this.fire(sw,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(aw,t,!0)}touchmove(t){this.fire(ow,t,!0)}touchend(t){this.fire(uw,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===K4&&i&&i.href?this.handleHref(n,i,i.href):(t===X4||t===dx)&&this.handleTooltip(n,i,t!==dx),s)for(let a=0,o=s.length;a<o;++a)s[a].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(MB(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=CS(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const a=this.context();return ka[t.marktype].pick.call(this,a,t,n,r,i,s)}}const DCe=e=>e===aw||e===ow||e===uw?[aw,ow,uw]:[e];function MB(e,t){DCe(t).forEach(n=>NCe(e,n))}function NCe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function Wm(e,t,n){t.forEach(r=>e.fire(r,n))}function LB(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?Wm(this,e,r):((!i||!i.exit)&&Wm(this,n,r),this._active=s,Wm(this,t,r),Wm(this,e,r))}}function PB(e){return function(t){Wm(this,e,t),this._active=null}}function OCe(){return typeof window<"u"&&window.devicePixelRatio||1}function $Ce(e,t,n,r,i,s){const a=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,o=e.getContext("2d"),u=a?OCe():i;e.width=t*u,e.height=n*u;for(const l in s)o[l]=s[l];return a&&u!==1&&(e.style.width=t+"px",e.style.height=n+"px"),o.pixelRatio=u,o.setTransform(u,0,0,u,u*r[0],u*r[1]),e}class lw extends Dy{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Er,this._tempb=new Er}initialize(t,n,r,i,s,a){return this._options=a||{},this._canvas=this._options.externalContext?null:wf(1,1,this._options.type),t&&this._canvas&&(Xa(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)$Ce(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||he("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,a=this._height,o=this._dirty,u=ICe(i,s,a);r.save();const l=this._redraw||o.empty()?(this._redraw=!1,u.expand(1)):RCe(r,u.intersect(o),i);return this.clear(-i[0],-i[1],s,a),this.draw(r,t,l,n),r.restore(),o.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=ka[n.marktype];n.clip&&OSe(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,a=this.context();s.type!=="pdf"&&!s.externalContext&&a.clearRect(t,n,r,i),this._bgcolor!=null&&(a.fillStyle=this._bgcolor,a.fillRect(t,n,r,i))}}const ICe=(e,t,n)=>new Er().set(0,0,t,n).translate(-e[0],-e[1]);function RCe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class sZ extends ZO{constructor(t,n){super(t,n);const r=this;r._hrefHandler=mT(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=mT(r,(i,s)=>{r.handleTooltip(i,s,i.type!==dx)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(K4,this._hrefHandler),i.removeEventListener(X4,this._tooltipHandler),i.removeEventListener(dx,this._tooltipHandler)),this._svg=i=t&&JO(t,"svg"),i&&(i.addEventListener(K4,this._hrefHandler),i.addEventListener(X4,this._tooltipHandler),i.addEventListener(dx,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const a={type:t,handler:n,listener:mT(this,n)};(i[r]||(i[r]=[])).push(a),this._svg&&this._svg.addEventListener(r,a.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const mT=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},aZ="aria-hidden",QO="aria-label",e5="role",t5="aria-roledescription",oZ="graphics-object",n5="graphics-symbol",uZ=(e,t,n)=>({[e5]:e,[t5]:t,[QO]:n||void 0}),MCe=Aa(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),BB={axis:{desc:"axis",caption:BCe},legend:{desc:"legend",caption:UCe},"title-text":{desc:"title",caption:e=>`Title text '${zB(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${zB(e)}'`}},UB={ariaRole:e5,ariaRoleDescription:t5,description:QO};function lZ(e,t){const n=t.aria===!1;if(e(aZ,n||void 0),n||t.description==null)for(const r in UB)e(UB[r],void 0);else{const r=t.mark.marktype;e(QO,t.description),e(e5,t.ariaRole||(r==="group"?oZ:n5)),e(t5,t.ariaRoleDescription||`${r} mark`)}}function cZ(e){return e.aria===!1?{[aZ]:!0}:MCe[e.role]?null:BB[e.role]?PCe(e,BB[e.role]):LCe(e)}function LCe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return uZ(n?oZ:n5,`${t} mark container`,e.description)}function PCe(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return uZ(t.role||n5,t.desc,n.description||r(n))}catch{return null}}function zB(e){return Xe(e.text).join(" ")}function BCe(e){const t=e.datum,n=e.orient,r=t.title?fZ(e):null,i=e.context,s=i.scales[t.scale].value,a=i.dataflow.locale(),o=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Cg(o)?"discrete":o} scale with ${AJ(a,s,e)}`}function UCe(e){const t=e.datum,n=t.title?fZ(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),a=e.context,o=a.scales[i[s[0]]].value,u=a.dataflow.locale();return WCe(r)+(n?` titled '${n}'`:"")+` for ${zCe(s)} with ${AJ(u,o,e)}`}function fZ(e){try{return Xe(Kt(e.items).items[0].text).join(" ")}catch{return null}}function zCe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Kt(e)}function WCe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const hZ=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),HCe=e=>hZ(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function r5(){let e="",t="",n="";const r=[],i=()=>t=n="",s=u=>{t&&(e+=`${t}>${n}`,i()),r.push(u)},a=(u,l)=>(l!=null&&(t+=` ${u}="${HCe(l)}"`),o),o={open(u){s(u),t="<"+u;for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];for(const h of c)for(const d in h)a(d,h[d]);return o},close(){const u=r.pop();return t?e+=t+(n?`>${n}</${u}>`:"/>"):e+=`</${u}>`,i(),o},attr:a,text:u=>(n+=hZ(u),o),toString:()=>e};return o}const dZ=e=>pZ(r5(),e)+"";function pZ(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):pZ(e,r)}return e.close()}const cw={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},fw={blend:"mix-blend-mode"},gZ={fill:"none","stroke-miterlimit":10},am=0,WB="http://www.w3.org/2000/xmlns/",Cr=pv.xmlns;class i5 extends Dy{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=Tr(t,0,"svg",Cr),this._svg.setAttributeNS(WB,"xmlns",Cr),this._svg.setAttributeNS(WB,"xmlns:xlink",pv["xmlns:xlink"]),this._svg.setAttribute("version",pv.version),this._svg.setAttribute("class","marks"),Xa(t,1),this._root=Tr(this._svg,am,"g",Cr),cf(this._root,gZ),Xa(this._svg,am+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(cf(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=Tr(t,am,"rect",Cr),cf(r,{width:this._width,height:this._height,fill:n}));const i=dZ(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Xa(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,a,o,u,l;for(o=0,u=t.length;o<u;++o)if(r=t[o],i=r.mark,i.marktype!==s&&(s=i.marktype,a=ka[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,HB(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){a.nested&&i.items.length?(l=i.items[0],l._svg&&this._update(a,l._svg,l)):r._svg&&(l=r._svg.parentNode,l&&l.removeChild(r._svg)),r._svg=null;continue}r=a.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,HB(r,n)):this._update(a,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,a=n.marktype,o=ka[a],u=n.interactive===!1?"none":null,l=o.tag==="g",c=VB(n,t,r,"g",s);if(a!=="group"&&i!=null&&!i.includes(a))return Xa(c,0),n._svg;c.setAttribute("class",ZJ(n));const f=cZ(n);for(const g in f)ss(c,g,f[g]);l||ss(c,"pointer-events",u),ss(c,"clip-path",n.clip?RO(this,n,n.group):null);let h=null,d=0;const p=g=>{const m=this.isDirty(g),x=VB(g,c,h,o.tag,s);m&&(this._update(o,x,g),l&&GCe(this,x,g,i)),h=x,++d};return o.nested?n.items.length&&p(n.items[0]):Yo(n,p),Xa(c,d),c}_update(t,n,r){Gl=n,ki=n.__values__,lZ(px,r),t.attr(px,r,this);const i=XCe[t.type];i&&i.call(this,t,n,r),Gl&&this.style(Gl,r)}style(t,n){if(n!=null){for(const r in cw){let i=r==="font"?Fy(n):n[r];if(i===ki[r])continue;const s=cw[r];i==null?t.removeAttribute(s):(OO(i)&&(i=CJ(i,this._defs.gradient,mZ())),t.setAttribute(s,i+"")),ki[r]=i}for(const r in fw)_E(t,fw[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=Tr(t,am+1,"defs",Cr)),i=VCe(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=Tr(t,am+1,"defs",Cr)),i=jCe(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):Xa(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function HB(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function VCe(e,t,n){let r,i,s;if(t.gradient==="radial"){let a=Tr(e,n++,"pattern",Cr);cf(a,{id:Qb+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=Tr(a,0,"rect",Cr),cf(a,{width:1,height:1,fill:`url(${mZ()}#${t.id})`}),e=Tr(e,n++,"radialGradient",Cr),cf(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Tr(e,n++,"linearGradient",Cr),cf(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=Tr(e,r,"stop",Cr),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return Xa(e,r),n}function jCe(e,t,n){let r;return e=Tr(e,n,"clipPath",Cr),e.setAttribute("id",t.id),t.path?(r=Tr(e,0,"path",Cr),r.setAttribute("d",t.path)):(r=Tr(e,0,"rect",Cr),cf(r,{x:0,y:0,width:t.width,height:t.height})),Xa(e,1),n+1}function GCe(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;Yo(n,a=>{i=e.mark(t,a,i,r),++s}),Xa(t,1+s)}function VB(e,t,n,r,i){let s=e._svg,a;if(!s&&(a=t.ownerDocument,s=lf(a,r,Cr),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const o=lf(a,"path",Cr);s.appendChild(o),o.__data__=e;const u=lf(a,"g",Cr);s.appendChild(u),u.__data__=e;const l=lf(a,"path",Cr);s.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(s.ownerSVGElement!==i||qCe(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function qCe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Gl=null,ki=null;const XCe={group(e,t,n){const r=Gl=t.childNodes[2];ki=r.__values__,e.foreground(px,n,this),ki=t.__values__,Gl=t.childNodes[1],e.content(px,n,this);const i=Gl=t.childNodes[0];e.background(px,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==ki.events&&(ss(r,"pointer-events",s),ss(i,"pointer-events",s),ki.events=s),n.strokeForeground&&n.stroke){const a=n.fill;ss(r,"display",null),this.style(i,n),ss(i,"stroke",null),a&&(n.fill=null),ki=r.__values__,this.style(r,n),a&&(n.fill=a),Gl=null}else ss(r,"display","none")},image(e,t,n){n.smooth===!1?(_E(t,"image-rendering","optimizeSpeed"),_E(t,"image-rendering","pixelated")):_E(t,"image-rendering",null)},text(e,t,n){const r=Ty(n);let i,s,a,o;_e(r)?(s=r.map(u=>Lf(n,u)),i=s.join(`
`),i!==ki.text&&(Xa(t,0),a=t.ownerDocument,o=Mf(n),s.forEach((u,l)=>{const c=lf(a,"tspan",Cr);c.__data__=n,c.textContent=u,l&&(c.setAttribute("x",0),c.setAttribute("dy",o)),t.appendChild(c)}),ki.text=i)):(s=Lf(n,r),s!==ki.text&&(t.textContent=s,ki.text=s)),ss(t,"font-family",Fy(n)),ss(t,"font-size",ol(n)+"px"),ss(t,"font-style",n.fontStyle),ss(t,"font-variant",n.fontVariant),ss(t,"font-weight",n.fontWeight)}};function px(e,t,n){t!==ki[e]&&(n?KCe(Gl,e,t,n):ss(Gl,e,t),ki[e]=t)}function _E(e,t,n){n!==ki[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),ki[t]=n)}function cf(e,t){for(const n in t)ss(e,n,t[n])}function ss(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function KCe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function mZ(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class xZ extends Dy{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=r5();n.open("svg",Ft({},pv,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",gZ,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=ka[n.marktype],i=r.tag,s=[lZ,r.attr];t.open("g",{class:ZJ(n),"clip-path":n.clip?RO(this,n,n.group):null},cZ(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const a=o=>{const u=this.href(o);if(u&&t.open("a",u),t.open(i,this.attr(n,o,s,i!=="g"?i:null)),i==="text"){const l=Ty(o);if(_e(l)){const c={x:0,dy:Mf(o)};for(let f=0;f<l.length;++f)t.open("tspan",f?c:null).text(Lf(o,l[f])).close()}else t.text(Lf(o,l))}else if(i==="g"){const l=o.strokeForeground,c=o.fill,f=o.stroke;l&&f&&(o.stroke=null),t.open("path",this.attr(n,o,r.background,"bgrect")).close(),t.open("g",this.attr(n,o,r.content)),Yo(o,h=>this.mark(t,h)),t.close(),l&&f?(c&&(o.fill=null),o.stroke=f,t.open("path",this.attr(n,o,r.foreground,"bgrect")).close(),c&&(o.fill=c)):t.open("path",this.attr(n,o,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?n.items&&n.items.length&&a(n.items[0]):Yo(n,a),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},a=(o,u,l,c)=>{s[c||o]=u};return Array.isArray(r)?r.forEach(o=>o(a,n,this)):r(a,n,this),i&&YCe(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const a=n[s],o=a.stops;a.gradient==="radial"?(t.open("pattern",{id:Qb+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):t.open("linearGradient",{id:s,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let u=0;u<o.length;++u)t.open("stop",{offset:o[u].offset,"stop-color":o[u].color}).close();t.close()}for(const s in r){const a=r[s];t.open("clipPath",{id:s}),a.path?t.open("path",{d:a.path}).close():t.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),t.close()}t.close()}}}function YCe(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=Fy(t),e["font-size"]=ol(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in cw){let o=t[a];const u=cw[a];o==="transparent"&&(u==="fill"||u==="stroke")||o!=null&&(OO(o)&&(o=CJ(o,i.gradient,"")),e[u]=o)}for(const a in fw){const o=t[a];o!=null&&(s=s||[],s.push(`${fw[a]}: ${o};`))}return s&&(e.style=s.join(" ")),e}const No={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function JCe(e){No.svgMarkTypes=e.svgMarkTypes??["text"],No.svgOnTop=e.svgOnTop??!0,No.debug=e.debug??!1}class Y4 extends Dy{constructor(t){super(t),this._svgRenderer=new i5(t),this._canvasRenderer=new lw(t)}initialize(t,n,r,i,s){this._root_el=Tr(t,0,"div");const a=Tr(this._root_el,0,"div"),o=Tr(this._root_el,1,"div");return this._root_el.style.position="relative",No.debug||(a.style.height="100%",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height="100%",o.style.width="100%"),this._svgEl=No.svgOnTop?o:a,this._canvasEl=No.svgOnTop?a:o,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return No.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!No.svgMarkTypes.includes(s));this._svgRenderer.render(t,No.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return No.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class vZ extends Ny{constructor(t,n){super(t,n)}initialize(t,n,r){const i=Tr(Tr(t,0,"div"),No.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const yZ="canvas",_Z="hybrid",EZ="png",bZ="svg",wZ="none",ff={Canvas:yZ,PNG:EZ,SVG:bZ,Hybrid:_Z,None:wZ},Hh={};Hh[yZ]=Hh[EZ]={renderer:lw,headless:lw,handler:Ny};Hh[bZ]={renderer:i5,headless:xZ,handler:sZ};Hh[_Z]={renderer:Y4,headless:Y4,handler:vZ};Hh[wZ]={};function kS(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Hh[e]=t,this):Hh[e]}function AZ(e,t,n){const r=[],i=new Er().union(t),s=e.marktype;return s?SZ(e,i,n,r):s==="group"?CZ(e,i,n,r):he("Intersect scene must be mark node or group item.")}function SZ(e,t,n,r){if(ZCe(e,t,n)){const i=e.items,s=e.marktype,a=i.length;let o=0;if(s==="group")for(;o<a;++o)CZ(i[o],t,n,r);else for(const u=ka[s].isect;o<a;++o){const l=i[o];kZ(l,t,u)&&r.push(l)}}return r}function ZCe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function CZ(e,t,n,r){n&&n(e.mark)&&kZ(e,t,ka.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const a=e.x||0,o=e.y||0;t.translate(-a,-o);for(let u=0;u<s;++u)SZ(i[u],t,n,r);t.translate(a,o)}return r}function kZ(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const xT=new Er;function TZ(e){const t=e.clip;if(Et(t))t(Cy(xT.clear()));else if(t)xT.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(xT)}const QCe=1e-9;function s5(e,t,n){return e===t?!0:n==="path"?FZ(e,t):e instanceof Date&&t instanceof Date?+e==+t:sn(e)&&sn(t)?Math.abs(e-t)<=QCe:!e||!t||!qe(e)&&!qe(t)?e==t:eke(e,t)}function FZ(e,t){return s5(kg(e),kg(t))}function eke(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!s5(e[i],t[i],i))return!1;return typeof e==typeof t}function tke(){$J(),SAe()}const Dg="top",Mo="left",Po="right",Pf="bottom",nke="top-left",rke="top-right",ike="bottom-left",ske="bottom-right",a5="start",J4="middle",ls="end",ake="x",oke="y",TS="group",o5="axis",u5="title",uke="frame",lke="scope",l5="legend",DZ="row-header",NZ="row-footer",OZ="row-title",$Z="column-header",IZ="column-footer",RZ="column-title",cke="padding",fke="symbol",MZ="fit",LZ="fit-x",PZ="fit-y",hke="pad",c5="none",s2="all",Z4="each",f5="flush",hf="column",df="row";function BZ(e){fe.call(this,null,e)}Ue(BZ,fe,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=ka[i],a=s.bound;let o=r.bounds,u;if(s.nested)r.items.length&&n.dirty(r.items[0]),o=a2(r,a),r.items.forEach(l=>{l.bounds.clear().union(o)});else if(i===TS||e.modified())switch(t.visit(t.MOD,l=>n.dirty(l)),o.clear(),r.items.forEach(l=>o.union(a2(l,a))),r.role){case o5:case l5:case u5:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,l=>{o.union(a2(l,a))}),t.visit(t.MOD,l=>{u=u||o.alignsWith(l.bounds),n.dirty(l),o.union(a2(l,a))}),u&&(o.clear(),r.items.forEach(l=>o.union(l.bounds)));return TZ(r),t.modifies("bounds")}});function a2(e,t,n){return t(e.bounds.clear(),e,n)}const jB=":vega_identifier:";function h5(e){fe.call(this,0,e)}h5.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ue(h5,fe,{transform(e,t){const n=dke(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function dke(e){return e._signals[jB]||(e._signals[jB]=e.add(0))}function UZ(e){fe.call(this,null,e)}Ue(UZ,fe,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,pke(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===TS?yS:vS;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function pke(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function zZ(e){fe.call(this,null,e)}const GB={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!WZ(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},WZ=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),qB=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(WZ(i,s=e[n].bounds,t))return!0},gke=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},mke=(e,t,n)=>{var r=e.range(),i=new Er;return t===Dg||t===Pf?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},XB=e=>(e.forEach(t=>t.opacity=1),e),KB=(e,t)=>e.reflow(t.modified()).modifies("opacity");Ue(zZ,fe,{transform(e,t){const n=GB[e.method]||GB.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,a;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(XB(i),t=KB(t,e)),t;if(i=i.filter(gke),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=XB(i),t=KB(t,e),s.length>=3&&qB(s,r)){do s=n(s,r);while(s.length>=3&&qB(s,r));s.length<3&&!Kt(i).opacity&&(s.length>1&&(Kt(s).opacity=0),Kt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=mke(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(u=>{a(u)||(u.opacity=0)}));const o=s[0].mark.bounds.clear();return i.forEach(u=>{u.opacity&&o.union(u.bounds)}),t}});function HZ(e){fe.call(this,null,e)}Ue(HZ,fe,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Ai=new Er;function Fp(e,t,n){return e[t]===n?0:(e[t]=n,1)}function xke(e){var t=e.items[0].orient;return t===Mo||t===Po}function vke(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function yke(e,t,n,r){var i=t.items[0],s=i.datum,a=i.translate!=null?i.translate:.5,o=i.orient,u=vke(s),l=i.range,c=i.offset,f=i.position,h=i.minExtent,d=i.maxExtent,p=s.title&&i.items[u[2]].items[0],g=i.titlePadding,m=i.bounds,x=p&&XO(p),y=0,v=0,_,E;switch(Ai.clear().union(m),m.clear(),(_=u[0])>-1&&m.union(i.items[_].bounds),(_=u[1])>-1&&m.union(i.items[_].bounds),o){case Dg:y=f||0,v=-c,E=Math.max(h,Math.min(d,-m.y1)),m.add(0,-E).add(l,0),p&&o2(e,p,E,g,x,0,-1,m);break;case Mo:y=-c,v=f||0,E=Math.max(h,Math.min(d,-m.x1)),m.add(-E,0).add(0,l),p&&o2(e,p,E,g,x,1,-1,m);break;case Po:y=n+c,v=f||0,E=Math.max(h,Math.min(d,m.x2)),m.add(0,0).add(E,l),p&&o2(e,p,E,g,x,1,1,m);break;case Pf:y=f||0,v=r+c,E=Math.max(h,Math.min(d,m.y2)),m.add(0,0).add(l,E),p&&o2(e,p,E,g,0,0,1,m);break;default:y=i.x,v=i.y}return Cc(m.translate(y,v),i),Fp(i,"x",y+a)|Fp(i,"y",v+a)&&(i.bounds=Ai,e.dirty(i),i.bounds=m,e.dirty(i)),i.mark.bounds.clear().union(m)}function o2(e,t,n,r,i,s,a,o){const u=t.bounds;if(t.auto){const l=a*(n+i+r);let c=0,f=0;e.dirty(t),s?c=(t.x||0)-(t.x=l):f=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(u.translate(-c,-f)),e.dirty(t)}o.union(u)}const YB=(e,t)=>Math.floor(Math.min(e,t)),JB=(e,t)=>Math.ceil(Math.max(e,t));function _ke(e){var t=e.items,n=t.length,r=0,i,s;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===TS)switch(i.role){case o5:case l5:case u5:break;case DZ:a.rowheaders.push(...s);break;case NZ:a.rowfooters.push(...s);break;case $Z:a.colheaders.push(...s);break;case IZ:a.colfooters.push(...s);break;case OZ:a.rowtitle=s[0];break;case RZ:a.coltitle=s[0];break;default:a.marks.push(...s)}return a}function Eke(e){return new Er().set(0,0,e.width||0,e.height||0)}function bke(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Un(e,t,n){const r=qe(e)?e[t]:e;return r??(n!==void 0?n:0)}function ZB(e){return e<0?Math.ceil(-e):0}function VZ(e,t,n){var r=!n.nodirty,i=n.bounds===f5?Eke:bke,s=Ai.set(0,0,0,0),a=Un(n.align,hf),o=Un(n.align,df),u=Un(n.padding,hf),l=Un(n.padding,df),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),h=t.length,d=Array(h),p=Array(c),g=0,m=Array(h),x=Array(f),y=0,v=Array(h),_=Array(h),E=Array(h),w,b,S,A,C,k,F,N,R,D,O;for(b=0;b<c;++b)p[b]=0;for(b=0;b<f;++b)x[b]=0;for(b=0;b<h;++b)k=t[b],C=E[b]=i(k),k.x=k.x||0,v[b]=0,k.y=k.y||0,_[b]=0,S=b%c,A=~~(b/c),g=Math.max(g,F=Math.ceil(C.x2)),y=Math.max(y,N=Math.ceil(C.y2)),p[S]=Math.max(p[S],F),x[A]=Math.max(x[A],N),d[b]=u+ZB(C.x1),m[b]=l+ZB(C.y1),r&&e.dirty(t[b]);for(b=0;b<h;++b)b%c===0&&(d[b]=0),b<c&&(m[b]=0);if(a===Z4)for(S=1;S<c;++S){for(O=0,b=S;b<h;b+=c)O<d[b]&&(O=d[b]);for(b=S;b<h;b+=c)d[b]=O+p[S-1]}else if(a===s2){for(O=0,b=0;b<h;++b)b%c&&O<d[b]&&(O=d[b]);for(b=0;b<h;++b)b%c&&(d[b]=O+g)}else for(a=!1,S=1;S<c;++S)for(b=S;b<h;b+=c)d[b]+=p[S-1];if(o===Z4)for(A=1;A<f;++A){for(O=0,b=A*c,w=b+c;b<w;++b)O<m[b]&&(O=m[b]);for(b=A*c;b<w;++b)m[b]=O+x[A-1]}else if(o===s2){for(O=0,b=c;b<h;++b)O<m[b]&&(O=m[b]);for(b=c;b<h;++b)m[b]=O+y}else for(o=!1,A=1;A<f;++A)for(b=A*c,w=b+c;b<w;++b)m[b]+=x[A-1];for(R=0,b=0;b<h;++b)R=d[b]+(b%c?R:0),v[b]+=R-t[b].x;for(S=0;S<c;++S)for(D=0,b=S;b<h;b+=c)D+=m[b],_[b]+=D-t[b].y;if(a&&Un(n.center,hf)&&f>1)for(b=0;b<h;++b)C=a===s2?g:p[b%c],R=C-E[b].x2-t[b].x-v[b],R>0&&(v[b]+=R/2);if(o&&Un(n.center,df)&&c!==1)for(b=0;b<h;++b)C=o===s2?y:x[~~(b/c)],D=C-E[b].y2-t[b].y-_[b],D>0&&(_[b]+=D/2);for(b=0;b<h;++b)s.union(E[b].translate(v[b],_[b]));switch(R=Un(n.anchor,ake),D=Un(n.anchor,oke),Un(n.anchor,hf)){case ls:R-=s.width();break;case J4:R-=s.width()/2}switch(Un(n.anchor,df)){case ls:D-=s.height();break;case J4:D-=s.height()/2}for(R=Math.round(R),D=Math.round(D),s.clear(),b=0;b<h;++b)t[b].mark.bounds.clear();for(b=0;b<h;++b)k=t[b],k.x+=v[b]+=R,k.y+=_[b]+=D,s.union(k.mark.bounds.union(k.bounds.translate(v[b],_[b]))),r&&e.dirty(k);return s}function wke(e,t,n){var r=_ke(t),i=r.marks,s=n.bounds===f5?Ake:Ske,a=n.offset,o=n.columns||i.length,u=o<=0?1:Math.ceil(i.length/o),l=u*o,c,f,h,d,p,g,m;const x=VZ(e,i,n);x.empty()&&x.set(0,0,0,0),r.rowheaders&&(g=Un(n.headerBand,df,null),c=u2(e,r.rowheaders,i,o,u,-Un(a,"rowHeader"),YB,0,s,"x1",0,o,1,g)),r.colheaders&&(g=Un(n.headerBand,hf,null),f=u2(e,r.colheaders,i,o,o,-Un(a,"columnHeader"),YB,1,s,"y1",0,1,o,g)),r.rowfooters&&(g=Un(n.footerBand,df,null),h=u2(e,r.rowfooters,i,o,u,Un(a,"rowFooter"),JB,0,s,"x2",o-1,o,1,g)),r.colfooters&&(g=Un(n.footerBand,hf,null),d=u2(e,r.colfooters,i,o,o,Un(a,"columnFooter"),JB,1,s,"y2",l-o,1,o,g)),r.rowtitle&&(p=Un(n.titleAnchor,df),m=Un(a,"rowTitle"),m=p===ls?h+m:c-m,g=Un(n.titleBand,df,.5),QB(e,r.rowtitle,m,0,x,g)),r.coltitle&&(p=Un(n.titleAnchor,hf),m=Un(a,"columnTitle"),m=p===ls?d+m:f-m,g=Un(n.titleBand,hf,.5),QB(e,r.coltitle,m,1,x,g))}function Ake(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function Ske(e,t){return e.bounds[t]}function u2(e,t,n,r,i,s,a,o,u,l,c,f,h,d){var p=n.length,g=0,m=0,x,y,v,_,E,w,b,S,A;if(!p)return g;for(x=c;x<p;x+=f)n[x]&&(g=a(g,u(n[x],l)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=s,y=0,_=t.length;y<_;++y)e.dirty(t[y]),t[y].mark.bounds.clear();for(x=c,y=0,_=t.length;y<_;++y,x+=f){for(w=t[y],E=w.mark.bounds,v=x;v>=0&&(b=n[v])==null;v-=h);o?(S=d==null?b.x:Math.round(b.bounds.x1+d*b.bounds.width()),A=g):(S=g,A=d==null?b.y:Math.round(b.bounds.y1+d*b.bounds.height())),E.union(w.bounds.translate(S-(w.x||0),A-(w.y||0))),w.x=S,w.y=A,e.dirty(w),m=a(m,E[l])}return m}function QB(e,t,n,r,i,s){if(t){e.dirty(t);var a=n,o=n;r?a=Math.round(i.x1+s*i.width()):o=Math.round(i.y1+s*i.height()),t.bounds.translate(a-(t.x||0),o-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=o,e.dirty(t)}}function Cke(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function kke(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function Tke(e,t,n,r,i,s,a){const o=Cke(n,t),u=kke(e,o("offset",0)),l=o("anchor",a5),c=l===ls?1:l===J4?.5:0,f={align:Z4,bounds:o("bounds",f5),columns:o("direction")==="vertical"?1:e.length,padding:o("margin",8),center:o("center"),nodirty:!0};switch(t){case Mo:f.anchor={x:Math.floor(r.x1)-u,column:ls,y:c*(a||r.height()+2*r.y1),row:l};break;case Po:f.anchor={x:Math.ceil(r.x2)+u,y:c*(a||r.height()+2*r.y1),row:l};break;case Dg:f.anchor={y:Math.floor(i.y1)-u,row:ls,x:c*(s||i.width()+2*i.x1),column:l};break;case Pf:f.anchor={y:Math.ceil(i.y2)+u,x:c*(s||i.width()+2*i.x1),column:l};break;case nke:f.anchor={x:u,y:u};break;case rke:f.anchor={x:s-u,y:u,column:ls};break;case ike:f.anchor={x:u,y:a-u,row:ls};break;case ske:f.anchor={x:s-u,y:a-u,column:ls,row:ls};break}return f}function Fke(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,a=n.x,o=n.y,u,l;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),Nke(e,n,n.items[0].items[0]),s=Dke(n,s),u=2*n.padding,l=2*n.padding,s.empty()||(u=Math.ceil(s.width()+u),l=Math.ceil(s.height()+l)),r.type===fke&&Oke(n.items[0].items[0].items[0].items),i!==c5&&(n.x=a=0,n.y=o=0),n.width=u,n.height=l,Cc(s.set(a,o,a+u,o+l),n),n.mark.bounds.clear().union(s),n}function Dke(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function Nke(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&om(e,n,i,s);else{var a=t.items[1].items[0],o=a.anchor,u=t.titlePadding||0,l=r-a.x,c=r-a.y;switch(a.orient){case Mo:i+=Math.ceil(a.bounds.width())+u;break;case Po:case Pf:break;default:s+=a.bounds.height()+u}switch((i||s)&&om(e,n,i,s),a.orient){case Mo:c+=ip(t,n,a,o,1,1);break;case Po:l+=ip(t,n,a,ls,0,0)+u,c+=ip(t,n,a,o,1,1);break;case Pf:l+=ip(t,n,a,o,0,0),c+=ip(t,n,a,ls,-1,0,1)+u;break;default:l+=ip(t,n,a,o,0,0)}(l||c)&&om(e,a,l,c),(l=Math.round(a.bounds.x1-r))<0&&(om(e,n,-l,0),om(e,a,-l,0))}}function ip(e,t,n,r,i,s,a){const o=e.datum.type!=="symbol",u=n.datum.vgrad,l=o&&(s||!u)&&!a?t.items[0]:t,c=l.bounds[i?"y2":"x2"]-e.padding,f=u&&s?c:0,h=u&&s?0:c,d=i<=0?0:XO(n);return Math.round(r===a5?f:r===ls?h-d:.5*(c-d))}function om(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Oke(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function $ke(e,t,n,r,i){var s=t.items[0],a=s.frame,o=s.orient,u=s.anchor,l=s.offset,c=s.padding,f=s.items[0].items[0],h=s.items[1]&&s.items[1].items[0],d=o===Mo||o===Po?r:n,p=0,g=0,m=0,x=0,y=0,v;if(a!==TS?o===Mo?(p=i.y2,d=i.y1):o===Po?(p=i.y1,d=i.y2):(p=i.x1,d=i.x2):o===Mo&&(p=r,d=0),v=u===a5?p:u===ls?d:(p+d)/2,h&&h.text){switch(o){case Dg:case Pf:y=f.bounds.height()+c;break;case Mo:x=f.bounds.width()+c;break;case Po:x=-f.bounds.width()-c;break}Ai.clear().union(h.bounds),Ai.translate(x-(h.x||0),y-(h.y||0)),Fp(h,"x",x)|Fp(h,"y",y)&&(e.dirty(h),h.bounds.clear().union(Ai),h.mark.bounds.clear().union(Ai),e.dirty(h)),Ai.clear().union(h.bounds)}else Ai.clear();switch(Ai.union(f.bounds),o){case Dg:g=v,m=i.y1-Ai.height()-l;break;case Mo:g=i.x1-Ai.width()-l,m=v;break;case Po:g=i.x2+Ai.width()+l,m=v;break;case Pf:g=v,m=i.y2+l;break;default:g=s.x,m=s.y}return Fp(s,"x",g)|Fp(s,"y",m)&&(Ai.translate(g,m),e.dirty(s),s.bounds.clear().union(Ai),t.bounds.clear().union(Ai),e.dirty(s)),s.bounds}function jZ(e){fe.call(this,null,e)}Ue(jZ,fe,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&wke(n,r,e.layout),Rke(n,r,e)}),Ike(e.mark.group)?t.reflow():t}});function Ike(e){return e&&e.mark.role!=="legend-entry"}function Rke(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),a=new Er().set(0,0,i,s),o=a.clone(),u=a.clone(),l=[],c,f,h,d,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case o5:d=xke(f)?o:u,d.union(yke(e,f,i,s));break;case u5:c=f;break;case l5:l.push(Fke(e,f));break;case uke:case lke:case DZ:case NZ:case OZ:case $Z:case IZ:case RZ:o.union(f.bounds),u.union(f.bounds);break;default:a.union(f.bounds)}if(l.length){const m={};l.forEach(x=>{h=x.orient||Po,h!==c5&&(m[h]||(m[h]=[])).push(x)});for(const x in m){const y=m[x];VZ(e,y,Tke(y,x,n.legends,o,u,i,s))}l.forEach(x=>{const y=x.bounds;if(y.equals(x._bounds)||(x.bounds=x._bounds,e.dirty(x),x.bounds=y,e.dirty(x)),n.autosize&&(n.autosize.type===MZ||n.autosize.type===LZ||n.autosize.type===PZ))switch(x.orient){case Mo:case Po:a.add(y.x1,0).add(y.x2,0);break;case Dg:case Pf:a.add(0,y.y1).add(0,y.y2)}else a.union(y)})}a.union(o).union(u),c&&a.union($ke(e,c,i,s,a)),t.clip&&a.set(0,0,t.width||0,t.height||0),Mke(e,t,a,n)}function Mke(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let a=e._width,o=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-u)),d=Math.max(0,Math.ceil(n.y2-c));if(i.contains===cke){const p=e.padding();a-=p.left+p.right,o-=p.top+p.bottom}s===c5?(l=0,f=0,u=a,c=o):s===MZ?(u=Math.max(0,a-l-h),c=Math.max(0,o-f-d)):s===LZ?(u=Math.max(0,a-l-h),o=c+f+d):s===PZ?(a=u+l+h,c=Math.max(0,o-f-d)):s===hke&&(a=u+l+h,o=c+f+d),e._resizeView(a,o,u,c,[l,f],i.resize)}const Lke=Object.freeze(Object.defineProperty({__proto__:null,bound:BZ,identifier:h5,mark:UZ,overlap:zZ,render:HZ,viewlayout:jZ},Symbol.toStringTag,{value:"Module"}));function GZ(e){fe.call(this,null,e)}Ue(GZ,fe,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,a=e.count==null?e.values?e.values.length:10:e.count,o=DO(s,a,e.minstep),u=e.format||yJ(n,s,o,e.formatSpecifier,e.formatType,!!e.values),l=e.values?vJ(s,e.values,o):NO(s,o);return i&&(r.rem=i),i=l.map((c,f)=>fn({index:f/(l.length-1||1),value:c,label:u(c)})),e.extra&&i.length&&i.push(fn({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function qZ(e){fe.call(this,null,e)}function Pke(){return fn({})}function Bke(e){const t=p1().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Ue(qZ,fe,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Pke,s=e.key||ut,a=this.value;return _e(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(s))&&he("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=Bke(s)),t.visit(t.ADD,o=>{const u=s(o);let l=a.get(u);l?l.exit?(a.empty--,r.add.push(l)):r.mod.push(l):(l=i(o),a.set(u,l),r.add.push(l)),l.datum=o,l.exit=!1}),t.visit(t.MOD,o=>{const u=s(o),l=a.get(u);l&&(l.datum=o,r.mod.push(l))}),t.visit(t.REM,o=>{const u=s(o),l=a.get(u);o===l.datum&&!l.exit&&(r.rem.push(l),l.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}});function XZ(e){fe.call(this,null,e)}Ue(XZ,fe,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(_e(s))if(n.changed()||s.every(f=>i[f]))s=s[0],n.encode=null;else return t.StopPropagation;var a=s==="enter",o=i.update||jc,u=i.enter||jc,l=i.exit||jc,c=(s&&!a?i[s]:o)||jc;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{u(f,e),o(f,e)}),n.modifies(u.output),n.modifies(o.output),c!==jc&&c!==o&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&l!==jc&&(t.visit(t.REM,f=>{l(f,e)}),n.modifies(l.output)),a||c!==jc){const f=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(f,h=>{const d=u(h,e)||r;(c(h,e)||d)&&n.mod.push(h)}),n.mod.length&&n.modifies(u.output)):t.visit(f,h=>{(c(h,e)||r)&&n.mod.push(h)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function KZ(e){fe.call(this,[],e)}Ue(KZ,fe,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||hE,a=e.scale,o=+e.limit,u=DO(a,e.count==null?5:e.count,e.minstep),l=!!e.values||s===hE,c=e.format||wJ(n,a,u,s,e.formatSpecifier,e.formatType,l),f=e.values||bJ(a,u),h,d,p,g,m;return i&&(r.rem=i),s===hE?(o&&f.length>o?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,o-1),m=!0):i=f,Et(p=e.size)?(!e.values&&a(i[0])===0&&(i=i.slice(1)),g=i.reduce((x,y)=>Math.max(x,p(y,e)),0)):p=Qi(g=p||8),i=i.map((x,y)=>fn({index:y,label:c(x,y,i),value:x,offset:g,size:p(x,e)})),m&&(m=f[i.length],i.push(fn({index:i.length,label:`${f.length-i.length} entries`,value:m,offset:g,size:p(m,e)})))):s===hAe?(h=a.domain(),d=gJ(a,h[0],Kt(h)),f.length<3&&!e.values&&h[0]!==Kt(h)&&(f=[h[0],Kt(h)]),i=f.map((x,y)=>fn({index:y,label:c(x,y,f),value:x,perc:d(x)}))):(p=f.length-1,d=wAe(a),i=f.map((x,y)=>fn({index:y,label:c(x,y,f),value:x,perc:y?d(x):0,perc2:y===p?1:d(f[y+1])}))),r.source=i,r.add=i,this.value=i,r}});const Uke=e=>e.source.x,zke=e=>e.source.y,Wke=e=>e.target.x,Hke=e=>e.target.y;function d5(e){fe.call(this,{},e)}d5.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Ue(d5,fe,{transform(e,t){var n=e.sourceX||Uke,r=e.sourceY||zke,i=e.targetX||Wke,s=e.targetY||Hke,a=e.as||"path",o=e.orient||"vertical",u=e.shape||"line",l=e9.get(u+"-"+o)||e9.get(u);return l||he("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[a]=l(n(c),r(c),i(c),s(c))}),t.reflow(e.modified()).modifies(a)}});const YZ=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,Vke=(e,t,n,r)=>YZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),JZ=(e,t,n,r)=>{var i=n-e,s=r-t,a=Math.hypot(i,s)/2,o=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+a+","+a+" "+o+" 0 1 "+n+","+r},jke=(e,t,n,r)=>JZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),ZZ=(e,t,n,r)=>{const i=n-e,s=r-t,a=.2*(i+s),o=.2*(s-i);return"M"+e+","+t+"C"+(e+a)+","+(t+o)+" "+(n+o)+","+(r-a)+" "+n+","+r},Gke=(e,t,n,r)=>ZZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),qke=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,Xke=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,Kke=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),a=Math.cos(n),o=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*a+","+t*o+"L"+r*a+","+r*o},Yke=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},Jke=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},Zke=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),a=Math.cos(n),o=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*s+"C"+u*i+","+u*s+" "+u*a+","+u*o+" "+r*a+","+r*o},e9=p1({line:YZ,"line-radial":Vke,arc:JZ,"arc-radial":jke,curve:ZZ,"curve-radial":Gke,"orthogonal-horizontal":qke,"orthogonal-vertical":Xke,"orthogonal-radial":Kke,"diagonal-horizontal":Yke,"diagonal-vertical":Jke,"diagonal-radial":Zke});function p5(e){fe.call(this,null,e)}p5.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Ue(p5,fe,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||c1,a=e.startAngle||0,o=e.endAngle!=null?e.endAngle:2*Math.PI,u=t.source,l=u.map(s),c=l.length,f=a,h=(o-a)/mG(l),d=ma(c),p,g,m;for(e.sort&&d.sort((x,y)=>l[x]-l[y]),p=0;p<c;++p)m=l[d[p]],g=u[d[p]],g[r]=f,g[i]=f+=m*h;return this.value=l,t.reflow(e.modified()).modifies(n)}});const Qke=5;function eTe(e){const t=e.type;return!e.bins&&(t===Ag||t===yy||t===_y)}function QZ(e){return TO(e)&&e!==Pu}const tTe=Aa(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function eQ(e){fe.call(this,null,e),this.modified(!0)}Ue(eQ,fe,{transform(e,t){var n=t.dataflow,r=this.value,i=nTe(e);(!r||i!==r.type)&&(this.value=r=an(i)());for(i in e)if(!tTe[i]){if(i==="padding"&&QZ(r.type))continue;Et(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return uTe(r,e,oTe(r,e,iTe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function nTe(e){var t=e.type,n="",r;return t===Pu?Pu+"-"+Ag:(rTe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Pu+"-":r===3?y1+"-":""),(n+t||Ag).toLowerCase())}function rTe(e){const t=e.type;return TO(t)&&t!==zh&&t!==Wh&&(e.scheme||e.range&&e.range.length&&e.range.every(Ge))}function iTe(e,t,n){const r=sTe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,a=t.zero||t.zero===void 0&&eTe(e),o,u;if(!i)return 0;if((a||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(o=(i=i.slice()).length-1||1,a&&(i[0]>0&&(i[0]=0),i[o]<0&&(i[o]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[o]=t.domainMax),t.domainMid!=null)){u=t.domainMid;const l=u>i[o]?o+1:u<i[0]?0:o;l!==o&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(l,0,u)}return QZ(s)&&t.padding&&i[0]!==Kt(i)&&(i=aTe(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(tQ(s,i,n)),s===AO&&e.unknown(t.domainImplicit?b4:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&DO(e,t.nice)||null),i.length}function sTe(e,t,n){return t?(e.domain(tQ(e.type,t,n)),t.length):-1}function aTe(e,t,n,r,i,s){var a=Math.abs(Kt(n)-n[0]),o=a/(a-2*r),u=e===xc?m8(t,null,o):e===_y?Kb(t,null,o,.5):e===yy?Kb(t,null,o,i||1):e===hS?x8(t,null,o,s||1):g8(t,null,o);return t=t.slice(),t[0]=u[0],t[t.length-1]=u[1],t}function tQ(e,t,n){if(cJ(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Me(t))}return t}function oTe(e,t,n){let r=t.bins;if(r&&!_e(r)){const i=e.domain(),s=i[0],a=Kt(i),o=r.step;let u=r.start==null?s:r.start,l=r.stop==null?a:r.stop;o||he("Scale bins parameter missing step property."),u<s&&(u=o*Math.ceil(s/o)),l>a&&(l=o*Math.floor(a/o)),r=ma(u,l+o/2,o)}return r?e.bins=r:e.bins&&delete e.bins,e.type===SO&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function uTe(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=lTe(r,t,n);else if(t.scheme&&(s=cTe(r,t,n),Et(s))){if(e.interpolator)return e.interpolator(s);he(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&fJ(r))return e.interpolator(gS(Q4(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(FO(t.interpolate,t.interpolateGamma)):Et(e.round)?e.round(i):Et(e.rangeRound)&&e.interpolate(i?uy:r0),s&&e.range(Q4(s,t.reverse))}function lTe(e,t,n){e!==iJ&&e!==P4&&he("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===P4?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*wO(n,i,r)]}function cTe(e,t,n){var r=t.schemeExtent,i,s;return _e(t.scheme)?s=gS(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=mS(i),s||he(`Unrecognized scheme name: ${t.scheme}`)),n=e===pS?n+1:e===SO?n-1:e===Sg||e===dS?+t.schemeCount||Qke:n,fJ(e)?t9(s,r,t.reverse):Et(s)?pJ(t9(s,r),n):e===AO?s:s.slice(0,n)}function t9(e,t,n){return Et(e)&&(t||n)?dJ(e,Q4(t||[0,1],n)):e}function Q4(e,t){return t?e.slice().reverse():e}function nQ(e){fe.call(this,null,e)}Ue(nQ,fe,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Ad(e.sort)),this.modified(n),t}});const n9="zero",rQ="center",iQ="normalize",sQ=["y0","y1"];function g5(e){fe.call(this,null,e)}g5.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:n9,values:[n9,rQ,iQ]},{name:"as",type:"string",array:!0,length:2,default:sQ}]};Ue(g5,fe,{transform(e,t){var n=e.as||sQ,r=n[0],i=n[1],s=Ad(e.sort),a=e.field||c1,o=e.offset===rQ?fTe:e.offset===iQ?hTe:dTe,u,l,c,f;for(u=pTe(t.source,e.groupby,s,a),l=0,c=u.length,f=u.max;l<c;++l)o(u[l],f,a,r,i);return t.reflow(e.modified()).modifies(n)}});function fTe(e,t,n,r,i){for(var s=(t-e.sum)/2,a=e.length,o=0,u;o<a;++o)u=e[o],u[r]=s,u[i]=s+=Math.abs(n(u))}function hTe(e,t,n,r,i){for(var s=1/e.sum,a=0,o=e.length,u=0,l=0,c;u<o;++u)c=e[u],c[r]=a,c[i]=a=s*(l+=Math.abs(n(c)))}function dTe(e,t,n,r,i){for(var s=0,a=0,o=e.length,u=0,l,c;u<o;++u)c=e[u],l=+n(c),l<0?(c[r]=a,c[i]=a+=l):(c[r]=s,c[i]=s+=l)}function pTe(e,t,n,r){var i=[],s=g=>g(c),a,o,u,l,c,f,h,d,p;if(t==null)i.push(e.slice());else for(a={},o=0,u=e.length;o<u;++o)c=e[o],f=t.map(s),h=a[f],h||(a[f]=h=[],i.push(h)),h.push(c);for(f=0,p=0,l=i.length;f<l;++f){for(h=i[f],o=0,d=0,u=h.length;o<u;++o)d+=Math.abs(r(h[o]));h.sum=d,d>p&&(p=d),n&&h.sort(n)}return i.max=p,i}const gTe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:GZ,datajoin:qZ,encode:XZ,legendentries:KZ,linkpath:d5,pie:p5,scale:eQ,sortitems:nQ,stack:g5},Symbol.toStringTag,{value:"Module"}));var mTe=Math.abs,eD=Math.cos,hw=Math.sin,xTe=1e-6,aQ=Math.PI,tD=aQ/2,r9=vTe(2);function i9(e){return e>1?tD:e<-1?-tD:Math.asin(e)}function vTe(e){return e>0?Math.sqrt(e):0}function yTe(e,t){var n=e*hw(t),r=30,i;do t-=i=(t+hw(t)-n)/(1+eD(t));while(mTe(i)>xTe&&--r>0);return t/2}function _Te(e,t,n){function r(i,s){return[e*i*eD(s=yTe(n,s)),t*hw(s)]}return r.invert=function(i,s){return s=i9(s/t),[i/(e*eD(s)),i9((2*s+hw(2*s))/n)]},r}var ETe=_Te(r9/tD,r9,aQ);function bTe(){return rl(ETe).scale(169.529)}const wTe=Xq(),nD=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function ATe(e,t){return function n(){const r=t();return r.type=e,r.path=Xq().projection(r),r.copy=r.copy||function(){const i=n();return nD.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},uJ(r)}}function m5(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(dw[e]=ATe(e,t),this):dw[e]||null}function oQ(e){return e&&e.path||wTe}const dw={albers:Yq,albersusa:Uxe,azimuthalequalarea:zxe,azimuthalequidistant:Wxe,conicconformal:jxe,conicequalarea:Bb,conicequidistant:Xxe,equalEarth:Yxe,equirectangular:Gxe,gnomonic:Jxe,identity:Zxe,mercator:Hxe,mollweide:bTe,naturalEarth1:Qxe,orthographic:eve,stereographic:tve,transversemercator:nve};for(const e in dw)m5(e,dw[e]);function STe(){}const Sl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function uQ(){var e=1,t=1,n=o;function r(u,l){return l.map(c=>i(u,c))}function i(u,l){var c=[],f=[];return s(u,l,h=>{n(h,u,l),CTe(h)>0?c.push([h]):f.push(h)}),f.forEach(h=>{for(var d=0,p=c.length,g;d<p;++d)if(kTe((g=c[d])[0],h)!==-1){g.push(h);return}}),{type:"MultiPolygon",value:l,coordinates:c}}function s(u,l,c){var f=[],h=[],d,p,g,m,x,y;for(d=p=-1,m=u[0]>=l,Sl[m<<1].forEach(v);++d<e-1;)g=m,m=u[d+1]>=l,Sl[g|m<<1].forEach(v);for(Sl[m<<0].forEach(v);++p<t-1;){for(d=-1,m=u[p*e+e]>=l,x=u[p*e]>=l,Sl[m<<1|x<<2].forEach(v);++d<e-1;)g=m,m=u[p*e+e+d+1]>=l,y=x,x=u[p*e+d+1]>=l,Sl[g|m<<1|x<<2|y<<3].forEach(v);Sl[m|x<<3].forEach(v)}for(d=-1,x=u[p*e]>=l,Sl[x<<2].forEach(v);++d<e-1;)y=x,x=u[p*e+d+1]>=l,Sl[x<<2|y<<3].forEach(v);Sl[x<<3].forEach(v);function v(_){var E=[_[0][0]+d,_[0][1]+p],w=[_[1][0]+d,_[1][1]+p],b=a(E),S=a(w),A,C;(A=h[b])?(C=f[S])?(delete h[A.end],delete f[C.start],A===C?(A.ring.push(w),c(A.ring)):f[A.start]=h[C.end]={start:A.start,end:C.end,ring:A.ring.concat(C.ring)}):(delete h[A.end],A.ring.push(w),h[A.end=S]=A):(A=f[S])?(C=h[b])?(delete f[A.start],delete h[C.end],A===C?(A.ring.push(w),c(A.ring)):f[C.start]=h[A.end]={start:C.start,end:A.end,ring:C.ring.concat(A.ring)}):(delete f[A.start],A.ring.unshift(E),f[A.start=b]=A):f[b]=h[S]={start:b,end:S,ring:[E,w]}}}function a(u){return u[0]*2+u[1]*(e+1)*4}function o(u,l,c){u.forEach(f=>{var h=f[0],d=f[1],p=h|0,g=d|0,m,x=l[g*e+p];h>0&&h<e&&p===h&&(m=l[g*e+p-1],f[0]=h+(c-m)/(x-m)-.5),d>0&&d<t&&g===d&&(m=l[(g-1)*e+p],f[1]=d+(c-m)/(x-m)-.5)})}return r.contour=i,r.size=function(u){if(!arguments.length)return[e,t];var l=Math.floor(u[0]),c=Math.floor(u[1]);return l>=0&&c>=0||he("invalid size"),e=l,t=c,r},r.smooth=function(u){return arguments.length?(n=u?o:STe,r):n===o},r}function CTe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function kTe(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=TTe(e,t[n]))return i;return 0}function TTe(e,t){for(var n=t[0],r=t[1],i=-1,s=0,a=e.length,o=a-1;s<a;o=s++){var u=e[s],l=u[0],c=u[1],f=e[o],h=f[0],d=f[1];if(FTe(u,f,t))return 0;c>r!=d>r&&n<(h-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function FTe(e,t,n){var r;return DTe(e,t,n)&&NTe(e[r=+(e[0]===t[0])],n[r],t[r])}function DTe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function NTe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function lQ(e,t,n){return function(r){var i=Xu(r),s=n?Math.min(i[0],0):i[0],a=i[1],o=a-s,u=t?Nf(s,a,e):o/(e+1);return ma(s+u,a,u)}}function x5(e){fe.call(this,null,e)}x5.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Ue(x5,fe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Zi,s=uQ().smooth(e.smooth!==!1),a=e.thresholds||OTe(r,i,e),o=e.as===null?null:e.as||"contour",u=[];return r.forEach(l=>{const c=i(l),f=s.size([c.width,c.height])(c.values,_e(a)?a:a(c.values));$Te(f,c,l,e),f.forEach(h=>{u.push(rS(l,fn(o!=null?{[o]:h}:h)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function OTe(e,t,n){const r=lQ(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>hh(t(i).values)))}function $Te(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if(Et(i)&&(i=i(n,r)),Et(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const a=(sn(i)?i:i[0])||1,o=(sn(i)?i:i[1])||1,u=s&&s[0]||0,l=s&&s[1]||0;e.forEach(cQ(t,a,o,u,l))}function cQ(e,t,n,r,i){const s=e.x1||0,a=e.y1||0,o=t*n<0;function u(f){f.forEach(l)}function l(f){o&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-s)*t+r,f[1]=(f[1]-a)*n+i}return function(f){return f.coordinates.forEach(u),f}}function s9(e,t,n){const r=e>=0?e:L8(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function vT(e){return Et(e)?e:Qi(+e)}function fQ(){var e=u=>u[0],t=u=>u[1],n=c1,r=[-1,-1],i=960,s=500,a=2;function o(u,l){const c=s9(r[0],u,e)>>a,f=s9(r[1],u,t)>>a,h=c?c+2:0,d=f?f+2:0,p=2*h+(i>>a),g=2*d+(s>>a),m=new Float32Array(p*g),x=new Float32Array(p*g);let y=m;u.forEach(_=>{const E=h+(+e(_)>>a),w=d+(+t(_)>>a);E>=0&&E<p&&w>=0&&w<g&&(m[E+w*p]+=+n(_))}),c>0&&f>0?(sp(p,g,m,x,c),ap(p,g,x,m,f),sp(p,g,m,x,c),ap(p,g,x,m,f),sp(p,g,m,x,c),ap(p,g,x,m,f)):c>0?(sp(p,g,m,x,c),sp(p,g,x,m,c),sp(p,g,m,x,c),y=x):f>0&&(ap(p,g,m,x,f),ap(p,g,x,m,f),ap(p,g,m,x,f),y=x);const v=l?Math.pow(2,-2*a):1/mG(y);for(let _=0,E=p*g;_<E;++_)y[_]*=v;return{values:y,scale:1<<a,width:p,height:g,x1:h,y1:d,x2:h+(i>>a),y2:d+(s>>a)}}return o.x=function(u){return arguments.length?(e=vT(u),o):e},o.y=function(u){return arguments.length?(t=vT(u),o):t},o.weight=function(u){return arguments.length?(n=vT(u),o):n},o.size=function(u){if(!arguments.length)return[i,s];var l=+u[0],c=+u[1];return l>=0&&c>=0||he("invalid size"),i=l,s=c,o},o.cellSize=function(u){return arguments.length?((u=+u)>=1||he("invalid cell size"),a=Math.floor(Math.log(u)/Math.LN2),o):1<<a},o.bandwidth=function(u){return arguments.length?(u=Xe(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&he("invalid bandwidth"),r=u,o):r},o}function sp(e,t,n,r,i){const s=(i<<1)+1;for(let a=0;a<t;++a)for(let o=0,u=0;o<e+i;++o)o<e&&(u+=n[o+a*e]),o>=i&&(o>=s&&(u-=n[o-s+a*e]),r[o-i+a*e]=u/Math.min(o+1,e-1+s-o,s))}function ap(e,t,n,r,i){const s=(i<<1)+1;for(let a=0;a<e;++a)for(let o=0,u=0;o<t+i;++o)o<t&&(u+=n[a+o*e]),o>=i&&(o>=s&&(u-=n[a+(o-s)*e]),r[a+(o-i)*e]=u/Math.min(o+1,t-1+s-o,s))}function v5(e){fe.call(this,null,e)}v5.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const ITe=["x","y","weight","size","cellSize","bandwidth"];function hQ(e,t){return ITe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Ue(v5,fe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=RTe(r,e.groupby),s=(e.groupby||[]).map(ir),a=hQ(fQ(),e),o=e.as||"grid",u=[];function l(c,f){for(let h=0;h<s.length;++h)c[s[h]]=f[h];return c}return u=i.map(c=>fn(l({[o]:a(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function RTe(e,t){var n=[],r=c=>c(o),i,s,a,o,u,l;if(t==null)n.push(e);else for(i={},s=0,a=e.length;s<a;++s)o=e[s],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(o);return n}function y5(e){fe.call(this,null,e)}y5.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Ue(y5,fe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=uQ().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||lQ(e.count||10,e.nice,!!i),a=e.size,o,u;return i||(i=t.materialize(t.SOURCE).source,o=hQ(fQ(),e)(i,!0),u=cQ(o,o.scale||1,o.scale||1,0,0),a=[o.width,o.height],i=o.values),s=_e(s)?s:s(i),i=r.size(a)(i,s),u&&i.forEach(u),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(fn),n}});const rD="Feature",_5="FeatureCollection",MTe="MultiPoint";function E5(e){fe.call(this,null,e)}E5.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Ue(E5,fe,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],a=i&&i[1],o=e.geojson||!i&&Zi,u=t.ADD,l;l=e.modified()||t.changed(t.REM)||t.modified(Wi(o))||s&&t.modified(Wi(s))||a&&t.modified(Wi(a)),(!this.value||l)&&(u=t.SOURCE,this._features=n=[],this._points=r=[]),o&&t.visit(u,c=>n.push(o(c))),s&&a&&(t.visit(u,c=>{var f=s(c),h=a(c);f!=null&&h!=null&&(f=+f)===f&&(h=+h)===h&&r.push([f,h])}),n=n.concat({type:rD,geometry:{type:MTe,coordinates:r}})),this.value={type:_5,features:n}}});function b5(e){fe.call(this,null,e)}b5.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Ue(b5,fe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Zi,s=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=oQ(e.projection),n.materialize().reflow()):a=i===Zi||t.modified(i.fields)?n.ADD_MOD:n.ADD;const o=LTe(r,e.pointRadius);return n.visit(a,u=>u[s]=r(i(u))),r.pointRadius(o),n.modifies(s)}});function LTe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function w5(e){fe.call(this,null,e)}w5.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Ue(w5,fe,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],a=s[0],o=s[1],u;function l(c){const f=n([r(c),i(c)]);f?(c[a]=f[0],c[o]=f[1]):(c[a]=void 0,c[o]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(u=t.modified(r.fields)||t.modified(i.fields),t.visit(u?t.ADD_MOD:t.ADD,l)),t.modifies(s)}});function A5(e){fe.call(this,null,e)}A5.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Ue(A5,fe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=PTe(oQ(e.projection),e.field||lo("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,a=>a[i]=r),n.modifies(i)}});function PTe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),a=e.pointRadius(n)(t(i));return e.pointRadius(s),a};return r.context=i=>(e.context(i),r),r}function S5(e){fe.call(this,[],e),this.generator=yxe()}S5.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Ue(S5,fe,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)Et(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push(hY(n[0],i)):t.add.push(fn(i)),n[0]=i,t}});function C5(e){fe.call(this,null,e)}C5.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Ue(C5,fe,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Zi,s=UTe(e.opacity,e),a=BTe(e.color,e),o=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?hh(n.map(l=>hh(i(l).values))):0};return n.forEach(l=>{const c=i(l),f=Ft({},l,u);r||(f.$max=hh(c.values||[])),l[o]=zTe(c,f,a.dep?a:Qi(a(f)),s.dep?s:Qi(s(f)))}),t.reflow(!0).modifies(o)}});function BTe(e,t){let n;return Et(e)?(n=r=>Of(e(r,t)),n.dep=dQ(e)):n=Qi(Of(e||"#888")),n}function UTe(e,t){let n;return Et(e)?(n=r=>e(r,t),n.dep=dQ(e)):e?n=Qi(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function dQ(e){if(!Et(e))return!1;const t=Aa(Wi(e));return t.$x||t.$y||t.$value||t.$max}function zTe(e,t,n,r){const i=e.width,s=e.height,a=e.x1||0,o=e.y1||0,u=e.x2||i,l=e.y2||s,c=e.values,f=c?m=>c[m]:sf,h=wf(u-a,l-o),d=h.getContext("2d"),p=d.getImageData(0,0,u-a,l-o),g=p.data;for(let m=o,x=0;m<l;++m){t.$y=m-o;for(let y=a,v=m*i;y<u;++y,x+=4){t.$x=y-a,t.$value=f(y+v);const _=n(t);g[x+0]=_.r,g[x+1]=_.g,g[x+2]=_.b,g[x+3]=~~(255*r(t))}}return d.putImageData(p,0,0),h}function pQ(e){fe.call(this,null,e),this.modified(!0)}Ue(pQ,fe,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=HTe(e.type),nD.forEach(r=>{e[r]!=null&&a9(n,r,e[r])})):nD.forEach(r=>{e.modified(r)&&a9(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&WTe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function WTe(e,t){const n=VTe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function HTe(e){const t=m5((e||"mercator").toLowerCase());return t||he("Unrecognized projection type: "+e),t()}function a9(e,t,n){Et(e[t])&&e[t](n)}function VTe(e){return e=Xe(e),e.length===1?e[0]:{type:_5,features:e.reduce((t,n)=>t.concat(jTe(n)),[])}}function jTe(e){return e.type===_5?e.features:Xe(e).filter(t=>t!=null).map(t=>t.type===rD?t:{type:rD,geometry:t})}const GTe=Object.freeze(Object.defineProperty({__proto__:null,contour:y5,geojson:E5,geopath:b5,geopoint:w5,geoshape:A5,graticule:S5,heatmap:C5,isocontour:x5,kde2d:v5,projection:pQ},Symbol.toStringTag,{value:"Module"})),o9={center:lme,collide:Tme,nbody:Bme,link:Dme,x:Ume,y:zme},Hm="forces",iD=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],qTe=["static","iterations"],gQ=["x","y","vx","vy"];function k5(e){fe.call(this,null,e)}k5.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:gQ}]};Ue(k5,fe,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(iD),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&mQ(n,e,0,t)):(this.value=n=KTe(t.source,e),n.on("tick",XTe(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(qTe)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let o=this._argops,u=0,l=o.length,c;u<l;++u)if(c=o[u],!(c.name!==Hm||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,s=r.length,a;i<s;++i)if(r[i].name==="links"&&(a=r[i].op.source)){n.pulse(a,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(gQ)}});function XTe(e,t){return()=>e.touch(t).run()}function KTe(e,t){const n=Pme(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),mQ(n,t,!0).on("end",()=>s=!0)}function mQ(e,t,n,r){var i=Xe(t.forces),s,a,o,u;for(s=0,a=iD.length;s<a;++s)o=iD[s],o!==Hm&&t.modified(o)&&e[o](t[o]);for(s=0,a=i.length;s<a;++s)u=Hm+s,o=n||t.modified(Hm,s)?JTe(i[s]):r&&YTe(i[s],r)?e.force(u):null,o&&e.force(u,o);for(a=e.numForces||0;s<a;++s)e.force(Hm+s,null);return e.numForces=i.length,e}function YTe(e,t){var n,r;for(n in e)if(Et(r=e[n])&&t.modified(Wi(r)))return 1;return 0}function JTe(e){var t,n;Ke(o9,e.force)||he("Unrecognized force: "+e.force),t=o9[e.force]();for(n in e)Et(t[n])&&ZTe(t[n],e[n],e);return t}function ZTe(e,t,n){e(Et(t)?r=>t(r,n):t)}const QTe=Object.freeze(Object.defineProperty({__proto__:null,force:k5},Symbol.toStringTag,{value:"Module"}));function sD(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function T5(e){fe.call(this,null,e)}T5.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const eFe=e=>e.values;Ue(T5,fe,{transform(e,t){t.source||he("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(a=>{a.children&&nS(a.data)&&i.rem.push(a.data)}),this.value=s=X6({values:Xe(e.keys).reduce((a,o)=>(a.key(o),a),tFe()).entries(i.source)},eFe),n&&s.each(a=>{a.children&&(a=fn(a.data),i.add.push(a),i.source.push(a))}),sD(s,ut,ut)),i.source.root=s,i}});function tFe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const a=i.length,o=e[s++],u={},l={};let c=-1,f,h,d;for(;++c<a;)f=o(h=i[c])+"",(d=u[f])?d.push(h):u[f]=[h];for(f in u)l[f]=n(u[f],s);return l}function r(i,s){if(++s>e.length)return i;const a=[];for(const o in i)a.push({key:o,values:r(i[o],s)});return a}return t}function kc(e){fe.call(this,null,e)}const nFe=(e,t)=>e.parent===t.parent?1:2;Ue(kc,fe,{transform(e,t){(!t.source||!t.source.root)&&he(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Ad(e.sort,a=>a.data)),rFe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?nFe:c1);try{this.value=n(i)}catch(a){he(a)}return i.each(a=>iFe(a,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function rFe(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function iFe(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const aD=["x","y","r","depth","children"];function F5(e){kc.call(this,e)}F5.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:aD.length,default:aD}]};Ue(F5,kc,{layout:zve,params:["radius","size","padding"],fields:aD});const oD=["x0","y0","x1","y1","depth","children"];function D5(e){kc.call(this,e)}D5.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:oD.length,default:oD}]};Ue(D5,kc,{layout:Wve,params:["size","round","padding"],fields:oD});function N5(e){fe.call(this,null,e)}N5.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Ue(N5,fe,{transform(e,t){t.source||he("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?sD(AP().id(e.key).parentId(e.parentKey)(i.source),e.key,co):sD(AP()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const u9={tidy:Zve,cluster:cve},uD=["x","y","depth","children"];function O5(e){kc.call(this,e)}O5.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:uD.length,default:uD}]};Ue(O5,kc,{layout(e){const t=e||"tidy";if(Ke(u9,t))return u9[t]();he("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:uD});function $5(e){fe.call(this,[],e)}$5.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Ue($5,fe,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||he("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,a=>s[ut(a)]=1),r.each(a=>{const o=a.data,u=a.parent&&a.parent.data;u&&s[ut(o)]&&s[ut(u)]&&i.add.push(fn({source:u,target:o}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,a=>s[ut(a)]=1),n.forEach(a=>{(s[ut(a.source)]||s[ut(a.target)])&&i.mod.push(a)})),i}});const l9={binary:eye,dice:hy,slice:UA,slicedice:tye,squarify:pX,resquarify:nye},lD=["x0","y0","x1","y1","depth","children"];function I5(e){kc.call(this,e)}I5.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:lD.length,default:lD}]};Ue(I5,kc,{layout(){const e=Qve();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Ke(l9,t)?e.tile(l9[t]):he("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:lD});const sFe=Object.freeze(Object.defineProperty({__proto__:null,nest:T5,pack:F5,partition:D5,stratify:N5,tree:O5,treelinks:$5,treemap:I5},Symbol.toStringTag,{value:"Module"})),yT=4278190080;function aFe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function oFe(e,t,n,r,i){const s=e.width,a=e.height,o=r||i,u=wf(s,a).getContext("2d"),l=wf(s,a).getContext("2d"),c=o&&wf(s,a).getContext("2d");n.forEach(S=>EE(u,S,!1)),EE(l,t,!1),o&&EE(c,t,!0);const f=_T(u,s,a),h=_T(l,s,a),d=o&&_T(c,s,a),p=e.bitmap(),g=o&&e.bitmap();let m,x,y,v,_,E,w,b;for(x=0;x<a;++x)for(m=0;m<s;++m)_=x*s+m,E=f[_]&yT,b=h[_]&yT,w=o&&d[_]&yT,(E||w||b)&&(y=e(m),v=e(x),!i&&(E||b)&&p.set(y,v),o&&(E||w)&&g.set(y,v));return[p,g]}function _T(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function EE(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>EE(e,s.items,n))}):ka[r].draw(e,{items:n?t.map(uFe):t})}function uFe(e){const t=rS(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Cl=5,rs=31,gv=32,nf=new Uint32Array(gv+1),$o=new Uint32Array(gv+1);$o[0]=0;nf[0]=~$o[0];for(let e=1;e<=gv;++e)$o[e]=$o[e-1]<<1|1,nf[e]=~$o[e];function lFe(e,t){const n=new Uint32Array(~~((e*t+gv)/gv));function r(s,a){n[s]|=a}function i(s,a){n[s]&=a}return{array:n,get:(s,a)=>{const o=a*e+s;return n[o>>>Cl]&1<<(o&rs)},set:(s,a)=>{const o=a*e+s;r(o>>>Cl,1<<(o&rs))},clear:(s,a)=>{const o=a*e+s;i(o>>>Cl,~(1<<(o&rs)))},getRange:(s,a,o,u)=>{let l=u,c,f,h,d;for(;l>=a;--l)if(c=l*e+s,f=l*e+o,h=c>>>Cl,d=f>>>Cl,h===d){if(n[h]&nf[c&rs]&$o[(f&rs)+1])return!0}else{if(n[h]&nf[c&rs]||n[d]&$o[(f&rs)+1])return!0;for(let p=h+1;p<d;++p)if(n[p])return!0}return!1},setRange:(s,a,o,u)=>{let l,c,f,h,d;for(;a<=u;++a)if(l=a*e+s,c=a*e+o,f=l>>>Cl,h=c>>>Cl,f===h)r(f,nf[l&rs]&$o[(c&rs)+1]);else for(r(f,nf[l&rs]),r(h,$o[(c&rs)+1]),d=f+1;d<h;++d)r(d,4294967295)},clearRange:(s,a,o,u)=>{let l,c,f,h,d;for(;a<=u;++a)if(l=a*e+s,c=a*e+o,f=l>>>Cl,h=c>>>Cl,f===h)i(f,$o[l&rs]|nf[(c&rs)+1]);else for(i(f,$o[l&rs]),i(h,nf[(c&rs)+1]),d=f+1;d<h;++d)i(d,0)},outOfBounds:(s,a,o,u)=>s<0||a<0||u>=t||o>=e}}function cFe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),a=o=>~~((o+n)/r);return a.invert=o=>o*r-n,a.bitmap=()=>lFe(i,s),a.ratio=r,a.padding=n,a.width=e,a.height=t,a}function fFe(e,t,n,r){const i=e.width,s=e.height;return function(a){const o=a.datum.datum.items[r].items,u=o.length,l=a.datum.fontSize,c=_a.width(a.datum,a.datum.text);let f=0,h,d,p,g,m,x,y;for(let v=0;v<u;++v)h=o[v].x,p=o[v].y,d=o[v].x2===void 0?h:o[v].x2,g=o[v].y2===void 0?p:o[v].y2,m=(h+d)/2,x=(p+g)/2,y=Math.abs(d-h+g-p),y>=f&&(f=y,a.x=m,a.y=x);return m=c/2,x=l/2,h=a.x-m,d=a.x+m,p=a.y-x,g=a.y+x,a.align="center",h<0&&d<=i?a.align="left":0<=h&&i<d&&(a.align="right"),a.baseline="middle",p<0&&g<=s?a.baseline="top":0<=p&&s<g&&(a.baseline="bottom"),!0}}function pw(e,t,n,r,i,s){let a=n/2;return e-a<0||e+a>i||t-(a=r/2)<0||t+a>s}function pf(e,t,n,r,i,s,a,o){const u=i*s/(r*2),l=e(t-u),c=e(t+u),f=e(n-(s=s/2)),h=e(n+s);return a.outOfBounds(l,f,c,h)||a.getRange(l,f,c,h)||o&&o.getRange(l,f,c,h)}function hFe(e,t,n,r){const i=e.width,s=e.height,a=t[0],o=t[1];function u(l,c,f,h,d){const p=e.invert(l),g=e.invert(c);let m=f,x=s,y;if(!pw(p,g,h,d,i,s)&&!pf(e,p,g,d,h,m,a,o)&&!pf(e,p,g,d,h,d,a,null)){for(;x-m>=1;)y=(m+x)/2,pf(e,p,g,d,h,y,a,o)?x=y:m=y;if(m>f)return[p,g,m,!0]}}return function(l){const c=l.datum.datum.items[r].items,f=c.length,h=l.datum.fontSize,d=_a.width(l.datum,l.datum.text);let p=n?h:0,g=!1,m=!1,x=0,y,v,_,E,w,b,S,A,C,k,F,N,R,D,O,M,z;for(let K=0;K<f;++K){for(y=c[K].x,_=c[K].y,v=c[K].x2===void 0?y:c[K].x2,E=c[K].y2===void 0?_:c[K].y2,y>v&&(z=y,y=v,v=z),_>E&&(z=_,_=E,E=z),C=e(y),F=e(v),k=~~((C+F)/2),N=e(_),D=e(E),R=~~((N+D)/2),S=k;S>=C;--S)for(A=R;A>=N;--A)M=u(S,A,p,d,h),M&&([l.x,l.y,p,g]=M);for(S=k;S<=F;++S)for(A=R;A<=D;++A)M=u(S,A,p,d,h),M&&([l.x,l.y,p,g]=M);!g&&!n&&(O=Math.abs(v-y+E-_),w=(y+v)/2,b=(_+E)/2,O>=x&&!pw(w,b,d,h,i,s)&&!pf(e,w,b,h,d,h,a,null)&&(x=O,l.x=w,l.y=b,m=!0))}return g||m?(w=d/2,b=h/2,a.setRange(e(l.x-w),e(l.y-b),e(l.x+w),e(l.y+b)),l.align="center",l.baseline="middle",!0):!1}}const dFe=[-1,-1,1,1],pFe=[-1,1,-1,1];function gFe(e,t,n,r){const i=e.width,s=e.height,a=t[0],o=t[1],u=e.bitmap();return function(l){const c=l.datum.datum.items[r].items,f=c.length,h=l.datum.fontSize,d=_a.width(l.datum,l.datum.text),p=[];let g=n?h:0,m=!1,x=!1,y=0,v,_,E,w,b,S,A,C,k,F,N,R;for(let D=0;D<f;++D){for(v=c[D].x,E=c[D].y,_=c[D].x2===void 0?v:c[D].x2,w=c[D].y2===void 0?E:c[D].y2,p.push([e((v+_)/2),e((E+w)/2)]);p.length;)if([A,C]=p.pop(),!(a.get(A,C)||o.get(A,C)||u.get(A,C))){u.set(A,C);for(let O=0;O<4;++O)b=A+dFe[O],S=C+pFe[O],u.outOfBounds(b,S,b,S)||p.push([b,S]);if(b=e.invert(A),S=e.invert(C),k=g,F=s,!pw(b,S,d,h,i,s)&&!pf(e,b,S,h,d,k,a,o)&&!pf(e,b,S,h,d,h,a,null)){for(;F-k>=1;)N=(k+F)/2,pf(e,b,S,h,d,N,a,o)?F=N:k=N;k>g&&(l.x=b,l.y=S,g=k,m=!0)}}!m&&!n&&(R=Math.abs(_-v+w-E),b=(v+_)/2,S=(E+w)/2,R>=y&&!pw(b,S,d,h,i,s)&&!pf(e,b,S,h,d,h,a,null)&&(y=R,l.x=b,l.y=S,x=!0))}return m||x?(b=d/2,S=h/2,a.setRange(e(l.x-b),e(l.y-S),e(l.x+b),e(l.y+S)),l.align="center",l.baseline="middle",!0):!1}}const mFe=["right","center","left"],xFe=["bottom","middle","top"];function vFe(e,t,n,r){const i=e.width,s=e.height,a=t[0],o=t[1],u=r.length;return function(l){const c=l.boundary,f=l.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>s)return!1;let h=l.textWidth??0,d,p,g,m,x,y,v,_,E,w,b,S,A,C,k;for(let F=0;F<u;++F){if(d=(n[F]&3)-1,p=(n[F]>>>2&3)-1,g=d===0&&p===0||r[F]<0,m=d&&p?Math.SQRT1_2:1,x=r[F]<0?-1:1,y=c[1+d]+r[F]*d*m,b=c[4+p]+x*f*p/2+r[F]*p*m,_=b-f/2,E=b+f/2,S=e(y),C=e(_),k=e(E),!h)if(c9(S,S,C,k,a,o,y,y,_,E,c,g))h=_a.width(l.datum,l.datum.text);else continue;if(w=y+x*h*d/2,y=w-h/2,v=w+h/2,S=e(y),A=e(v),c9(S,A,C,k,a,o,y,v,_,E,c,g))return l.x=d?d*x<0?v:y:w,l.y=p?p*x<0?E:_:b,l.align=mFe[d*x+1],l.baseline=xFe[p*x+1],a.setRange(S,C,A,k),!0}return!1}}function c9(e,t,n,r,i,s,a,o,u,l,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&s||i).getRange(e,n,t,r))}const ET=0,bT=4,wT=8,AT=0,ST=1,CT=2,yFe={"top-left":ET+AT,top:ET+ST,"top-right":ET+CT,left:bT+AT,middle:bT+ST,right:bT+CT,"bottom-left":wT+AT,bottom:wT+ST,"bottom-right":wT+CT},_Fe={naive:fFe,"reduced-search":hFe,floodfill:gFe};function EFe(e,t,n,r,i,s,a,o,u,l,c){if(!e.length)return e;const f=Math.max(r.length,i.length),h=bFe(r,f),d=wFe(i,f),p=AFe(e[0].datum),g=p==="group"&&e[0].datum.items[u].marktype,m=g==="area",x=SFe(p,g,o,u),y=l===null||l===1/0,v=m&&c==="naive";let _=-1,E=-1;const w=e.map(C=>{const k=y?_a.width(C,C.text):void 0;return _=Math.max(_,k),E=Math.max(E,C.fontSize),{datum:C,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:x(C),textWidth:k}});l=l===null||l===1/0?Math.max(_,E)+Math.max(...r):l;const b=cFe(t[0],t[1],l);let S;if(!v){n&&w.sort((F,N)=>n(F.datum,N.datum));let C=!1;for(let F=0;F<d.length&&!C;++F)C=d[F]===5||h[F]<0;const k=(p&&a||m)&&e.map(F=>F.datum);S=s.length||k?oFe(b,k||[],s,C,m):aFe(b,a&&w)}const A=m?_Fe[c](b,S,a,u):vFe(b,S,d,h);return w.forEach(C=>C.opacity=+A(C)),w}function bFe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function wFe(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=yFe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function AFe(e){return e&&e.mark&&e.mark.marktype}function SFe(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const a=s.datum.items[r].items;return i(a.length?a[n==="start"?0:a.length-1]:{x:NaN,y:NaN})}:s=>{const a=s.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:i}const cD=["x","y","opacity","align","baseline"],xQ=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function R5(e){fe.call(this,null,e)}R5.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:xQ},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:cD.length,default:cD}]};Ue(R5,fe,{transform(e,t){function n(s){const a=e[s];return Et(a)&&t.modified(a.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&he("Size parameter should be specified as a [width, height] array.");const i=e.as||cD;return EFe(t.materialize(t.SOURCE).source||[],e.size,e.sort,Xe(e.offset==null?1:e.offset),Xe(e.anchor||xQ),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const a=s.datum;a[i[0]]=s.x,a[i[1]]=s.y,a[i[2]]=s.opacity,a[i[3]]=s.align,a[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const CFe=Object.freeze(Object.defineProperty({__proto__:null,label:R5},Symbol.toStringTag,{value:"Module"}));function vQ(e,t){var n=[],r=function(c){return c(o)},i,s,a,o,u,l;if(t==null)n.push(e);else for(i={},s=0,a=e.length;s<a;++s)o=e[s],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(o);return n}function M5(e){fe.call(this,null,e)}M5.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Ue(M5,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=vQ(r,e.groupby),s=(e.groupby||[]).map(ir),a=s.length,o=e.as||[ir(e.x),ir(e.y)],u=[];i.forEach(l=>{DY(l,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let h=0;h<a;++h)f[s[h]]=l.dims[h];f[o[0]]=c[0],f[o[1]]=c[1],u.push(fn(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const fD={constant:K8,linear:Y8,log:CY,exp:kY,pow:TY,quad:J8,poly:FY},kFe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function L5(e){fe.call(this,null,e)}L5.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(fD)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Ue(L5,fe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=vQ(r,e.groupby),s=(e.groupby||[]).map(ir),a=e.method||"linear",o=e.order==null?3:e.order,u=kFe(a,o),l=e.as||[ir(e.x),ir(e.y)],c=fD[a],f=[];let h=e.extent;Ke(fD,a)||he("Invalid regression method: "+a),h!=null&&a==="log"&&h[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),i.forEach(d=>{if(d.length<=u){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(d,e.x,e.y,o);if(e.params){f.push(fn({keys:d.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=h||Xu(d,e.x),x=y=>{const v={};for(let _=0;_<s.length;++_)v[s[_]]=d.dims[_];v[l[0]]=y[0],v[l[1]]=y[1],f.push(fn(v))};a==="linear"||a==="constant"?m.forEach(y=>x([y,g.predict(y)])):cS(g.predict,m,25,200).forEach(x)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const TFe=Object.freeze(Object.defineProperty({__proto__:null,loess:M5,regression:L5},Symbol.toStringTag,{value:"Module"}));function P5(e){fe.call(this,null,e)}P5.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const FFe=[-1e5,-1e5,1e5,1e5];Ue(P5,fe,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:FFe;const s=this.value=M6.from(r,e.x,e.y).voronoi(i);for(let a=0,o=r.length;a<o;++a){const u=s.cellPolygon(a);r[a][n]=u&&!NFe(u)?DFe(u):null}return t.reflow(e.modified()).modifies(n)}});function DFe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function NFe(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const OFe=Object.freeze(Object.defineProperty({__proto__:null,voronoi:P5},Symbol.toStringTag,{value:"Module"}));var kT=Math.PI/180,Vm=64,bE=2048;function $Fe(){var e=[256,256],t,n,r,i,s,a,o,u=yQ,l=[],c=Math.random,f={};f.layout=function(){for(var p=h(wf()),g=BFe((e[0]>>5)*e[1]),m=null,x=l.length,y=-1,v=[],_=l.map(w=>({text:t(w),font:n(w),style:i(w),weight:s(w),rotate:a(w),size:~~(r(w)+1e-14),padding:o(w),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:w})).sort((w,b)=>b.size-w.size);++y<x;){var E=_[y];E.x=e[0]*(c()+.5)>>1,E.y=e[1]*(c()+.5)>>1,IFe(p,E,_,y),E.hasText&&d(g,E,m)&&(v.push(E),m?MFe(m,E):m=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=e[0]>>1,E.y-=e[1]>>1)}return v};function h(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(Vm<<5)/g,p.height=bE/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function d(p,g,m){for(var x=g.x,y=g.y,v=Math.hypot(e[0],e[1]),_=u(e),E=c()<.5?1:-1,w=-E,b,S,A;(b=_(w+=E))&&(S=~~b[0],A=~~b[1],!(Math.min(Math.abs(S),Math.abs(A))>=v));)if(g.x=x+S,g.y=y+A,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!RFe(g,p,e[0]))&&(!m||LFe(g,m))){for(var C=g.sprite,k=g.width>>5,F=e[0]>>5,N=g.x-(k<<4),R=N&127,D=32-R,O=g.y1-g.y0,M=(g.y+g.y0)*F+(N>>5),z,K=0;K<O;K++){z=0;for(var X=0;X<=k;X++)p[M+X]|=z<<D|(X<k?(z=C[K*k+X])>>>R:0);M+=F}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(l=p,f):l},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=F0(p),f):n},f.fontStyle=function(p){return arguments.length?(i=F0(p),f):i},f.fontWeight=function(p){return arguments.length?(s=F0(p),f):s},f.rotate=function(p){return arguments.length?(a=F0(p),f):a},f.text=function(p){return arguments.length?(t=F0(p),f):t},f.spiral=function(p){return arguments.length?(u=UFe[p]||p,f):u},f.fontSize=function(p){return arguments.length?(r=F0(p),f):r},f.padding=function(p){return arguments.length?(o=F0(p),f):o},f.random=function(p){return arguments.length?(c=p,f):c},f}function IFe(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(Vm<<5)/s,bE/s);var a=0,o=0,u=0,l=n.length,c,f,h,d,p;for(--r;++r<l;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,c=i.measureText(t.text+"m").width*s,h=t.size<<1,t.rotate){var g=Math.sin(t.rotate*kT),m=Math.cos(t.rotate*kT),x=c*m,y=c*g,v=h*m,_=h*g;c=Math.max(Math.abs(x+_),Math.abs(x-_))+31>>5<<5,h=~~Math.max(Math.abs(y+v),Math.abs(y-v))}else c=c+31>>5<<5;if(h>u&&(u=h),a+c>=Vm<<5&&(a=0,o+=u,u=0),o+h>=bE)break;i.translate((a+(c>>1))/s,(o+(h>>1))/s),t.rotate&&i.rotate(t.rotate*kT),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=h,t.xoff=a,t.yoff=o,t.x1=c>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=c}for(var E=i.getImageData(0,0,(Vm<<5)/s,bE/s).data,w=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,h=t.y1-t.y0,d=0;d<h*f;d++)w[d]=0;if(a=t.xoff,a==null)return;o=t.yoff;var b=0,S=-1;for(p=0;p<h;p++){for(d=0;d<c;d++){var A=f*p+(d>>5),C=E[(o+p)*(Vm<<5)+(a+d)<<2]?1<<31-d%32:0;w[A]|=C,b|=C}b?S=p:(t.y0++,h--,p--,o++)}t.y1=t.y0+S,t.sprite=w.slice(0,(t.y1-t.y0)*f)}}}function RFe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),a=s&127,o=32-a,u=e.y1-e.y0,l=(e.y+e.y0)*n+(s>>5),c,f=0;f<u;f++){c=0;for(var h=0;h<=i;h++)if((c<<o|(h<i?(c=r[f*i+h])>>>a:0))&t[l+h])return!0;l+=n}return!1}function MFe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function LFe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function yQ(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function PFe(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var a=s<0?-1:1;switch(Math.sqrt(1+4*a*s)-a&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function BFe(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function F0(e){return typeof e=="function"?e:function(){return e}}var UFe={archimedean:yQ,rectangular:PFe};const _Q=["x","y","font","fontSize","fontStyle","fontWeight","angle"],zFe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function B5(e){fe.call(this,$Fe(),e)}B5.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:_Q}]};Ue(B5,fe,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&he("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return Et(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||zFe.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,a=e.as||_Q;let o=e.fontSize||14,u;if(Et(o)?u=e.fontSizeRange:o=Qi(o),u){const p=o,g=an("sqrt")().domain(Xu(i,p)).range(u);o=m=>g(p(m))}i.forEach(p=>{p[a[0]]=NaN,p[a[1]]=NaN,p[a[3]]=0});const l=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(o).random(ho).layout(),c=s.size(),f=c[0]>>1,h=c[1]>>1,d=l.length;for(let p=0,g,m;p<d;++p)g=l[p],m=g.datum,m[a[0]]=g.x+f,m[a[1]]=g.y+h,m[a[2]]=g.font,m[a[3]]=g.size,m[a[4]]=g.style,m[a[5]]=g.weight,m[a[6]]=g.rotate;return t.reflow(r).modifies(a)}});const WFe=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:B5},Symbol.toStringTag,{value:"Module"})),HFe=e=>new Uint8Array(e),VFe=e=>new Uint16Array(e),gx=e=>new Uint32Array(e);function jFe(){let e=8,t=[],n=gx(0),r=l2(0,e),i=l2(0,e);return{data:()=>t,seen:()=>n=GFe(n,t.length),add(s){for(let a=0,o=t.length,u=s.length,l;a<u;++a)l=s[a],l._index=o++,t.push(l)},remove(s,a){const o=t.length,u=Array(o-s),l=t;let c,f,h;for(f=0;!a[f]&&f<o;++f)u[f]=t[f],l[f]=f;for(h=f;f<o;++f)c=t[f],a[f]?l[f]=-1:(l[f]=h,r[h]=r[f],i[h]=i[f],u[h]=c,c._index=h++),r[f]=0;return t=u,l},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,a){r[s]|=a},clear(s,a){r[s]&=~a},resize(s,a){const o=r.length;(s>o||a>e)&&(e=Math.max(a,e),r=l2(s,e,r),i=l2(s,e))}}}function GFe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function l2(e,t,n){const r=(t<257?HFe:t<65537?VFe:gx)(e);return n&&r.set(n),r}function f9(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const a=this,o=a.bisect(a.range,i.value),u=i.index,l=o[0],c=o[1],f=u.length;let h;for(h=0;h<l;++h)s[u[h]]|=r;for(h=c;h<f;++h)s[u[h]]|=r;return a}}}function h9(){let e=gx(0),t=[],n=0;function r(o,u,l){if(!u.length)return[];const c=n,f=u.length,h=gx(f);let d=Array(f),p,g,m;for(m=0;m<f;++m)d[m]=o(u[m]),h[m]=m;if(d=qFe(d,h),c)p=t,g=e,t=Array(c+f),e=gx(c+f),XFe(l,p,g,c,d,h,f,t,e);else{if(l>0)for(m=0;m<f;++m)h[m]+=l;t=d,e=h}return n=c+f,{index:h,value:d}}function i(o,u){const l=n;let c,f,h;for(f=0;!u[e[f]]&&f<l;++f);for(h=f;f<l;++f)u[c=e[f]]||(e[h]=c,t[h]=t[f],++h);n=l-o}function s(o){for(let u=0,l=n;u<l;++u)e[u]=o[e[u]]}function a(o,u){let l;return u?l=u.length:(u=t,l=n),[Ghe(u,o[0],0,l),Df(u,o[1],0,l)]}return{insert:r,remove:i,bisect:a,reindex:s,index:()=>e,size:()=>n}}function qFe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),Khe(e,t)}function XFe(e,t,n,r,i,s,a,o,u){let l=0,c=0,f;for(f=0;l<r&&c<a;++f)t[l]<i[c]?(o[f]=t[l],u[f]=n[l++]):(o[f]=i[c],u[f]=s[c++]+e);for(;l<r;++l,++f)o[f]=t[l],u[f]=n[l];for(;c<a;++c,++f)o[f]=i[c],u[f]=s[c]+e}function U5(e){fe.call(this,jFe(),e),this._indices=null,this._dims=null}U5.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ue(U5,fe,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],a=r.length;let o=0,u,l;for(;o<a;++o)u=n[o].fname,l=i[u]||(i[u]=h9()),s.push(f9(l,o,r[o]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,a=this._dims,o=this.value,u=o.curr(),l=o.prev(),c=o.all(),f=n.rem=n.add,h=n.mod,d=i.length,p={};let g,m,x,y,v,_,E,w,b;if(l.set(u),t.rem.length&&(v=this.remove(e,t,n)),t.add.length&&o.add(t.add),t.mod.length)for(_={},y=t.mod,E=0,w=y.length;E<w;++E)_[y[E]._index]=1;for(E=0;E<d;++E)b=r[E],(!a[E]||e.modified("fields",E)||t.modified(b.fields))&&(x=b.fname,(g=p[x])||(s[x]=m=h9(),p[x]=g=m.insert(b,t.source,0)),a[E]=f9(m,E,i[E]).onAdd(g,u));for(E=0,w=o.data().length;E<w;++E)v[E]||(l[E]!==u[E]?f.push(E):_[E]&&u[E]!==c&&h.push(E));return o.mask=(1<<d)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,a=this._indices,o=e.fields,u={},l=n.add,c=i.size()+r.length,f=s.length;let h=i.size(),d,p,g;i.resize(c,f),i.add(r);const m=i.curr(),x=i.prev(),y=i.all();for(d=0;d<f;++d)p=o[d].fname,g=u[p]||(u[p]=a[p].insert(o[d],r,h)),s[d].onAdd(g,m);for(;h<c;++h)x[h]=y,m[h]!==y&&l.push(h)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),a=e.mod;let o,u,l;for(o=0,u=a.length;o<u;++o)l=a[o]._index,i[l]!==s&&n.push(l)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),a=i.prev(),o=i.all(),u={},l=n.rem,c=t.rem;let f,h,d,p;for(f=0,h=c.length;f<h;++f)d=c[f]._index,u[d]=1,a[d]=p=s[d],s[d]=o,p!==o&&l.push(d);for(d in r)r[d].remove(h,u);return this.reindex(t,h,u),u},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const a in r)r[a].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,a=r.length;let o=0,u,l;for(n.filters=0,l=0;l<a;++l)e.modified("query",l)&&(u=l,++o);if(o===1)o=r[u].one,this.incrementOne(r[u],i[u],n.add,n.rem);else for(l=0,o=0;l<a;++l)e.modified("query",l)&&(o|=r[l].one,this.incrementAll(r[l],i[l],s,n.add),n.rem=n.add);return o},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),a=i.curr(),o=i.prev(),u=e.index(),l=e.bisect(e.range),c=e.bisect(t),f=c[0],h=c[1],d=l[0],p=l[1],g=e.one;let m,x,y;if(f<d)for(m=f,x=Math.min(d,h);m<x;++m)y=u[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;else if(f>d)for(m=d,x=Math.min(f,p);m<x;++m)y=u[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;if(h>p)for(m=Math.max(f,p),x=h;m<x;++m)y=u[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;else if(h<p)for(m=Math.max(d,h),x=p;m<x;++m)y=u[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),a=e.index(),o=e.bisect(e.range),u=e.bisect(t),l=u[0],c=u[1],f=o[0],h=o[1],d=e.one;let p,g,m;if(l<f)for(p=l,g=Math.min(f,c);p<g;++p)m=a[p],s[m]^=d,n.push(m);else if(l>f)for(p=f,g=Math.min(l,h);p<g;++p)m=a[p],s[m]^=d,r.push(m);if(c>h)for(p=Math.max(l,h),g=c;p<g;++p)m=a[p],s[m]^=d,n.push(m);else if(c<h)for(p=Math.max(f,c),g=h;p<g;++p)m=a[p],s[m]^=d,r.push(m);e.range=t.slice()}});function z5(e){fe.call(this,null,e)}z5.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ue(z5,fe,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const s=t.fork(t.ALL),a=r.data(),o=r.curr(),u=r.prev(),l=c=>o[c]&n?null:a[c];return s.filter(s.MOD,l),i&i-1?(s.filter(s.ADD,c=>{const f=o[c]&n;return!f&&f^u[c]&n?a[c]:null}),s.filter(s.REM,c=>{const f=o[c]&n;return f&&!(f^(f^u[c]&n))?a[c]:null})):(s.filter(s.ADD,l),s.filter(s.REM,c=>(o[c]&n)===i?a[c]:null)),s.filter(s.SOURCE,c=>l(c._index))}});const KFe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:U5,resolvefilter:z5},Symbol.toStringTag,{value:"Module"})),YFe="RawCode",Ng="Literal",JFe="Property",ZFe="Identifier",QFe="ArrayExpression",e3e="BinaryExpression",EQ="CallExpression",t3e="ConditionalExpression",n3e="LogicalExpression",r3e="MemberExpression",i3e="ObjectExpression",s3e="UnaryExpression";function nu(e){this.type=e}nu.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=a3e(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function a3e(e){switch(e.type){case QFe:return e.elements;case e3e:case n3e:return[e.left,e.right];case EQ:return[e.callee].concat(e.arguments);case t3e:return[e.test,e.consequent,e.alternate];case r3e:return[e.object,e.property];case i3e:return e.properties;case JFe:return[e.key,e.value];case s3e:return[e.argument];case ZFe:case Ng:case YFe:default:return[]}}var ul,nt,ge,Vi,xn,FS=1,Oy=2,Vh=3,o0=4,DS=5,kd=6,Rs=7,$y=8,o3e=9;ul={};ul[FS]="Boolean";ul[Oy]="<end>";ul[Vh]="Identifier";ul[o0]="Keyword";ul[DS]="Null";ul[kd]="Numeric";ul[Rs]="Punctuator";ul[$y]="String";ul[o3e]="RegularExpression";var u3e="ArrayExpression",l3e="BinaryExpression",c3e="CallExpression",f3e="ConditionalExpression",bQ="Identifier",h3e="Literal",d3e="LogicalExpression",p3e="MemberExpression",g3e="ObjectExpression",m3e="Property",x3e="UnaryExpression",Hr="Unexpected token %0",v3e="Unexpected number",y3e="Unexpected string",_3e="Unexpected identifier",E3e="Unexpected reserved word",b3e="Unexpected end of input",hD="Invalid regular expression",TT="Invalid regular expression: missing /",wQ="Octal literals are not allowed in strict mode.",w3e="Duplicate data property in object literal not allowed in strict mode",li="ILLEGAL",mv="Disabled.",A3e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),S3e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function NS(e,t){if(!e)throw new Error("ASSERT: "+t)}function $l(e){return e>=48&&e<=57}function W5(e){return"0123456789abcdefABCDEF".includes(e)}function mx(e){return"01234567".includes(e)}function C3e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function xv(e){return e===10||e===13||e===8232||e===8233}function Iy(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&A3e.test(String.fromCharCode(e))}function gw(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&S3e.test(String.fromCharCode(e))}const k3e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function AQ(){for(;ge<Vi;){const e=nt.charCodeAt(ge);if(C3e(e)||xv(e))++ge;else break}}function dD(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ge<Vi&&W5(nt[ge])?(r=nt[ge++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):en({},Hr,li);return String.fromCharCode(i)}function T3e(){var e,t,n,r;for(e=nt[ge],t=0,e==="}"&&en({},Hr,li);ge<Vi&&(e=nt[ge++],!!W5(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&en({},Hr,li),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function SQ(){var e,t;for(e=nt.charCodeAt(ge++),t=String.fromCharCode(e),e===92&&(nt.charCodeAt(ge)!==117&&en({},Hr,li),++ge,e=dD("u"),(!e||e==="\\"||!Iy(e.charCodeAt(0)))&&en({},Hr,li),t=e);ge<Vi&&(e=nt.charCodeAt(ge),!!gw(e));)++ge,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),nt.charCodeAt(ge)!==117&&en({},Hr,li),++ge,e=dD("u"),(!e||e==="\\"||!gw(e.charCodeAt(0)))&&en({},Hr,li),t+=e);return t}function F3e(){var e,t;for(e=ge++;ge<Vi;){if(t=nt.charCodeAt(ge),t===92)return ge=e,SQ();if(gw(t))++ge;else break}return nt.slice(e,ge)}function D3e(){var e,t,n;return e=ge,t=nt.charCodeAt(ge)===92?SQ():F3e(),t.length===1?n=Vh:k3e.hasOwnProperty(t)?n=o0:t==="null"?n=DS:t==="true"||t==="false"?n=FS:n=Vh,{type:n,value:t,start:e,end:ge}}function FT(){var e=ge,t=nt.charCodeAt(ge),n,r=nt[ge],i,s,a;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ge,{type:Rs,value:String.fromCharCode(t),start:e,end:ge};default:if(n=nt.charCodeAt(ge+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ge+=2,{type:Rs,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ge};case 33:case 61:return ge+=2,nt.charCodeAt(ge)===61&&++ge,{type:Rs,value:nt.slice(e,ge),start:e,end:ge}}}if(a=nt.substr(ge,4),a===">>>=")return ge+=4,{type:Rs,value:a,start:e,end:ge};if(s=a.substr(0,3),s===">>>"||s==="<<="||s===">>=")return ge+=3,{type:Rs,value:s,start:e,end:ge};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ge+=2,{type:Rs,value:i,start:e,end:ge};if(i==="//"&&en({},Hr,li),"<>=!+-*%&|^/".includes(r))return++ge,{type:Rs,value:r,start:e,end:ge};en({},Hr,li)}function N3e(e){let t="";for(;ge<Vi&&W5(nt[ge]);)t+=nt[ge++];return t.length===0&&en({},Hr,li),Iy(nt.charCodeAt(ge))&&en({},Hr,li),{type:kd,value:parseInt("0x"+t,16),start:e,end:ge}}function O3e(e){let t="0"+nt[ge++];for(;ge<Vi&&mx(nt[ge]);)t+=nt[ge++];return(Iy(nt.charCodeAt(ge))||$l(nt.charCodeAt(ge)))&&en({},Hr,li),{type:kd,value:parseInt(t,8),octal:!0,start:e,end:ge}}function d9(){var e,t,n;if(n=nt[ge],NS($l(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ge,e="",n!=="."){if(e=nt[ge++],n=nt[ge],e==="0"){if(n==="x"||n==="X")return++ge,N3e(t);if(mx(n))return O3e(t);n&&$l(n.charCodeAt(0))&&en({},Hr,li)}for(;$l(nt.charCodeAt(ge));)e+=nt[ge++];n=nt[ge]}if(n==="."){for(e+=nt[ge++];$l(nt.charCodeAt(ge));)e+=nt[ge++];n=nt[ge]}if(n==="e"||n==="E")if(e+=nt[ge++],n=nt[ge],(n==="+"||n==="-")&&(e+=nt[ge++]),$l(nt.charCodeAt(ge)))for(;$l(nt.charCodeAt(ge));)e+=nt[ge++];else en({},Hr,li);return Iy(nt.charCodeAt(ge))&&en({},Hr,li),{type:kd,value:parseFloat(e),start:t,end:ge}}function $3e(){var e="",t,n,r,i,s=!1;for(t=nt[ge],NS(t==="'"||t==='"',"String literal must starts with a quote"),n=ge,++ge;ge<Vi;)if(r=nt[ge++],r===t){t="";break}else if(r==="\\")if(r=nt[ge++],!r||!xv(r.charCodeAt(0)))switch(r){case"u":case"x":nt[ge]==="{"?(++ge,e+=T3e()):e+=dD(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:mx(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),ge<Vi&&mx(nt[ge])&&(s=!0,i=i*8+"01234567".indexOf(nt[ge++]),"0123".includes(r)&&ge<Vi&&mx(nt[ge])&&(i=i*8+"01234567".indexOf(nt[ge++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&nt[ge]===`
`&&++ge;else{if(xv(r.charCodeAt(0)))break;e+=r}return t!==""&&en({},Hr,li),{type:$y,value:e,octal:s,start:n,end:ge}}function I3e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";en({},hD)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{en({},hD)}try{return new RegExp(e,t)}catch{return null}}function R3e(){var e,t,n,r,i;for(e=nt[ge],NS(e==="/","Regular expression literal must start with a slash"),t=nt[ge++],n=!1,r=!1;ge<Vi;)if(e=nt[ge++],t+=e,e==="\\")e=nt[ge++],xv(e.charCodeAt(0))&&en({},TT),t+=e;else if(xv(e.charCodeAt(0)))en({},TT);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||en({},TT),i=t.substr(1,t.length-2),{value:i,literal:t}}function M3e(){var e,t,n;for(t="",n="";ge<Vi&&(e=nt[ge],!!gw(e.charCodeAt(0)));)++ge,e==="\\"&&ge<Vi?en({},Hr,li):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&en({},hD,n),{value:n,literal:t}}function L3e(){var e,t,n,r;return xn=null,AQ(),e=ge,t=R3e(),n=M3e(),r=I3e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ge}}function P3e(e){return e.type===Vh||e.type===o0||e.type===FS||e.type===DS}function CQ(){if(AQ(),ge>=Vi)return{type:Oy,start:ge,end:ge};const e=nt.charCodeAt(ge);return Iy(e)?D3e():e===40||e===41||e===59?FT():e===39||e===34?$3e():e===46?$l(nt.charCodeAt(ge+1))?d9():FT():$l(e)?d9():FT()}function Ws(){const e=xn;return ge=e.end,xn=CQ(),ge=e.end,e}function kQ(){const e=ge;xn=CQ(),ge=e}function B3e(e){const t=new nu(u3e);return t.elements=e,t}function p9(e,t,n){const r=new nu(e==="||"||e==="&&"?d3e:l3e);return r.operator=e,r.left=t,r.right=n,r}function U3e(e,t){const n=new nu(c3e);return n.callee=e,n.arguments=t,n}function z3e(e,t,n){const r=new nu(f3e);return r.test=e,r.consequent=t,r.alternate=n,r}function H5(e){const t=new nu(bQ);return t.name=e,t}function jm(e){const t=new nu(h3e);return t.value=e.value,t.raw=nt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function g9(e,t,n){const r=new nu(p3e);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function W3e(e){const t=new nu(g3e);return t.properties=e,t}function m9(e,t,n){const r=new nu(m3e);return r.key=t,r.value=n,r.kind=e,r}function H3e(e,t){const n=new nu(x3e);return n.operator=e,n.argument=t,n.prefix=!0,n}function en(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,a)=>(NS(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=ge,n.description=i,n}function OS(e){e.type===Oy&&en(e,b3e),e.type===kd&&en(e,v3e),e.type===$y&&en(e,y3e),e.type===Vh&&en(e,_3e),e.type===o0&&en(e,E3e),en(e,Hr,e.value)}function ji(e){const t=Ws();(t.type!==Rs||t.value!==e)&&OS(t)}function On(e){return xn.type===Rs&&xn.value===e}function DT(e){return xn.type===o0&&xn.value===e}function V3e(){const e=[];for(ge=xn.start,ji("[");!On("]");)On(",")?(Ws(),e.push(null)):(e.push(jh()),On("]")||ji(","));return Ws(),B3e(e)}function x9(){ge=xn.start;const e=Ws();return e.type===$y||e.type===kd?(e.octal&&en(e,wQ),jm(e)):H5(e.value)}function j3e(){var e,t,n,r;if(ge=xn.start,e=xn,e.type===Vh)return n=x9(),ji(":"),r=jh(),m9("init",n,r);if(e.type===Oy||e.type===Rs)OS(e);else return t=x9(),ji(":"),r=jh(),m9("init",t,r)}function G3e(){var e=[],t,n,r,i={},s=String;for(ge=xn.start,ji("{");!On("}");)t=j3e(),t.key.type===bQ?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?en({},w3e):i[r]=!0,e.push(t),On("}")||ji(",");return ji("}"),W3e(e)}function q3e(){ji("(");const e=V5();return ji(")"),e}const X3e={if:1};function K3e(){var e,t,n;if(On("("))return q3e();if(On("["))return V3e();if(On("{"))return G3e();if(e=xn.type,ge=xn.start,e===Vh||X3e[xn.value])n=H5(Ws().value);else if(e===$y||e===kd)xn.octal&&en(xn,wQ),n=jm(Ws());else{if(e===o0)throw new Error(mv);e===FS?(t=Ws(),t.value=t.value==="true",n=jm(t)):e===DS?(t=Ws(),t.value=null,n=jm(t)):On("/")||On("/=")?(n=jm(L3e()),kQ()):OS(Ws())}return n}function Y3e(){const e=[];if(ji("("),!On(")"))for(;ge<Vi&&(e.push(jh()),!On(")"));)ji(",");return ji(")"),e}function J3e(){ge=xn.start;const e=Ws();return P3e(e)||OS(e),H5(e.value)}function Z3e(){return ji("."),J3e()}function Q3e(){ji("[");const e=V5();return ji("]"),e}function e4e(){var e,t,n;for(e=K3e();;)if(On("."))n=Z3e(),e=g9(".",e,n);else if(On("("))t=Y3e(),e=U3e(e,t);else if(On("["))n=Q3e(),e=g9("[",e,n);else break;return e}function v9(){const e=e4e();if(xn.type===Rs&&(On("++")||On("--")))throw new Error(mv);return e}function wE(){var e,t;if(xn.type!==Rs&&xn.type!==o0)t=v9();else{if(On("++")||On("--"))throw new Error(mv);if(On("+")||On("-")||On("~")||On("!"))e=Ws(),t=wE(),t=H3e(e.value,t);else{if(DT("delete")||DT("void")||DT("typeof"))throw new Error(mv);t=v9()}}return t}function y9(e){let t=0;if(e.type!==Rs&&e.type!==o0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function t4e(){var e,t,n,r,i,s,a,o,u,l;if(e=xn,u=wE(),r=xn,i=y9(r),i===0)return u;for(r.prec=i,Ws(),t=[e,xn],a=wE(),s=[u,r,a];(i=y9(xn))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)a=s.pop(),o=s.pop().value,u=s.pop(),t.pop(),n=p9(o,u,a),s.push(n);r=Ws(),r.prec=i,s.push(r),t.push(xn),n=wE(),s.push(n)}for(l=s.length-1,n=s[l],t.pop();l>1;)t.pop(),n=p9(s[l-1].value,s[l-2],n),l-=2;return n}function jh(){var e,t,n;return e=t4e(),On("?")&&(Ws(),t=jh(),ji(":"),n=jh(),e=z3e(e,t,n)),e}function V5(){const e=jh();if(On(","))throw new Error(mv);return e}function n4e(e){nt=e,ge=0,Vi=nt.length,xn=null,kQ();const t=V5();if(xn.type!==Oy)throw new Error("Unexpect token after expression.");return t}var TQ={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function FQ(e){function t(a,o,u,l){let c=e(o[0]);return u&&(c=u+"("+c+")",u.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+a+(l<0?"":l===0?"()":"("+o.slice(1).map(e).join(",")+")")}function n(a,o,u){return l=>t(a,l,o,u)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&he("Missing arguments to clamp function."),a.length>3&&he("Too many arguments to clamp function.");const o=a.map(e);return"Math.max("+o[1]+", Math.min("+o[2]+","+o[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:s,test:n("test",s),if:function(a){a.length<3&&he("Missing arguments to if function."),a.length>3&&he("Too many arguments to if function.");const o=a.map(e);return"("+o[0]+"?"+o[1]+":"+o[2]+")"}}}function r4e(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function i4e(e){e=e||{};const t=e.allowed?Aa(e.allowed):{},n=e.forbidden?Aa(e.forbidden):{},r=e.constants||TQ,i=(e.functions||FQ)(f),s=e.globalvar,a=e.fieldvar,o=Et(s)?s:p=>`${s}["${p}"]`;let u={},l={},c=0;function f(p){if(Ge(p))return p;const g=h[p.type];return g==null&&he("Unsupported type: "+p.type),g(p)}const h={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Ke(n,g)?he("Illegal identifier: "+g):Ke(r,g)?r[g]:Ke(t,g)?g:(u[g]=1,o(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const x=f(p.property);return m===a&&(l[r4e(x)]=1),g&&(c-=1),m+(g?"."+x:"["+x+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&he("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,x=Ke(i,g)&&i[g];return x||he("Unrecognized function: "+g),Et(x)?x(m):x+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function d(p){const g={code:f(p),globals:Object.keys(u),fields:Object.keys(l)};return u={},l={},g}return d.functions=i,d.constants=r,d}const s4e="Literal";var ll,a4e=1,o4e=2,u4e=3,l4e=4,c4e=5,f4e=6,h4e=7,d4e=8,p4e=9;ll={};ll[a4e]="Boolean";ll[o4e]="<end>";ll[u4e]="Identifier";ll[l4e]="Keyword";ll[c4e]="Null";ll[f4e]="Numeric";ll[h4e]="Punctuator";ll[d4e]="String";ll[p4e]="RegularExpression";const _9=Symbol("vega_selection_getter");function DQ(e){return(!e.getter||!e.getter[_9])&&(e.getter=lo(e.field),e.getter[_9]=!0),e.getter}const j5="intersect",E9="union",g4e="vlMulti",m4e="vlPoint",b9="or",x4e="and",Cu="_vgsid_",vv=lo(Cu),v4e="E",y4e="R",_4e="R-E",E4e="R-LE",b4e="R-RE",w4e="E-LT",A4e="E-LTE",S4e="E-GT",C4e="E-GTE",k4e="E-VALID",T4e="E-ONE",mw="index:unit";function w9(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,a,o;s<i;++s)if(o=n[s],a=DQ(o)(e),Ef(a)&&(a=Pi(a)),Ef(r[s])&&(r[s]=Pi(r[s])),_e(r[s])&&Ef(r[s][0])&&(r[s]=r[s].map(Pi)),o.type===v4e){if(_e(r[s])?!r[s].includes(a):a!==r[s])return!1}else if(o.type===y4e){if(!Cp(a,r[s]))return!1}else if(o.type===b4e){if(!Cp(a,r[s],!0,!1))return!1}else if(o.type===_4e){if(!Cp(a,r[s],!1,!1))return!1}else if(o.type===E4e){if(!Cp(a,r[s],!1,!0))return!1}else if(o.type===w4e){if(a>=r[s])return!1}else if(o.type===A4e){if(a>r[s])return!1}else if(o.type===S4e){if(a<=r[s])return!1}else if(o.type===C4e){if(a<r[s])return!1}else if(o.type===k4e){if(a===null||isNaN(a))return!1}else if(o.type===T4e&&r[s].indexOf(a)===-1)return!1;return!0}function F4e(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[mw]&&r[mw].value:void 0,a=n===j5,o=i.length,u=0,l,c,f,h,d;u<o;++u)if(l=i[u],s&&a){if(c=c||{},f=c[h=l.unit]||0,f===-1)continue;if(d=w9(t,l),c[h]=d?-1:++f,d&&s.size===1)return!0;if(!d&&f===s.get(h).count)return!1}else if(d=w9(t,l),a^d)return d;return o&&a}const NQ=s1(vv),D4e=NQ.left,N4e=NQ.right;function O4e(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[mw]&&r[mw].value:void 0,a=n===j5,o=vv(t),u=D4e(i,o);if(u===i.length||vv(i[u])!==o)return!1;if(s&&a){if(s.size===1)return!0;if(N4e(i,o)-u<s.size)return!1}return!0}function $4e(e,t){return e.map(n=>Ft(t.fields?{values:t.fields.map(r=>DQ(r)(n.datum))}:{[Cu]:vv(n.datum)},t))}function I4e(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],a={},o={},u={},l,c,f,h,d,p,g,m,x,y,v=s.length,_=0,E,w;_<v;++_)if(l=s[_],h=l.unit,c=l.fields,f=l.values,c&&f){for(E=0,w=c.length;E<w;++E)d=c[E],g=a[d.field]||(a[d.field]={}),m=g[h]||(g[h]=[]),u[d.field]=x=d.type.charAt(0),y=NT[`${x}_union`],g[h]=y(m,Xe(f[E]));n&&(m=o[h]||(o[h]=[]),m.push(Xe(f).reduce((b,S,A)=>(b[c[A].field]=S,b),{})))}else d=Cu,p=vv(l),g=a[d]||(a[d]={}),m=g[h]||(g[h]=[]),m.push(p),n&&(m=o[h]||(o[h]=[]),m.push({[Cu]:p}));if(t=t||E9,a[Cu]?a[Cu]=NT[`${Cu}_${t}`](...Object.values(a[Cu])):Object.keys(a).forEach(b=>{a[b]=Object.keys(a[b]).map(S=>a[b][S]).reduce((S,A)=>S===void 0?A:NT[`${u[b]}_${t}`](S,A))}),s=Object.keys(o),n&&s.length){const b=r?m4e:g4e;a[b]=t===E9?{[b9]:s.reduce((S,A)=>(S.push(...o[A]),S),[])}:{[x4e]:s.map(S=>({[b9]:o[S]}))}}return a}var NT={[`${Cu}_union`]:rde,[`${Cu}_intersect`]:tde,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Pi(t[0]),r=Pi(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Pi(t[0]),r=Pi(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const R4e=":",M4e="@";function G5(e,t,n,r){t[0].type!==s4e&&he("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&Kt(t).value,a="unit",o=M4e+a,u=R4e+i;s===j5&&!Ke(r,o)&&(r[o]=n.getData(i).indataRef(n,a)),Ke(r,u)||(r[u]=n.getData(i).tuplesRef())}function OQ(e){const t=this.context.data[e];return t?t.values.value:[]}function L4e(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function P4e(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(co).insert(t)),1}function B4e(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Ry=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},U4e=Ry("format"),$Q=Ry("timeFormat"),z4e=Ry("utcFormat"),W4e=Ry("timeParse"),H4e=Ry("utcParse"),c2=new Date(2e3,0,1);function $S(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(c2.setYear(2e3),c2.setMonth(e),c2.setDate(t),$Q.call(this,c2,n))}function V4e(e){return $S.call(this,e,1,"%B")}function j4e(e){return $S.call(this,e,1,"%b")}function G4e(e){return $S.call(this,0,2+e,"%A")}function q4e(e){return $S.call(this,0,2+e,"%a")}const X4e=":",K4e="@",pD="%",IQ="$";function q5(e,t,n,r){t[0].type!==Ng&&he("First argument to data functions must be a string literal.");const i=t[0].value,s=X4e+i;if(!Ke(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function Y4e(e,t,n,r){t[0].type!==Ng&&he("First argument to indata must be a string literal."),t[1].type!==Ng&&he("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,a=K4e+s;Ke(a,r)||(r[a]=n.getData(i).indataRef(n,s))}function Es(e,t,n,r){if(t[0].type===Ng)A9(n,r,t[0].value);else for(e in n.scales)A9(n,r,e)}function A9(e,t,n){const r=pD+n;if(!Ke(t,r))try{t[r]=e.scaleRef(n)}catch{}}function cl(e,t){if(Ge(e)){const n=t.scales[e];return n&&xB(n.value)?n.value:void 0}else if(Et(e))return xB(e)?e:void 0}function J4e(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Es,n._range=Es,n._scale=Es;const r=i=>"_["+(i.type===Ng?Me(pD+i.value):Me(pD)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function X5(e,t){return function(n,r,i){if(n){const s=cl(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const Z4e=X5("area",Zme),Q4e=X5("bounds",nxe),eDe=X5("centroid",uxe);function tDe(e,t){const n=cl(e,(t||this).context);return n&&n.scale()}function nDe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function K5(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function rDe(){return K5(this.context.dataflow,"warn",arguments)}function iDe(){return K5(this.context.dataflow,"info",arguments)}function sDe(){return K5(this.context.dataflow,"debug",arguments)}function OT(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function gD(e){const t=Of(e),n=OT(t.r),r=OT(t.g),i=OT(t.b);return .2126*n+.7152*r+.0722*i}function aDe(e,t){const n=gD(e),r=gD(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function oDe(){const e=[].slice.call(arguments);return e.unshift({}),Ft(...e)}function RQ(e,t){return e===t||e!==e&&t!==t?!0:_e(e)?_e(t)&&e.length===t.length?uDe(e,t):!1:qe(e)&&qe(t)?MQ(e,t):!1}function uDe(e,t){for(let n=0,r=e.length;n<r;++n)if(!RQ(e[n],t[n]))return!1;return!0}function MQ(e,t){for(const n in e)if(!RQ(e[n],t[n]))return!1;return!0}function S9(e){return t=>MQ(e,t)}function lDe(e,t,n,r,i,s){const a=this.context.dataflow,o=this.context.data[e],u=o.input,l=a.stamp();let c=o.changes,f,h;if(a._trigger===!1||!(u.value.length||t||r))return 0;if((!c||c.stamp<l)&&(o.changes=c=a.changeset(),c.stamp=l,a.runAfter(()=>{o.modified=!0,a.pulse(u,c).run()},!0,1)),n&&(f=n===!0?co:_e(n)||nS(n)?n:S9(n),c.remove(f)),t&&c.insert(t),r&&(f=S9(r),u.value.some(f)?c.remove(f):c.insert(r)),i)for(h in s)c.modify(i,h,s[h]);return 1}function cDe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function fDe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const C9={};function hDe(e,t){const n=C9[t]||(C9[t]=lo(t));return _e(e)?e.map(n):n(e)}function IS(e){return _e(e)||ArrayBuffer.isView(e)?e:null}function Y5(e){return IS(e)||(Ge(e)?e:null)}function dDe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return IS(e).join(...n)}function pDe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y5(e).indexOf(...n)}function gDe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y5(e).lastIndexOf(...n)}function mDe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y5(e).slice(...n)}function xDe(e,t,n){return Et(n)&&he("Function argument passed to replace."),!Ge(t)&&!_8(t)&&he("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function vDe(e){return IS(e).slice().reverse()}function yDe(e){return IS(e).slice().sort(d1)}function _De(e,t,n){return wO(e||0,t||0,n||0)}function EDe(e,t){const n=cl(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function bDe(e,t){const n=cl(e,(t||this).context);return n?n.copy():void 0}function wDe(e,t){const n=cl(e,(t||this).context);return n?n.domain():[]}function ADe(e,t,n){const r=cl(e,(n||this).context);return r?_e(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function SDe(e,t){const n=cl(e,(t||this).context);return n&&n.range?n.range():[]}function CDe(e,t,n){const r=cl(e,(n||this).context);return r?r(t):void 0}function kDe(e,t,n,r,i){e=cl(e,(i||this).context);const s=kJ(t,n);let a=e.domain(),o=a[0],u=Kt(a),l=Zi;return u-o?l=gJ(e,o,u):e=(e.interpolator?an("sequential")().interpolator(e.interpolator()):an("linear")().interpolate(e.interpolate()).range(e.range())).domain([o=0,u=1]),e.ticks&&(a=e.ticks(+r||15),o!==a[0]&&a.unshift(o),u!==Kt(a)&&a.push(u)),a.forEach(c=>s.stop(l(c),e(c))),s}function TDe(e,t,n){const r=cl(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function FDe(e){let t=null;return function(n){return n?hv(n,t=t||kg(e)):e}}const LQ=e=>e.data;function PQ(e,t){const n=OQ.call(t,e);return n.root&&n.root.lookup||{}}function DDe(e,t,n){const r=PQ(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(LQ):void 0}function NDe(e,t){const n=PQ(e,this)[t];return n?n.ancestors().map(LQ):void 0}const BQ=()=>typeof window<"u"&&window||null;function ODe(){const e=BQ();return e?e.screen:{}}function $De(){const e=BQ();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function IDe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function UQ(e,t,n){if(!e)return[];const[r,i]=e,s=new Er().set(r[0],r[1],i[0],i[1]),a=n||this.context.dataflow.scenegraph().root;return AZ(a,s,RDe(t))}function RDe(e){let t=null;if(e){const n=Xe(e.marktype),r=Xe(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function MDe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Xe(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function LDe(e){return Xe(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function PDe(e,t,n){const{x:r,y:i,mark:s}=n,a=new Er().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,l]of t)u<a.x1&&(a.x1=u),u>a.x2&&(a.x2=u),l<a.y1&&(a.y1=l),l>a.y2&&(a.y2=l);return a.translate(r,i),UQ([[a.x1,a.y1],[a.x2,a.y2]],e,s).filter(u=>BDe(u.x,u.y,t))}function BDe(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[a,o]=n[s],[u,l]=n[i];l>t!=o>t&&e<(a-u)*(t-l)/(o-l)+u&&r++}return r&1}const yv={random(){return ho()},cumulativeNormal:oS,cumulativeLogNormal:H8,cumulativeUniform:q8,densityNormal:P8,densityLogNormal:W8,densityUniform:G8,quantileNormal:uS,quantileLogNormal:V8,quantileUniform:X8,sampleNormal:aS,sampleLogNormal:z8,sampleUniform:j8,isArray:_e,isBoolean:a0,isDate:Ef,isDefined(e){return e!==void 0},isNumber:sn,isObject:qe,isRegExp:_8,isString:Ge,isTuple:nS,isValid(e){return e!=null&&e===e},toBoolean:b8,toDate(e){return w8(e)},toNumber:Pi,toString:A8,indexof:pDe,join:dDe,lastindexof:gDe,replace:xDe,reverse:vDe,sort:yDe,slice:mDe,flush:vK,lerp:_K,merge:oDe,pad:wK,peek:Kt,pluck:hDe,span:gy,inrange:Cp,truncate:AK,rgb:Of,lab:db,hcl:pb,hsl:fb,luminance:gD,contrast:aDe,sequence:ma,format:U4e,utcFormat:z4e,utcParse:H4e,utcOffset:VK,utcSequence:qK,timeFormat:$Q,timeParse:W4e,timeOffset:HK,timeSequence:GK,timeUnitSpecifier:OK,monthFormat:V4e,monthAbbrevFormat:j4e,dayFormat:G4e,dayAbbrevFormat:q4e,quarter:pK,utcquarter:gK,week:IK,utcweek:LK,dayofyear:$K,utcdayofyear:MK,warn:rDe,info:iDe,debug:sDe,extent(e){return Xu(e)},inScope:nDe,intersect:UQ,clampRange:mK,pinchDistance:cDe,pinchAngle:fDe,screen:ODe,containerSize:IDe,windowSize:$De,bandspace:_De,setdata:P4e,pathShape:FDe,panLinear:cK,panLog:fK,panPow:hK,panSymlog:dK,zoomLinear:g8,zoomLog:m8,zoomPow:Kb,zoomSymlog:x8,encode:B4e,modify:lDe,lassoAppend:MDe,lassoPath:LDe,intersectLasso:PDe},UDe=["view","item","group","xy","x","y"],zDe="event.vega.",zQ="this.",J5={},WQ={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Me(IQ+e)}]`,functions:WDe,constants:TQ,visitors:J5},mD=i4e(WQ);function WDe(e){const t=FQ(e);UDe.forEach(n=>t[n]=zDe+n);for(const n in yv)t[n]=zQ+n;return Ft(t,J4e(e,yv,J5)),t}function pr(e,t,n){return arguments.length===1?yv[e]:(yv[e]=t,n&&(J5[e]=n),mD&&(mD.functions[e]=zQ+e),this)}pr("bandwidth",EDe,Es);pr("copy",bDe,Es);pr("domain",wDe,Es);pr("range",SDe,Es);pr("invert",ADe,Es);pr("scale",CDe,Es);pr("gradient",kDe,Es);pr("geoArea",Z4e,Es);pr("geoBounds",Q4e,Es);pr("geoCentroid",eDe,Es);pr("geoShape",TDe,Es);pr("geoScale",tDe,Es);pr("indata",L4e,Y4e);pr("data",OQ,q5);pr("treePath",DDe,q5);pr("treeAncestors",NDe,q5);pr("vlSelectionTest",F4e,G5);pr("vlSelectionIdTest",O4e,G5);pr("vlSelectionResolve",I4e,G5);pr("vlSelectionTuples",$4e);function Yu(e,t){const n={};let r;try{e=Ge(e)?e:Me(e)+"",r=n4e(e)}catch{he("Expression parse error: "+e)}r.visit(s=>{if(s.type!==EQ)return;const a=s.callee.name,o=WQ.visitors[a];o&&o(a,s.arguments,t,n)});const i=mD(r);return i.globals.forEach(s=>{const a=IQ+s;!Ke(n,a)&&t.getSignal(s)&&(n[a]=t.signalRef(s))}),{$expr:Ft({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function HDe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const VDe=Aa(["rule"]),k9=Aa(["group","image","rect"]);function jDe(e,t){let n="";return VDe[t]||(e.x2&&(e.x?(k9[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(k9[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function Z5(e){return(e+"").toLowerCase()}function GDe(e){return Z5(e)==="operator"}function qDe(e){return Z5(e)==="collect"}function um(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function XDe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var KDe={operator:(e,t)=>um(e,["_"],t.code),parameter:(e,t)=>um(e,["datum","_"],t.code),event:(e,t)=>um(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return um(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const a="o["+Me(s)+"]";i+=`$=${r[s].code};if(${a}!==$)${a}=$,m=1;`}return i+=jDe(r,n),i+="return m;",um(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Me).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,a)=>{const o=t[a];let u,l;return s.path?(u=`a${s.path}`,l=`b${s.path}`):((n=n||{})["f"+a]=s,u=`this.f${a}(a)`,l=`this.f${a}(b)`),XDe(u,l,-o,o)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function YDe(e){const t=this;GDe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function JDe(e){const t=this;if(e.params){const n=t.get(e.id);n||he("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function ZDe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=_e(i)?i.map(s=>T9(s,n,t)):T9(i,n,t)}return t}function T9(e,t,n){if(!e||!qe(e))return e;for(let r=0,i=F9.length,s;r<i;++r)if(s=F9[r],Ke(e,s.key))return s.parse(e,t,n);return e}var F9=[{key:"$ref",parse:QDe},{key:"$key",parse:tNe},{key:"$expr",parse:eNe},{key:"$field",parse:nNe},{key:"$encode",parse:iNe},{key:"$compare",parse:rNe},{key:"$context",parse:sNe},{key:"$subflow",parse:aNe},{key:"$tupleid",parse:oNe}];function QDe(e,t){return t.get(e.$ref)||he("Operator not defined: "+e.$ref)}function eNe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=aa(t.parameterExpression(e.$expr),e.$fields))}function tNe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=E8(e.$key,e.$flat,t.expr.codegen))}function nNe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=lo(e.$field,e.$name,t.expr.codegen))}function rNe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Xe(e.$compare).map(i=>i&&i.$tupleid?ut:i);return t.fn[n]||(t.fn[n]=v8(r,e.$order,t.expr.codegen))}function iNe(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=aa(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function sNe(e,t){return t}function aNe(e,t){const n=e.$subflow;return function(r,i,s){const a=t.fork().parse(n),o=a.get(n.operators[0].id),u=a.signals.parent;return u&&u.set(s),o.detachSubflow=()=>t.detach(a),o}}function oNe(){return ut}function uNe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&he("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function lNe(e){var t=this,n=qe(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,a=void 0;r||he("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(a=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,a)}const cNe={skip:!0};function fNe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const a=t.signals[s];e.signals(s,a)&&(r[s]=a.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const a=t.data[s];e.data(s,a)&&(i[s]=a.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function hNe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],cNe)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(co).insert(r[s]))}),(e.subcontext||[]).forEach((s,a)=>{const o=t.subcontext[a];o&&o.setState(s)})}function HQ(e,t,n,r){return new VQ(e,t,n,r)}function VQ(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||KDe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function D9(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}VQ.prototype=D9.prototype={fork(){const e=new D9(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),qDe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const a=n.data[s]||(n.data[s]={});e.data[s].forEach(o=>a[o]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Z5(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:HDe,parseOperator:YDe,parseOperatorParameters:JDe,parseParameters:ZDe,parseStream:uNe,parseUpdate:lNe,getState:fNe,setState:hNe};function dNe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),jQ(t,e.description()))}function jQ(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function pNe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const $T="default";function gNe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:$T,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?Ge(i)?i:i.user:$T,a=r.item&&r.item.cursor||null;return i&&s===i.user&&a==i.item?i:{user:s,item:a}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ge(r)||(i=r.item,r=r.user),xD(e,r&&r!==$T?r:i||r),i},{cursor:t})}function xD(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function xw(e,t){var n=e._runtime.data;return Ke(n,t)||he("Unrecognized data set: "+t),n[t]}function mNe(e,t){return arguments.length<2?xw(this,e).values.value:RS.call(this,e,Sd().remove(co).insert(t))}function RS(e,t){dY(t)||he("Second argument to changes must be a changeset.");const n=xw(this,e);return n.modified=!0,this.pulse(n.input,t)}function xNe(e,t){return RS.call(this,e,Sd().insert(t))}function vNe(e,t){return RS.call(this,e,Sd().remove(t))}function GQ(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function qQ(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function MS(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function yNe(e){var t=MS(e),n=GQ(e),r=qQ(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function _Ne(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,a,o;return i&&(o=MS(e),a=t.changedTouches?t.changedTouches[0]:t,s=CS(a,i),s[0]-=o[0],s[1]-=o[1]),t.dataflow=e,t.item=n,t.vega=ENe(e,n,s),t}function ENe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(a){var o=r,u;if(a){for(u=t;u;u=u.mark.group)if(u.mark.name===a){o=u;break}}return o&&o.mark&&o.mark.interactive?o:{}}function s(a){if(!a)return n;Ge(a)&&(a=i(a));const o=n.slice();for(;a;)o[0]-=a.x||0,o[1]-=a.y||0,a=a.mark&&a.mark.group;return o}return{view:Qi(e),item:Qi(t||{}),group:i,xy:s,x:a=>s(a)[0],y:a=>s(a)[1]}}const N9="view",bNe="timer",wNe="window",ANe={trap:!1};function SNe(e){const t=Ft({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{_e(r[s])&&(r[s]=Aa(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function XQ(e,t,n,r){e._eventListeners.push({type:n,sources:Xe(t),handler:r})}function CNe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function f2(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||qe(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function kNe(e,t,n){var r=this,i=new sS(n),s=function(l,c){r.runAsync(null,()=>{e===N9&&CNe(r,t)&&l.preventDefault(),i.receive(_Ne(r,l,c))})},a;if(e===bNe)f2(r,"timer",t)&&r.timer(s,t);else if(e===N9)f2(r,"view",t)&&r.addEventListener(t,s,ANe);else if(e===wNe?f2(r,"window",t)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&f2(r,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),!a)r.warn("Can not resolve event source: "+e);else{for(var o=0,u=a.length;o<u;++o)a[o].addEventListener(t,s);XQ(r,a,t,s)}return i}function O9(e){return e.item}function $9(e){return e.item.mark.source}function I9(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function TNe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",O9),$9,I9(e)),this.on(this.events("view","pointerout",O9),$9,I9(t)),this}function FNe(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,a,o,u;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(a=r[i],s=a.sources.length;--s>=0;)a.sources[s].removeEventListener(a.type,a.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)u=n[i].type,o=n[i].handler,this._handler.off(u,o);return this}function Ea(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const DNe="vega-bind",NNe="vega-bind-name",ONe="vega-bind-radio";function $Ne(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:a=>{a!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,a)})}},r.debounce&&(i.update=y8(r.debounce,i.update))),(r.input==null&&r.element?INe:MNe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function INe(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),XQ(r,t,i,s),e.set=a=>{t.value=a,t.dispatchEvent(RNe(i))}}function RNe(e){return typeof Event<"u"?new Event(e):{type:e}}function MNe(e,t,n,r){const i=r.signal(n.signal),s=Ea("div",{class:DNe}),a=n.input==="radio"?s:s.appendChild(Ea("label"));a.appendChild(Ea("span",{class:NNe},n.name||n.signal)),t.appendChild(s);let o=LNe;switch(n.input){case"checkbox":o=PNe;break;case"select":o=BNe;break;case"radio":o=UNe;break;case"range":o=zNe;break}o(e,a,n,i)}function LNe(e,t,n,r){const i=Ea("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function PNe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=Ea("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=a=>s.checked=!!a||null}function BNe(e,t,n,r){const i=Ea("select",{name:n.signal}),s=n.labels||[];n.options.forEach((a,o)=>{const u={value:a};vw(a,r)&&(u.selected=!0),i.appendChild(Ea("option",u,(s[o]||a)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=a=>{for(let o=0,u=n.options.length;o<u;++o)if(vw(n.options[o],a)){i.selectedIndex=o;return}}}function UNe(e,t,n,r){const i=Ea("span",{class:ONe}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((a,o)=>{const u={type:"radio",name:n.signal,value:a};vw(a,r)&&(u.checked=!0);const l=Ea("input",u);l.addEventListener("change",()=>e.update(a));const c=Ea("label",{},(s[o]||a)+"");return c.prepend(l),i.appendChild(c),l}),e.set=a=>{const o=e.elements,u=o.length;for(let l=0;l<u;++l)vw(o[l].value,a)&&(o[l].checked=!0)}}function zNe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,a=n.step||Nf(s,i,100),o=Ea("input",{type:"range",name:n.signal,min:s,max:i,step:a});o.value=r;const u=Ea("span",{},+r);t.appendChild(o),t.appendChild(u);const l=()=>{u.textContent=o.value,e.update(+o.value)};o.addEventListener("input",l),o.addEventListener("change",l),e.elements=[o],e.set=c=>{o.value=c,u.textContent=c}}function vw(e,t){return e===t||e+""==t+""}function KQ(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,GQ(e),qQ(e),MS(e),i,s).background(e.background())}function Q5(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function WNe(e,t,n,r){const i=new r(e.loader(),Q5(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,MS(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function HNe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=kS(r);e=n._el=e?IT(n,e,!0):null,dNe(n),s||n.error("Unrecognized renderer type: "+r);const a=s.handler||Ny,o=e?s.renderer:s.headless;return n._renderer=o?KQ(n,n._renderer,e,o):null,n._handler=WNe(n,n._handler,e,a),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=IT(n,t,!0):e.appendChild(Ea("form",{class:"vega-bindings"})),n._bind.forEach(u=>{u.param.element&&i!=="container"&&(u.element=IT(n,u.param.element,!!u.param.input))}),n._bind.forEach(u=>{$Ne(n,u.element||t,u)})),n}function IT(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const lm=e=>+e||0,VNe=e=>({top:e,bottom:e,left:e,right:e});function R9(e){return qe(e)?{top:lm(e.top),bottom:lm(e.bottom),left:lm(e.left),right:lm(e.right)}:VNe(lm(e))}async function e$(e,t,n,r){const i=kS(t),s=i&&i.headless;return s||he("Unrecognized renderer type: "+t),await e.runAsync(),KQ(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function jNe(e,t){e!==ff.Canvas&&e!==ff.SVG&&e!==ff.PNG&&he("Unrecognized image type: "+e);const n=await e$(this,e,t);return e===ff.SVG?GNe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function GNe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function qNe(e,t){return(await e$(this,ff.Canvas,e,t)).canvas()}async function XNe(e){return(await e$(this,ff.SVG,e)).svg()}function KNe(e,t,n){return HQ(e,wg,yv,n).parse(t)}function YNe(e){var t=this._runtime.scales;return Ke(t,e)||he("Unrecognized scale or projection: "+e),t[e].value}var YQ="width",JQ="height",t$="padding",M9={skip:!0};function ZQ(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===t$?r.left+r.right:0)}function QQ(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===t$?r.top+r.bottom:0)}function JNe(e){var t=e._signals,n=t[YQ],r=t[JQ],i=t[t$];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,o=>{e._width=o.size,e._viewWidth=ZQ(e,o.size),s()},{size:n}),e._resizeHeight=e.add(null,o=>{e._height=o.size,e._viewHeight=QQ(e,o.size),s()},{size:r});const a=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}function ZNe(e,t,n,r,i,s){this.runAfter(a=>{let o=0;a._autosize=0,a.width()!==n&&(o=1,a.signal(YQ,n,M9),a._resizeWidth.skip(!0)),a.height()!==r&&(o=1,a.signal(JQ,r,M9),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),(a._origin[0]!==i[0]||a._origin[1]!==i[1])&&(a._resize=1,a._origin=i),o&&a.run("enter"),s&&a.runAfter(u=>u.resize())},!1,1)}function QNe(e){return this._runtime.getState(e||{data:e6e,signals:t6e,recurse:!0})}function e6e(e,t){return t.modified&&_e(t.input.value)&&!e.startsWith("_:vega:_")}function t6e(e,t){return!(e==="parent"||t instanceof wg.proxy)}function n6e(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function r6e(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(Cge(n,t))}function i6e(e,t,n,r){const i=e.element();i&&i.setAttribute("title",s6e(r))}function s6e(e){return e==null?"":_e(e)?eee(e):qe(e)&&!Ef(e)?a6e(e):e+""}function a6e(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(_e(n)?eee(n):tee(n))}).join(`
`)}function eee(e){return"["+e.map(tee).join(", ")+"]"}function tee(e){return _e(e)?"[]":qe(e)&&!Ef(e)?"{}":e}function o6e(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function nee(e,t){const n=this;if(t=t||{},Hp.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=Ft({},e.locale,t.locale);n.locale(rY(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||ff.Canvas,n._scenegraph=new JJ;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||i6e,n._redraw=!0,n._handler=new Ny().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=SNe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=KNe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:Ft({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=ZQ(n,n._width),n._viewHeight=QQ(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,JNe(n),pNe(n),gNe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function h2(e,t){return Ke(e._signals,t)?e._signals[t]:he("Unrecognized signal name: "+Me(t))}function ree(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function L9(e,t,n,r){let i=ree(n,r);return i||(i=Q5(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function P9(e,t,n){const r=ree(t,n);return r&&t._targets.remove(r),e}Ue(nee,Hp,{async evaluate(e,t,n){if(await Hp.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,yNe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&cE(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&jQ(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=h2(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",R9(e)):R9(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(kS(e)||he("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Hp.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(h2(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:ZNe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=Q5(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return L9(this,e,h2(this,e),t)},removeSignalListener(e,t){return P9(this,h2(this,e),t)},addDataListener(e,t){return L9(this,e,xw(this,e).values,t)},removeDataListener(e,t){return P9(this,xw(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=xD(this,null);this._globalCursor=!!e,t&&xD(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:r6e,events:kNe,finalize:FNe,hover:TNe,data:mNe,change:RS,insert:xNe,remove:vNe,scale:YNe,initialize:HNe,toImageURL:jNe,toCanvas:qNe,toSVG:XNe,getState:QNe,setState:n6e,_watchPixelRatio:o6e});const u6e="view",yw="[",_w="]",iee="{",see="}",l6e=":",aee=",",c6e="@",f6e=">",h6e=/[[\]{}]/,d6e={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let oee,uee;function u0(e,t,n){return oee=t||u6e,uee=n||d6e,lee(e.trim()).map(vD)}function p6e(e){return uee[e]}function xx(e,t,n,r,i){const s=e.length;let a=0,o;for(;t<s;++t){if(o=e[t],!a&&o===n)return t;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return t}function lee(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=xx(e,i,aee,yw+iee,_w+see),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function vD(e){return e[0]==="["?g6e(e):m6e(e)}function g6e(e){const t=e.length;let n=1,r;if(n=xx(e,n,_w,yw,_w),n===t)throw"Empty between selector: "+e;if(r=lee(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==f6e)throw"Expected '>' after between selector: "+e;r=r.map(vD);const i=vD(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function m6e(e){const t={source:oee},n=[];let r=[0,0],i=0,s=0,a=e.length,o=0,u,l;if(e[a-1]===see){if(o=e.lastIndexOf(iee),o>=0){try{r=x6e(e.substring(o+1,a-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,o).trim(),a=e.length}else throw"Unmatched right brace: "+e;o=0}if(!a)throw e;if(e[0]===c6e&&(i=++o),u=xx(e,o,l6e),u<a&&(n.push(e.substring(s,u).trim()),s=o=++u),o=xx(e,o,yw),o===a)n.push(e.substring(s,a).trim());else if(n.push(e.substring(s,o).trim()),l=[],s=++o,s===a)throw"Unmatched left bracket: "+e;for(;o<a;){if(o=xx(e,o,_w),o===a)throw"Unmatched left bracket: "+e;if(l.push(e.substring(s,o).trim()),o<a-1&&e[++o]!==yw)throw"Expected left bracket: "+e;s=++o}if(!(a=n.length)||h6e.test(n[a-1]))throw"Invalid event selector: "+e;return a>1?(t.type=n[1],i?t.markname=n[0].slice(1):p6e(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),l!=null&&(t.filter=l),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function x6e(e){const t=e.split(aee);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function v6e(e){return qe(e)?e:{type:e||"pad"}}const cm=e=>+e||0,y6e=e=>({top:e,bottom:e,left:e,right:e});function _6e(e){return qe(e)?e.signal?e:{top:cm(e.top),bottom:cm(e.bottom),left:cm(e.left),right:cm(e.right)}:y6e(cm(e))}const Vr=e=>qe(e)&&!_e(e)?Ft({},e):{value:e};function B9(e,t,n,r){return n!=null?(qe(n)&&!_e(n)||_e(n)&&n.length&&qe(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function gi(e,t,n){for(const r in t)B9(e,r,t[r]);for(const r in n)B9(e,r,n[r],"update")}function E1(e,t,n){for(const r in t)n&&Ke(n,r)||(e[r]=Ft(e[r]||{},t[r]));return e}function xp(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const n$="mark",r$="frame",i$="scope",E6e="axis",b6e="axis-domain",w6e="axis-grid",A6e="axis-label",S6e="axis-tick",C6e="axis-title",k6e="legend",T6e="legend-band",F6e="legend-entry",D6e="legend-gradient",cee="legend-label",N6e="legend-symbol",O6e="legend-title",$6e="title",I6e="title-text",R6e="title-subtitle";function M6e(e,t,n,r,i){const s={},a={};let o,u,l,c;u="lineBreak",t==="text"&&i[u]!=null&&!xp(u,e)&&RT(s,u,i[u]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===r$?i.group:n===n$?Ft({},i.mark,i[t]):null;for(u in c)l=xp(u,e)||(u==="fill"||u==="stroke")&&(xp("fill",e)||xp("stroke",e)),l||RT(s,u,c[u]);Xe(r).forEach(f=>{const h=i.style&&i.style[f];for(const d in h)xp(d,e)||RT(s,d,h[d])}),e=Ft({},e);for(u in s)c=s[u],c.signal?(o=o||{})[u]=c:a[u]=c;return e.enter=Ft(a,e.enter),o&&(e.update=Ft(o,e.update)),e}function RT(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const fee=e=>Ge(e)?Me(e):e.signal?`(${e.signal})`:hee(e);function LS(e){if(e.gradient!=null)return P6e(e);let t=e.signal?`(${e.signal})`:e.color?L6e(e.color):e.field!=null?hee(e.field):e.value!==void 0?Me(e.value):void 0;return e.scale!=null&&(t=B6e(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${AE(e.exponent)})`),e.mult!=null&&(t+=`*${AE(e.mult)}`),e.offset!=null&&(t+=`+${AE(e.offset)}`),e.round&&(t=`round(${t})`),t}const d2=(e,t,n,r)=>`(${e}(${[t,n,r].map(LS).join(",")})+'')`;function L6e(e){return e.c?d2("hcl",e.h,e.c,e.l):e.h||e.s?d2("hsl",e.h,e.s,e.l):e.l||e.a?d2("lab",e.l,e.a,e.b):e.r||e.g||e.b?d2("rgb",e.r,e.g,e.b):null}function P6e(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Me(n));for(;t.length&&Kt(t)==null;)t.pop();return t.unshift(fee(e.gradient)),`gradient(${t.join(",")})`}function AE(e){return qe(e)?"("+LS(e)+")":e}function hee(e){return dee(qe(e)?e:{datum:e})}function dee(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):he("Invalid field reference: "+Me(e));return e.signal||(r=Ge(r)?al(r).map(Me).join("]["):dee(r)),t+"["+r+"]"}function B6e(e,t){const n=fee(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+AE(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function U6e(e){let t="";return e.forEach(n=>{const r=LS(n);t+=n.test?`(${n.test})?${r}:`:r}),Kt(t)===":"&&(t+="null"),t}function pee(e,t,n,r,i,s){const a={};s=s||{},s.encoders={$encode:a},e=M6e(e,t,n,r,i.config);for(const o in e)a[o]=z6e(e[o],t,s,i);return s}function z6e(e,t,n,r){const i={},s={};for(const a in e)e[a]!=null&&(i[a]=H6e(W6e(e[a]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function W6e(e){return _e(e)?U6e(e):LS(e)}function H6e(e,t,n,r){const i=Yu(e,t);return i.$fields.forEach(s=>r[s]=1),Ft(n,i.$params),i.$expr}const V6e="outer",j6e=["value","update","init","react","bind"];function U9(e,t){he(e+' for "outer" push: '+Me(t))}function gee(e,t){const n=e.name;if(e.push===V6e)t.signals[n]||U9("No prior signal definition",n),j6e.forEach(r=>{e[r]!==void 0&&U9("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function yD(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function PS(e,t,n,r){return new yD(e,t,n,r)}function Ew(e,t){return PS("operator",e,t)}function ot(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function _v(e,t){return t?{$field:e,$name:t}:{$field:e}}const _D=_v("key");function z9(e,t){return{$compare:e,$order:t}}function G6e(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const q6e="ascending",X6e="descending";function K6e(e){return qe(e)?(e.order===X6e?"-":"+")+BS(e.op,e.field):""}function BS(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const s$="scope",ED="view";function Ir(e){return e&&e.signal}function Y6e(e){return e&&e.expr}function SE(e){if(Ir(e))return!0;if(qe(e)){for(const t in e)if(SE(e[t]))return!0}return!1}function Oo(e,t){return e??t}function mh(e){return e&&e.signal||e}const W9="timer";function Ev(e,t){return(e.merge?Z6e:e.stream?Q6e:e.type?e8e:he("Invalid stream specification: "+Me(e)))(e,t)}function J6e(e){return e===s$?ED:e||ED}function Z6e(e,t){const n=e.merge.map(i=>Ev(i,t)),r=a$({merge:n},e,t);return t.addStream(r).id}function Q6e(e,t){const n=Ev(e.stream,t),r=a$({stream:n},e,t);return t.addStream(r).id}function e8e(e,t){let n;e.type===W9?(n=t.event(W9,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(J6e(e.source),e.type);const r=a$({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function a$(e,t,n){let r=t.between;return r&&(r.length!==2&&he('Stream "between" parameter must have 2 entries: '+Me(t)),e.between=[Ev(r[0],n),Ev(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(t8e(t.marktype,t.markname,t.markrole)),t.source===s$&&r.push("inScope(event.item)"),r.length&&(e.filter=Yu("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function t8e(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const n8e={code:"_.$value",ast:{type:"Identifier",value:"value"}};function r8e(e,t,n){const r=e.encode,i={target:n};let s=e.events,a=e.update,o=[];s||he("Signal update missing events specification."),Ge(s)&&(s=u0(s,t.isSubscope()?s$:ED)),s=Xe(s).filter(u=>u.signal||u.scale?(o.push(u),0):1),o.length>1&&(o=[s8e(o)]),s.length&&o.push(s.length>1?{merge:s}:s[0]),r!=null&&(a&&he("Signal encode and update are mutually exclusive."),a="encode(item(),"+Me(r)+")"),i.update=Ge(a)?Yu(a,t):a.expr!=null?Yu(a.expr,t):a.value!=null?a.value:a.signal!=null?{$expr:n8e,$params:{$value:t.signalRef(a.signal)}}:he("Invalid signal update specification."),e.force&&(i.options={force:!0}),o.forEach(u=>t.addUpdate(Ft(i8e(u,t),i)))}function i8e(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Ev(e,t)}}function s8e(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function a8e(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?he("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Yu(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>r8e(i,t,n.id))}const kn=e=>(t,n,r)=>PS(e,n,t||void 0,r),mee=kn("aggregate"),o8e=kn("axisticks"),xee=kn("bound"),ru=kn("collect"),H9=kn("compare"),u8e=kn("datajoin"),vee=kn("encode"),l8e=kn("expression"),c8e=kn("facet"),f8e=kn("field"),h8e=kn("key"),d8e=kn("legendentries"),p8e=kn("load"),g8e=kn("mark"),m8e=kn("multiextent"),x8e=kn("multivalues"),v8e=kn("overlap"),y8e=kn("params"),yee=kn("prefacet"),_8e=kn("projection"),E8e=kn("proxy"),b8e=kn("relay"),_ee=kn("render"),w8e=kn("scale"),Td=kn("sieve"),A8e=kn("sortitems"),Eee=kn("viewlayout"),S8e=kn("values");let C8e=0;const bee={min:"min",max:"max",count:"sum"};function k8e(e,t){const n=e.type||"linear";lJ(n)||he("Unrecognized scale type: "+Me(n)),t.addScale(e.name,{type:n,domain:void 0})}function T8e(e,t){const n=t.getScale(e.name).params;let r;n.domain=wee(e.domain,e,t),e.range!=null&&(n.range=See(e,t,n)),e.interpolate!=null&&P8e(e.interpolate,n),e.nice!=null&&(n.nice=L8e(e.nice,t)),e.bins!=null&&(n.bins=M8e(e.bins,t));for(r in e)Ke(n,r)||r==="name"||(n[r]=eo(e[r],t))}function eo(e,t){return qe(e)?e.signal?t.signalRef(e.signal):he("Unsupported object: "+Me(e)):e}function CE(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>eo(n,t))}function US(e){he("Can not find data set: "+Me(e))}function wee(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&he("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(_e(e)?F8e:e.fields?N8e:D8e)(e,t,n)}function F8e(e,t,n){return e.map(r=>eo(r,n))}function D8e(e,t,n){const r=n.getData(e.data);return r||US(e.data),Cg(t.type)?r.valuesRef(n,e.field,Aee(e.sort,!1)):hJ(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function N8e(e,t,n){const r=e.data,i=e.fields.reduce((s,a)=>(a=Ge(a)?{data:r,field:a}:_e(a)||a.signal?O8e(a,n):a,s.push(a),s),[]);return(Cg(t.type)?$8e:hJ(t.type)?I8e:R8e)(e,n,i)}function O8e(e,t){const n="_:vega:_"+C8e++,r=ru({});if(_e(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Me(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Td({})]),{data:n,field:"data"}}function $8e(e,t,n){const r=Aee(e.sort,!0);let i,s;const a=n.map(l=>{const c=t.getData(l.data);return c||US(l.data),c.countsRef(t,l.field,r)}),o={groupby:_D,pulse:a};r&&(i=r.op||"count",s=r.field?BS(i,r.field):"count",o.ops=[bee[i]],o.fields=[t.fieldRef(s)],o.as=[s]),i=t.add(mee(o));const u=t.add(ru({pulse:ot(i)}));return s=t.add(S8e({field:_D,sort:t.sortRef(r),pulse:ot(u)})),ot(s)}function Aee(e,t){return e&&(!e.field&&!e.op?qe(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?he("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!bee[e.op]&&he("Multiple domain scales can not be sorted using "+e.op)),e}function I8e(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||US(i.data),s.domainRef(t,i.field)});return ot(t.add(x8e({values:r})))}function R8e(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||US(i.data),s.extentRef(t,i.field)});return ot(t.add(m8e({extents:r})))}function M8e(e,t){return e.signal||_e(e)?CE(e,t):t.objectProperty(e)}function L8e(e,t){return e.signal?t.signalRef(e.signal):qe(e)?{interval:eo(e.interval),step:eo(e.step)}:eo(e)}function P8e(e,t){t.interpolate=eo(e.type||e),e.gamma!=null&&(t.interpolateGamma=eo(e.gamma))}function See(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ge(i)){if(r&&Ke(r,i))return e=Ft({},e,{range:r[i]}),See(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Cg(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:he("Unrecognized scale range value: "+Me(i))}else if(i.scheme){n.scheme=_e(i.scheme)?CE(i.scheme,t):eo(i.scheme,t),i.extent&&(n.schemeExtent=CE(i.extent,t)),i.count&&(n.schemeCount=eo(i.count,t));return}else if(i.step){n.rangeStep=eo(i.step,t);return}else{if(Cg(e.type)&&!_e(i))return wee(i,e,t);_e(i)||he("Unsupported range type: "+Me(i))}return i.map(s=>(_e(s)?CE:eo)(s,t))}function B8e(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=bD(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=bD(n[i],i,t));t.addProjection(e.name,r)}function bD(e,t,n){return _e(e)?e.map(r=>bD(r,t,n)):qe(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:he("Unsupported parameter object: "+Me(e)):e}const iu="top",b1="left",w1="right",Bf="bottom",Cee="center",U8e="vertical",z8e="start",W8e="middle",H8e="end",wD="index",o$="label",V8e="offset",Og="perc",j8e="perc2",io="value",My="guide-label",u$="guide-title",G8e="group-title",q8e="group-subtitle",V9="symbol",kE="gradient",AD="discrete",SD="size",X8e="shape",K8e="fill",Y8e="stroke",J8e="strokeWidth",Z8e="strokeDash",Q8e="opacity",l$=[SD,X8e,K8e,Y8e,J8e,Z8e,Q8e],Ly={name:1,style:1,interactive:1},Zt={value:0},so={value:1},zS="group",kee="rect",c$="rule",eOe="symbol",Fd="text";function bv(e){return e.type=zS,e.interactive=e.interactive||!1,e}function oa(e,t){const n=(r,i)=>Oo(e[r],Oo(t[r],i));return n.isVertical=r=>U8e===Oo(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Oo(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Oo(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Oo(e.columns,Oo(t.columns,+n.isVertical(!0))),n}function Tee(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function tOe(e,t,n){const r=t.config.style[n];return r&&r[e]}function WS(e,t,n){return`item.anchor === '${z8e}' ? ${e} : item.anchor === '${H8e}' ? ${t} : ${n}`}const f$=WS(Me(b1),Me(w1),Me(Cee));function nOe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},qe(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function Fee(e,t){return t?e?qe(e)?Object.assign({},e,{offset:Fee(e.offset,t)}):{value:e,offset:t}:t:e}function Ta(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=E1(e.encode,t,Ly)):e.interactive=!1,e}function rOe(e,t,n,r){const i=oa(e,n),s=i.isVertical(),a=i.gradientThickness(),o=i.gradientLength();let u,l,c,f,h;s?(l=[0,1],c=[0,0],f=a,h=o):(l=[0,0],c=[1,0],f=o,h=a);const d={enter:u={opacity:Zt,x:Zt,y:Zt,width:Vr(f),height:Vr(h)},update:Ft({},u,{opacity:so,fill:{gradient:t,start:l,stop:c}}),exit:{opacity:Zt}};return gi(d,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Ta({type:kee,role:D6e,encode:d},r)}function iOe(e,t,n,r,i){const s=oa(e,n),a=s.isVertical(),o=s.gradientThickness(),u=s.gradientLength();let l,c,f,h,d="";a?(l="y",f="y2",c="x",h="width",d="1-"):(l="x",f="x2",c="y",h="height");const p={opacity:Zt,fill:{scale:t,field:io}};p[l]={signal:d+"datum."+Og,mult:u},p[c]=Zt,p[f]={signal:d+"datum."+j8e,mult:u},p[h]=Vr(o);const g={enter:p,update:Ft({},p,{opacity:so}),exit:{opacity:Zt}};return gi(g,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),Ta({type:kee,role:T6e,key:io,from:i,encode:g},r)}const sOe=`datum.${Og}<=0?"${b1}":datum.${Og}>=1?"${w1}":"${Cee}"`,aOe=`datum.${Og}<=0?"${Bf}":datum.${Og}>=1?"${iu}":"${W8e}"`;function j9(e,t,n,r){const i=oa(e,t),s=i.isVertical(),a=Vr(i.gradientThickness()),o=i.gradientLength();let u=i("labelOverlap"),l,c,f,h,d="";const p={enter:l={opacity:Zt},update:c={opacity:so,text:{field:o$}},exit:{opacity:Zt}};return gi(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Oo(e.labelLimit,t.gradientLabelLimit)}),s?(l.align={value:"left"},l.baseline=c.baseline={signal:aOe},f="y",h="x",d="1-"):(l.align=c.align={signal:sOe},l.baseline={value:"top"},f="x",h="y"),l[f]=c[f]={signal:d+"datum."+Og,mult:o},l[h]=c[h]=a,a.offset=Oo(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:i("labelSeparation"),method:u,order:"datum."+wD}:void 0,Ta({type:Fd,role:cee,style:My,key:io,from:r,encode:p,overlap:u},n)}function oOe(e,t,n,r,i){const s=oa(e,t),a=n.entries,o=!!(a&&a.interactive),u=a?a.name:void 0,l=s("clipHeight"),c=s("symbolOffset"),f={data:"value"},h=`(${i}) ? datum.${V8e} : datum.${SD}`,d=l?Vr(l):{field:SD},p=`datum.${wD}`,g=`max(1, ${i})`;let m,x,y,v,_;d.mult=.5,m={enter:x={opacity:Zt,x:{signal:h,mult:.5,offset:c},y:d},update:y={opacity:so,x:x.x,y:x.y},exit:{opacity:Zt}};let E=null,w=null;e.fill||(E=t.symbolBaseFillColor,w=t.symbolBaseStrokeColor),gi(m,{fill:s("symbolFillColor",E),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",w),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),l$.forEach(C=>{e[C]&&(y[C]=x[C]={scale:e[C],field:io})});const b=Ta({type:eOe,role:N6e,key:io,from:f,clip:l?!0:void 0,encode:m},n.symbols),S=Vr(c);S.offset=s("labelOffset"),m={enter:x={opacity:Zt,x:{signal:h,offset:S},y:d},update:y={opacity:so,text:{field:o$},x:x.x,y:x.y},exit:{opacity:Zt}},gi(m,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const A=Ta({type:Fd,role:cee,style:My,key:io,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!l},width:Zt,height:l?Vr(l):Zt,opacity:Zt},exit:{opacity:Zt},update:y={opacity:so,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(v=`ceil(item.mark.items.length / ${g})`,y.row.signal=`${p}%${v}`,y.column.signal=`floor(${p} / ${v})`,_={field:["row",p]}):(y.row.signal=`floor(${p} / ${g})`,y.column.signal=`${p} % ${g}`,_={field:p}),y.column.signal=`(${i})?${y.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:wD}},bv({role:i$,from:r,encode:E1(m,a,Ly),marks:[b,A],name:u,interactive:o,sort:_})}function uOe(e,t){const n=oa(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const h$='item.orient === "left"',d$='item.orient === "right"',HS=`(${h$} || ${d$})`,lOe=`datum.vgrad && ${HS}`,cOe=WS('"top"','"bottom"','"middle"'),fOe=WS('"right"','"left"','"center"'),hOe=`datum.vgrad && ${d$} ? (${fOe}) : (${HS} && !(datum.vgrad && ${h$})) ? "left" : ${f$}`,dOe=`item._anchor || (${HS} ? "middle" : "start")`,pOe=`${lOe} ? (${h$} ? -90 : 90) : 0`,gOe=`${HS} ? (datum.vgrad ? (${d$} ? "bottom" : "top") : ${cOe}) : "top"`;function mOe(e,t,n,r){const i=oa(e,t),s={enter:{opacity:Zt},update:{opacity:so,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Zt}};return gi(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:dOe},angle:{signal:pOe},align:{signal:hOe},baseline:{signal:gOe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Ta({type:Fd,role:O6e,style:u$,from:r,encode:s},n)}function xOe(e,t){let n;return qe(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+G9(e.path)+")":e.sphere&&(n="geoShape("+G9(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function G9(e){return qe(e)&&e.signal?e.signal:Me(e)}function Dee(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===zS?i$:t||n$}function vOe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Dee(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function yOe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function p$(e,t){const n=mY(e.type);n||he("Unrecognized transform type: "+Me(e.type));const r=PS(n.type.toLowerCase(),null,Nee(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Nee(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const a=e.params[s];r[a.name]=_Oe(a,t,n)}return r}function _Oe(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return EOe(e,t,n);if(i===void 0){e.required&&he("Missing required "+Me(t.type)+" parameter: "+Me(e.name));return}else{if(r==="param")return bOe(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Ir(i)?i.map(s=>q9(e,s,n)):q9(e,i,n)}function q9(e,t,n){const r=e.type;if(Ir(t))return K9(r)?he("Expression references can not be signals."):MT(r)?n.fieldRef(t):Y9(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||MT(r);return i&&wOe(t)?n.exprRef(t.expr,t.as):i&&AOe(t)?_v(t.field,t.as):K9(r)?Yu(t,n):SOe(r)?ot(n.getData(t).values):MT(r)?_v(t):Y9(r)?n.compareRef(t):t}}function EOe(e,t,n){return Ge(t.from)||he('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function bOe(e,t,n){const r=t[e.name];return e.array?(_e(r)||he("Expected an array of sub-parameters. Instead: "+Me(r)),r.map(i=>X9(e,i,n))):X9(e,r,n)}function X9(e,t,n){const r=e.params.length;let i;for(let a=0;a<r;++a){i=e.params[a];for(const o in i.key)if(i.key[o]!==t[o]){i=null;break}if(i)break}i||he("Unsupported parameter: "+Me(t));const s=Ft(Nee(i,t,n),i.key);return ot(n.add(y8e(s)))}const wOe=e=>e&&e.expr,AOe=e=>e&&e.field,SOe=e=>e==="data",K9=e=>e==="expr",MT=e=>e==="field",Y9=e=>e==="compare";function COe(e,t,n){let r,i,s,a,o;return e?(r=e.facet)&&(t||he("Only group marks can be faceted."),r.field!=null?a=o=TE(r,n):(e.data?o=ot(n.getData(e.data).aggregate):(s=p$(Ft({type:"aggregate",groupby:Xe(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=TE(r,n),a=o=ot(n.add(s))),i=n.keyRef(r.groupby,!0))):a=ot(n.add(ru(null,[{}]))),a||(a=TE(e,n)),{key:i,pulse:a,parent:o}}function TE(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:ot(t.getData(e.data).output)}function Gh(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Gh.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],a=null,o=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);o<n;++o)t[o].params.pulse=ot(t[o-1]),e.add(t[o]),t[o].type==="aggregate"&&(a=t[o]);return new Gh(e,s,i,r,a)};function Oee(e){return Ge(e)?e:null}function J9(e,t,n){const r=BS(n.op,n.field);let i;if(t.ops){for(let s=0,a=t.as.length;s<a;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function fm(e,t,n,r,i,s,a){const o=t[n]||(t[n]={}),u=K6e(s);let l=Oee(i),c,f;if(l!=null&&(e=t.scope,l=l+(u?"|"+u:""),c=o[l]),!c){const h=s?{field:_D,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:ot(t.output)};u&&(h.sort=e.sortRef(s)),f=e.add(PS(r,void 0,h)),a&&(t.index[i]=f),c=ot(f),l!=null&&(o[l]=c)}return c}Gh.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=Oee(t);let a,o,u;return s!=null&&(e=r.scope,a=i[s]),a?n&&n.field&&J9(e,a.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:ot(r.output)},n&&n.field&&J9(e,u,n),o=e.add(mee(u)),a=e.add(ru({pulse:ot(o)})),a={agg:o,ref:ot(a)},s!=null&&(i[s]=a)),a.ref},tuplesRef(){return ot(this.values)},extentRef(e,t){return fm(e,this,"extent","extent",t,!1)},domainRef(e,t){return fm(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return fm(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return fm(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return fm(e,this,"indata","tupleindex",t,!0,!0)}};function kOe(e,t,n){const r=e.from.facet,i=r.name,s=TE(r,t);let a;r.name||he("Facet must have a name: "+Me(r)),r.data||he("Facet must reference a data set: "+Me(r)),r.field?a=t.add(yee({field:t.fieldRef(r.field),pulse:s})):r.groupby?a=t.add(c8e({key:t.keyRef(r.groupby),group:ot(t.proxy(n.parent)),pulse:s})):he("Facet must specify groupby or field: "+Me(r));const o=t.fork(),u=o.add(ru()),l=o.add(Td({pulse:ot(u)}));o.addData(i,new Gh(o,u,u,l)),o.addSignal("parent",null),a.params.subflow={$subflow:o.parse(e).toRuntime()}}function TOe(e,t,n){const r=t.add(yee({pulse:n.pulse})),i=t.fork();i.add(Td()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function $ee(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,a=e.modify,o=e.values,u=t.add(Ew()),l="if("+e.trigger+',modify("'+n+'",'+[i,r,s,a,o].map(f=>f??"null").join(",")+"),0)",c=Yu(l,t);u.update=c.$expr,u.params=c.$params}function VS(e,t){const n=Dee(e),r=e.type===zS,i=e.from&&e.from.facet,s=e.overlap;let a=e.layout||n===i$||n===r$,o,u,l,c,f,h,d;const p=n===n$||a||i,g=COe(e.from,r,t);u=t.add(u8e({key:g.key||(e.key?_v(e.key):void 0),pulse:g.pulse,clean:!r}));const m=ot(u);u=l=t.add(ru({pulse:m})),u=t.add(g8e({markdef:vOe(e),interactive:yOe(e.interactive,t),clip:xOe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:ot(u)}));const x=ot(u);u=c=t.add(vee(pee(e.encode,e.type,n,e.style,t,{mod:!1,pulse:x}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(w=>{const b=p$(w,t),S=b.metadata;(S.generates||S.changes)&&he("Mark transforms should not generate new data."),S.nomod||(c.params.mod=!0),b.params.pulse=ot(u),t.add(u=b)}),e.sort&&(u=t.add(A8e({sort:t.compareRef(e.sort),pulse:ot(u)})));const y=ot(u);(i||a)&&(a=t.add(Eee({layout:t.objectProperty(e.layout),legends:t.legends,mark:x,pulse:y})),h=ot(a));const v=t.add(xee({mark:x,pulse:h||y}));d=ot(v),r&&(p&&(o=t.operators,o.pop(),a&&o.pop()),t.pushState(y,h||d,m),i?kOe(e,t,g):p?TOe(e,t,g):t.parse(e),t.popState(),p&&(a&&o.push(a),o.push(v))),s&&(d=FOe(s,d,t));const _=t.add(_ee({pulse:d})),E=t.add(Td({pulse:ot(_)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new Gh(t,l,_,E)),e.on&&e.on.forEach(w=>{(w.insert||w.remove||w.toggle)&&he("Marks only support modify triggers."),$ee(w,t,f)}))}function FOe(e,t,n){const r=e.method,i=e.bound,s=e.separation,a={separation:Ir(s)?n.signalRef(s.signal):s,method:Ir(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=n.compareRef({field:e.order})),i){const o=i.tolerance;a.boundTolerance=Ir(o)?n.signalRef(o.signal):+o,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return ot(n.add(v8e(a)))}function DOe(e,t){const n=t.config.legend,r=e.encode||{},i=oa(e,n),s=r.legend||{},a=s.name||void 0,o=s.interactive,u=s.style,l={};let c=0,f,h,d;l$.forEach(v=>e[v]?(l[v]=e[v],c=c||e[v]):0),c||he("Missing valid scale for legend.");const p=NOe(e,t.scaleType(c)),g={title:e.title!=null,scales:l,type:p,vgrad:p!=="symbol"&&i.isVertical()},m=ot(t.add(ru(null,[g]))),x={enter:{x:{value:0},y:{value:0}}},y=ot(t.add(d8e(h={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===kE?(d=[rOe(e,c,n,r.gradient),j9(e,n,r.labels,y)],h.count=h.count||t.signalRef(`max(2,2*floor((${mh(i.gradientLength())})/100))`)):p===AD?d=[iOe(e,c,n,r.gradient,y),j9(e,n,r.labels,y)]:(f=uOe(e,n),d=[oOe(e,n,r,y,mh(f.columns))],h.size=IOe(e,t,d[0].marks)),d=[bv({role:F6e,from:m,encode:x,marks:d,layout:f,interactive:o})],g.title&&d.push(mOe(e,n,r.title,m)),VS(bv({role:k6e,from:m,encode:E1($Oe(i,e,n),s,Ly),marks:d,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:o,style:u}),t)}function NOe(e,t){let n=e.type||V9;return!e.type&&OOe(e)===1&&(e.fill||e.stroke)&&(n=TO(t)?kE:B4(t)?AD:V9),n!==kE?n:B4(t)?AD:kE}function OOe(e){return l$.reduce((t,n)=>t+(e[n]?1:0),0)}function $Oe(e,t,n){const r={enter:{},update:{}};return gi(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function IOe(e,t,n){const r=mh(Z9("size",e,n)),i=mh(Z9("strokeWidth",e,n)),s=mh(ROe(n[1].encode,t,My));return Yu(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function Z9(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Tee(e,n[0].encode)}function ROe(e,t,n){return Tee("fontSize",e)||tOe("fontSize",t,n)}const MOe=`item.orient==="${b1}"?-90:item.orient==="${w1}"?90:0`;function LOe(e,t){e=Ge(e)?{text:e}:e;const n=oa(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,a=i.interactive,o=i.style,u=[],l={},c=ot(t.add(ru(null,[l])));return u.push(UOe(e,n,POe(e),c)),e.subtitle&&u.push(zOe(e,n,r.subtitle,c)),VS(bv({role:$6e,from:c,encode:BOe(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:a,style:o}),t)}function POe(e){const t=e.encode;return t&&t.title||Ft({name:e.name,interactive:e.interactive,style:e.style},t)}function BOe(e,t){const n={enter:{},update:{}};return gi(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:f$},angle:{signal:MOe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),E1(n,t,Ly)}function UOe(e,t,n,r){const i={value:0},s=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return gi(a,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ta({type:Fd,role:I6e,style:G8e,from:r,encode:a},n)}function zOe(e,t,n,r){const i={value:0},s=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return gi(a,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ta({type:Fd,role:R6e,style:q8e,from:r,encode:a},n)}function WOe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(p$(r,t))}),e.on&&e.on.forEach(r=>{$ee(r,t,e.name)}),t.addDataPipeline(e.name,HOe(e,t,n))}function HOe(e,t,n){const r=[];let i=null,s=!1,a=!1,o,u,l,c,f;for(e.values?Ir(e.values)||SE(e.format)?(r.push(Q9(t,e)),r.push(i=D0())):r.push(i=D0({$ingest:e.values,$format:e.format})):e.url?SE(e.url)||SE(e.format)?(r.push(Q9(t,e)),r.push(i=D0())):r.push(i=D0({$request:e.url,$format:e.format})):e.source&&(i=o=Xe(e.source).map(h=>ot(t.getData(h).output)),r.push(null)),u=0,l=n.length;u<l;++u)c=n[u],f=c.metadata,!i&&!f.source&&r.push(i=D0()),r.push(c),f.generates&&(a=!0),f.modifies&&!a&&(s=!0),f.source?i=c:f.changes&&(i=null);return o&&(l=o.length-1,r[0]=b8e({derive:s,pulse:l?o:o[0]}),(s||l)&&r.splice(1,0,D0())),i||r.push(D0()),r.push(Td({})),r}function D0(e){const t=ru({},e);return t.metadata={source:!0},t}function Q9(e,t){return p8e({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const Iee=e=>e===Bf||e===iu,jS=(e,t,n)=>Ir(e)?qOe(e.signal,t,n):e===b1||e===iu?t:n,jr=(e,t,n)=>Ir(e)?jOe(e.signal,t,n):Iee(e)?t:n,jo=(e,t,n)=>Ir(e)?GOe(e.signal,t,n):Iee(e)?n:t,Ree=(e,t,n)=>Ir(e)?XOe(e.signal,t,n):e===iu?{value:t}:{value:n},VOe=(e,t,n)=>Ir(e)?KOe(e.signal,t,n):e===w1?{value:t}:{value:n},jOe=(e,t,n)=>Mee(`${e} === '${iu}' || ${e} === '${Bf}'`,t,n),GOe=(e,t,n)=>Mee(`${e} !== '${iu}' && ${e} !== '${Bf}'`,t,n),qOe=(e,t,n)=>g$(`${e} === '${b1}' || ${e} === '${iu}'`,t,n),XOe=(e,t,n)=>g$(`${e} === '${iu}'`,t,n),KOe=(e,t,n)=>g$(`${e} === '${w1}'`,t,n),Mee=(e,t,n)=>(t=t!=null?Vr(t):t,n=n!=null?Vr(n):n,e7(t)&&e7(n)?(t=t?t.signal||Me(t.value):null,n=n?n.signal||Me(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Ft({test:e},t)].concat(n||[])),e7=e=>e==null||Object.keys(e).length===1,g$=(e,t,n)=>({signal:`${e} ? (${Dp(t)}) : (${Dp(n)})`}),YOe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${b1}' ? (${Dp(r)}) : `:"")+(n!=null?`${e} === '${Bf}' ? (${Dp(n)}) : `:"")+(i!=null?`${e} === '${w1}' ? (${Dp(i)}) : `:"")+(t!=null?`${e} === '${iu}' ? (${Dp(t)}) : `:"")+"(null)"}),Dp=e=>Ir(e)?e.signal:e==null?null:Me(e),JOe=(e,t)=>t===0?0:Ir(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Vp=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function op(e,t,n,r){let i;if(t&&Ke(t,e))return t[e];if(Ke(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[u$][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[My][i]}return null}function t7(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function ZOe(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,a=e.orient,o,u,l;if(Ir(a)){const f=t7([n.axisX,n.axisY]),h=t7([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);o={};for(l of f)o[l]=jr(a,op(l,n.axisX,i,r),op(l,n.axisY,i,r));u={};for(l of h)u[l]=YOe(a.signal,op(l,n.axisTop,i,r),op(l,n.axisBottom,i,r),op(l,n.axisLeft,i,r),op(l,n.axisRight,i,r))}else o=a===iu||a===Bf?n.axisX:n.axisY,u=n["axis"+a[0].toUpperCase()+a.slice(1)];return o||u||s?Ft({},i,o,u,s):i}function QOe(e,t,n,r){const i=oa(e,t),s=e.orient;let a,o;const u={enter:a={opacity:Zt},update:o={opacity:so},exit:{opacity:Zt}};gi(u,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const l=n7(e,0),c=n7(e,1);return a.x=o.x=jr(s,l,Zt),a.x2=o.x2=jr(s,c),a.y=o.y=jo(s,l,Zt),a.y2=o.y2=jo(s,c),Ta({type:c$,role:b6e,from:r,encode:u},n)}function n7(e,t){return{scale:e.scale,range:t}}function e5e(e,t,n,r,i){const s=oa(e,t),a=e.orient,o=e.gridScale,u=jS(a,1,-1),l=t5e(e.offset,u);let c,f,h;const d={enter:c={opacity:Zt},update:h={opacity:so},exit:f={opacity:Zt}};gi(d,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:io,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},g=jr(a,{signal:"height"},{signal:"width"}),m=o?{scale:o,range:0,mult:u,offset:l}:{value:0,offset:l},x=o?{scale:o,range:1,mult:u,offset:l}:Ft(g,{mult:u,offset:l});return c.x=h.x=jr(a,p,m),c.y=h.y=jo(a,p,m),c.x2=h.x2=jo(a,x),c.y2=h.y2=jr(a,x),f.x=jr(a,p),f.y=jo(a,p),Ta({type:c$,role:w6e,key:io,from:r,encode:d},n)}function t5e(e,t){if(t!==1)if(!qe(e))e=Ir(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Ft({},e);for(;n.mult!=null;)if(qe(n.mult))n=n.mult=Ft({},n.mult);else return n.mult=Ir(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function n5e(e,t,n,r,i,s){const a=oa(e,t),o=e.orient,u=jS(o,-1,1);let l,c,f;const h={enter:l={opacity:Zt},update:f={opacity:so},exit:c={opacity:Zt}};gi(h,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const d=Vr(i);d.mult=u;const p={scale:e.scale,field:io,band:s.band,extra:s.extra,offset:s.offset,round:a("tickRound")};return f.y=l.y=jr(o,Zt,p),f.y2=l.y2=jr(o,d),c.x=jr(o,p),f.x=l.x=jo(o,Zt,p),f.x2=l.x2=jo(o,d),c.y=jo(o,p),Ta({type:c$,role:S6e,key:io,from:r,encode:h},n)}function LT(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function r5e(e,t,n,r,i,s){const a=oa(e,t),o=e.orient,u=e.scale,l=jS(o,-1,1),c=mh(a("labelFlush")),f=mh(a("labelFlushOffset")),h=a("labelAlign"),d=a("labelBaseline");let p=c===0||!!c,g;const m=Vr(i);m.mult=l,m.offset=Vr(a("labelPadding")||0),m.offset.mult=l;const x={scale:u,field:io,band:.5,offset:Fee(s.offset,a("labelOffset"))},y=jr(o,p?LT(u,c,'"left"','"right"','"center"'):{value:"center"},VOe(o,"left","right")),v=jr(o,Ree(o,"bottom","top"),p?LT(u,c,'"top"','"bottom"','"middle"'):{value:"middle"}),_=LT(u,c,`-(${f})`,f,0);p=p&&f;const E={opacity:Zt,x:jr(o,x,m),y:jo(o,x,m)},w={enter:E,update:g={opacity:so,text:{field:o$},x:E.x,y:E.y,align:y,baseline:v},exit:{opacity:Zt,x:E.x,y:E.y}};gi(w,{dx:!h&&p?jr(o,_):null,dy:!d&&p?jo(o,_):null}),gi(w,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:h,baseline:d});const b=a("labelBound");let S=a("labelOverlap");return S=S||b?{separation:a("labelSeparation"),method:S,order:"datum.index",bound:b?{scale:u,orient:o,tolerance:b}:null}:void 0,g.align!==y&&(g.align=Vp(g.align,y)),g.baseline!==v&&(g.baseline=Vp(g.baseline,v)),Ta({type:Fd,role:A6e,style:My,key:io,from:r,encode:w,overlap:S},n)}function i5e(e,t,n,r){const i=oa(e,t),s=e.orient,a=jS(s,-1,1);let o,u;const l={enter:o={opacity:Zt,anchor:Vr(i("titleAnchor",null)),align:{signal:f$}},update:u=Ft({},o,{opacity:so,text:Vr(e.title)}),exit:{opacity:Zt}},c={signal:`lerp(range("${e.scale}"), ${WS(0,1,.5)})`};return u.x=jr(s,c),u.y=jo(s,c),o.angle=jr(s,Zt,JOe(a,90)),o.baseline=jr(s,Ree(s,Bf,iu),{value:Bf}),u.angle=o.angle,u.baseline=o.baseline,gi(l,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),s5e(i,s,l,n),l.update.align=Vp(l.update.align,o.align),l.update.angle=Vp(l.update.angle,o.angle),l.update.baseline=Vp(l.update.baseline,o.baseline),Ta({type:Fd,role:C6e,style:u$,from:r,encode:l},n)}function s5e(e,t,n,r){const i=(o,u)=>o!=null?(n.update[u]=Vp(Vr(o),n.update[u]),!1):!xp(u,r),s=i(e("titleX"),"x"),a=i(e("titleY"),"y");n.enter.auto=a===s?Vr(a):jr(t,Vr(a),Vr(s))}function a5e(e,t){const n=ZOe(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,a=i.interactive,o=i.style,u=oa(e,n),l=nOe(u),c={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:e.title!=null},f=ot(t.add(ru({},[c]))),h=ot(t.add(o8e({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),d=[];let p;return c.grid&&d.push(e5e(e,n,r.grid,h,l)),c.ticks&&(p=u("tickSize"),d.push(n5e(e,n,r.ticks,h,p,l))),c.labels&&(p=c.ticks?p:0,d.push(r5e(e,n,r.labels,h,p,l))),c.domain&&d.push(QOe(e,n,r.domain,f)),c.title&&d.push(i5e(e,n,r.title,f)),VS(bv({role:E6e,from:f,encode:E1(o5e(u,e),i,Ly),marks:d,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:s,interactive:a,style:o}),t)}function o5e(e,t){const n={enter:{},update:{}};return gi(n,{orient:e("orient"),offset:e("offset")||0,position:Oo(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function Lee(e,t,n){const r=Xe(e.signals),i=Xe(e.scales);return n||r.forEach(s=>gee(s,t)),Xe(e.projections).forEach(s=>B8e(s,t)),i.forEach(s=>k8e(s,t)),Xe(e.data).forEach(s=>WOe(s,t)),i.forEach(s=>T8e(s,t)),(n||r).forEach(s=>a8e(s,t)),Xe(e.axes).forEach(s=>a5e(s,t)),Xe(e.marks).forEach(s=>VS(s,t)),Xe(e.legends).forEach(s=>DOe(s,t)),e.title&&LOe(e.title,t),t.parseLambdas(),t}const u5e=e=>E1({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function l5e(e,t){const n=t.config,r=ot(t.root=t.add(Ew())),i=c5e(e,n);i.forEach(l=>gee(l,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(ru()),a=t.add(vee(pee(u5e(e.encode),zS,r$,e.style,t,{pulse:ot(s)}))),o=t.add(Eee({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:ot(a)}));t.operators.pop(),t.pushState(ot(a),ot(o),null),Lee(e,t,i),t.operators.push(o);let u=t.add(xee({mark:r,pulse:ot(o)}));return u=t.add(_ee({pulse:ot(u)})),u=t.add(Td({pulse:ot(u)})),t.addData("root",new Gh(t,s,s,u)),t}function hm(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function c5e(e,t){const n=a=>Oo(e[a],t[a]),r=[hm("background",n("background")),hm("autosize",v6e(n("autosize"))),hm("padding",_6e(n("padding"))),hm("width",n("width")||0),hm("height",n("height")||0)],i=r.reduce((a,o)=>(a[o.name]=o,a),{}),s={};return Xe(e.signals).forEach(a=>{Ke(i,a.name)?a=Ft(i[a.name],a):r.push(a),s[a.name]=a}),Xe(t.signals).forEach(a=>{!Ke(s,a.name)&&!Ke(i,a.name)&&r.push(a)}),r}function Pee(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function r7(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Pee.prototype=r7.prototype={parse(e){return Lee(e,this)},fork(){return new r7(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof yD?ot(e):e;return this.add(E8e({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let a,o;r&&(a=r.data||(r.data={}),o=a[i]||(a[i]=[]),o.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(ot(this.add(Td({pulse:e})))),this._parent.push(t),this._lookup.push(n?ot(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Kt(this._parent)},encode(){return Kt(this._encode)},lookup(){return Kt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ge(e))return _v(e,t);e.signal||he("Unsupported field reference: "+Me(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=ot(this.add(f8e(i)))}return r},compareRef(e){let t=!1;const n=s=>Ir(s)?(t=!0,this.signalRef(s.signal)):Y6e(s)?(t=!0,this.exprRef(s.expr)):s,r=Xe(e.field).map(n),i=Xe(e.order).map(n);return t?ot(this.add(H9({fields:r,orders:i}))):z9(r,i)},keyRef(e,t){let n=!1;const r=s=>Ir(s)?(n=!0,ot(i[s.signal])):s,i=this.signals;return e=Xe(e).map(r),n?ot(this.add(h8e({fields:e,flat:t}))):G6e(e,t)},sortRef(e){if(!e)return e;const t=BS(e.op,e.field),n=e.order||q6e;return n.signal?ot(this.add(H9({fields:t,orders:this.signalRef(n.signal)}))):z9(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Ke(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&he("Duplicate signal name: "+Me(e));const n=t instanceof yD?t:this.add(Ew(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||he("Unrecognized signal name: "+Me(e)),this.signals[e]},signalRef(e){return this.signals[e]?ot(this.signals[e]):(Ke(this.lambdas,e)||(this.lambdas[e]=this.add(Ew(null))),ot(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Yu(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!qe(e)?e:this.signalRef(e.signal||m$(e))},exprRef(e,t){const n={expr:Yu(e,this)};return t&&(n.expr.$name=t),ot(this.add(l8e(n)))},addBinding(e,t){this.bindings||he("Nested signals do not support binding: "+Me(e)),this.bindings.push(Ft({signal:e},t))},addScaleProj(e,t){Ke(this.scales,e)&&he("Duplicate scale or projection name: "+Me(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,w8e(t))},addProjection(e,t){this.addScaleProj(e,_8e(t))},getScale(e){return this.scales[e]||he("Unrecognized scale name: "+Me(e)),this.scales[e]},scaleRef(e){return ot(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Ke(this.data,e)&&he("Duplicate data set name: "+Me(e)),this.data[e]=t},getData(e){return this.data[e]||he("Undefined data set name: "+Me(e)),this.data[e]},addDataPipeline(e,t){return Ke(this.data,e)&&he("Duplicate data set name: "+Me(e)),this.addData(e,Gh.fromEntries(this,t))}};function m$(e){return(_e(e)?f5e:h5e)(e)}function f5e(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(qe(i)?i.signal||m$(i):Me(i))}return n+"]"}function h5e(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Me(r)+":"+(qe(i)?i.signal||m$(i):Me(i));return t+"}"}function d5e(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function p5e(e,t,n){return qe(e)||he("Input Vega specification must be an object."),t=f1(d5e(),t,e.config),l5e(e,new Pee(t,n)).toRuntime()}const g5e="RawCode",m5e="Literal",x5e="Property",v5e="Identifier",y5e="ArrayExpression",_5e="BinaryExpression",E5e="CallExpression",b5e="ConditionalExpression",w5e="LogicalExpression",A5e="MemberExpression",S5e="ObjectExpression",C5e="UnaryExpression";function su(e){this.type=e}su.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=k5e(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function k5e(e){switch(e.type){case y5e:return e.elements;case _5e:case w5e:return[e.left,e.right];case E5e:return[e.callee].concat(e.arguments);case b5e:return[e.test,e.consequent,e.alternate];case A5e:return[e.object,e.property];case S5e:return e.properties;case x5e:return[e.key,e.value];case C5e:return[e.argument];case v5e:case m5e:case g5e:default:return[]}}var fl,rt,me,Gi,vn,GS=1,Py=2,qh=3,l0=4,qS=5,Dd=6,Ms=7,By=8,T5e=9;fl={};fl[GS]="Boolean";fl[Py]="<end>";fl[qh]="Identifier";fl[l0]="Keyword";fl[qS]="Null";fl[Dd]="Numeric";fl[Ms]="Punctuator";fl[By]="String";fl[T5e]="RegularExpression";var F5e="ArrayExpression",D5e="BinaryExpression",N5e="CallExpression",O5e="ConditionalExpression",Bee="Identifier",$5e="Literal",I5e="LogicalExpression",R5e="MemberExpression",M5e="ObjectExpression",L5e="Property",P5e="UnaryExpression",Gr="Unexpected token %0",B5e="Unexpected number",U5e="Unexpected string",z5e="Unexpected identifier",W5e="Unexpected reserved word",H5e="Unexpected end of input",CD="Invalid regular expression",PT="Invalid regular expression: missing /",Uee="Octal literals are not allowed in strict mode.",V5e="Duplicate data property in object literal not allowed in strict mode",ci="ILLEGAL",wv="Disabled.",j5e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),G5e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function XS(e,t){if(!e)throw new Error("ASSERT: "+t)}function Il(e){return e>=48&&e<=57}function x$(e){return"0123456789abcdefABCDEF".includes(e)}function vx(e){return"01234567".includes(e)}function q5e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Av(e){return e===10||e===13||e===8232||e===8233}function Uy(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&j5e.test(String.fromCharCode(e))}function bw(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&G5e.test(String.fromCharCode(e))}const X5e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function zee(){for(;me<Gi;){const e=rt.charCodeAt(me);if(q5e(e)||Av(e))++me;else break}}function kD(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)me<Gi&&x$(rt[me])?(r=rt[me++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):tn({},Gr,ci);return String.fromCharCode(i)}function K5e(){var e,t,n,r;for(e=rt[me],t=0,e==="}"&&tn({},Gr,ci);me<Gi&&(e=rt[me++],!!x$(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&tn({},Gr,ci),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Wee(){var e,t;for(e=rt.charCodeAt(me++),t=String.fromCharCode(e),e===92&&(rt.charCodeAt(me)!==117&&tn({},Gr,ci),++me,e=kD("u"),(!e||e==="\\"||!Uy(e.charCodeAt(0)))&&tn({},Gr,ci),t=e);me<Gi&&(e=rt.charCodeAt(me),!!bw(e));)++me,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),rt.charCodeAt(me)!==117&&tn({},Gr,ci),++me,e=kD("u"),(!e||e==="\\"||!bw(e.charCodeAt(0)))&&tn({},Gr,ci),t+=e);return t}function Y5e(){var e,t;for(e=me++;me<Gi;){if(t=rt.charCodeAt(me),t===92)return me=e,Wee();if(bw(t))++me;else break}return rt.slice(e,me)}function J5e(){var e,t,n;return e=me,t=rt.charCodeAt(me)===92?Wee():Y5e(),t.length===1?n=qh:X5e.hasOwnProperty(t)?n=l0:t==="null"?n=qS:t==="true"||t==="false"?n=GS:n=qh,{type:n,value:t,start:e,end:me}}function BT(){var e=me,t=rt.charCodeAt(me),n,r=rt[me],i,s,a;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++me,{type:Ms,value:String.fromCharCode(t),start:e,end:me};default:if(n=rt.charCodeAt(me+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return me+=2,{type:Ms,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:me};case 33:case 61:return me+=2,rt.charCodeAt(me)===61&&++me,{type:Ms,value:rt.slice(e,me),start:e,end:me}}}if(a=rt.substr(me,4),a===">>>=")return me+=4,{type:Ms,value:a,start:e,end:me};if(s=a.substr(0,3),s===">>>"||s==="<<="||s===">>=")return me+=3,{type:Ms,value:s,start:e,end:me};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return me+=2,{type:Ms,value:i,start:e,end:me};if(i==="//"&&tn({},Gr,ci),"<>=!+-*%&|^/".includes(r))return++me,{type:Ms,value:r,start:e,end:me};tn({},Gr,ci)}function Z5e(e){let t="";for(;me<Gi&&x$(rt[me]);)t+=rt[me++];return t.length===0&&tn({},Gr,ci),Uy(rt.charCodeAt(me))&&tn({},Gr,ci),{type:Dd,value:parseInt("0x"+t,16),start:e,end:me}}function Q5e(e){let t="0"+rt[me++];for(;me<Gi&&vx(rt[me]);)t+=rt[me++];return(Uy(rt.charCodeAt(me))||Il(rt.charCodeAt(me)))&&tn({},Gr,ci),{type:Dd,value:parseInt(t,8),octal:!0,start:e,end:me}}function i7(){var e,t,n;if(n=rt[me],XS(Il(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=me,e="",n!=="."){if(e=rt[me++],n=rt[me],e==="0"){if(n==="x"||n==="X")return++me,Z5e(t);if(vx(n))return Q5e(t);n&&Il(n.charCodeAt(0))&&tn({},Gr,ci)}for(;Il(rt.charCodeAt(me));)e+=rt[me++];n=rt[me]}if(n==="."){for(e+=rt[me++];Il(rt.charCodeAt(me));)e+=rt[me++];n=rt[me]}if(n==="e"||n==="E")if(e+=rt[me++],n=rt[me],(n==="+"||n==="-")&&(e+=rt[me++]),Il(rt.charCodeAt(me)))for(;Il(rt.charCodeAt(me));)e+=rt[me++];else tn({},Gr,ci);return Uy(rt.charCodeAt(me))&&tn({},Gr,ci),{type:Dd,value:parseFloat(e),start:t,end:me}}function e$e(){var e="",t,n,r,i,s=!1;for(t=rt[me],XS(t==="'"||t==='"',"String literal must starts with a quote"),n=me,++me;me<Gi;)if(r=rt[me++],r===t){t="";break}else if(r==="\\")if(r=rt[me++],!r||!Av(r.charCodeAt(0)))switch(r){case"u":case"x":rt[me]==="{"?(++me,e+=K5e()):e+=kD(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:vx(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),me<Gi&&vx(rt[me])&&(s=!0,i=i*8+"01234567".indexOf(rt[me++]),"0123".includes(r)&&me<Gi&&vx(rt[me])&&(i=i*8+"01234567".indexOf(rt[me++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&rt[me]===`
`&&++me;else{if(Av(r.charCodeAt(0)))break;e+=r}return t!==""&&tn({},Gr,ci),{type:By,value:e,octal:s,start:n,end:me}}function t$e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";tn({},CD)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{tn({},CD)}try{return new RegExp(e,t)}catch{return null}}function n$e(){var e,t,n,r,i;for(e=rt[me],XS(e==="/","Regular expression literal must start with a slash"),t=rt[me++],n=!1,r=!1;me<Gi;)if(e=rt[me++],t+=e,e==="\\")e=rt[me++],Av(e.charCodeAt(0))&&tn({},PT),t+=e;else if(Av(e.charCodeAt(0)))tn({},PT);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||tn({},PT),i=t.substr(1,t.length-2),{value:i,literal:t}}function r$e(){var e,t,n;for(t="",n="";me<Gi&&(e=rt[me],!!bw(e.charCodeAt(0)));)++me,e==="\\"&&me<Gi?tn({},Gr,ci):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&tn({},CD,n),{value:n,literal:t}}function i$e(){var e,t,n,r;return vn=null,zee(),e=me,t=n$e(),n=r$e(),r=t$e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:me}}function s$e(e){return e.type===qh||e.type===l0||e.type===GS||e.type===qS}function Hee(){if(zee(),me>=Gi)return{type:Py,start:me,end:me};const e=rt.charCodeAt(me);return Uy(e)?J5e():e===40||e===41||e===59?BT():e===39||e===34?e$e():e===46?Il(rt.charCodeAt(me+1))?i7():BT():Il(e)?i7():BT()}function Hs(){const e=vn;return me=e.end,vn=Hee(),me=e.end,e}function Vee(){const e=me;vn=Hee(),me=e}function a$e(e){const t=new su(F5e);return t.elements=e,t}function s7(e,t,n){const r=new su(e==="||"||e==="&&"?I5e:D5e);return r.operator=e,r.left=t,r.right=n,r}function o$e(e,t){const n=new su(N5e);return n.callee=e,n.arguments=t,n}function u$e(e,t,n){const r=new su(O5e);return r.test=e,r.consequent=t,r.alternate=n,r}function v$(e){const t=new su(Bee);return t.name=e,t}function Gm(e){const t=new su($5e);return t.value=e.value,t.raw=rt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function a7(e,t,n){const r=new su(R5e);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function l$e(e){const t=new su(M5e);return t.properties=e,t}function o7(e,t,n){const r=new su(L5e);return r.key=t,r.value=n,r.kind=e,r}function c$e(e,t){const n=new su(P5e);return n.operator=e,n.argument=t,n.prefix=!0,n}function tn(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,a)=>(XS(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=me,n.description=i,n}function KS(e){e.type===Py&&tn(e,H5e),e.type===Dd&&tn(e,B5e),e.type===By&&tn(e,U5e),e.type===qh&&tn(e,z5e),e.type===l0&&tn(e,W5e),tn(e,Gr,e.value)}function qi(e){const t=Hs();(t.type!==Ms||t.value!==e)&&KS(t)}function $n(e){return vn.type===Ms&&vn.value===e}function UT(e){return vn.type===l0&&vn.value===e}function f$e(){const e=[];for(me=vn.start,qi("[");!$n("]");)$n(",")?(Hs(),e.push(null)):(e.push(Xh()),$n("]")||qi(","));return Hs(),a$e(e)}function u7(){me=vn.start;const e=Hs();return e.type===By||e.type===Dd?(e.octal&&tn(e,Uee),Gm(e)):v$(e.value)}function h$e(){var e,t,n,r;if(me=vn.start,e=vn,e.type===qh)return n=u7(),qi(":"),r=Xh(),o7("init",n,r);if(e.type===Py||e.type===Ms)KS(e);else return t=u7(),qi(":"),r=Xh(),o7("init",t,r)}function d$e(){var e=[],t,n,r,i={},s=String;for(me=vn.start,qi("{");!$n("}");)t=h$e(),t.key.type===Bee?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?tn({},V5e):i[r]=!0,e.push(t),$n("}")||qi(",");return qi("}"),l$e(e)}function p$e(){qi("(");const e=y$();return qi(")"),e}const g$e={if:1};function m$e(){var e,t,n;if($n("("))return p$e();if($n("["))return f$e();if($n("{"))return d$e();if(e=vn.type,me=vn.start,e===qh||g$e[vn.value])n=v$(Hs().value);else if(e===By||e===Dd)vn.octal&&tn(vn,Uee),n=Gm(Hs());else{if(e===l0)throw new Error(wv);e===GS?(t=Hs(),t.value=t.value==="true",n=Gm(t)):e===qS?(t=Hs(),t.value=null,n=Gm(t)):$n("/")||$n("/=")?(n=Gm(i$e()),Vee()):KS(Hs())}return n}function x$e(){const e=[];if(qi("("),!$n(")"))for(;me<Gi&&(e.push(Xh()),!$n(")"));)qi(",");return qi(")"),e}function v$e(){me=vn.start;const e=Hs();return s$e(e)||KS(e),v$(e.value)}function y$e(){return qi("."),v$e()}function _$e(){qi("[");const e=y$();return qi("]"),e}function E$e(){var e,t,n;for(e=m$e();;)if($n("."))n=y$e(),e=a7(".",e,n);else if($n("("))t=x$e(),e=o$e(e,t);else if($n("["))n=_$e(),e=a7("[",e,n);else break;return e}function l7(){const e=E$e();if(vn.type===Ms&&($n("++")||$n("--")))throw new Error(wv);return e}function FE(){var e,t;if(vn.type!==Ms&&vn.type!==l0)t=l7();else{if($n("++")||$n("--"))throw new Error(wv);if($n("+")||$n("-")||$n("~")||$n("!"))e=Hs(),t=FE(),t=c$e(e.value,t);else{if(UT("delete")||UT("void")||UT("typeof"))throw new Error(wv);t=l7()}}return t}function c7(e){let t=0;if(e.type!==Ms&&e.type!==l0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function b$e(){var e,t,n,r,i,s,a,o,u,l;if(e=vn,u=FE(),r=vn,i=c7(r),i===0)return u;for(r.prec=i,Hs(),t=[e,vn],a=FE(),s=[u,r,a];(i=c7(vn))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)a=s.pop(),o=s.pop().value,u=s.pop(),t.pop(),n=s7(o,u,a),s.push(n);r=Hs(),r.prec=i,s.push(r),t.push(vn),n=FE(),s.push(n)}for(l=s.length-1,n=s[l],t.pop();l>1;)t.pop(),n=s7(s[l-1].value,s[l-2],n),l-=2;return n}function Xh(){var e,t,n;return e=b$e(),$n("?")&&(Hs(),t=Xh(),qi(":"),n=Xh(),e=u$e(e,t,n)),e}function y$(){const e=Xh();if($n(","))throw new Error(wv);return e}function w$e(e){rt=e,me=0,Gi=rt.length,vn=null,Vee();const t=y$();if(vn.type!==Py)throw new Error("Unexpect token after expression.");return t}var A$e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function S$e(e){function t(a,o,u,l){let c=e(o[0]);return u&&(c=u+"("+c+")",u.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+a+(l<0?"":l===0?"()":"("+o.slice(1).map(e).join(",")+")")}function n(a,o,u){return l=>t(a,l,o,u)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&he("Missing arguments to clamp function."),a.length>3&&he("Too many arguments to clamp function.");const o=a.map(e);return"Math.max("+o[1]+", Math.min("+o[2]+","+o[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:s,test:n("test",s),if:function(a){a.length<3&&he("Missing arguments to if function."),a.length>3&&he("Too many arguments to if function.");const o=a.map(e);return"("+o[0]+"?"+o[1]+":"+o[2]+")"}}}function C$e(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function k$e(e){e=e||{};const t=e.allowed?Aa(e.allowed):{},n=e.forbidden?Aa(e.forbidden):{},r=e.constants||A$e,i=(e.functions||S$e)(f),s=e.globalvar,a=e.fieldvar,o=Et(s)?s:p=>`${s}["${p}"]`;let u={},l={},c=0;function f(p){if(Ge(p))return p;const g=h[p.type];return g==null&&he("Unsupported type: "+p.type),g(p)}const h={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Ke(n,g)?he("Illegal identifier: "+g):Ke(r,g)?r[g]:Ke(t,g)?g:(u[g]=1,o(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const x=f(p.property);return m===a&&(l[C$e(x)]=1),g&&(c-=1),m+(g?"."+x:"["+x+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&he("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,x=Ke(i,g)&&i[g];return x||he("Unrecognized function: "+g),Et(x)?x(m):x+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function d(p){const g={code:f(p),globals:Object.keys(u),fields:Object.keys(l)};return u={},l={},g}return d.functions=i,d.constants=r,d}var T$e="5.33.0";Ft(wg,Ywe,Lke,gTe,GTe,QTe,CFe,sFe,TFe,OFe,WFe,KFe);const F$e=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Er,CanvasHandler:Ny,CanvasRenderer:lw,DATE:ta,DAY:Ii,DAYOFYEAR:Ku,Dataflow:Hp,Debug:sK,Error:h8,EventStream:sS,Gradient:kJ,GroupItem:yS,HOURS:Sa,Handler:ZO,HybridHandler:vZ,HybridRenderer:Y4,Info:iK,Item:vS,MILLISECONDS:Ko,MINUTES:Ca,MONTH:Hi,Marks:ka,MultiPulse:$8,None:rK,Operator:Tn,Parameters:iS,Pulse:bf,QUARTER:ea,RenderType:ff,Renderer:Dy,ResourceLoader:IJ,SECONDS:fo,SVGHandler:sZ,SVGRenderer:i5,SVGStringRenderer:xZ,Scenegraph:JJ,TIME_UNITS:S8,Transform:fe,View:nee,WEEK:Nr,Warn:d8,YEAR:di,accessor:aa,accessorFields:Wi,accessorName:ir,array:Xe,ascending:d1,bandwidthNRD:L8,bin:yY,bootstrapCI:_Y,boundClip:TZ,boundContext:Cy,boundItem:j4,boundMark:qJ,boundStroke:Cc,changeset:Sd,clampRange:mK,codegenExpression:k$e,compare:v8,constant:Qi,cumulativeLogNormal:H8,cumulativeNormal:oS,cumulativeUniform:q8,dayofyear:$K,debounce:y8,defaultLocale:T8,definition:mY,densityLogNormal:W8,densityNormal:P8,densityUniform:G8,domChild:Tr,domClear:Xa,domCreate:lf,domFind:JO,dotbin:EY,error:he,expressionFunction:pr,extend:Ft,extent:Xu,extentIndex:xK,falsy:jc,fastmap:p1,field:lo,flush:vK,font:AS,fontFamily:Fy,fontSize:ol,format:lE,formatLocale:Yb,formats:N8,hasOwnProperty:Ke,id:py,identity:Zi,inferType:sY,inferTypes:aY,ingest:fn,inherits:Ue,inrange:Cp,interpolate:FO,interpolateColors:gS,interpolateRange:dJ,intersect:AZ,intersectBoxLine:Tp,intersectPath:MO,intersectPoint:LO,intersectRule:MJ,isArray:_e,isBoolean:a0,isDate:Ef,isFunction:Et,isIterable:yK,isNumber:sn,isObject:qe,isRegExp:_8,isString:Ge,isTuple:nS,key:E8,lerp:_K,lineHeight:Mf,loader:eS,locale:rY,logger:p8,lruCache:EK,markup:r5,merge:bK,mergeConfig:f1,multiLineOffset:XO,one:c1,pad:wK,panLinear:cK,panLog:fK,panPow:hK,panSymlog:dK,parse:p5e,parseExpression:w$e,parseSelector:u0,path:RA,pathCurves:$O,pathEqual:FZ,pathParse:kg,pathRectangle:DJ,pathRender:hv,pathSymbols:FJ,pathTrail:NJ,peek:Kt,point:CS,projection:m5,quantileLogNormal:V8,quantileNormal:uS,quantileUniform:X8,quantiles:R8,quantizeInterpolator:pJ,quarter:pK,quartiles:M8,get random(){return ho},randomInteger:ewe,randomKDE:U8,randomLCG:Qbe,randomLogNormal:wY,randomMixture:AY,randomNormal:B8,randomUniform:SY,read:lY,regressionConstant:K8,regressionExp:kY,regressionLinear:Y8,regressionLoess:DY,regressionLog:CY,regressionPoly:FY,regressionPow:TY,regressionQuad:J8,renderModule:kS,repeat:Im,resetDefaultLocale:YEe,resetSVGClipId:$J,resetSVGDefIds:tke,responseType:uY,runtimeContext:HQ,sampleCurve:cS,sampleLogNormal:z8,sampleNormal:aS,sampleUniform:j8,scale:an,sceneEqual:s5,sceneFromJSON:KJ,scenePickVisit:tw,sceneToJSON:XJ,sceneVisit:Yo,sceneZOrder:PO,scheme:mS,serializeXML:dZ,setHybridRendererOptions:JCe,setRandom:Jbe,span:gy,splitAccessPath:al,stringValue:Me,textMetrics:_a,timeBin:YK,timeFloor:UK,timeFormatLocale:lv,timeInterval:m1,timeOffset:HK,timeSequence:GK,timeUnitSpecifier:OK,timeUnits:C8,toBoolean:b8,toDate:w8,toNumber:Pi,toSet:Aa,toString:A8,transform:xY,transforms:wg,truncate:AK,truthy:co,tupleid:ut,typeParsers:M4,utcFloor:zK,utcInterval:x1,utcOffset:VK,utcSequence:qK,utcdayofyear:MK,utcquarter:gK,utcweek:LK,version:T$e,visitArray:ef,week:IK,writeConfig:h1,zero:sf,zoomLinear:g8,zoomLog:m8,zoomPow:Kb,zoomSymlog:x8},Symbol.toStringTag,{value:"Module"}));function D$e(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var N$e={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},O$e={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},$$e={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const I$e=Array.prototype.slice,N0=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,I$e.call(t,1))},R$e=(e,t,n,r,i,s,a)=>new Date(e,t||0,n??1,r||0,i||0,s||0,a||0);var M$e={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:R$e,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return N0("join",arguments)},indexof:function(){return N0("indexOf",arguments)},lastindexof:function(){return N0("lastIndexOf",arguments)},slice:function(){return N0("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(d1),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return N0("substring",arguments,String)},split:function(){return N0("split",arguments,String)},replace:function(){return N0("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const L$e=["view","item","group","xy","x","y"],TD=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&TD.add(setImmediate);const P$e={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:N$e[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),TD.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||M$e[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>O$e[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>$$e[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,TD.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function dm(e,t,n,r,i,s){const a=o=>P$e[o.type](a,o);return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=r,a.event=i,a.item=s,L$e.forEach(o=>a.fn[o]=function(){return i.vega[o](...arguments)}),a(e)}var B$e={operator(e,t){const n=t.ast,r=e.functions;return i=>dm(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,s)=>dm(n,r,s,i)},event(e,t){const n=t.ast,r=e.functions;return i=>dm(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,s)=>{const a=s.item&&s.item.datum;return dm(n,r,i,a,s)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,s=n==="group"||n==="image"||n==="rect";return(a,o)=>{const u=a.datum;let l=0,c;for(const f in r)c=dm(r[f].ast,i,o,u,void 0,a),a[f]!==c&&(a[f]=c,l=1);return n!=="rule"&&D$e(a,r,s),l}}};const U$e="5.23.0",z$e={version:U$e};function _$(e){return Ne(e,"or")}function E$(e){return Ne(e,"and")}function b$(e){return Ne(e,"not")}function DE(e,t){if(b$(e))DE(e.not,t);else if(E$(e))for(const n of e.and)DE(n,t);else if(_$(e))for(const n of e.or)DE(n,t);else t(e)}function jp(e,t){return b$(e)?{not:jp(e.not,t)}:E$(e)?{and:e.and.map(n=>jp(n,t))}:_$(e)?{or:e.or.map(n=>jp(n,t))}:t(e)}const vt=structuredClone;function jee(e){throw new Error(e)}function $g(e,t){const n={};for(const r of t)Ke(e,r)&&(n[r]=e[r]);return n}function Ks(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Sn(e)).join(",")})`};function jt(e){if(sn(e))return e;const t=Ge(e)?e:Sn(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function FD(e){return e===!1||e===null}function Bt(e,t){return e.includes(t)}function Ig(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function w$(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function Gee(e,...t){for(const n of t)W$e(e,n??{});return e}function W$e(e,t){for(const n of De(t))h1(e,n,t[n],!0)}function Ou(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function H$e(e,t){const n=De(e),r=De(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function qee(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function A$(e,t){for(const n of e)if(t.has(n))return!0;return!1}function DD(e){const t=new Set;for(const n of e){const i=al(n).map((a,o)=>o===0?a:`[${a}]`),s=i.map((a,o)=>i.slice(0,o+1).join(""));for(const a of s)t.add(a)}return t}function S$(e,t){return e===void 0||t===void 0?!0:A$(DD(e),DD(t))}function An(e){return De(e).length===0}const De=Object.keys,pi=Object.values,Uf=Object.entries;function Sv(e){return e===!0||e===!1}function Wn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function yx(e,t){return b$(e)?`!(${yx(e.not,t)})`:E$(e)?`(${e.and.map(n=>yx(n,t)).join(") && (")})`:_$(e)?`(${e.or.map(n=>yx(n,t)).join(") || (")})`:t(e)}function ww(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&ww(e[n],t)&&delete e[n],An(e)}function zy(e){return e.charAt(0).toUpperCase()+e.substr(1)}function C$(e,t="datum"){const n=al(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(Me).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function Xee(e,t="datum"){return`${t}[${Me(al(e).join("."))}]`}function mn(e){return`datum['${e.replaceAll("'","\\'")}']`}function V$e(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function po(e){return`${al(e).map(V$e).join("\\.")}`}function Kh(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function A1(e){return`${al(e).join(".")}`}function Rg(e){return e?al(e).length:0}function hr(...e){return e.find(t=>t!==void 0)}let Kee=42;function Yee(e){const t=++Kee;return e?String(e)+t:t}function j$e(){Kee=42}function Jee(e){return Zee(e)?e:`__${e}`}function Zee(e){return e.startsWith("__")}function Cv(e){if(e!==void 0)return(e%360+360)%360}function YS(e){return sn(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const f7=Object.getPrototypeOf(structuredClone({}));function xa(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!xa(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;for(const s of e.entries())if(!xa(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==f7.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==f7.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!xa(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Sn(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const a=t.push(r)-1,o=Object.keys(r).sort();for(s="",i=0;i<o.length;i++){const u=o[i],l=n(r[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return t.splice(a,1),`{${s}}`}(e)}function Ne(e,t){return qe(e)&&Ke(e,t)&&e[t]!==void 0}const tc="row",nc="column",JS="facet",Hn="x",ei="y",au="x2",hl="y2",c0="xOffset",S1="yOffset",ou="radius",Tc="radius2",Eo="theta",Fc="theta2",uu="latitude",lu="longitude",cu="latitude2",go="longitude2",f0="time",na="color",dl="fill",pl="stroke",ra="shape",Dc="size",Nd="angle",Nc="opacity",h0="fillOpacity",d0="strokeOpacity",p0="strokeWidth",g0="strokeDash",Wy="text",Mg="order",Hy="detail",ZS="key",Yh="tooltip",QS="href",eC="url",tC="description",G$e={x:1,y:1,x2:1,y2:1},Qee={theta:1,theta2:1,radius:1,radius2:1};function ete(e){return Ke(Qee,e)}const k$={longitude:1,longitude2:1,latitude:1,latitude2:1};function tte(e){switch(e){case uu:return"y";case cu:return"y2";case lu:return"x";case go:return"x2"}}function nte(e){return Ke(k$,e)}const q$e=De(k$),T$={...G$e,...Qee,...k$,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Gp(e){return e===na||e===dl||e===pl}const rte={row:1,column:1,facet:1},to=De(rte),F$={...T$,...rte},X$e=De(F$),{order:llt,detail:clt,tooltip:flt,...K$e}=F$,{row:hlt,column:dlt,facet:plt,...Y$e}=K$e;function J$e(e){return Ke(Y$e,e)}function ite(e){return Ke(F$,e)}const Z$e=[au,hl,cu,go,Fc,Tc];function ste(e){return Od(e)!==e}function Od(e){switch(e){case au:return Hn;case hl:return ei;case cu:return uu;case go:return lu;case Fc:return Eo;case Tc:return ou}return e}function zf(e){if(ete(e))switch(e){case Eo:return"startAngle";case Fc:return"endAngle";case ou:return"outerRadius";case Tc:return"innerRadius"}return e}function gl(e){switch(e){case Hn:return au;case ei:return hl;case uu:return cu;case lu:return go;case Eo:return Fc;case ou:return Tc}}function ia(e){switch(e){case Hn:case au:return"width";case ei:case hl:return"height"}}function ate(e){switch(e){case Hn:return"xOffset";case ei:return"yOffset";case au:return"x2Offset";case hl:return"y2Offset";case Eo:return"thetaOffset";case ou:return"radiusOffset";case Fc:return"theta2Offset";case Tc:return"radius2Offset"}}function D$(e){switch(e){case Hn:return"xOffset";case ei:return"yOffset"}}function Q$e(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const eIe=De(T$),{x:glt,y:mlt,x2:xlt,y2:vlt,xOffset:ylt,yOffset:_lt,latitude:Elt,longitude:blt,latitude2:wlt,longitude2:Alt,theta:Slt,theta2:Clt,radius:klt,radius2:Tlt,...N$}=T$,tIe=De(N$),O$={x:1,y:1},Oc=De(O$);function dr(e){return Ke(O$,e)}const $$={theta:1,radius:1},nIe=De($$);function nC(e){return e==="width"?Hn:ei}const ote={xOffset:1,yOffset:1};function Vy(e){return Ke(ote,e)}const rIe={time:1};function zT(e){return e in rIe}const{text:Flt,tooltip:Dlt,href:Nlt,url:Olt,description:$lt,detail:Ilt,key:Rlt,order:Mlt,...ute}=N$,iIe=De(ute);function sIe(e){return Ke(N$,e)}function aIe(e){switch(e){case na:case dl:case pl:case Dc:case ra:case Nc:case p0:case g0:return!0;case h0:case d0:case Nd:case f0:return!1}}const lte={...O$,...$$,...ote,...ute},I$=De(lte);function ml(e){return Ke(lte,e)}function oIe(e,t){return lIe(e)[t]}const cte={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Llt,...uIe}=cte;function lIe(e){switch(e){case na:case dl:case pl:case tC:case Hy:case ZS:case Yh:case QS:case Mg:case Nc:case h0:case d0:case p0:case JS:case tc:case nc:return cte;case Hn:case ei:case c0:case S1:case uu:case lu:case f0:return uIe;case au:case hl:case cu:case go:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Dc:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case g0:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ra:return{point:"always",geoshape:"always"};case Wy:return{text:"always"};case Nd:return{point:"always",square:"always",text:"always"};case eC:return{image:"always"};case Eo:return{text:"always",arc:"always"};case ou:return{text:"always",arc:"always"};case Fc:case Tc:return{arc:"always"}}}function WT(e){switch(e){case Hn:case ei:case Eo:case ou:case c0:case S1:case Dc:case Nd:case p0:case Nc:case h0:case d0:case f0:case au:case hl:case Fc:case Tc:return;case JS:case tc:case nc:case ra:case g0:case Wy:case Yh:case QS:case eC:case tC:return"discrete";case na:case dl:case pl:return"flexible";case uu:case lu:case cu:case go:case Hy:case ZS:case Mg:return}}const cIe={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},fIe={count:1,min:1,max:1};function vc(e){return Ne(e,"argmin")}function m0(e){return Ne(e,"argmax")}function R$(e){return Ge(e)&&Ke(cIe,e)}const hIe=new Set(["count","valid","missing","distinct"]);function rC(e){return Ge(e)&&hIe.has(e)}function dIe(e){return Ge(e)&&Bt(["min","max"],e)}const pIe=new Set(["count","sum","distinct","valid","missing"]),gIe=new Set(["mean","average","median","q1","q3","min","max"]);function fte(e){return a0(e)&&(e=gC(e,void 0)),"bin"+De(e).map(t=>iC(e[t])?Wn(`_${t}_${Uf(e[t])}`):Wn(`_${t}_${e[t]}`)).join("")}function Nn(e){return e===!0||$d(e)&&!e.binned}function ni(e){return e==="binned"||$d(e)&&e.binned===!0}function $d(e){return qe(e)}function iC(e){return Ne(e,"param")}function h7(e){switch(e){case tc:case nc:case Dc:case na:case dl:case pl:case p0:case Nc:case h0:case d0:case ra:return 6;case g0:return 4;default:return 10}}function jy(e){return Ne(e,"expr")}function ri(e,{level:t}={level:0}){const n=De(e||{}),r={};for(const i of n)r[i]=t===0?pa(e[i]):ri(e[i],{level:t-1});return r}function hte(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:a,color:o,subtitleColor:u,subtitleFont:l,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:h,subtitleLineHeight:d,subtitlePadding:p,...g}=e,m={...g,...o?{fill:o}:{}},x={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...a!==void 0?{limit:a}:{}},y={...u?{subtitleColor:u}:{},...l?{subtitleFont:l}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...h?{subtitleFontWeight:h}:{},...d?{subtitleLineHeight:d}:{},...p?{subtitlePadding:p}:{}},v=$g(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:m,subtitleMarkConfig:v,nonMarkTitleProperties:x,subtitle:y}}function rf(e){return Ge(e)||_e(e)&&Ge(e[0])}function st(e){return Ne(e,"signal")}function Id(e){return Ne(e,"step")}function mIe(e){return _e(e)?!1:Ne(e,"fields")&&!Ne(e,"data")}function xIe(e){return _e(e)?!1:Ne(e,"fields")&&Ne(e,"data")}function ql(e){return _e(e)?!1:Ne(e,"field")&&Ne(e,"data")}const vIe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},yIe=De(vIe),_Ie={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},ND=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function dte(e){const t=_e(e.condition)?e.condition.map(d7):d7(e.condition);return{...pa(e),condition:t}}function pa(e){if(jy(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function d7(e){if(jy(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function In(e){if(jy(e)){const{expr:t,...n}=e;return{signal:t,...n}}return st(e)?e:e!==void 0?{value:e}:void 0}function EIe(e){return st(e)?e.signal:Me(e)}function p7(e){return st(e)?e.signal:Me(e.value)}function Bo(e){return st(e)?e.signal:e==null?null:Me(e)}function bIe(e,t,n){for(const r of n){const i=Ju(r,t.markDef,t.config);i!==void 0&&(e[r]=In(i))}return e}function pte(e){return[].concat(e.type,e.style??[])}function wn(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&Ne(t,i)?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:Ju(e,t,n,r)}function Ju(e,t,n,{vgChannel:r}={}){const i=OD(e,t,n.style);return hr(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function OD(e,t,n){return gte(e,pte(t),n)}function gte(e,t,n){t=Xe(t);let r;for(const i of t){const s=n[i];Ne(s,e)&&(r=s[e])}return r}function mte(e,t){return Xe(e).reduce((n,r)=>(n.field.push(We(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function xte(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(xa(i,r))return;n.push(r)}),n}function vte(e,t){return xa(e,t)||!t?e:e?[...Xe(e),...Xe(t)].join(", "):t}function yte(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((rf(n)||st(n))&&(rf(r)||st(r)))return{explicit:e.explicit,value:vte(n,r)};if(rf(n)||st(n))return{explicit:e.explicit,value:n};if(rf(r)||st(r))return{explicit:e.explicit,value:r};if(!rf(n)&&!st(n)&&!rf(r)&&!st(r))return{explicit:e.explicit,value:xte(n,r)};throw new Error("It should never reach here")}function M$(e){return`Invalid specification ${Sn(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const wIe='Autosize "fit" only works for single views and layered views.';function g7(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function m7(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function x7(e){return e?`Dropping "fit-${e}" because spec has discrete ${ia(e)}.`:'Dropping "fit" because spec has discrete size.'}function L$(e){return`Unknown field for ${e}. Cannot calculate view size.`}function v7(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function AIe(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function SIe(e){return`The "nearest" transform is not supported for ${e} marks.`}function _te(e){return`Selection not supported for ${e} yet.`}function CIe(e){return`Cannot find a selection named "${e}".`}const kIe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",TIe="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",FIe="Legend bindings are only supported for selections over an individual field or encoding channel.";function DIe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function NIe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const OIe="The same selection must be used to override scale domains in a layered view.",$Ie='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function IIe(e){return`Unknown repeated value "${e}".`}function y7(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const RIe="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",P$="Animation involving facet, layer, or concat is currently unsupported.";function MIe(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Me(e)}.`}function LIe(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${Me(t)} encoding found for selection ${Me(n.param)}. Using "field": ${Me(r)}.`}const PIe="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function BIe(e){return`Unrecognized parse "${e}".`}function _7(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const UIe="Attempt to add the same child twice.";function zIe(e){return`Ignoring an invalid transform: ${Sn(e)}.`}const WIe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function E7(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function HIe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Sn(t)} is overridden by a child projection ${Sn(n)}.`}const VIe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function jIe(e){return`${e}Offset dropped because ${e} is continuous`}function GIe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Sn(n)}}.`}function Ete(e){return`Invalid field type "${e}".`}function qIe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function XIe(e){return`Invalid aggregation operator "${e}".`}function bte(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function KIe(e){return`Position range does not support relative band size for ${e}.`}function $D(e,t){return`Dropping ${Sn(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const YIe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function sC(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function JIe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function ZIe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function QIe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function eRe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function HT(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function tRe(e){return`The ${e} for range marks cannot be an expression`}function nRe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function rRe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function iRe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function sRe(e){return`Cannot use the relative band size with ${e} scale.`}function aRe(e){return`Using unaggregated domain with raw field has no effect (${Sn(e)}).`}function oRe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function uRe(e){return`Unaggregated domain is currently unsupported for log scale (${Sn(e)}).`}function lRe(e){return`Cannot apply size to non-oriented mark "${e}".`}function cRe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function fRe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function wte(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function Ate(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function hRe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Sn(n)} and ${Sn(r)}). Using ${Sn(n)}.`}function dRe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Sn(n)} and ${Sn(r)}). Using the union of the two domains.`}function pRe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function gRe(e){return`Dropping sort property ${Sn(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const b7="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",mRe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",xRe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",vRe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function yRe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function _Re(e){return`Stack is applied to a non-linear scale (${e}).`}function ERe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function Aw(e,t){return`Invalid ${e}: ${Sn(t)}.`}function bRe(e){return`Dropping day from datetime ${Sn(e)} as day cannot be combined with other units.`}function wRe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function ARe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function SRe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function w7(e){return`1D error band does not support ${e}.`}function Ste(e){return`Channel ${e} is required for "binned" bin.`}function CRe(e){return`Channel ${e} should not be used with "binned" bin.`}function kRe(e){return`Domain for ${e} is required for threshold scale.`}const Cte=p8(d8);let Jh=Cte;function TRe(e){return Jh=e,Jh}function FRe(){return Jh=Cte,Jh}function B$(...e){Jh.error(...e)}function Oe(...e){Jh.warn(...e)}function DRe(...e){Jh.debug(...e)}function Rd(e){if(e&&qe(e)){for(const t of z$)if(Ne(e,t))return!0}return!1}const kte=["january","february","march","april","may","june","july","august","september","october","november","december"],NRe=kte.map(e=>e.substr(0,3)),Tte=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ORe=Tte.map(e=>e.substr(0,3));function $Re(e){if(YS(e)&&(e=+e),sn(e))return e>4&&Oe(Aw("quarter",e)),e-1;throw new Error(Aw("quarter",e))}function IRe(e){if(YS(e)&&(e=+e),sn(e))return e-1;{const t=e.toLowerCase(),n=kte.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=NRe.indexOf(r);if(i!==-1)return i;throw new Error(Aw("month",e))}}function RRe(e){if(YS(e)&&(e=+e),sn(e))return e%7;{const t=e.toLowerCase(),n=Tte.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=ORe.indexOf(r);if(i!==-1)return i;throw new Error(Aw("day",e))}}function U$(e,t){const n=[];if(t&&e.day!==void 0&&De(e).length>1&&(Oe(bRe(e)),e=vt(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?IRe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?$Re(e.quarter):e.quarter;n.push(sn(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?RRe(e.day):e.day;n.push(sn(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Zh(e){const n=U$(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function MRe(e){const n=U$(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function LRe(e){const t=U$(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const Fte={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},z$=De(Fte);function PRe(e){return Ke(Fte,e)}function Md(e){return qe(e)?e.binned:Dte(e)}function Dte(e){return e&&e.startsWith("binned")}function W$(e){return e.startsWith("utc")}function BRe(e){return e.substring(3)}const URe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function aC(e){return z$.filter(t=>Ote(e,t))}function Nte(e){const t=aC(e);return t[t.length-1]}function Ote(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function zRe(e,t,{end:n}={end:!1}){const r=C$(t),i=W$(e)?"utc":"";function s(u){return u==="quarter"?`(${i}quarter(${r})-1)`:`${i}${u}(${r})`}let a;const o={};for(const u of z$)Ote(e,u)&&(o[u]=s(u),a=u);return n&&(o[a]+="+1"),MRe(o)}function $te(e){if(!e)return;const t=aC(e);return`timeUnitSpecifier(${Sn(t)}, ${Sn(URe)})`}function WRe(e,t,n){if(!e)return;const r=$te(e);return`${n||W$(e)?"utc":"time"}Format(${t}, ${r})`}function Kr(e){if(!e)return;let t;return Ge(e)?Dte(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:qe(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),W$(t.unit)&&(t.utc=!0,t.unit=BRe(t.unit)),t}function HRe(e){const{utc:t,...n}=Kr(e);return n.unit?(t?"utc":"")+De(n).map(r=>Wn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+De(n).map(r=>Wn(`_${r}_${n[r]}`)).join("")}function Ite(e,t=n=>n){const n=Kr(e),r=Nte(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:a}=Rte(r,n.step),o={...i,[a]:+i[a]+s};return`${t(Zh(o))} - ${t(Zh(i))}`}}const VRe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function jRe(e){return Ke(VRe,e)}function Rte(e,t=1){if(jRe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function GRe(e){return Ne(e,"param")}function H$(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function V$(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function j$(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function G$(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function q$(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function X$(e){if(e!=null&&e.field){if(_e(e.range)&&e.range.length===2)return!0;if(st(e.range))return!0}return!1}function K$(e){return!!(e!=null&&e.field)&&(_e(e.oneOf)||_e(e.in))}function qRe(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function Mte(e){return K$(e)||H$(e)||X$(e)||V$(e)||G$(e)||j$(e)||q$(e)}function vu(e,t){return mC(e,{timeUnit:t,wrapTime:!0})}function XRe(e,t){return e.map(n=>vu(n,t))}function Lte(e,t=!0){const{field:n}=e,r=Kr(e.timeUnit),{unit:i,binned:s}=r||{},a=We(e,{expr:"datum"}),o=i?`time(${s?a:zRe(i,n)})`:a;if(H$(e))return`${o}===${vu(e.equal,i)}`;if(V$(e)){const u=e.lt;return`${o}<${vu(u,i)}`}else if(G$(e)){const u=e.gt;return`${o}>${vu(u,i)}`}else if(j$(e)){const u=e.lte;return`${o}<=${vu(u,i)}`}else if(q$(e)){const u=e.gte;return`${o}>=${vu(u,i)}`}else{if(K$(e))return`indexof([${XRe(e.oneOf,i).join(",")}], ${o}) !== -1`;if(qRe(e))return oC(o,e.valid);if(X$(e)){const{range:u}=ri(e),l=st(u)?{signal:`${u.signal}[0]`}:u[0],c=st(u)?{signal:`${u.signal}[1]`}:u[1];if(l!==null&&c!==null&&t)return"inrange("+o+", ["+vu(l,i)+", "+vu(c,i)+"])";const f=[];return l!==null&&f.push(`${o} >= ${vu(l,i)}`),c!==null&&f.push(`${o} <= ${vu(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Sn(e)}`)}function oC(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function KRe(e){return Mte(e)&&e.timeUnit?{...e,timeUnit:Kr(e.timeUnit)}:e}const Gy={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function YRe(e){return e==="quantitative"||e==="temporal"}function Pte(e){return e==="ordinal"||e==="nominal"}const Qh=Gy.quantitative,Y$=Gy.ordinal,Lg=Gy.temporal,J$=Gy.nominal,C1=Gy.geojson;function JRe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Qh:return"quantitative";case"t":case Lg:return"temporal";case"o":case Y$:return"ordinal";case"n":case J$:return"nominal";case C1:return"geojson"}}const ii={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},ID={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function ZRe(e,t){const n=ID[e],r=ID[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const QRe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function A7(e){return QRe[e]}const Bte=new Set(["linear","log","pow","sqrt","symlog"]),Ute=new Set([...Bte,"time","utc"]);function zte(e){return Bte.has(e)}const Wte=new Set(["quantile","quantize","threshold"]),eMe=new Set([...Ute,...Wte,"sequential","identity"]),tMe=new Set(["ordinal","bin-ordinal","point","band"]);function Jr(e){return tMe.has(e)}function Jo(e){return eMe.has(e)}function $u(e){return Ute.has(e)}function Pg(e){return Wte.has(e)}const nMe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function rMe(e){return!Ge(e)&&Ne(e,"name")}function Hte(e){return Ne(e,"param")}function iMe(e){return Ne(e,"unionWith")}function sMe(e){return qe(e)&&"field"in e}const aMe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Plt,domain:Blt,range:Ult,rangeMax:zlt,rangeMin:Wlt,scheme:Hlt,...oMe}=aMe,uMe=De(oMe);function RD(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return $u(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return $u(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return $u(e);case"nice":return $u(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Jo(e)&&!Bt(["log","time","utc","threshold","quantile"],e)}}function Vte(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Gp(e)?void 0:iRe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function lMe(e,t){return Bt([Y$,J$],t)?e===void 0||Jr(e):t===Lg?Bt([ii.TIME,ii.UTC,void 0],e):t===Qh?zte(e)||Pg(e)||e===void 0:!0}function cMe(e,t,n=!1){if(!ml(e))return!1;switch(e){case Hn:case ei:case c0:case S1:case Eo:case ou:return $u(t)||t==="band"?!0:t==="point"?!n:!1;case f0:return Bt(["linear","band"],t);case Dc:case p0:case Nc:case h0:case d0:case Nd:return $u(t)||Pg(t)||Bt(["band","point","ordinal"],t);case na:case dl:case pl:return t!=="band";case g0:case ra:return t==="ordinal"||Pg(t)}}function fMe(e){return qe(e)&&"value"in e}const Fs={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},jte=Fs.arc,uC=Fs.area,lC=Fs.bar,hMe=Fs.image,cC=Fs.line,fC=Fs.point,dMe=Fs.rect,Sw=Fs.rule,Gte=Fs.text,Z$=Fs.tick,pMe=Fs.trail,Q$=Fs.circle,eI=Fs.square,qte=Fs.geoshape;function x0(e){return["line","area","trail"].includes(e)}function kv(e){return["rect","bar","image","arc","tick"].includes(e)}const gMe=new Set(De(Fs));function Zu(e){return Ne(e,"type")}const mMe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],xMe=["fill","fillOpacity"],vMe=[...mMe,...xMe],yMe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},S7=De(yMe),VT=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],_Me={area:["line","point"],bar:VT,rect:VT,line:["point"],tick:["bandSize","thickness",...VT]},EMe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},bMe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},Xte=De(bMe);function ed(e){return Ne(e,"band")}const wMe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},AMe=5,tI={binSpacing:0,continuousBandSize:AMe,minBandSize:.25,timeUnitBandPosition:.5},SMe={...tI,binSpacing:1},CMe={...tI,thickness:1};function kMe(e){return Zu(e)?e.type:e}function Kte(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function nI({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var o,u;if(!r||!Jo(r)||i)return"always-valid";const s=Kte(wn("invalid",e,t),{isPath:x0(e.type)});return((u=(o=t.scale)==null?void 0:o.invalid)==null?void 0:u[n])!==void 0?"show":s}function TMe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function Yte({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,s=`peek(${r})`,a=t.domainHasZero();return a==="definitely"?{scale:e,value:0}:a==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:s})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:s})`}}function Jte({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:s}){var c;const a=n==null?void 0:n.get("type"),o=Qo(t),u=rC(o==null?void 0:o.aggregate),l=nI({scaleChannel:e,markDef:i,config:s,scaleType:a,isCountAggregate:u});if(o&&l==="show"){const f=((c=s.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:oC(We(o,{expr:"datum"}),!1),...FMe(f,n,r)}}}function FMe(e,t,n){if(fMe(e)){const{value:r}=e;return st(r)?{signal:r.signal}:{value:r}}return Yte({scale:t,scaleName:n,mode:"zeroOrMin"})}function rI(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:s,config:a}=e,o=Od(t),u=iI(e),l=Jte({scaleChannel:o,channelDef:n,scale:i,scaleName:s,markDef:r,config:a});return l!==void 0?[l,u]:u}function DMe(e){const{datum:t}=e;return Rd(t)?Zh(t):`${Sn(t)}`}function xh(e,t,n,r){const i={};if(t&&(i.scale=t),xl(e)){const{datum:s}=e;Rd(s)?i.signal=Zh(s):st(s)?i.signal=s.signal:jy(s)?i.signal=s.expr:i.value=s}else i.field=We(e,n);if(r){const{offset:s,band:a}=r;s&&(i.offset=s),a&&(i.band=a)}return i}function Cw({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:a=.5}){const o=!st(a)&&0<a&&a<1?"datum":void 0,u=We(t,{expr:o,suffix:i}),l=n!==void 0?We(n,{expr:o}):We(t,{suffix:s,expr:o}),c={};if(a===0||a===1){c.scale=e;const f=a===0?u:l;c.field=f}else{const f=st(a)?`(1-${a.signal}) * ${u} + ${a.signal} * ${l}`:`${1-a} * ${u} + ${a} * ${l}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function NMe({scaleName:e,fieldDef:t}){const n=We(t,{expr:"datum"}),r=We(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function iI({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:a,stack:o,offset:u,defaultRef:l,bandPosition:c}){if(t){if(yt(t)){const f=a==null?void 0:a.get("type");if(ks(t)){c??(c=Wf({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:h,timeUnit:d,type:p}=t;if(Nn(h)||c&&d&&p===Lg)return o!=null&&o.impute?xh(t,s,{binSuffix:"mid"},{offset:u}):c&&!Jr(f)?Cw({scaleName:s,fieldOrDatumDef:t,bandPosition:c,offset:u}):xh(t,s,Jy(t,e)?{binSuffix:"range"}:{},{offset:u});if(ni(h)){if(Re(n))return Cw({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:u});Oe(Ste(e===Hn?au:hl))}}return xh(t,s,Jr(f)?{binSuffix:"range"}:{},{offset:u,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(Zo(t)){const f=t.value,h=u?{offset:u}:{};return{..._x(e,f),...h}}}return Et(l)&&(l=l()),l&&{...l,...u?{offset:u}:{}}}function _x(e,t){return Bt(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Bt(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:In(t)}function td(e){return e&&e!=="number"&&e!=="time"}function Zte(e,t,n){return`${e}(${t}${n?`, ${Sn(n)}`:""})`}const OMe="  ";function sI({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){var u,l;if(td(n))return Uo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const a=Qte(e,r,i),o=Bg(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(o==="quantitative"){if(i&&s.normalizedNumberFormatType)return Uo({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return Uo({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(o==="temporal"&&s.timeFormatType&&Re(e)&&e.timeUnit===void 0)return Uo({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(zg(e)){const c=IMe({field:a,timeUnit:Re(e)?(u=Kr(e.timeUnit))==null?void 0:u.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:Ld(e)&&((l=e.scale)==null?void 0:l.type)===ii.UTC});return c?{signal:c}:void 0}if(t=MD({type:o,specifiedFormat:t,config:s,normalizeStack:i}),Re(e)&&Nn(e.bin)){const c=We(e,{expr:r,binSuffix:"end"});return{signal:qy(a,c,t,n,s)}}else return t||Bg(e)==="quantitative"?{signal:`${nne(a,t)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Qte(e,t,n){return Re(e)?n?`${We(e,{expr:t,suffix:"end"})}-${We(e,{expr:t,suffix:"start"})}`:We(e,{expr:t}):DMe(e)}function Uo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:a}){if(a??(a=Qte(e,r,i)),a!=="datum.value"&&Re(e)&&Nn(e.bin)){const o=We(e,{expr:r,binSuffix:"end"});return{signal:qy(a,o,t,n,s)}}return{signal:Zte(n,a,t)}}function ene(e,t,n,r,i,s){var a;if(!(Ge(r)&&td(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Bg(e)==="quantitative"&&(i.normalizedNumberFormatType&&Ug(e)&&e.stack==="normalize"||i.numberFormatType))){if(Ug(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return MD({type:"quantitative",config:i,normalizeStack:!0});if(zg(e)){const o=Re(e)?(a=Kr(e.timeUnit))==null?void 0:a.unit:void 0;return o===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:$Me({specifiedFormat:n,timeUnit:o,config:i,omitTimeFormatConfig:s})}return MD({type:t,specifiedFormat:n,config:i})}}function tne(e,t,n){var r;if(e&&(st(e)||e==="number"||e==="time"))return e;if(zg(t)&&n!=="time"&&n!=="utc")return Re(t)&&((r=Kr(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function MD({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ge(t))return t;if(e===Qh)return r?n.normalizedNumberFormat:n.numberFormat}function $Me({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:$te(t)}:r?void 0:n.timeFormat)}function nne(e,t){return`format(${e}, "${t||""}")`}function C7(e,t,n,r){return td(n)?Zte(n,e,t):nne(e,(Ge(t)?t:void 0)??r.numberFormat)}function qy(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return qy(e,t,i.numberFormat,i.numberFormatType,i);const s=C7(e,n,r,i),a=C7(t,n,r,i);return`${oC(e,!1)} ? "null" : ${s} + "${OMe}" + ${a}`}function IMe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Ge(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):WRe(t,e,s)}const hC="min",RMe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function k7(e){return Ke(RMe,e)}function MMe(e){return Ne(e,"encoding")}function rc(e){return e&&(e.op==="count"||Ne(e,"field"))}function rne(e){return e&&_e(e)}function Xy(e){return Ne(e,"row")||Ne(e,"column")}function aI(e){return Ne(e,"header")}function dC(e){return Ne(e,"facet")}function LMe(e){return Ne(e,"param")}function PMe(e){return!Ge(e)&&Ne(e,"repeat")}function T7(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function oI(e){return Ne(e,"sort")}function Wf({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(yt(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Re(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return Ju("timeUnitBandPosition",n,r);if(Nn(s))return .5}}function ine({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:a}){var l,c,f;const o=ia(e),u=wn(a?"size":o,r,i,{vgChannel:o});if(u!==void 0)return u;if(Re(t)){const{timeUnit:h,bin:d}=t;if(h&&!n)return{band:Ju("timeUnitBandSize",r,i)};if(Nn(d)&&!Jr(s))return{band:1}}if(kv(r.type))return s?Jr(s)?((l=i[r.type])==null?void 0:l.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function sne(e,t,n,r){return Nn(e.bin)||e.timeUnit&&ks(e)&&e.type==="temporal"?Wf({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function ane(e){return Ne(e,"sort")&&!Ne(e,"field")}function Ky(e){return Ne(e,"condition")}function pC(e){const t=e==null?void 0:e.condition;return!!t&&!_e(t)&&Re(t)}function Yy(e){const t=e==null?void 0:e.condition;return!!t&&!_e(t)&&yt(t)}function BMe(e){const t=e==null?void 0:e.condition;return!!t&&(_e(t)||Zo(t))}function Re(e){return Ne(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Bg(e){return e==null?void 0:e.type}function xl(e){return Ne(e,"datum")}function gf(e){return ks(e)&&!Tw(e)||kw(e)}function F7(e){return ks(e)&&e.type==="quantitative"&&!e.bin||kw(e)}function kw(e){return xl(e)&&sn(e.datum)}function yt(e){return Re(e)||xl(e)}function ks(e){return e&&(Ne(e,"field")||e.aggregate==="count")&&Ne(e,"type")}function Zo(e){return Ne(e,"value")}function Ld(e){return Ne(e,"scale")||Ne(e,"sort")}function Ug(e){return Ne(e,"axis")||Ne(e,"stack")||Ne(e,"impute")}function one(e){return Ne(e,"legend")}function une(e){return Ne(e,"format")||Ne(e,"formatType")}function UMe(e){return Ks(e,["legend","axis","header","scale"])}function zMe(e){return Ne(e,"op")}function We(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(HMe(e))n=Jee("count");else{let a;if(!t.nofn)if(zMe(e))a=e.op;else{const{bin:o,aggregate:u,timeUnit:l}=e;Nn(o)?(a=fte(o),i=(t.binSuffix??"")+(t.suffix??"")):u?m0(u)?(s=`["${n}"]`,n=`argmax_${u.argmax}`):vc(u)?(s=`["${n}"]`,n=`argmin_${u.argmin}`):a=String(u):l&&!Md(l)&&(a=HRe(l),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}a&&(n=n?`${a}_${n}`:a)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?A1(n):t.expr?Xee(n,t.expr)+s:po(n)+s}function Tw(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Re(e)&&!!e.bin;case"temporal":return!1}throw new Error(Ete(e.type))}function WMe(e){var t;return Ld(e)&&Pg((t=e.scale)==null?void 0:t.type)}function HMe(e){return e.aggregate==="count"}function VMe(e,t){var a;const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(Nn(r))return`${n} (binned)`;if(i&&!Md(i)){const o=(a=Kr(i))==null?void 0:a.unit;if(o)return`${n} (${aC(o).join("-")})`}else if(s)return m0(s)?`${n} for max ${s.argmax}`:vc(s)?`${n} for min ${s.argmin}`:`${zy(s)} of ${n}`;return n}function jMe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(m0(t))return`${i} for argmax(${t.argmax})`;if(vc(t))return`${i} for argmin(${t.argmin})`;const s=r&&!Md(r)?Kr(r):void 0,a=t||(s==null?void 0:s.unit)||(s==null?void 0:s.maxbins)&&"timeunit"||Nn(n)&&"bin";return a?`${a.toUpperCase()}(${i})`:i}const lne=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return jMe(e);default:return VMe(e,t)}};let cne=lne;function fne(e){cne=e}function GMe(){fne(lne)}function qp(e,t,{allowDisabling:n,includeDefault:r=!0}){var o;const i=(o=uI(e))==null?void 0:o.title;if(!Re(e))return i??e.title;const s=e,a=r?lI(s,t):void 0;return n?hr(i,s.title,a):i??s.title??a}function uI(e){if(Ug(e)&&e.axis)return e.axis;if(one(e)&&e.legend)return e.legend;if(aI(e)&&e.header)return e.header}function lI(e,t){return cne(e,t)}function Fw(e){if(une(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=uI(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function qMe(e,t){var s;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(oI(e)&&_e(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!m0(n)&&!vc(n))return"quantitative";if(Ld(e)&&((s=e.scale)!=null&&s.type))switch(ID[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Qo(e){if(Re(e))return e;if(pC(e))return e.condition}function Or(e){if(yt(e))return e;if(Yy(e))return e.condition}function hne(e,t,n,r={}){if(Ge(e)||sn(e)||a0(e)){const i=Ge(e)?"string":sn(e)?"number":"boolean";return Oe(GIe(t,i,e)),{value:e}}return yt(e)?Dw(e,t,n,r):Yy(e)?{...e,condition:Dw(e.condition,t,n,r)}:e}function Dw(e,t,n,r){if(une(e)){const{format:i,formatType:s,...a}=e;if(td(s)&&!n.customFormatTypes)return Oe(E7(t)),Dw(a,t,n,r)}else{const i=Ug(e)?"axis":one(e)?"legend":aI(e)?"header":null;if(i&&e[i]){const{format:s,formatType:a,...o}=e[i];if(td(a)&&!n.customFormatTypes)return Oe(E7(t)),Dw({...e,[i]:o},t,n,r)}}return Re(e)?cI(e,t,r):XMe(e)}function XMe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=sn(n)?"quantitative":Ge(n)?"nominal":Rd(n)?"temporal":void 0,{...e,type:t}}function cI(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:a}=e,o={...e};if(!n&&r&&!R$(r)&&!m0(r)&&!vc(r)&&(Oe(XIe(r)),delete o.aggregate),i&&(o.timeUnit=Kr(i)),a&&(o.field=`${a}`),Nn(s)&&(o.bin=gC(s,t)),ni(s)&&!dr(t)&&Oe(CRe(t)),ks(o)){const{type:u}=o,l=JRe(u);u!==l&&(o.type=l),u!=="quantitative"&&rC(r)&&(Oe(qIe(u,r)),o.type="quantitative")}else if(!ste(t)){const u=qMe(o,t);o.type=u}if(ks(o)){const{compatible:u,warning:l}=KMe(o,t)||{};u===!1&&Oe(l)}if(oI(o)&&Ge(o.sort)){const{sort:u}=o;if(k7(u))return{...o,sort:{encoding:u}};const l=u.substring(1);if(u.charAt(0)==="-"&&k7(l))return{...o,sort:{encoding:l,order:"descending"}}}if(aI(o)){const{header:u}=o;if(u){const{orient:l,...c}=u;if(l)return{...o,header:{...c,labelOrient:u.labelOrient||l,titleOrient:u.titleOrient||l}}}}return o}function gC(e,t){return a0(e)?{maxbins:h7(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:h7(t)}:e}const up={compatible:!0};function KMe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case tc:case nc:case JS:return Tw(e)?up:{compatible:!1,warning:ZIe(t)};case Hn:case ei:case c0:case S1:case na:case dl:case pl:case Wy:case Hy:case ZS:case Yh:case QS:case eC:case Nd:case Eo:case ou:case tC:return up;case lu:case go:case uu:case cu:return n!==Qh?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:up;case Nc:case h0:case d0:case p0:case Dc:case Fc:case Tc:case au:case hl:case f0:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:up;case ra:case g0:return!Tw(e)&&!WMe(e)?{compatible:!1,warning:QIe(t)}:up;case Mg:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:up}}function zg(e){const{formatType:t}=Fw(e);return t==="time"||!t&&YMe(e)}function YMe(e){return e&&(e.type==="temporal"||Re(e)&&!!e.timeUnit)}function mC(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var u;const s=t&&((u=Kr(t))==null?void 0:u.unit);let a=s||n==="temporal",o;return jy(e)?o=e.expr:st(e)?o=e.signal:Rd(e)?(a=!0,o=Zh(e)):(Ge(e)||sn(e))&&a&&(o=`datetime(${Sn(e)})`,PRe(s)&&(sn(e)&&e<1e4||Ge(e)&&isNaN(Date.parse(e)))&&(o=Zh({[s]:e}))),o?r&&a?`time(${o})`:o:i?void 0:Sn(e)}function dne(e,t){const{type:n}=e;return t.map(r=>{const i=Re(e)&&!Md(e.timeUnit)?e.timeUnit:void 0,s=mC(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function Jy(e,t){return Nn(e.bin)?ml(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const D7={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Zy(e){return e==null?void 0:e.condition}const pne=["domain","grid","labels","ticks","title"],JMe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},gne={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ZMe={...gne,style:1,labelExpr:1,encoding:1};function N7(e){return Ke(ZMe,e)}const QMe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},mne=De(QMe);function $c(e){return Ne(e,"mark")}class xC{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return $c(t)?kMe(t.mark)===this.name:!1}}function vh(e,t){const n=e&&e[t];return n?_e(n)?Ig(n,r=>!!r.field):Re(n)||pC(n):!1}function xne(e,t){const n=e&&e[t];return n?_e(n)?Ig(n,r=>!!r.field):Re(n)||xl(n)||Yy(n):!1}function vne(e,t){if(dr(t)){const n=e[t];if((Re(n)||xl(n))&&(Pte(n.type)||Re(n)&&n.timeUnit)){const r=D$(t);return xne(e,r)}}return!1}function yne(e){return Ig(X$e,t=>{if(vh(e,t)){const n=e[t];if(_e(n))return Ig(n,r=>!!r.aggregate);{const r=Qo(n);return r&&!!r.aggregate}}return!1})}function _ne(e,t){const n=[],r=[],i=[],s=[],a={};return fI(e,(o,u)=>{if(Re(o)){const{field:l,aggregate:c,bin:f,timeUnit:h,...d}=o;if(c||h||f){const p=uI(o),g=p==null?void 0:p.title;let m=We(o,{forAs:!0});const x={...g?[]:{title:qp(o,t,{allowDisabling:!0})},...d,field:m};if(c){let y;if(m0(c)?(y="argmax",m=We({op:"argmax",field:c.argmax},{forAs:!0}),x.field=`${m}.${l}`):vc(c)?(y="argmin",m=We({op:"argmin",field:c.argmin},{forAs:!0}),x.field=`${m}.${l}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(y=c),y){const v={op:y,as:m};l&&(v.field=l),s.push(v)}}else if(n.push(m),ks(o)&&Nn(f)){if(r.push({bin:f,field:l,as:m}),n.push(We(o,{binSuffix:"end"})),Jy(o,u)&&n.push(We(o,{binSuffix:"range"})),dr(u)){const y={field:`${m}_end`};a[`${u}2`]=y}x.bin="binned",ste(u)||(x.type=Qh)}else if(h&&!Md(h)){i.push({timeUnit:h,field:l,as:m});const y=ks(o)&&o.type!==Lg&&"time";y&&(u===Wy||u===Yh?x.formatType=y:sIe(u)?x.legend={formatType:y,...x.legend}:dr(u)&&(x.axis={formatType:y,...x.axis}))}a[u]=x}else n.push(l),a[u]=e[u]}else a[u]=e[u]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:a}}function eLe(e,t,n){const r=oIe(t,n);if(r){if(r==="binned"){const i=e[t===au?Hn:ei];return!!(Re(i)&&Re(e[t])&&ni(i.bin))}}else return!1;return!0}function tLe(e,t,n,r){const i={};for(const s of De(e))ite(s)||Oe(JIe(s));for(let s of eIe){if(!e[s])continue;const a=e[s];if(Vy(s)){const o=Q$e(s),u=i[o];if(Re(u)&&YRe(u.type)&&Re(a)&&!u.timeUnit){Oe(jIe(o));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(Oe(VIe),s=Eo),!eLe(e,s,t)){Oe(sC(s,t));continue}if(s===Dc&&t==="line"){const o=Qo(e[s]);if(o!=null&&o.aggregate){Oe(YIe);continue}}if(s===na&&(n?"fill"in e:"stroke"in e)){Oe(bte("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===Hy||s===Mg&&!_e(a)&&!Zo(a)||s===Yh&&_e(a)){if(a){if(s===Mg){const o=e[s];if(ane(o)){i[s]=o;continue}}i[s]=Xe(a).reduce((o,u)=>(Re(u)?o.push(cI(u,s)):Oe($D(u,s)),o),[])}}else{if(s===Yh&&a===null)i[s]=null;else if(!Re(a)&&!xl(a)&&!Zo(a)&&!Ky(a)&&!st(a)){Oe($D(a,s));continue}i[s]=hne(a,s,r)}}return i}function vC(e,t){const n={};for(const r of De(e)){const i=hne(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function nLe(e){const t=[];for(const n of De(e))if(vh(e,n)){const r=e[n],i=Xe(r);for(const s of i)Re(s)?t.push(s):pC(s)&&t.push(s.condition)}return t}function fI(e,t,n){if(e)for(const r of De(e)){const i=e[r];if(_e(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function rLe(e,t,n,r){return e?De(e).reduce((i,s)=>{const a=e[s];return _e(a)?a.reduce((o,u)=>t.call(r,o,u,s),i):t.call(r,i,a,s)},n):n}function Ene(e,t){return De(t).reduce((n,r)=>{switch(r){case Hn:case ei:case QS:case tC:case eC:case au:case hl:case c0:case S1:case Eo:case Fc:case ou:case Tc:case f0:case uu:case lu:case cu:case go:case Wy:case ra:case Nd:case Yh:return n;case Mg:if(e==="line"||e==="trail")return n;case Hy:case ZS:{const i=t[r];if(_e(i)||Re(i))for(const s of Xe(i))s.aggregate||n.push(We(s,{}));return n}case Dc:if(e==="trail")return n;case na:case dl:case pl:case Nc:case h0:case d0:case g0:case p0:{const i=Qo(t[r]);return i&&!i.aggregate&&n.push(We(i,{})),n}}},[])}function iLe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(_e(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return _e(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function LD(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:a,titlePrefix:o})=>{const u=r?` of ${hI(t)}`:"";return{field:a+t.field,type:t.type,title:st(o)?{signal:`${o}"${escape(u)}"`}:o+u}}),s=nLe(n).map(UMe);return{tooltip:[...i,...Ou(s,jt)]}}function hI(e){const{title:t,field:n}=e;return hr(t,n)}function dI(e,t,n,r,i){const{scale:s,axis:a}=n;return({partName:o,mark:u,positionPrefix:l,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const h=hI(n);return bne(e,o,i,{mark:u,encoding:{[t]:{field:`${l}_${n.field}`,type:n.type,...h!==void 0?{title:h}:{},...s!==void 0?{scale:s}:{},...a!==void 0?{axis:a}:{}},...Ge(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function bne(e,t,n,r){const{clip:i,color:s,opacity:a}=e,o=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...a?{opacity:a}:{},...Zu(r.mark)?r.mark:{type:r.mark},style:`${o}-${String(t)}`,...a0(e[t])?{}:e[t]}}]:[]}function wne(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],a=r[`${i}2`],o=r[`${i}Error`],u=r[`${i}Error2`];return{continuousAxisChannelDef:p2(s,n),continuousAxisChannelDef2:p2(a,n),continuousAxisChannelDefError:p2(o,n),continuousAxisChannelDefError2:p2(u,n),continuousAxis:i}}function p2(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&Oe(SRe(n,t)),r}else return e}function Ane(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(Zu(n)&&n.orient)return n.orient;if(gf(i)){if(gf(s)){const a=Re(i)&&i.aggregate,o=Re(s)&&s.aggregate;if(!a&&o===t)return"vertical";if(!o&&a===t)return"horizontal";if(a===t&&o===t)throw new Error("Both x and y cannot have aggregate");return zg(s)&&!zg(i)?"horizontal":"vertical"}return"horizontal"}else{if(gf(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const Nw="boxplot",sLe=["box","median","outliers","rule","ticks"],aLe=new xC(Nw,Cne);function Sne(e){return sn(e)?"tukey":e}function Cne(e,{config:t}){e={...e,encoding:vC(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...a}=e,o=Zu(n)?n:{type:n};i&&Oe(_te("boxplot"));const u=o.extent??t.boxplot.extent,l=wn("size",o,t),c=o.invalid,f=Sne(u),{bins:h,timeUnits:d,transform:p,continuousAxisChannelDef:g,continuousAxis:m,groupby:x,aggregate:y,encodingWithoutContinuousAxis:v,ticksOrient:_,boxOrient:E,customTooltipWithoutAggregatedField:w}=oLe(e,u,t),b=A1(g.field),{color:S,size:A,...C}=v,k=ne=>dI(o,m,g,ne,t.boxplot),F=k(C),N=k(v),R=(qe(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",D=k({...C,...A?{size:A}:{},color:{condition:{test:`${mn(`lower_box_${g.field}`)} >= ${mn(`upper_box_${g.field}`)}`,...S||{value:R}}}}),O=LD([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,v),M={type:"tick",color:"black",opacity:1,orient:_,invalid:c,aria:!1},z=f==="min-max"?O:LD([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,v),K=[...F({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z}),...F({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z}),...F({partName:"ticks",mark:M,positionPrefix:"lower_whisker",extraEncoding:z}),...F({partName:"ticks",mark:M,positionPrefix:"upper_whisker",extraEncoding:z})],X=[...f!=="tukey"?K:[],...N({partName:"box",mark:{type:"bar",...l?{size:l}:{},orient:E,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:O}),...D({partName:"median",mark:{type:"tick",invalid:c,...qe(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...l?{size:l}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:O})];if(f==="min-max")return{...a,transform:(a.transform??[]).concat(p),layer:X};const ve=mn(`lower_box_${g.field}`),te=mn(`upper_box_${g.field}`),ue=`(${te} - ${ve})`,le=`${ve} - ${u} * ${ue}`,de=`${te} + ${u} * ${ue}`,ke=mn(g.field),He={joinaggregate:kne(g.field),groupby:x},B={transform:[{filter:`(${le} <= ${ke}) && (${ke} <= ${de})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${b}`},{op:"max",field:g.field,as:`upper_whisker_${b}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${b}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${b}`},...y],groupby:x}],layer:K},{tooltip:j,...G}=C,{scale:W,axis:Y}=g,T=hI(g),L=Ks(Y,["title"]),J=bne(o,"outliers",t.boxplot,{transform:[{filter:`(${ke} < ${le}) || (${ke} > ${de})`}],mark:"point",encoding:{[m]:{field:g.field,type:g.type,...T!==void 0?{title:T}:{},...W!==void 0?{scale:W}:{},...An(L)?{}:{axis:L}},...G,...S?{color:S}:{},...w?{tooltip:w}:{}}})[0];let Z;const ee=[...h,...d,He];return J?Z={transform:ee,layer:[J,B]}:(Z=B,Z.transform.unshift(...ee)),{...a,layer:[Z,{transform:p,layer:X}]}}function kne(e){const t=A1(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function oLe(e,t,n){const r=Ane(e,Nw),{continuousAxisChannelDef:i,continuousAxis:s}=wne(e,r,Nw),a=i.field,o=A1(a),u=Sne(t),l=[...kne(a),{op:"median",field:a,as:`mid_box_${o}`},{op:"min",field:a,as:(u==="min-max"?"lower_whisker_":"min_")+o},{op:"max",field:a,as:(u==="min-max"?"upper_whisker_":"max_")+o}],c=u==="min-max"||u==="tukey"?[]:[{calculate:`${mn(`upper_box_${o}`)} - ${mn(`lower_box_${o}`)}`,as:`iqr_${o}`},{calculate:`min(${mn(`upper_box_${o}`)} + ${mn(`iqr_${o}`)} * ${t}, ${mn(`max_${o}`)})`,as:`upper_whisker_${o}`},{calculate:`max(${mn(`lower_box_${o}`)} - ${mn(`iqr_${o}`)} * ${t}, ${mn(`min_${o}`)})`,as:`lower_whisker_${o}`}],{[s]:f,...h}=e.encoding,{customTooltipWithoutAggregatedField:d,filteredEncoding:p}=iLe(h),{bins:g,timeUnits:m,aggregate:x,groupby:y,encoding:v}=_ne(p,n),_=r==="vertical"?"horizontal":"vertical",E=r,w=[...g,...m,{aggregate:[...x,...l],groupby:y},...c];return{bins:g,timeUnits:m,transform:w,groupby:y,aggregate:x,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:v,ticksOrient:_,boxOrient:E,customTooltipWithoutAggregatedField:d}}const pI="errorbar",uLe=["ticks","rule"],lLe=new xC(pI,Tne);function Tne(e,{config:t}){e={...e,encoding:vC(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:a,markDef:o,outerSpec:u,tooltipEncoding:l}=Fne(e,pI,t);delete s.size;const c=dI(o,i,r,s,t.errorbar),f=o.thickness,h=o.size,d={type:"tick",orient:a,aria:!1,...f!==void 0?{thickness:f}:{},...h!==void 0?{size:h}:{}},p=[...c({partName:"ticks",mark:d,positionPrefix:"lower",extraEncoding:l}),...c({partName:"ticks",mark:d,positionPrefix:"upper",extraEncoding:l}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})];return{...u,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function cLe(e,t){const{encoding:n}=e;if(fLe(n))return{orient:Ane(e,t),inputType:"raw"};const r=hLe(n),i=dLe(n),s=n.x,a=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const o=n.x2,u=n.y2;if(yt(o)&&yt(u))throw new Error(`${t} cannot have both x2 and y2`);if(yt(o)){if(gf(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(yt(u)){if(gf(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const o=n.xError,u=n.xError2,l=n.yError,c=n.yError2;if(yt(u)&&!yt(o))throw new Error(`${t} cannot have xError2 without xError`);if(yt(c)&&!yt(l))throw new Error(`${t} cannot have yError2 without yError`);if(yt(o)&&yt(l))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(yt(o)){if(gf(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(yt(l)){if(gf(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function fLe(e){return(yt(e.x)||yt(e.y))&&!yt(e.x2)&&!yt(e.y2)&&!yt(e.xError)&&!yt(e.xError2)&&!yt(e.yError)&&!yt(e.yError2)}function hLe(e){return yt(e.x2)||yt(e.y2)}function dLe(e){return yt(e.xError)||yt(e.xError2)||yt(e.yError)||yt(e.yError2)}function Fne(e,t,n){const{mark:r,encoding:i,params:s,projection:a,...o}=e,u=Zu(r)?r:{type:r};s&&Oe(_te(t));const{orient:l,inputType:c}=cLe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:h,continuousAxisChannelDefError:d,continuousAxisChannelDefError2:p,continuousAxis:g}=wne(e,l,t),{errorBarSpecificAggregate:m,postAggregateCalculates:x,tooltipSummary:y,tooltipTitleWithFieldName:v}=pLe(u,f,h,d,p,c,t,n),{[g]:_,[g==="x"?"x2":"y2"]:E,[g==="x"?"xError":"yError"]:w,[g==="x"?"xError2":"yError2"]:b,...S}=i,{bins:A,timeUnits:C,aggregate:k,groupby:F,encoding:N}=_ne(S,n),R=[...k,...m],D=c!=="raw"?[]:F,O=LD(y,f,N,v);return{transform:[...o.transform??[],...A,...C,...R.length===0?[]:[{aggregate:R,groupby:D}],...x],groupby:D,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:N,ticksOrient:l==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:o,tooltipEncoding:O}}function pLe(e,t,n,r,i,s,a,o){let u=[],l=[];const c=t.field;let f,h=!1;if(s==="raw"){const d=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":o.errorbar.center,p=e.extent?e.extent:d==="mean"?"stderr":"iqr";if(d==="median"!=(p==="iqr")&&Oe(ARe(d,p,a)),p==="stderr"||p==="stdev")u=[{op:p,field:c,as:`extent_${c}`},{op:d,field:c,as:`center_${c}`}],l=[{calculate:`${mn(`center_${c}`)} + ${mn(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${mn(`center_${c}`)} - ${mn(`extent_${c}`)}`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:zy(d)},{fieldPrefix:"upper_",titlePrefix:O7(d,p,"+")},{fieldPrefix:"lower_",titlePrefix:O7(d,p,"-")}],h=!0;else{let g,m,x;p==="ci"?(g="mean",m="ci0",x="ci1"):(g="median",m="q1",x="q3"),u=[{op:m,field:c,as:`lower_${c}`},{op:x,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:qp({field:c,aggregate:x,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:qp({field:c,aggregate:m,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:qp({field:c,aggregate:g,type:"quantitative"},o,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Oe(wRe(e.center,e.extent)),s==="aggregated-upper-lower"?(f=[],l=[{calculate:mn(n.field),as:`upper_${c}`},{calculate:mn(c),as:`lower_${c}`}]):s==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],l=[{calculate:`${mn(c)} + ${mn(r.field)}`,as:`upper_${c}`}],i?l.push({calculate:`${mn(c)} + ${mn(i.field)}`,as:`lower_${c}`}):l.push({calculate:`${mn(c)} - ${mn(r.field)}`,as:`lower_${c}`}));for(const d of l)f.push({fieldPrefix:d.as.substring(0,6),titlePrefix:Kh(Kh(d.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:l,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:h}}function O7(e,t,n){return`${zy(e)} ${n} ${t}`}const gI="errorband",gLe=["band","borders"],mLe=new xC(gI,Dne);function Dne(e,{config:t}){e={...e,encoding:vC(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:a,outerSpec:o,tooltipEncoding:u}=Fne(e,gI,t),l=a,c=dI(l,i,r,s,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let h={type:f?"area":"rect"},d={type:f?"line":"rule"};const p={...l.interpolate?{interpolate:l.interpolate}:{},...l.tension&&l.interpolate?{tension:l.tension}:{}};return f?(h={...h,...p,ariaRoleDescription:"errorband"},d={...d,...p,aria:!1}):l.interpolate?Oe(w7("interpolate")):l.tension&&Oe(w7("tension")),{...o,transform:n,layer:[...c({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...c({partName:"borders",mark:d,positionPrefix:"lower",extraEncoding:u}),...c({partName:"borders",mark:d,positionPrefix:"upper",extraEncoding:u})]}}const Nne={};function mI(e,t,n){const r=new xC(e,t);Nne[e]={normalizer:r,parts:n}}function xLe(){return De(Nne)}mI(Nw,Cne,sLe);mI(pI,Tne,uLe);mI(gI,Dne,gLe);const vLe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],One={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},$ne={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},yLe=De(One),_Le=De($ne),ELe={header:1,headerRow:1,headerColumn:1,headerFacet:1},Ine=De(ELe),Rne=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],bLe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},wLe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},eu="_vgsid_",ALe={point:{on:"click",fields:[eu],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function xI(e){return e==="legend"||!!(e!=null&&e.legend)}function jT(e){return xI(e)&&qe(e)}function vI(e){return!!(e!=null&&e.select)}function Mne(e){const t=[];for(const n of e||[]){if(vI(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const a={...s,bind:i,init:r};t.push(a)}else{const a={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(a)}}return t}function SLe(e){return yC(e)||_I(e)||yI(e)}function yI(e){return Ne(e,"concat")}function yC(e){return Ne(e,"vconcat")}function _I(e){return Ne(e,"hconcat")}function Lne({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Qu(e){return Ne(e,"step")}function $7(e){return Ne(e,"view")||Ne(e,"width")||Ne(e,"height")}const I7=20,CLe={align:1,bounds:1,center:1,columns:1,spacing:1},kLe=De(CLe);function TLe(e,t,n){const r=n[t],i={},{spacing:s,columns:a}=r;s!==void 0&&(i.spacing=s),a!==void 0&&(dC(e)&&!Xy(e.facet)||yI(e))&&(i.columns=a),yC(e)&&(i.columns=1);for(const o of kLe)if(e[o]!==void 0)if(o==="spacing"){const u=e[o];i[o]=sn(u)?u:{row:u.row??s,column:u.column??s}}else i[o]=e[o];return i}function PD(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function BD(e,t){const n=Ow(e,t);return Qu(n)?n.step:Pne}function Ow(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return hr(n,{step:e.step})}const Pne=20,FLe={continuousWidth:200,continuousHeight:200,step:Pne},DLe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:FLe,mark:EMe,arc:{},area:{},bar:SMe,circle:{},geoshape:{},image:{},line:{},point:{},rect:tI,rule:{color:"black"},square:{},text:{color:"black"},tick:CMe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:nMe,projection:{},legend:bLe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:ALe,style:{},title:{},facet:{spacing:I7},concat:{spacing:I7},normalizedNumberFormat:".0%"},kl=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],R7={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},M7={blue:kl[0],orange:kl[1],red:kl[2],teal:kl[3],green:kl[4],yellow:kl[5],purple:kl[6],pink:kl[7],brown:kl[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function NLe(e={}){return{signals:[{name:"color",value:qe(e)?{...M7,...e}:M7}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function OLe(e){return{signals:[{name:"fontSize",value:qe(e)?{...R7,...e}:R7}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function $Le(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function Bne(e){const t=De(e||{}),n={};for(const r of t){const i=e[r];n[r]=Zy(i)?dte(i):pa(i)}return n}function ILe(e){const t=De(e),n={};for(const r of t)n[r]=Bne(e[r]);return n}const RLe=[...Xte,...mne,...Ine,"background","padding","legend","lineBreak","scale","style","title","view"];function Une(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,a=f1({},vt(DLe),n?$Le(n):{},t?NLe(t):{},r?OLe(r):{},s||{});i&&h1(a,"selection",i,!0);const o=Ks(a,RLe);for(const u of["background","lineBreak","padding"])a[u]&&(o[u]=pa(a[u]));for(const u of Xte)a[u]&&(o[u]=ri(a[u]));for(const u of mne)a[u]&&(o[u]=Bne(a[u]));for(const u of Ine)a[u]&&(o[u]=ri(a[u]));if(a.legend&&(o.legend=ri(a.legend)),a.scale){const{invalid:u,...l}=a.scale,c=ri(u,{level:1});o.scale={...ri(l),...De(c).length>0?{invalid:c}:{}}}return a.style&&(o.style=ILe(a.style)),a.title&&(o.title=ri(a.title)),a.view&&(o.view=ri(a.view)),o}const MLe=new Set(["view",...gMe]),LLe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],PLe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],..._Me};function BLe(e){e=vt(e);for(const t of LLe)delete e[t];if(e.axis)for(const t in e.axis)Zy(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of vLe)delete e.legend[t];if(e.mark){for(const t of S7)delete e.mark[t];e.mark.tooltip&&qe(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Mne(e.params)),delete e.params);for(const t of MLe){for(const r of S7)delete e[t][r];const n=PLe[t];if(n)for(const r of n)delete e[t][r];zLe(e,t)}for(const t of xLe())delete e[t];ULe(e);for(const t in e)qe(e[t])&&An(e[t])&&delete e[t];return An(e)?void 0:e}function ULe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=hte(e.title);An(t)||(e.style["group-title"]={...e.style["group-title"],...t}),An(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),An(r)?delete e.title:e.title=r}function zLe(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};An(s)||(e.style[n??t]=s),delete e[t]}function _C(e){return Ne(e,"layer")}function WLe(e){return Ne(e,"repeat")}function HLe(e){return!_e(e.repeat)&&Ne(e.repeat,"layer")}class EI{map(t,n){return dC(t)?this.mapFacet(t,n):WLe(t)?this.mapRepeat(t,n):_I(t)?this.mapHConcat(t,n):yC(t)?this.mapVConcat(t,n):yI(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(_C(t))return this.mapLayer(t,n);if($c(t))return this.mapUnit(t,n);throw new Error(M$(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const VLe={zero:1,center:1,normalize:1};function jLe(e){return Ke(VLe,e)}const GLe=new Set([jte,lC,uC,Sw,fC,Q$,eI,cC,Gte,Z$]),qLe=new Set([lC,uC,jte]);function lp(e){return Re(e)&&Bg(e)==="quantitative"&&!e.bin}function L7(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),a=e[t],o=e[i];if(Re(a)&&Re(o))if(lp(a)&&lp(o)){if(a.stack)return t;if(o.stack)return i;const u=Re(a)&&!!a.aggregate,l=Re(o)&&!!o.aggregate;if(u!==l)return u?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(lp(a))return t;if(lp(o))return i}else{if(lp(a))return s&&n==="vertical"?void 0:t;if(lp(o))return s&&n==="horizontal"?void 0:i}}function XLe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function zne(e,t){var g,m;const n=Zu(e)?e:{type:e},r=n.type;if(!GLe.has(r))return null;const i=L7(t,"x",n)||L7(t,"theta",n);if(!i)return null;const s=t[i],a=Re(s)?We(s,{}):void 0,o=XLe(i),u=[],l=new Set;if(t[o]){const x=t[o],y=Re(x)?We(x,{}):void 0;y&&y!==a&&(u.push(o),l.add(y))}const c=o==="x"?"xOffset":"yOffset",f=t[c],h=Re(f)?We(f,{}):void 0;h&&h!==a&&(u.push(c),l.add(h));const d=tIe.reduce((x,y)=>{if(y!=="tooltip"&&vh(t,y)){const v=t[y];for(const _ of Xe(v)){const E=Qo(_);if(E.aggregate)continue;const w=We(E,{});(!w||!l.has(w))&&x.push({channel:y,fieldDef:E})}}return x},[]);let p;return s.stack!==void 0?a0(s.stack)?p=s.stack?"zero":null:p=s.stack:qLe.has(r)&&(p="zero"),!p||!jLe(p)||yne(t)&&d.length===0?null:((g=s==null?void 0:s.scale)!=null&&g.type&&((m=s==null?void 0:s.scale)==null?void 0:m.type)!==ii.LINEAR&&s!=null&&s.stack&&Oe(_Re(s.scale.type)),yt(t[gl(i)])?(s.stack!==void 0&&Oe(yRe(i)),null):(Re(s)&&s.aggregate&&!pIe.has(s.aggregate)&&Oe(ERe(s.aggregate)),{groupbyChannels:u,groupbyFields:l,fieldChannel:i,impute:s.impute===null?!1:x0(r),stackBy:d,offset:p}))}function Wne(e,t,n){const r=ri(e),i=wn("orient",r,n);if(r.orient=ZLe(r.type,t,i),i!==void 0&&i!==r.orient&&Oe(rRe(r.orient,i)),r.type==="bar"&&r.orient){const u=wn("cornerRadiusEnd",r,n);if(u!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:wMe[r.orient];for(const c of l)r[c]=u;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=wn("opacity",r,n),a=wn("fillOpacity",r,n);return s===void 0&&a===void 0&&(r.opacity=YLe(r.type,t)),wn("cursor",r,n)===void 0&&(r.cursor=KLe(r,t,n)),r}function KLe(e,t,n){return t.href||e.href||wn("href",e,n)?"pointer":e.cursor}function YLe(e,t){if(Bt([fC,Z$,Q$,eI],e)&&!yne(t))return .7}function JLe(e,t,{graticule:n}){if(n)return!1;const r=Ju("filled",e,t),i=e.type;return hr(r,i!==fC&&i!==cC&&i!==Sw)}function ZLe(e,t,n){switch(e){case fC:case Q$:case eI:case Gte:case dMe:case hMe:return}const{x:r,y:i,x2:s,y2:a}=t;switch(e){case lC:if(Re(r)&&(ni(r.bin)||Re(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Re(i)&&(ni(i.bin)||Re(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||s){if(n)return n;if(!s)return(Re(r)&&r.type===Qh&&!Nn(r.bin)||kw(r))&&Re(i)&&ni(i.bin)?"horizontal":"vertical";if(!a)return(Re(i)&&i.type===Qh&&!Nn(i.bin)||kw(i))&&Re(r)&&ni(r.bin)?"vertical":"horizontal"}case Sw:if(s&&!(Re(r)&&ni(r.bin))&&a&&!(Re(i)&&ni(i.bin)))return;case uC:if(a)return Re(i)&&ni(i.bin)?"horizontal":"vertical";if(s)return Re(r)&&ni(r.bin)?"vertical":"horizontal";if(e===Sw){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case cC:case Z$:{const o=F7(r),u=F7(i);if(n)return n;if(o&&!u)return e!=="tick"?"horizontal":"vertical";if(!o&&u)return e!=="tick"?"vertical":"horizontal";if(o&&u)return"vertical";{const l=ks(r)&&r.type===Lg,c=ks(i)&&i.type===Lg;if(l&&!c)return"vertical";if(!l&&c)return"horizontal"}return}}return"vertical"}function QLe(e){const{point:t,line:n,...r}=e;return De(r).length>1?r:r.type}function ePe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Ks(e[t],["point","line"])});return e}function GT(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?qe(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?qe(t.point)?t.point:{}:void 0}function P7(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class tPe{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if($c(t)){const{mark:r,encoding:i}=t,s=Zu(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!GT(s,n[s.type],i);case"area":return!!GT(s,n[s.type],i)||!!P7(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:a,mark:o,name:u,encoding:l,...c}=t,f=vC(l,i),h=Zu(o)?o:{type:o},d=GT(h,i[h.type],f),p=h.type==="area"&&P7(h,i[h.type]),g=[{name:u,...s?{params:s}:{},mark:QLe({...h.type==="area"&&h.opacity===void 0&&h.fillOpacity===void 0?{opacity:.7}:{},...h}),encoding:Ks(f,["shape"])}],m=zne(Wne(h,f,i),f);let x=f;if(m){const{fieldChannel:y,offset:v}=m;x={...f,[y]:{...f[y],...v?{stack:v}:{}}}}return x=Ks(x,["y2","x2"]),p&&g.push({...a?{projection:a}:{},mark:{type:"line",...$g(h,["clip","interpolate","tension","tooltip"]),...p},encoding:x}),d&&g.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...$g(h,["clip","tooltip"]),...d},encoding:x}),r({...c,layer:g},{...n,config:ePe(i)})}}function nPe(e,t){return t?Xy(e)?Vne(e,t):Hne(e,t):e}function qT(e,t){return t?Vne(e,t):e}function UD(e,t,n){const r=t[e];if(PMe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Oe(IIe(r.repeat));return}return t}function Hne(e,t){if(e=UD("field",e,t),e!==void 0){if(e===null)return null;if(oI(e)&&rc(e.sort)){const n=UD("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function B7(e,t){if(Re(e))return Hne(e,t);{const n=UD("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function U7(e,t){if(yt(e)){const n=B7(e,t);if(n)return n;if(Ky(e))return{condition:e.condition}}else{if(Yy(e)){const n=B7(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function Vne(e,t){const n={};for(const r in e)if(Ne(e,r)){const i=e[r];if(_e(i))n[r]=i.map(s=>U7(s,t)).filter(s=>s);else{const s=U7(i,t);s!==void 0&&(n[r]=s)}}return n}class rPe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if($c(t)){const{encoding:n,mark:r}=t;if(r==="line"||Zu(r)&&r.type==="line")for(const i of Z$e){const s=Od(i),a=n[s];if(n[i]&&(Re(a)&&!ni(a.bin)||xl(a)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return Oe(nRe(!!i.x2,!!i.y2)),r({...t,mark:qe(s)?{...s,type:"rule"}:"rule"},n)}}class iPe extends EI{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[aLe,lLe,mLe,new tPe,new rPe]}map(t,n){if($c(t)){const r=vh(t.encoding,tc),i=vh(t.encoding,nc),s=vh(t.encoding,JS);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=qT(t.encoding,n.repeater),a={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(a,n);const o=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(a,n.config))return u.run(a,n,o);return a}mapRepeat(t,n){return HLe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:a,column:o,layer:u}=r,{repeater:l={},repeaterPrefix:c=""}=n;return a||o?this.mapRepeat({...t,repeat:{...a?{row:a}:{},...o?{column:o}:{}},spec:{repeat:{layer:u},spec:i}},n):{...s,layer:u.map(f=>{const h={...l,layer:f},d=`${(i.name?`${i.name}_`:"")+c}child__layer_${Wn(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:h,repeaterPrefix:d});return p.name=d,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...a}=t;!_e(r)&&t.columns&&(t=Ks(t,["columns"]),Oe(y7("repeat")));const o=[],{repeater:u={},repeaterPrefix:l=""}=n,c=!_e(r)&&r.row||[u?u.row:null],f=!_e(r)&&r.column||[u?u.column:null],h=_e(r)&&r||[u?u.repeat:null];for(const p of h)for(const g of c)for(const m of f){const x={repeat:p,row:g,column:m,layer:u.layer},y=(i.name?`${i.name}_`:"")+l+"child__"+(_e(r)?`${Wn(p)}`:(r.row?`row_${Wn(g)}`:"")+(r.column?`column_${Wn(m)}`:"")),v=this.map(i,{...n,repeater:x,repeaterPrefix:y});v.name=y,o.push(Ks(v,["data"]))}const d=_e(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...a,columns:d,concat:o}}mapFacet(t,n){const{facet:r}=t;return Xy(r)&&t.columns&&(t=Ks(t,["columns"]),Oe(y7("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:a,config:o}=n,u=W7({parentProjection:a,projection:i}),l=z7({parentEncoding:s,encoding:qT(r,n.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...l?{encoding:l}:{}},{config:o})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...a}=t.encoding,{mark:o,width:u,projection:l,height:c,view:f,params:h,encoding:d,...p}=t,{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),x=qT(a,n.repeater);return this.mapFacet({...p,...m,facet:g,spec:{...u?{width:u}:{},...c?{height:c}:{},...f?{view:f}:{},...l?{projection:l}:{},mark:o,encoding:x,...h?{params:h}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&Oe(eRe([...r?[tc]:[],...i?[nc]:[]]));const a={},o={};for(const u of[tc,nc]){const l=t[u];if(l){const{align:c,center:f,spacing:h,columns:d,...p}=l;a[u]=p;for(const g of["align","center","spacing"])l[g]!==void 0&&(o[g]??(o[g]={}),o[g][u]=l[g])}}return{facetMapping:a,layout:o}}else{const{align:a,center:o,spacing:u,columns:l,...c}=s;return{facetMapping:nPe(c,n.repeater),layout:{...a?{align:a}:{},...o?{center:o}:{},...u?{spacing:u}:{},...l?{columns:l}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:a,...o}=t,u={...i,parentEncoding:z7({parentEncoding:n,encoding:s,layer:!0}),parentProjection:W7({parentProjection:r,projection:a})};return super.mapLayer({...o,...t.name?{name:[u.repeaterPrefix,t.name].filter(l=>l).join("_")}:{}},u)}}function z7({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...De(e),...De(t)]);for(const s of i){const a=t[s],o=e[s];if(yt(a)){const u={...o,...a};r[s]=u}else Yy(a)?r[s]={...a,condition:{...o,...a.condition}}:a||a===null?r[s]=a:(n||Zo(o)||st(o)||yt(o)||_e(o))&&(r[s]=o)}}else r=t;return!r||An(r)?void 0:r}function W7(e){const{parentProjection:t,projection:n}=e;return t&&n&&Oe(HIe({parentProjection:t,projection:n})),n??t}function bI(e){return Ne(e,"filter")}function sPe(e){return Ne(e,"stop")}function jne(e){return Ne(e,"lookup")}function aPe(e){return Ne(e,"data")}function oPe(e){return Ne(e,"param")}function uPe(e){return Ne(e,"pivot")}function lPe(e){return Ne(e,"density")}function cPe(e){return Ne(e,"quantile")}function fPe(e){return Ne(e,"regression")}function hPe(e){return Ne(e,"loess")}function dPe(e){return Ne(e,"sample")}function pPe(e){return Ne(e,"window")}function gPe(e){return Ne(e,"joinaggregate")}function mPe(e){return Ne(e,"flatten")}function xPe(e){return Ne(e,"calculate")}function Gne(e){return Ne(e,"bin")}function vPe(e){return Ne(e,"impute")}function yPe(e){return Ne(e,"timeUnit")}function _Pe(e){return Ne(e,"aggregate")}function EPe(e){return Ne(e,"stack")}function bPe(e){return Ne(e,"fold")}function wPe(e){return Ne(e,"extent")&&!Ne(e,"density")&&!Ne(e,"regression")}function APe(e){return e.map(t=>bI(t)?{filter:jp(t.filter,KRe)}:t)}class SPe extends EI{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=H7(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=H7(t,n),t.encoding){const r={};for(const[i,s]of Uf(t.encoding))r[i]=qne(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Uf(r).map(([s,a])=>{const{init:o,bind:u,empty:l,...c}=a;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[s]=l!=="none";for(const f of pi(n.selectionPredicates[s]??{}))f.empty=l!=="none";return{name:s,value:o,select:c,bind:u}})}:t}}function H7(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(bI(s))return{filter:zD(s,t)};if(Gne(s)&&$d(s.bin))return{...s,bin:Xne(s.bin)};if(jne(s)){const{selection:a,...o}=s.from;return a?{...s,from:{param:a,...o}}:s}return s});return{...r,transform:i}}return e}function qne(e,t){var r,i;const n=vt(e);if(Re(n)&&$d(n.bin)&&(n.bin=Xne(n.bin)),Ld(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:s,...a}=n.scale.domain;n.scale.domain={...a,...s?{param:s}:{}}}if(Ky(n))if(_e(n.condition))n.condition=n.condition.map(s=>{const{selection:a,param:o,test:u,...l}=s;return o?s:{...l,test:zD(s,t)}});else{const{selection:s,param:a,test:o,...u}=qne(n.condition,t);n.condition=a?n.condition:{...u,test:zD(n.condition,t)}}return n}function Xne(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function zD(e,t){const n=r=>jp(r,i=>{var s;const a=t.emptySelections[i]??!0,o={param:i,empty:a};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(o),o});return e.selection?n(e.selection):jp(e.test||e.filter,r=>r.selection?n(r.selection):r)}class WD extends EI{map(t,n){const r=n.selections??[];if(t.params&&!$c(t)){const i=[];for(const s of t.params)vI(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const a of r)if(!a.views||!a.views.length)s.push(a);else for(const o of a.views)(Ge(o)&&(o===t.name||i.includes(o))||_e(o)&&o.map(u=>i.indexOf(u)).every((u,l,c)=>u!==-1&&(l===0||u>c[l-1])))&&s.push(a);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=WD.prototype[e];WD.prototype[e]=function(n,r){return t.call(this,n,CPe(n,r))}}function CPe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Kne(e,t){t===void 0&&(t=Une(e.config));const n=DPe(e,t),{width:r,height:i}=e,s=NPe(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const kPe=new iPe,TPe=new SPe,FPe=new WD;function DPe(e,t={}){const n={config:t};return FPe.map(kPe.map(TPe.map(e,n),n),n)}function V7(e){return Ge(e)?{type:e}:e??{}}function NPe(e,t,n){let{width:r,height:i}=t;const s=$c(e)||_C(e),a={};s?r=="container"&&i=="container"?(a.type="fit",a.contains="padding"):r=="container"?(a.type="fit-x",a.contains="padding"):i=="container"&&(a.type="fit-y",a.contains="padding"):(r=="container"&&(Oe(g7("width")),r=void 0),i=="container"&&(Oe(g7("height")),i=void 0));const o={type:"pad",...a,...n?V7(n.autosize):{},...V7(e.autosize)};if(o.type==="fit"&&!s&&(Oe(wIe),o.type="pad"),r=="container"&&!(o.type=="fit"||o.type=="fit-x")&&Oe(m7("width")),i=="container"&&!(o.type=="fit"||o.type=="fit-y")&&Oe(m7("height")),!xa(o,{type:"pad"}))return o}function OPe(e){return["fit","fit-x","fit-y"].includes(e)}function $Pe(e){return e?`fit-${nC(e)}`:"fit"}const IPe=["background","padding"];function j7(e,t){const n={};for(const r of IPe)e&&e[r]!==void 0&&(n[r]=pa(e[r]));return t&&(n.params=e.params),n}class Ic{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Ic(vt(this.explicit),vt(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return hr(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of De(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Su(e){return{explicit:!0,value:e}}function ua(e){return{explicit:!1,value:e}}function Yne(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:EC(t,n,r,i)}}function EC(e,t,n,r){return e.explicit&&t.explicit&&Oe(hRe(n,r,e.value,t.value)),e}function Hf(e,t,n,r,i=EC){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:xa(e.value,t.value)?e:i(e,t,n,r)}class RPe extends Ic{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Wg(e){return Ne(e,"url")}function Tv(e){return Ne(e,"values")}function Jne(e){return Ne(e,"name")&&!Wg(e)&&!Tv(e)&&!Sf(e)}function Sf(e){return e&&(Zne(e)||Qne(e)||wI(e))}function Zne(e){return Ne(e,"sequence")}function Qne(e){return Ne(e,"sphere")}function wI(e){return Ne(e,"graticule")}var Xn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Xn||(Xn={}));function ere({invalid:e,isPath:t}){switch(Kte(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function MPe(e){const{marks:t,scales:n}=ere(e);return t===n?Xn.Main:n==="include-invalid-values"?Xn.PreFilterInvalid:Xn.PostFilterInvalid}class En{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Oe(UIe);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Ys extends En{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Yee()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function XT(e){return e.as!==void 0}function G7(e){return`${e}_end`}class Bu extends En{clone(){return new Bu(null,vt(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,a)=>{const{field:o,timeUnit:u}=s;if(u){let l;if(Md(u)){if(qn(n)){const{mark:c,markDef:f,config:h}=n,d=Wf({fieldDef:s,markDef:f,config:h});(kv(c)||d)&&(l={timeUnit:Kr(u),field:o})}}else l={as:We(s,{forAs:!0}),field:o,timeUnit:u};if(qn(n)){const{mark:c,markDef:f,config:h}=n,d=Wf({fieldDef:s,markDef:f,config:h});kv(c)&&dr(a)&&d!==.5&&(l.rectBandPosition=d)}l&&(i[jt(l)]=l)}return i},{});return An(r)?null:new Bu(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=Kr(r),a={...i,timeUnit:s};return new Bu(t,{[jt(a)]:a})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Uf(this.timeUnits)){const s=XT(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(pi(this.timeUnits).map(t=>XT(t)?t.as:G7(t.field)))}dependentFields(){return new Set(pi(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${jt(this.timeUnits)}`}assemble(){const t=[];for(const n of pi(this.timeUnits)){const{rectBandPosition:r}=n,i=Kr(n.timeUnit);if(XT(n)){const{field:s,as:a}=n,{unit:o,utc:u,...l}=i,c=[a,`${a}_end`];t.push({field:po(s),type:"timeunit",...o?{units:aC(o)}:{},...u?{timezone:"utc"}:{},...l,as:c}),t.push(...q7(c,r,i))}else if(n){const{field:s}=n,a=s.replaceAll("\\.","."),o=tre({timeUnit:i,field:a}),u=G7(a);t.push({type:"formula",expr:o,as:u}),t.push(...q7([a,u],r,i))}}return t}}const bC="offsetted_rect_start",wC="offsetted_rect_end";function tre({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=Nte(r),{part:a,step:o}=Rte(s,e.step);return`${i?"utcOffset":"timeOffset"}('${a}', ${mn(t)}, ${n?-o:o})`}function q7([e,t],n,r){if(n!==void 0&&n!==.5){const i=mn(e),s=mn(t);return[{type:"formula",expr:X7([tre({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${bC}`},{type:"formula",expr:X7([i,s],n+.5),as:`${e}_${wC}`}]}return[]}function X7([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Qy="_tuple_fields";class LPe{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const PPe={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new LPe),s={},a={},o=new Set,u=(p,g)=>{const m=g==="visual"?p.channel:p.field;let x=Wn(`${r}_${m}`);for(let y=1;o.has(x);y++)x=Wn(`${r}_${m}_${y}`);return o.add(x),{[g]:x}},l=t.type,c=e.config.selection[l],f=n.value!==void 0?Xe(n.value):null;let{fields:h,encodings:d}=qe(n.select)?n.select:{};if(!h&&!d&&f){for(const p of f)if(qe(p))for(const g of De(p))J$e(g)?(d||(d=[])).push(g):l==="interval"?(Oe($Ie),d=c.encodings):(h??(h=[])).push(g)}!h&&!d&&(d=c.encodings,"fields"in c&&(h=c.fields));for(const p of d??[]){const g=e.fieldDef(p);if(g){let m=g.field;if(g.aggregate){Oe(AIe(p,g.aggregate));continue}else if(!m){Oe(v7(p));continue}if(g.timeUnit&&!Md(g.timeUnit)){m=e.vgField(p);const x={timeUnit:g.timeUnit,as:m,field:g.field};a[jt(x)]=x}if(!s[m]){const x=l==="interval"&&ml(p)&&Jo(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",y={field:m,channel:p,type:x,index:i.items.length};y.signals={...u(y,"data"),...u(y,"visual")},i.items.push(s[m]=y),i.hasField[m]=s[m],i.hasSelectionId=i.hasSelectionId||m===eu,nte(p)?(y.geoChannel=p,y.channel=tte(p),i.hasChannel[y.channel]=s[m]):i.hasChannel[p]=s[m]}}else Oe(v7(p))}for(const p of h??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...u(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===eu}f&&(t.init=f.map(p=>i.items.map(g=>qe(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),An(a)||(i.timeUnit=new Bu(null,a))},signals:(e,t,n)=>{const r=t.name+Qy;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(sre)})}},nre="_curr",NE="anim_value",vp="anim_clock",HD="eased_anim_clock",rre="min_extent",ire="max_range_extent",KT="last_tick_at",YT="is_playing",BPe=1/60*1e3,UPe=(e,t)=>[{name:HD,update:vp},{name:`${e}_domain`,init:`domain('${t}')`},{name:rre,init:`extent(${e}_domain)[0]`},{name:ire,init:`extent(range('${t}'))[1]`},{name:NE,update:`invert('${t}', ${HD})`}],zPe={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Uu(t)&&(n=n.concat([{name:vp,init:"0",on:[{events:{type:"timer",throttle:BPe},update:`${YT} ? (${vp} + (now() - ${KT}) > ${ire} ? 0 : ${vp} + (now() - ${KT})) : ${vp}`}]},{name:KT,init:"now()",on:[{events:[{signal:vp},{signal:YT}],update:"now()"}]},{name:YT,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+Qy,s=t.project,a="(item().isVoronoi ? datum.datum : datum)",o=pi(e.component.selection??{}).reduce((c,f)=>f.type==="interval"?c.concat(f.name+Xp):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${o?` && ${o}`:""}`;let l=`unit: ${yh(e)}, `;if(t.project.hasSelectionId)l+=`${eu}: ${a}[${Me(eu)}]`;else if(Uu(t))l+=`fields: ${i}, values: [${NE} ? ${NE} : ${rre}]`;else{const c=s.items.map(f=>{const h=e.fieldDef(f.channel);return h!=null&&h.bin?`[${a}[${Me(e.vgField(f.channel,{}))}], ${a}[${Me(e.vgField(f.channel,{binSuffix:"end"}))}]]`:`${a}[${Me(f.field)}]`}).join(", ");l+=`fields: ${i}, values: [${c}]`}if(Uu(t))return n.concat(UPe(t.name,e.scaleName(f0)),[{name:r+_c,on:[{events:[{signal:HD},{signal:NE}],update:`{${l}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+_c,on:c?[{events:c,update:`${u} ? {${l}} : null`,force:!0}]:[]}])}}};function sre(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=po(i.field),i}function nd(e,t=!0,n=Zi){if(_e(e)){const r=e.map(i=>nd(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Rd(e))return n(t?Zh(e):LRe(e));return t?n(Sn(e)):e}function WPe(e,t){for(const n of pi(e.component.selection??{})){const r=n.name;let i=`${r}${_c}, ${n.resolve==="global"?"true":`{unit: ${yh(e)}}`}`;for(const s of SC)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+gBe,on:[{events:{signal:n.name+_c},update:`modify(${Me(n.name+rd)}, ${i})`}]})}return AI(t)}function HPe(e,t){if(e.component.selection&&De(e.component.selection).length){const n=Me(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:u0("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return AI(t)}function VPe(e,t){let n=!1;for(const r of pi(e.component.selection??{})){const i=r.name,s=Me(i+rd);if(t.filter(o=>o.name===i).length===0){const o=r.resolve==="global"?"union":r.resolve,u=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${bre}(${s}, ${Me(o)}${u}`})}n=!0;for(const o of SC)o.defined(r)&&o.topLevelSignals&&(t=o.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),AI(t)}function jPe(e,t){const n=[],r=[],i=yh(e,{escape:!1});for(const s of pi(e.component.selection??{})){const a={name:s.name+rd};if(s.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:eu}}]),s.init){const u=s.project.items.map(sre);a.values=s.project.hasSelectionId?s.init.map(l=>({unit:i,[eu]:nd(l,!1)[0]})):s.init.map(l=>({unit:i,fields:u,values:nd(l,!1)}))}if([...n,...t].filter(u=>u.name===s.name+rd).length||n.push(a),Uu(s)&&t.length){const u=e.lookupDataSource(e.getDataName(Xn.Main)),l=t.find(f=>f.name===u),c=l.transform.find(f=>f.type==="filter"&&f.expr.includes("vlSelectionTest"));if(c){l.transform=l.transform.filter(h=>h!==c);const f={name:l.name+nre,source:l.name,transform:[c]};r.push(f)}}}return n.concat(t,r)}function are(e,t){for(const n of pi(e.component.selection??{}))for(const r of SC)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function GPe(e,t){for(const n of e.children)qn(n)&&(t=are(n,t));return t}function qPe(e,t,n,r){const i=$re(e,t.param,t);return{signal:Jo(n.get("type"))&&_e(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function AI(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const ic={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!ml(i))continue;const s=e.getScaleComponent(i),a=s?s.get("type"):void 0;if(a=="sequential"&&Oe(TIe),!s||!Jo(a)){Oe(kIe);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(a=>n.filter(o=>o.name===a.signals.data).length===0);if(!e.parent||jD(e)||r.length===0)return n;const i=n.find(a=>a.name===t.name);let s=i.update;if(s.includes(bre))i.update=`{${r.map(a=>`${Me(po(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of r){const o=`${Me(po(a.field))}: ${a.signals.data}`;s.includes(o)||(s=`${s.substring(0,s.length-1)}, ${o}}`)}i.update=s}return n.concat(r.map(a=>({name:a.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!jD(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function VD(e,t){return`domain(${Me(e.scaleName(t))})`}function jD(e){return e.parent&&N1(e.parent)&&(!e.parent.parent||jD(e.parent.parent))}const Xp="_brush",ore="_scale_trigger",pm="geo_interval_init_tick",ure="_init",XPe="_center",KPe={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...qe(n.select)?n.select:{}};i.fields=[eu],i.encodings||(i.encodings=n.value?De(n.value):[lu,uu]),n.select={type:"interval",...i}}if(t.translate&&!ic.defined(t)){const i=`!event.item || event.item.mark.name !== ${Me(t.name+Xp)}`;for(const s of t.events){if(!s.between){Oe(`${s} is not an ordered event stream for interval selections.`);continue}const a=Xe((r=s.between[0]).filter??(r.filter=[]));a.includes(i)||a.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+_c,s=pi(t.project.hasChannel).filter(o=>o.channel===Hn||o.channel===ei),a=t.init?t.init[0]:null;if(n.push(...s.reduce((o,u)=>o.concat(YPe(e,t,u,a&&a[u.index])),[])),e.hasProjection){const o=Me(e.projectionName()),u=e.projectionName()+XPe,{x:l,y:c}=t.project.hasChannel,f=l&&l.signals.visual,h=c&&c.signals.visual,d=l?a&&a[l.index]:`${u}[0]`,p=c?a&&a[c.index]:`${u}[1]`,g=E=>e.getSizeSignalRef(E).signal,m=`[[${f?f+"[0]":"0"}, ${h?h+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${h?h+"[1]":g("height")}]]`;a&&(n.unshift({name:r+ure,init:`[scale(${o}, [${l?d[0]:d}, ${c?p[0]:p}]), scale(${o}, [${l?d[1]:d}, ${c?p[1]:p}])]`}),(!l||!c)&&(n.find(w=>w.name===u)||n.unshift({name:u,update:`invert(${o}, [${g("width")}/2, ${g("height")}/2])`})));const x=`intersect(${m}, {markname: ${Me(e.getName("marks"))}}, unit.mark)`,y=`{unit: ${yh(e)}}`,v=`vlSelectionTuples(${x}, ${y})`,_=s.map(E=>E.signals.visual);return n.concat({name:i,on:[{events:[..._.length?[{signal:_.join(" || ")}]:[],...a?[{signal:pm}]:[]],update:v}]})}else{if(!ic.defined(t)){const l=r+ore,c=s.map(f=>{const h=f.channel,{data:d,visual:p}=f.signals,g=Me(e.scaleName(h)),m=e.getScaleComponent(h).get("type"),x=Jo(m)?"+":"";return`(!isArray(${d}) || (${x}invert(${g}, ${p})[0] === ${x}${d}[0] && ${x}invert(${g}, ${p})[1] === ${x}${d}[1]))`});c.length&&n.push({name:l,value:{},on:[{events:s.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${l} : {}`}]})}const o=s.map(l=>l.signals.data),u=`unit: ${yh(e)}, fields: ${r+Qy}, values`;return n.concat({name:i,...a?{init:`{${u}: ${nd(a)}}`}:{},...o.length?{on:[{events:[{signal:o.join(" || ")}],update:`${o.join(" && ")} ? {${u}: [${o}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(qn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===pm).length||n.unshift({name:pm,value:null,on:[{events:"timer{1}",update:`${pm} === null ? {} : ${pm}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,a=i==null?void 0:i.signals.visual,o=s==null?void 0:s.signals.visual,u=`data(${Me(t.name+rd)})`;if(ic.defined(t)||!i&&!s)return n;const l={x:i!==void 0?{signal:`${a}[0]`}:{value:0},y:s!==void 0?{signal:`${o}[0]`}:{value:0},x2:i!==void 0?{signal:`${a}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${o}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of De(l))l[m]=[{test:`${u}.length && ${u}[0].unit === ${yh(e)}`,...l[m]},{value:0}];const{fill:c,fillOpacity:f,cursor:h,...d}=t.mark,p=De(d).reduce((m,x)=>(m[x]=[{test:[i!==void 0&&`${a}[0] !== ${a}[1]`,s!==void 0&&`${o}[0] !== ${o}[1]`].filter(y=>y).join(" && "),value:d[x]},{value:null}],m),{}),g=h??(t.translate?"move":null);return[{name:`${r+Xp}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:l}},...n,{name:r+Xp,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...l,...p}}}]}};function YPe(e,t,n,r){const i=!e.hasProjection,s=n.channel,a=n.signals.visual,o=Me(i?e.scaleName(s):e.projectionName()),u=h=>`scale(${o}, ${h})`,l=e.getSizeSignalRef(s===Hn?"width":"height").signal,c=`${s}(unit)`,f=t.events.reduce((h,d)=>[...h,{events:d.between[0],update:`[${c}, ${c}]`},{events:d,update:`[${a}[0], clamp(${c}, 0, ${l})]`}],[]);if(i){const h=n.signals.data,d=ic.defined(t),p=e.getScaleComponent(s),g=p?p.get("type"):void 0,m=r?{init:nd(r,!0,u)}:{value:[]};return f.push({events:{signal:t.name+ore},update:Jo(g)?`[${u(`${h}[0]`)}, ${u(`${h}[1]`)}]`:"[0, 0]"}),d?[{name:h,on:[]}]:[{name:a,...m,on:f},{name:h,...r?{init:nd(r)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${o}, ${a})`}]}]}else{const h=s===Hn?0:1,d=t.name+ure,p=r?{init:`[${d}[0][${h}], ${d}[1][${h}]]`}:{value:[]};return[{name:a,...p,on:f}]}}function k1({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const s=Ky(t)&&t.condition;let a=[];s&&(a=Xe(s).map(l=>{const c=i(l);if(LMe(l)){const{param:f,empty:h}=l;return{test:Ore(e,{param:f,empty:h}),...c}}else return{test:Mw(e,l.test),...c}})),r!==void 0&&a.push(r);const o=i(t);return o!==void 0&&a.push(o),a.length>1||a.length===1&&a[0].test?{[n]:a}:a.length===1?{[n]:a[0]}:{}}function SI(e,t="text"){const n=e.encoding[t];return k1({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>AC(r,e.config),invalidValueRef:void 0})}function AC(e,t,n="datum"){if(e){if(Zo(e))return In(e.value);if(yt(e)){const{format:r,formatType:i}=Fw(e);return sI({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function lre(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,a=n.tooltip;if(_e(a))return{tooltip:K7({tooltip:a},s,i,t)};{const o=t.reactiveGeom?"datum.datum":"datum";return k1({model:e,channelDef:a,vgChannel:"tooltip",mainRefFn:l=>{const c=AC(l,i,o);if(c)return c;if(l===null)return;let f=wn("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),Ge(f))return{value:f};if(qe(f))return st(f)?f:f.content==="encoding"?K7(n,s,i,t):{signal:o}},invalidValueRef:void 0})}}function cre(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s=new Set,a=r?"datum.datum":"datum",o=[];function u(c,f){const h=Od(f),d=ks(c)?c:{...c,type:e[h].type},p=d.title||lI(d,i),g=Xe(p).join(", ").replaceAll(/"/g,'\\"');let m;if(dr(f)){const x=f==="x"?"x2":"y2",y=Qo(e[x]);if(ni(d.bin)&&y){const v=We(d,{expr:a}),_=We(y,{expr:a}),{format:E,formatType:w}=Fw(d);m=qy(v,_,E,w,i),s.add(x)}}if((dr(f)||f===Eo||f===ou)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:x,formatType:y}=Fw(d);m=sI({fieldOrDatumDef:d,format:x,formatType:y,expr:a,config:i,normalizeStack:!0}).signal}m??(m=AC(d,i,a).signal),o.push({channel:f,key:g,value:m})}fI(e,(c,f)=>{Re(c)?u(c,f):pC(c)&&u(c.condition,f)});const l={};for(const{channel:c,key:f,value:h}of o)!s.has(c)&&!l[f]&&(l[f]=h);return l}function K7(e,t,n,{reactiveGeom:r}={}){const i=cre(e,t,n,{reactiveGeom:r}),s=Uf(i).map(([a,o])=>`"${a}": ${o}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function JPe(e){const{markDef:t,config:n}=e,r=wn("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...ZPe(e),...QPe(e)}}function ZPe(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=wn("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Ke(_Ie,t)?{}:{ariaRoleDescription:{value:t}}}function QPe(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return k1({model:e,channelDef:s,vgChannel:"description",mainRefFn:u=>AC(u,e.config),invalidValueRef:void 0});const a=wn("description",n,r);if(a!=null)return{description:In(a)};if(r.aria===!1)return{};const o=cre(t,i,r);if(!An(o))return{description:{signal:Uf(o).map(([u,l],c)=>`"${c>0?"; ":""}${u}: " + (${l})`).join(" + ")}}}function si(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:a}=n;let{defaultRef:o,defaultValue:u}=n;const l=i[e];o===void 0&&(u??(u=wn(e,r,s,{vgChannel:a,ignoreVgConfig:!Ky(l)})),u!==void 0&&(o=In(u)));const c={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=Jte({...c,scaleChannel:e,channelDef:l});return k1({model:t,channelDef:l,vgChannel:a??e,invalidValueRef:f,mainRefFn:d=>iI({...c,channel:e,channelDef:d,stack:null,defaultRef:o})})}function fre(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,a=t.filled??wn("filled",n,i),o=Bt(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,u=wn(a===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[a===!0&&"color"]??o,l=wn(a===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[a===!1&&"color"],c=a?"fill":"stroke",f={...u?{fill:In(u)}:{},...l?{stroke:In(l)}:{}};return n.color&&(a?n.fill:n.stroke)&&Oe(bte("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...si("color",e,{vgChannel:c,defaultValue:a?u:l}),...si("fill",e,{defaultValue:r.fill?u:void 0}),...si("stroke",e,{defaultValue:r.stroke?l:void 0})}}function eBe(e){const{encoding:t,mark:n}=e,r=t.order;return!x0(n)&&Zo(r)?k1({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>In(i.value),invalidValueRef:void 0}):{}}function Hg({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,a=t[s],o=n[s];if((s==="xOffset"||s==="yOffset")&&o)return{offsetType:"encoding",offset:iI({channel:s,channelDef:o,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:In(a),bandPosition:i})};const u=t[s];return u?{offsetType:"visual",offset:u}:{}}function ys(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:a,stack:o}=t,u=i[e],l=i[gl(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:h,offsetType:d}=Hg({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=CI({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!u&&dr(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:tBe({channel:e,channelDef:u,channel2Def:l,markDef:s,config:a,scaleName:c,scale:f,stack:o,offset:h,defaultRef:p,bandPosition:d==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function tBe(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:a}=e;if(yt(n)&&i&&t===i.fieldChannel){if(Re(n)){let o=n.bandPosition;if(o===void 0&&a.type==="text"&&(t==="radius"||t==="theta")&&(o=.5),o!==void 0)return Cw({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:o,offset:s})}return xh(n,r,{suffix:"end"},{offset:s})}return rI(e)}function CI({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:a}=e;return()=>{const o=Od(n),u=zf(n),l=wn(n,s,a,{vgChannel:u});if(l!==void 0)return _x(n,l);switch(t){case"zeroOrMin":return Y7({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:o,config:a});case"zeroOrMax":return Y7({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:o,config:a});case"mid":return{...e[ia(n)],mult:.5}}}}function Y7({mainChannel:e,config:t,...n}){const r=Yte(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:s,heightSignal:a}=i.zeroOrMax;return{signal:`min(${s},${a})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const nBe={left:"x",center:"xc",right:"x2"},rBe={top:"y",middle:"yc",bottom:"y2"};function hre(e,t,n,r="middle"){if(e==="radius"||e==="theta")return zf(e);const i=e==="x"?"align":"baseline",s=wn(i,t,n);let a;return st(s)?(Oe(tRe(i)),a=void 0):a=s,e==="x"?nBe[a||(r==="top"?"left":"center")]:rBe[a||r]}function $w(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?dre(e,t,{defaultPos:n,defaultPos2:r}):ys(e,t,{defaultPos:n})}function dre(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,a=gl(e),o=ia(e),u=iBe(t,r,a),l=u[o]?hre(e,i,s):zf(e);return{...ys(e,t,{defaultPos:n,vgChannel:l}),...u}}function iBe(e,t,n){const{encoding:r,mark:i,markDef:s,stack:a,config:o}=e,u=Od(n),l=ia(n),c=zf(n),f=r[u],h=e.scaleName(u),d=e.getScaleComponent(u),{offset:p}=n in r||n in s?Hg({channel:n,markDef:s,encoding:r,model:e}):Hg({channel:u,markDef:s,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const m=ia(n),x=e.markDef[m];return x!=null?{[m]:{value:x}}:{[c]:{field:e.getName(n)}}}const g=sBe({channel:n,channelDef:f,channel2Def:r[n],markDef:s,config:o,scaleName:h,scale:d,stack:a,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:g2(n,s)||g2(n,{[n]:OD(n,s,o.style),[l]:OD(l,s,o.style)})||g2(n,o[i])||g2(n,o.mark)||{[c]:CI({model:e,defaultPos:t,channel:n,scaleName:h,scale:d})()}}function sBe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:a,stack:o,offset:u,defaultRef:l}){return yt(t)&&o&&e.charAt(0)===o.fieldChannel.charAt(0)?xh(t,s,{suffix:"start"},{offset:u}):rI({channel:e,channelDef:n,scaleName:s,scale:a,stack:o,markDef:r,config:i,offset:u,defaultRef:l})}function g2(e,t){const n=ia(e),r=zf(e);if(t[r]!==void 0)return{[r]:_x(e,t[r])};if(t[e]!==void 0)return{[r]:_x(e,t[e])};if(t[n]){const i=t[n];if(ed(i))Oe(KIe(n));else return{[n]:_x(e,i)}}}function yc(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,a=gl(t),o=ia(t),u=r[t],l=r[a],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,h=i.orient,d=r[o]??r.size??wn("size",i,n,{vgChannel:o}),p=ate(t),g=s==="bar"&&(t==="x"?h==="vertical":h==="horizontal")||s==="tick"&&(t==="y"?h==="vertical":h==="horizontal");return Re(u)&&(Nn(u.bin)||ni(u.bin)||u.timeUnit&&!l)&&!(d&&!ed(d))&&!r[p]&&!Jr(f)?uBe({fieldDef:u,fieldDef2:l,channel:t,model:e}):(yt(u)&&Jr(f)||g)&&!l?oBe(u,t,e):dre(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function aBe(e,t,n,r,i,s,a){if(ed(i))if(n){const u=n.get("type");if(u==="band"){let l=`bandwidth('${t}')`;i.band!==1&&(l=`${i.band} * ${l}`);const c=Ju("minBandSize",{type:a},r);return{signal:c?`max(${Bo(c)}, ${l})`:l}}else i.band!==1&&(Oe(sRe(u)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(st(i))return i;if(i)return{value:i}}if(n){const u=n.get("range");if(Id(u)&&sn(u.step))return{value:u.step-2}}if(!s){const{bandPaddingInner:u,barBandPaddingInner:l,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,h=hr(u,a==="tick"?f:a==="bar"?l:c);if(st(h))return{signal:`(1 - (${h.signal})) * ${e}`};if(sn(h))return{signal:`${1-h} * ${e}`}}return{value:BD(r.view,e)-2}}function oBe(e,t,n){var A,C;const{markDef:r,encoding:i,config:s,stack:a}=n,o=r.orient,u=n.scaleName(t),l=n.getScaleComponent(t),c=ia(t),f=gl(t),h=ate(t),d=n.scaleName(h),p=n.getScaleComponent(D$(t)),g=r.type==="tick"||o==="horizontal"&&t==="y"||o==="vertical"&&t==="x";let m;(i.size||r.size)&&(g?m=si("size",n,{vgChannel:c,defaultRef:In(r.size)}):Oe(lRe(r.type)));const x=!!m,y=ine({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(A=l||p)==null?void 0:A.get("type"),useVlSizeChannel:g});m=m||{[c]:aBe(c,d||u,p||l,s,y,!!e,r.type)};const v=((C=l||p)==null?void 0:C.get("type"))==="band"&&ed(y)&&!x?"top":"middle",_=hre(t,r,s,v),E=_==="xc"||_==="yc",{offset:w,offsetType:b}=Hg({channel:t,markDef:r,encoding:i,model:n,bandPosition:E?.5:0}),S=rI({channel:t,channelDef:e,markDef:r,config:s,scaleName:u,scale:l,stack:a,offset:w,defaultRef:CI({model:n,defaultPos:"mid",channel:t,scaleName:u,scale:l}),bandPosition:E?b==="encoding"?0:.5:st(y)?{signal:`(1-${y})/2`}:ed(y)?(1-y.band)/2:0});if(c)return{[_]:S,...m};{const k=zf(f),F=m[c],N=w?{...F,offset:w}:F;return{[_]:S,[k]:_e(S)?[S[0],{...S[1],offset:N}]:{...S,offset:N}}}}function J7(e,t,n,r,i,s,a){if(ete(e))return 0;const o=e==="x"||e==="y2",u=o?-t/2:t/2;if(st(n)||st(i)||st(r)||s){const l=Bo(n),c=Bo(i),f=Bo(r),h=Bo(s),p=s?`(${a} < ${h} ? ${o?"":"-"}0.5 * (${h} - (${a})) : ${u})`:u,g=f?`${f} + `:"",m=l?`(${l} ? -1 : 1) * `:"",x=c?`(${c} + ${p})`:p;return{signal:g+m+x}}else return i=i||0,r+(n?-i-u:+i+u)}function uBe({fieldDef:e,fieldDef2:t,channel:n,model:r}){var C;const{config:i,markDef:s,encoding:a}=r,o=r.getScaleComponent(n),u=r.scaleName(n),l=o?o.get("type"):void 0,c=o.get("reverse"),f=ine({channel:n,fieldDef:e,markDef:s,config:i,scaleType:l}),h=(C=r.component.axes[n])==null?void 0:C[0],d=(h==null?void 0:h.get("translate"))??.5,p=dr(n)?wn("binSpacing",s,i)??0:0,g=gl(n),m=zf(n),x=zf(g),y=Ju("minBandSize",s,i),{offset:v}=Hg({channel:n,markDef:s,encoding:a,model:r,bandPosition:0}),{offset:_}=Hg({channel:g,markDef:s,encoding:a,model:r,bandPosition:0}),E=NMe({fieldDef:e,scaleName:u}),w=J7(n,p,c,d,v,y,E),b=J7(g,p,c,d,_??v,y,E),S=st(f)?{signal:`(1-${f.signal})/2`}:ed(f)?(1-f.band)/2:.5,A=Wf({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(Nn(e.bin)||e.timeUnit){const k=e.timeUnit&&A!==.5;return{[x]:Z7({fieldDef:e,scaleName:u,bandPosition:S,offset:b,useRectOffsetField:k}),[m]:Z7({fieldDef:e,scaleName:u,bandPosition:st(S)?{signal:`1-${S.signal}`}:1-S,offset:w,useRectOffsetField:k})}}else if(ni(e.bin)){const k=xh(e,u,{},{offset:b});if(Re(t))return{[x]:k,[m]:xh(t,u,{},{offset:w})};if($d(e.bin)&&e.bin.step)return{[x]:k,[m]:{signal:`scale("${u}", ${We(e,{expr:"datum"})} + ${e.bin.step})`,offset:w}}}Oe(Ste(g))}function Z7({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return Cw({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:bC,endSuffix:wC}:{}})}const lBe=new Set(["aria","width","height"]);function bo(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?fre(e):{};return{...cBe(e.markDef,t),...Q7("fill",n),...Q7("stroke",r),...si("opacity",e),...si("fillOpacity",e),...si("strokeOpacity",e),...si("strokeWidth",e),...si("strokeDash",e),...eBe(e),...lre(e),...SI(e,"href"),...JPe(e)}}function Q7(e,t){return t?{[e]:t}:{}}function cBe(e,t){return yIe.reduce((n,r)=>(!lBe.has(r)&&Ne(e,r)&&t[r]!=="ignore"&&(n[r]=In(e[r])),n),{})}function kI(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,s)=>{var l;let a;if(!ml(s)||!(a=e.getScaleType(s)))return;const o=rC(i.aggregate),u=nI({scaleChannel:s,markDef:n,config:t,scaleType:a,isCountAggregate:o});if(TMe(u)){const c=e.vgField(s,{expr:"datum",binSuffix:(l=e.stack)!=null&&l.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(s=>oC(s,!0)).join(" && ")}}}function eU(e,t){if(t!==void 0)return{[e]:In(t)}}const JT="voronoi",pre={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(JT)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(x0(s))return Oe(SIe(s)),n;const a={name:e.getName(JT),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...lre(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let o=0,u=!1;return n.forEach((l,c)=>{const f=l.name??"";f===e.component.mark[0].name?o=c:f.includes(JT)&&(u=!0)}),u||n.splice(o+1,0,a),n}},gre={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!xI(e.bind),parse:(e,t,n)=>wre(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,a=t.init&&t.init[0],o=pre.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,l)=>{const c=Wn(`${r}_${u.field}`);n.filter(h=>h.name===c).length||n.unshift({name:c,...a?{init:nd(a[l])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${o}[${Me(u.field)}] : null`}]:[],bind:s[u.field]??s[u.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(l=>l.name===r+_c),a=r+Qy,o=i.items.map(l=>Wn(`${r}_${l.field}`)),u=o.map(l=>`${l} !== null`).join(" && ");return o.length&&(s.update=`${u} ? {fields: ${a}, values: [${o.join(", ")}]} : null`),delete s.value,delete s.on,n}},Iw="_toggle",mre={defined:e=>e.type==="point"&&!Uu(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+Iw,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+_c,r=t.name+Iw;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${yh(e)}}, `)+`${r} ? ${n} : null`}},fBe={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Uu(e),parse:(e,t)=>{t.clear&&(t.clear=Ge(t.clear)?u0(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(gre.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===Wn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(a=>a.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const a=n.findIndex(o=>o.name===i.signals.data);r(a,"null")}}else{let i=n.findIndex(s=>s.name===t.name+_c);r(i,"null"),mre.defined(t)&&(i=n.findIndex(s=>s.name===t.name+Iw),r(i,"false"))}return n}},xre={defined:e=>{const t=e.resolve==="global"&&e.bind&&xI(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==eu;return t&&!n&&Oe(FIe),t&&n},parse:(e,t,n)=>{const r=vt(n);if(r.select=Ge(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},wre(t,r),qe(n.select)&&(n.select.on||n.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const o of t.events)o.filter=Xe(o.filter??[]),o.filter.includes(a)||o.filter.push(a)}const i=jT(t.bind)?t.bind.legend:"click",s=Ge(i)?u0(i,"view"):Xe(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=jT(t.bind)&&t.bind.legend,s=a=>o=>{const u=vt(o);return u.markname=a,u};for(const a of t.project.items){if(!a.hasLegend)continue;const o=`${Wn(a.field)}_legend`,u=`${r}_${o}`;if(n.filter(c=>c.name===u).length===0){const c=i.merge.map(s(`${o}_symbols`)).concat(i.merge.map(s(`${o}_labels`))).concat(i.merge.map(s(`${o}_entries`)));n.unshift({name:u,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(h=>h.name===r+_c),a=r+Qy,o=i.items.filter(h=>h.hasLegend).map(h=>Wn(`${r}_${Wn(h.field)}_legend`)),l=`${o.map(h=>`${h} !== null`).join(" && ")} ? {fields: ${a}, values: [${o.join(", ")}]} : null`;t.events&&o.length>0?s.on.push({events:o.map(h=>({signal:h})),update:l}):o.length>0&&(s.update=l,delete s.value,delete s.on);const c=n.find(h=>h.name===r+Iw),f=jT(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function hBe(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const s of pi(e.component.selection??{})){const a=s.project.hasField[r]??s.project.hasChannel[t];if(a&&xre.defined(s)){const o=n.get("selections")??[];o.push(s.name),n.set("selections",o,!1),a.hasLegend=!0}}}const vre="_translate_anchor",yre="_translate_delta",dBe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=ic.defined(t),s=r+vre,{x:a,y:o}=t.project.hasChannel;let u=u0(t.translate,"scope");return i||(u=u.map(l=>(l.between[0].markname=r+Xp,l))),n.push({name:s,value:{},on:[{events:u.map(l=>l.between[0]),update:"{x: x(unit), y: y(unit)"+(a!==void 0?`, extent_x: ${i?VD(e,Hn):`slice(${a.signals.visual})`}`:"")+(o!==void 0?`, extent_y: ${i?VD(e,ei):`slice(${o.signals.visual})`}`:"")+"}"}]},{name:r+yre,value:{},on:[{events:u,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),a!==void 0&&tU(e,t,a,"width",n),o!==void 0&&tU(e,t,o,"height",n),n}};function tU(e,t,n,r,i){const s=t.name,a=s+vre,o=s+yre,u=n.channel,l=ic.defined(t),c=i.find(E=>E.name===n.signals[l?"data":"visual"]),f=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(u),d=h&&h.get("type"),p=h&&h.get("reverse"),g=l?u===Hn?p?"":"-":p?"-":"":"",m=`${a}.extent_${u}`,x=`${g}${o}.${u} / ${l?`${f}`:`span(${m})`}`,y=!l||!h?"panLinear":d==="log"?"panLog":d==="symlog"?"panSymlog":d==="pow"?"panPow":"panLinear",v=l?d==="pow"?`, ${h.get("exponent")??1}`:d==="symlog"?`, ${h.get("constant")??1}`:"":"",_=`${y}(${m}, ${x}${v})`;c.on.push({events:{signal:o},update:l?_:`clampRange(${_}, 0, ${f})`})}const _re="_zoom_anchor",Ere="_zoom_delta",pBe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=ic.defined(t),s=r+Ere,{x:a,y:o}=t.project.hasChannel,u=Me(e.scaleName(Hn)),l=Me(e.scaleName(ei));let c=u0(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Xp,f))),n.push({name:r+_re,on:[{events:c,update:i?"{"+[u?`x: invert(${u}, x(unit))`:"",l?`y: invert(${l}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),a!==void 0&&nU(e,t,a,"width",n),o!==void 0&&nU(e,t,o,"height",n),n}};function nU(e,t,n,r,i){const s=t.name,a=n.channel,o=ic.defined(t),u=i.find(y=>y.name===n.signals[o?"data":"visual"]),l=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(a),f=c&&c.get("type"),h=o?VD(e,a):u.name,d=s+Ere,p=`${s}${_re}.${a}`,g=!o||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",m=o?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",x=`${g}(${h}, ${p}, ${d}${m})`;u.on.push({events:{signal:d},update:o?x:`clampRange(${x}, 0, ${l})`})}const rd="_store",_c="_tuple",gBe="_modify",bre="vlSelectionResolve",SC=[zPe,KPe,PPe,mre,gre,ic,xre,fBe,dBe,pBe,pre];function mBe(e){let t=e.parent;for(;t&&!ba(t);)t=t.parent;return t}function yh(e,{escape:t}={escape:!0}){let n=t?Me(e.name):e.name;const r=mBe(e);if(r){const{facet:i}=r;for(const s of to)i[s]&&(n+=` + '__facet_${s}_' + (facet[${Me(r.vgField(s))}])`)}return n}function TI(e){return pi(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function wre(e,t){(Ge(t.select)||!t.select.on)&&delete e.events,(Ge(t.select)||!t.select.clear)&&delete e.clear,(Ge(t.select)||!t.select.toggle)&&delete e.toggle}function Uu(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}const xBe="RawCode",vBe="Literal",yBe="Property",_Be="Identifier",EBe="ArrayExpression",bBe="BinaryExpression",wBe="CallExpression",ABe="ConditionalExpression",SBe="LogicalExpression",CBe="MemberExpression",kBe="ObjectExpression",TBe="UnaryExpression";function fu(e){this.type=e}fu.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=FBe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function FBe(e){switch(e.type){case EBe:return e.elements;case bBe:case SBe:return[e.left,e.right];case wBe:return[e.callee].concat(e.arguments);case ABe:return[e.test,e.consequent,e.alternate];case CBe:return[e.object,e.property];case kBe:return e.properties;case yBe:return[e.key,e.value];case TBe:return[e.argument];case _Be:case vBe:case xBe:default:return[]}}var vl,it,xe,Xi,yn,CC=1,e_=2,id=3,v0=4,kC=5,Pd=6,Ls=7,t_=8,DBe=9;vl={};vl[CC]="Boolean";vl[e_]="<end>";vl[id]="Identifier";vl[v0]="Keyword";vl[kC]="Null";vl[Pd]="Numeric";vl[Ls]="Punctuator";vl[t_]="String";vl[DBe]="RegularExpression";var NBe="ArrayExpression",OBe="BinaryExpression",$Be="CallExpression",IBe="ConditionalExpression",Are="Identifier",RBe="Literal",MBe="LogicalExpression",LBe="MemberExpression",PBe="ObjectExpression",BBe="Property",UBe="UnaryExpression",qr="Unexpected token %0",zBe="Unexpected number",WBe="Unexpected string",HBe="Unexpected identifier",VBe="Unexpected reserved word",jBe="Unexpected end of input",GD="Invalid regular expression",ZT="Invalid regular expression: missing /",Sre="Octal literals are not allowed in strict mode.",GBe="Duplicate data property in object literal not allowed in strict mode",fi="ILLEGAL",Fv="Disabled.",qBe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),XBe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function TC(e,t){if(!e)throw new Error("ASSERT: "+t)}function Rl(e){return e>=48&&e<=57}function FI(e){return"0123456789abcdefABCDEF".includes(e)}function Ex(e){return"01234567".includes(e)}function KBe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Dv(e){return e===10||e===13||e===8232||e===8233}function n_(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&qBe.test(String.fromCharCode(e))}function Rw(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&XBe.test(String.fromCharCode(e))}const YBe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Cre(){for(;xe<Xi;){const e=it.charCodeAt(xe);if(KBe(e)||Dv(e))++xe;else break}}function qD(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)xe<Xi&&FI(it[xe])?(r=it[xe++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):nn({},qr,fi);return String.fromCharCode(i)}function JBe(){var e,t,n,r;for(e=it[xe],t=0,e==="}"&&nn({},qr,fi);xe<Xi&&(e=it[xe++],!!FI(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&nn({},qr,fi),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function kre(){var e,t;for(e=it.charCodeAt(xe++),t=String.fromCharCode(e),e===92&&(it.charCodeAt(xe)!==117&&nn({},qr,fi),++xe,e=qD("u"),(!e||e==="\\"||!n_(e.charCodeAt(0)))&&nn({},qr,fi),t=e);xe<Xi&&(e=it.charCodeAt(xe),!!Rw(e));)++xe,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),it.charCodeAt(xe)!==117&&nn({},qr,fi),++xe,e=qD("u"),(!e||e==="\\"||!Rw(e.charCodeAt(0)))&&nn({},qr,fi),t+=e);return t}function ZBe(){var e,t;for(e=xe++;xe<Xi;){if(t=it.charCodeAt(xe),t===92)return xe=e,kre();if(Rw(t))++xe;else break}return it.slice(e,xe)}function QBe(){var e,t,n;return e=xe,t=it.charCodeAt(xe)===92?kre():ZBe(),t.length===1?n=id:YBe.hasOwnProperty(t)?n=v0:t==="null"?n=kC:t==="true"||t==="false"?n=CC:n=id,{type:n,value:t,start:e,end:xe}}function QT(){var e=xe,t=it.charCodeAt(xe),n,r=it[xe],i,s,a;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++xe,{type:Ls,value:String.fromCharCode(t),start:e,end:xe};default:if(n=it.charCodeAt(xe+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return xe+=2,{type:Ls,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:xe};case 33:case 61:return xe+=2,it.charCodeAt(xe)===61&&++xe,{type:Ls,value:it.slice(e,xe),start:e,end:xe}}}if(a=it.substr(xe,4),a===">>>=")return xe+=4,{type:Ls,value:a,start:e,end:xe};if(s=a.substr(0,3),s===">>>"||s==="<<="||s===">>=")return xe+=3,{type:Ls,value:s,start:e,end:xe};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return xe+=2,{type:Ls,value:i,start:e,end:xe};if(i==="//"&&nn({},qr,fi),"<>=!+-*%&|^/".includes(r))return++xe,{type:Ls,value:r,start:e,end:xe};nn({},qr,fi)}function e9e(e){let t="";for(;xe<Xi&&FI(it[xe]);)t+=it[xe++];return t.length===0&&nn({},qr,fi),n_(it.charCodeAt(xe))&&nn({},qr,fi),{type:Pd,value:parseInt("0x"+t,16),start:e,end:xe}}function t9e(e){let t="0"+it[xe++];for(;xe<Xi&&Ex(it[xe]);)t+=it[xe++];return(n_(it.charCodeAt(xe))||Rl(it.charCodeAt(xe)))&&nn({},qr,fi),{type:Pd,value:parseInt(t,8),octal:!0,start:e,end:xe}}function rU(){var e,t,n;if(n=it[xe],TC(Rl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=xe,e="",n!=="."){if(e=it[xe++],n=it[xe],e==="0"){if(n==="x"||n==="X")return++xe,e9e(t);if(Ex(n))return t9e(t);n&&Rl(n.charCodeAt(0))&&nn({},qr,fi)}for(;Rl(it.charCodeAt(xe));)e+=it[xe++];n=it[xe]}if(n==="."){for(e+=it[xe++];Rl(it.charCodeAt(xe));)e+=it[xe++];n=it[xe]}if(n==="e"||n==="E")if(e+=it[xe++],n=it[xe],(n==="+"||n==="-")&&(e+=it[xe++]),Rl(it.charCodeAt(xe)))for(;Rl(it.charCodeAt(xe));)e+=it[xe++];else nn({},qr,fi);return n_(it.charCodeAt(xe))&&nn({},qr,fi),{type:Pd,value:parseFloat(e),start:t,end:xe}}function n9e(){var e="",t,n,r,i,s=!1;for(t=it[xe],TC(t==="'"||t==='"',"String literal must starts with a quote"),n=xe,++xe;xe<Xi;)if(r=it[xe++],r===t){t="";break}else if(r==="\\")if(r=it[xe++],!r||!Dv(r.charCodeAt(0)))switch(r){case"u":case"x":it[xe]==="{"?(++xe,e+=JBe()):e+=qD(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Ex(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),xe<Xi&&Ex(it[xe])&&(s=!0,i=i*8+"01234567".indexOf(it[xe++]),"0123".includes(r)&&xe<Xi&&Ex(it[xe])&&(i=i*8+"01234567".indexOf(it[xe++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&it[xe]===`
`&&++xe;else{if(Dv(r.charCodeAt(0)))break;e+=r}return t!==""&&nn({},qr,fi),{type:t_,value:e,octal:s,start:n,end:xe}}function r9e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";nn({},GD)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{nn({},GD)}try{return new RegExp(e,t)}catch{return null}}function i9e(){var e,t,n,r,i;for(e=it[xe],TC(e==="/","Regular expression literal must start with a slash"),t=it[xe++],n=!1,r=!1;xe<Xi;)if(e=it[xe++],t+=e,e==="\\")e=it[xe++],Dv(e.charCodeAt(0))&&nn({},ZT),t+=e;else if(Dv(e.charCodeAt(0)))nn({},ZT);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||nn({},ZT),i=t.substr(1,t.length-2),{value:i,literal:t}}function s9e(){var e,t,n;for(t="",n="";xe<Xi&&(e=it[xe],!!Rw(e.charCodeAt(0)));)++xe,e==="\\"&&xe<Xi?nn({},qr,fi):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&nn({},GD,n),{value:n,literal:t}}function a9e(){var e,t,n,r;return yn=null,Cre(),e=xe,t=i9e(),n=s9e(),r=r9e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:xe}}function o9e(e){return e.type===id||e.type===v0||e.type===CC||e.type===kC}function Tre(){if(Cre(),xe>=Xi)return{type:e_,start:xe,end:xe};const e=it.charCodeAt(xe);return n_(e)?QBe():e===40||e===41||e===59?QT():e===39||e===34?n9e():e===46?Rl(it.charCodeAt(xe+1))?rU():QT():Rl(e)?rU():QT()}function Vs(){const e=yn;return xe=e.end,yn=Tre(),xe=e.end,e}function Fre(){const e=xe;yn=Tre(),xe=e}function u9e(e){const t=new fu(NBe);return t.elements=e,t}function iU(e,t,n){const r=new fu(e==="||"||e==="&&"?MBe:OBe);return r.operator=e,r.left=t,r.right=n,r}function l9e(e,t){const n=new fu($Be);return n.callee=e,n.arguments=t,n}function c9e(e,t,n){const r=new fu(IBe);return r.test=e,r.consequent=t,r.alternate=n,r}function DI(e){const t=new fu(Are);return t.name=e,t}function qm(e){const t=new fu(RBe);return t.value=e.value,t.raw=it.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function sU(e,t,n){const r=new fu(LBe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function f9e(e){const t=new fu(PBe);return t.properties=e,t}function aU(e,t,n){const r=new fu(BBe);return r.key=t,r.value=n,r.kind=e,r}function h9e(e,t){const n=new fu(UBe);return n.operator=e,n.argument=t,n.prefix=!0,n}function nn(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,a)=>(TC(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=xe,n.description=i,n}function FC(e){e.type===e_&&nn(e,jBe),e.type===Pd&&nn(e,zBe),e.type===t_&&nn(e,WBe),e.type===id&&nn(e,HBe),e.type===v0&&nn(e,VBe),nn(e,qr,e.value)}function Ki(e){const t=Vs();(t.type!==Ls||t.value!==e)&&FC(t)}function Rn(e){return yn.type===Ls&&yn.value===e}function eF(e){return yn.type===v0&&yn.value===e}function d9e(){const e=[];for(xe=yn.start,Ki("[");!Rn("]");)Rn(",")?(Vs(),e.push(null)):(e.push(sd()),Rn("]")||Ki(","));return Vs(),u9e(e)}function oU(){xe=yn.start;const e=Vs();return e.type===t_||e.type===Pd?(e.octal&&nn(e,Sre),qm(e)):DI(e.value)}function p9e(){var e,t,n,r;if(xe=yn.start,e=yn,e.type===id)return n=oU(),Ki(":"),r=sd(),aU("init",n,r);if(e.type===e_||e.type===Ls)FC(e);else return t=oU(),Ki(":"),r=sd(),aU("init",t,r)}function g9e(){var e=[],t,n,r,i={},s=String;for(xe=yn.start,Ki("{");!Rn("}");)t=p9e(),t.key.type===Are?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?nn({},GBe):i[r]=!0,e.push(t),Rn("}")||Ki(",");return Ki("}"),f9e(e)}function m9e(){Ki("(");const e=NI();return Ki(")"),e}const x9e={if:1};function v9e(){var e,t,n;if(Rn("("))return m9e();if(Rn("["))return d9e();if(Rn("{"))return g9e();if(e=yn.type,xe=yn.start,e===id||x9e[yn.value])n=DI(Vs().value);else if(e===t_||e===Pd)yn.octal&&nn(yn,Sre),n=qm(Vs());else{if(e===v0)throw new Error(Fv);e===CC?(t=Vs(),t.value=t.value==="true",n=qm(t)):e===kC?(t=Vs(),t.value=null,n=qm(t)):Rn("/")||Rn("/=")?(n=qm(a9e()),Fre()):FC(Vs())}return n}function y9e(){const e=[];if(Ki("("),!Rn(")"))for(;xe<Xi&&(e.push(sd()),!Rn(")"));)Ki(",");return Ki(")"),e}function _9e(){xe=yn.start;const e=Vs();return o9e(e)||FC(e),DI(e.value)}function E9e(){return Ki("."),_9e()}function b9e(){Ki("[");const e=NI();return Ki("]"),e}function w9e(){var e,t,n;for(e=v9e();;)if(Rn("."))n=E9e(),e=sU(".",e,n);else if(Rn("("))t=y9e(),e=l9e(e,t);else if(Rn("["))n=b9e(),e=sU("[",e,n);else break;return e}function uU(){const e=w9e();if(yn.type===Ls&&(Rn("++")||Rn("--")))throw new Error(Fv);return e}function OE(){var e,t;if(yn.type!==Ls&&yn.type!==v0)t=uU();else{if(Rn("++")||Rn("--"))throw new Error(Fv);if(Rn("+")||Rn("-")||Rn("~")||Rn("!"))e=Vs(),t=OE(),t=h9e(e.value,t);else{if(eF("delete")||eF("void")||eF("typeof"))throw new Error(Fv);t=uU()}}return t}function lU(e){let t=0;if(e.type!==Ls&&e.type!==v0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function A9e(){var e,t,n,r,i,s,a,o,u,l;if(e=yn,u=OE(),r=yn,i=lU(r),i===0)return u;for(r.prec=i,Vs(),t=[e,yn],a=OE(),s=[u,r,a];(i=lU(yn))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)a=s.pop(),o=s.pop().value,u=s.pop(),t.pop(),n=iU(o,u,a),s.push(n);r=Vs(),r.prec=i,s.push(r),t.push(yn),n=OE(),s.push(n)}for(l=s.length-1,n=s[l],t.pop();l>1;)t.pop(),n=iU(s[l-1].value,s[l-2],n),l-=2;return n}function sd(){var e,t,n;return e=A9e(),Rn("?")&&(Vs(),t=sd(),Ki(":"),n=sd(),e=c9e(e,t,n)),e}function NI(){const e=sd();if(Rn(","))throw new Error(Fv);return e}function S9e(e){it=e,xe=0,Xi=it.length,yn=null,Fre();const t=NI();if(yn.type!==e_)throw new Error("Unexpect token after expression.");return t}function XD(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...XD(e.object)),t.push(...XD(e.property))),t)}function Dre(e){return e.object.type==="MemberExpression"?Dre(e.object):e.object.name==="datum"}function Nre(e){const t=S9e(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&Dre(r)&&n.add(XD(r).slice(1).join("."))}),n}class T1 extends En{clone(){return new T1(null,this.model,vt(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=Mw(this.model,this.filter,this),this._dependentFields=Nre(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function C9e(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const s of t){const a=Wn(s.name),o=s.select,u=Ge(o)?o:o.type,l=qe(o)?vt(o):{type:u},c=r[u];for(const d in c)d==="fields"||d==="encodings"||(d==="mark"&&(l.mark={...c.mark,...l.mark}),(l[d]===void 0||l[d]===!0)&&(l[d]=vt(c[d]??l[d])));const f=n[a]={...l,name:a,type:u,init:s.value,bind:s.bind,events:Ge(l.on)?u0(l.on,"scope"):Xe(vt(l.on))};if(Uu(f)&&(i++,i>1)){delete n[a];continue}const h=vt(s);for(const d of SC)d.defined(f)&&d.parse&&d.parse(e,f,h)}return i>1&&Oe(RIe),n}function Ore(e,t,n,r="datum"){const i=Ge(t)?t:t.param,s=Wn(i),a=Me(s+rd);let o;try{o=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(o.project.timeUnit){const h=n??e.component.data.raw,d=o.project.timeUnit.clone();h.parent?d.insertAsParentOf(h):h.parent=d}const u=o.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",l=o.resolve==="global"?")":`, ${Me(o.resolve)})`,c=`${u}${a}, ${r}${l}`,f=`length(data(${a}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function $re(e,t,n){const r=Wn(t),i=n.encoding;let s=n.field,a;try{a=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=a.project.items[0].field,a.project.items.length>1&&Oe(MIe(s));else if(i&&!s){const o=a.project.items.filter(u=>u.channel===i);!o.length||o.length>1?(s=a.project.items[0].field,Oe(LIe(o,i,n,s))):s=o[0].field}return`${a.name}[${Me(po(s))}]`}function k9e(e,t){for(const[n,r]of Uf(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Ys(new T1(t,e,{param:n}),i,Xn.Lookup,e.component.data.outputNodeRefCounts)}}function Mw(e,t,n){return yx(t,r=>Ge(r)?r:GRe(r)?Ore(e,r,n):Lte(r))}function T9e(e,t){if(e)return _e(e)&&!rf(e)?e.map(n=>lI(n,t)).join(", "):e}function tF(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function Xm(e,t,n,r={header:!1}){var f,h;const{disable:i,orient:s,scale:a,labelExpr:o,title:u,zindex:l,...c}=e.combine();if(!i){for(const d in c){const p=d,g=JMe[p],m=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(Zy(m)){const{condition:x,...y}=m,v=Xe(x),_=D7[p];if(_){const{vgProp:E,part:w}=_,b=[...v.map(S=>{const{test:A,...C}=S;return{test:Mw(null,A),...C}}),y];tF(c,w,E,b),delete c[p]}else if(_===null){const E={signal:v.map(w=>{const{test:b,...S}=w;return`${Mw(null,b)} ? ${p7(S)} : `}).join("")+p7(y)};c[p]=E}}else if(st(m)){const x=D7[p];if(x){const{vgProp:y,part:v}=x;tF(c,v,y,m),delete c[p]}}Bt(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:d}=c.encode;c.encode={...d?{grid:d}:{}},An(c.encode)&&delete c.encode}return{scale:a,orient:s,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:hr(l,0)}}else{if(!r.header&&e.mainExtracted)return;if(o!==void 0){let p=o;(h=(f=c.encode)==null?void 0:f.labels)!=null&&h.update&&st(c.encode.labels.update.text)&&(p=Kh(o,"datum.label",c.encode.labels.update.text.signal)),tF(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of pne)e.hasAxisPart(p)||delete c.encode[p];An(c.encode)&&delete c.encode}const d=T9e(u,n);return{scale:a,orient:s,grid:!1,...d?{title:d}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:hr(l,0)}}}}function Ire(e){const{axes:t}=e.component,n=[];for(const r of Oc)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",a=e.getSizeSignalRef(s).signal;s!==a&&n.push({name:s,update:a})}}return n}function F9e(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>Xm(i,"grid",t)),...r.map(i=>Xm(i,"grid",t)),...n.map(i=>Xm(i,"main",t)),...r.map(i=>Xm(i,"main",t))].filter(i=>i)}function cU(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",a=t[n==="x"?"axisBottom":"axisLeft"]||{},o=t[n==="x"?"axisTop":"axisRight"]||{},u=new Set([...De(a),...De(o)]),l={};for(const c of u.values())l[c]={signal:`${r.signal} === "${s}" ? ${Bo(a[c])} : ${Bo(o[c])}`};return l}return t[i]})])}function D9e(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:zte(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",a=st(n)?"axisOrient":`axis${zy(n)}`,o=[...i,...i.map(l=>s+l.substr(4))],u=["axis",a,s];return{vlOnlyAxisConfig:cU(o,r,e,n),vgAxisConfig:cU(u,r,e,n),axisConfigStyle:N9e([...u,...o],r)}}function N9e(e,t){var r;const n=[{}];for(const i of e){let s=(r=t[i])==null?void 0:r.style;if(s){s=Xe(s);for(const a of s)n.push(t.style[a])}}return Object.assign.apply(null,n)}function KD(e,t,n,r={}){var s;const i=gte(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[a])==null?void 0:s[e])!==void 0)return{configFrom:a,configValue:r[a][e]};return{}}const fU={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??O9e(n,e),gridScale:({model:e,channel:t})=>$9e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||Mre(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||Rre(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??R9e(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??M9e(t.type,n,Re(t)&&!!t.timeUnit,Re(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,a=s?t.getSizeSignalRef(s):void 0;return n.tickCount??P9e({fieldOrDatumDef:r,scaleType:i,size:a,values:n.values})},tickMinStep:B9e,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=Lre(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",a=t.fieldDef(s);return xte(i?[T7(i)]:[],Re(a)?[T7(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>U9e(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??z9e(n,t)};function O9e(e,t){return!Jr(e)&&Re(t)&&!Nn(t==null?void 0:t.bin)&&!ni(t==null?void 0:t.bin)}function $9e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function I9e(e,t,n,r,i){const s=t==null?void 0:t.labelAngle;if(s!==void 0)return st(s)?s:Cv(s);{const{configValue:a}=KD("labelAngle",r,t==null?void 0:t.style,i);return a!==void 0?Cv(a):n===Hn&&Bt([J$,Y$],e.type)&&!(Re(e)&&e.timeUnit)?270:void 0}}function YD(e){return`(((${e.signal} % 360) + 360) % 360)`}function Rre(e,t,n,r){if(e!==void 0)if(n==="x"){if(st(e)){const i=YD(e),s=st(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(st(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(st(e)){const i=YD(e),s=st(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(st(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function Mre(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(st(e)){const a=YD(e),o=st(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${a} + 90)`:a} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${a} && ${a} < ${180+i}) === ${o} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(st(t)){const a=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${a} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function R9e(e,t){if(t==="x"&&Bt(["quantitative","temporal"],e))return!0}function M9e(e,t,n,r){if(n&&!qe(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function L9e(e){return e==="x"?"bottom":"left"}function P9e({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Jr(t)&&t!=="log"){if(Re(e)){if(Nn(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Bt(["month","hours","day","quarter"],(i=Kr(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function B9e({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Re(t)){const{timeUnit:n}=t;if(n){const r=Ite(n);if(r)return{signal:r}}}}function Lre(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,a=i?i.title:void 0;if(s&&a)return vte(s,a);if(s)return s;if(a)return a;if(s!==void 0)return s;if(a!==void 0)return a}function U9e(e,t){const n=e.values;if(_e(n))return dne(t,n);if(st(n))return n}function z9e(e,t){return e==="rect"&&Tw(t)?1:0}class Vg extends En{clone(){return new Vg(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=Nre(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(Ld(r)&&rne(r.sort)){const{field:s,timeUnit:a}=r,o=r.sort,u=o.map((l,c)=>`${Lte({field:s,timeUnit:a,equal:l})} ? ${c} : `).join("")+o.length;t=new Vg(t,{calculate:u,as:jg(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${jt(this.transform)}`}}function jg(e,t,n){return We(e,{prefix:t,suffix:"sort_index",...n})}function DC(e,t){return Bt(["top","bottom"],t)?"column":Bt(["left","right"],t)||e==="row"?"row":"column"}function Gg(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return hr((t||{})[e],i[e],n.header[e])}function NC(e,t,n,r){const i={};for(const s of e){const a=Gg(s,t||{},n,r);a!==void 0&&(i[s]=a)}return i}const OI=["row","column"],$I=["header","footer"];function W9e(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:a,titleOrient:o}=NC(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),u=DC(t,o),l=Cv(a);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...Bre(l,u),...Pre(u,l,s),...Ure(r,i,t,yLe,One)}}}function Pre(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=Mre(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function Bre(e,t){const n=Rre(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function H9e(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of $I)if(n[i])for(const s of n[i]){const a=j9e(e,t,i,n,s);a!=null&&r.push(a)}return r}function V9e(e,t){const{sort:n}=e;return rc(n)?{field:We(n,{expr:"datum"}),order:n.order??"ascending"}:_e(n)?{field:jg(e,t,{expr:"datum"}),order:"ascending"}:{field:We(e,{expr:"datum"}),order:n??"ascending"}}function JD(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:a,labelOrient:o,labelExpr:u}=NC(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),l=sI({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=DC(t,o);return{text:{signal:u?Kh(Kh(u,"datum.label",l),"datum.value",We(e,{expr:"parent"})):l},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...Bre(s,c),...Pre(c,s,a),...Ure(n,e,t,_Le,$ne)}}function j9e(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:a}=r,o=e.config?e.config:void 0;if(a&&i.labels){const{labelOrient:f}=NC(["labelOrient"],a.header,o,t);(t==="row"&&!Bt(["top","bottom"],f)||t==="column"&&!Bt(["left","right"],f))&&(s=JD(a,t,o))}const u=ba(e)&&!Xy(e.facet),l=i.axes,c=(l==null?void 0:l.length)>0;if(s||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:V9e(a,t)}:{},...c&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:l}:{}}}}return null}const G9e={column:{start:0,end:1},row:{start:1,end:0}};function q9e(e,t){return G9e[t][e]}function X9e(e,t){const n={};for(const r of to){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:s,titleOrient:a}=NC(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),o=DC(r,a),u=q9e(s,o);u!==void 0&&(n[o]=u)}}return An(n)?void 0:n}function Ure(e,t,n,r,i){const s={};for(const a of r){if(!i[a])continue;const o=Gg(a,t==null?void 0:t.header,e,n);o!==void 0&&(s[i[a]]=o)}return s}function II(e){return[...m2(e,"width"),...m2(e,"height"),...m2(e,"childWidth"),...m2(e,"childHeight")]}function m2(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const a=s.get("type"),o=s.get("range");if(Jr(a)&&Id(o)){const u=e.scaleName(n);return ba(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[hU(u,o)]:[hU(u,o),{name:i,update:zre(u,s,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),a=s?"containerSize()[0]":"containerSize()[1]",o=PD(e.config.view,s?"width":"height"),u=`isFinite(${a}) ? ${a} : ${o}`;return[{name:i,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:i,value:r}]}function hU(e,t){const n=`${e}_step`;return st(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function zre(e,t,n){const r=t.get("type"),i=t.get("padding"),s=hr(t.get("paddingOuter"),i);let a=t.get("paddingInner");return a=r==="band"?a!==void 0?a:i:1,`bandspace(${n}, ${Bo(a)}, ${Bo(s)}) * ${e}_step`}function Wre(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function Hre(e,t){return De(e).reduce((n,r)=>({...n,...k1({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>In(i.value),invalidValueRef:void 0})}),{})}function Vre(e,t){if(ba(t))return e==="theta"?"independent":"shared";if(N1(t))return"shared";if(zI(t))return dr(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function RI(e,t){const n=e.scale[t],r=dr(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Oe(pRe(t)),"independent"):e[r][t]||"shared"}const K9e={...wLe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},jre=De(K9e);class Y9e extends Ic{}const dU={symbols:J9e,gradient:Z9e,labels:Q9e,entries:e7e};function J9e(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:a,encoding:o,config:u,mark:l}=n,c=a.filled&&l!=="trail";let f={...bIe({},n,vMe),...fre(n,{filled:c})};const h=i.get("symbolOpacity")??u.legend.symbolOpacity,d=i.get("symbolFillColor")??u.legend.symbolFillColor,p=i.get("symbolStrokeColor")??u.legend.symbolStrokeColor,g=h===void 0?Gre(o.opacity)??a.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===na)delete f.fill;else if(Ne(f.fill,"field"))d?delete f.fill:(f.fill=In(u.legend.symbolBaseFillColor??"black"),f.fillOpacity=In(g??1));else if(_e(f.fill)){const m=ZD(o.fill??o.color)??a.fill??(c&&a.color);m&&(f.fill=In(m))}}if(f.stroke){if(r==="stroke"||!c&&r===na)delete f.stroke;else if(Ne(f.stroke,"field")||p)delete f.stroke;else if(_e(f.stroke)){const m=hr(ZD(o.stroke||o.color),a.stroke,c?a.color:void 0);m&&(f.stroke={value:m})}}if(r!==Nc){const m=Re(t)&&Xre(n,i,t);m?f.opacity=[{test:m,...In(g??1)},In(u.legend.unselectedOpacity)]:g&&(f.opacity=In(g))}return f={...f,...e},An(f)?void 0:f}function Z9e(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:a}=t;let o={};const l=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?Gre(a.opacity)||s.opacity:void 0;return l&&(o.opacity=In(l)),o={...o,...e},An(o)?void 0:o}function Q9e(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},a=n.config,o=Re(t)?Xre(n,i,t):void 0,u=o?[{test:o,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:l,formatType:c}=s;let f;td(c)?f=Uo({fieldOrDatumDef:t,field:"datum.value",format:l,formatType:c,config:a}):l===void 0&&c===void 0&&a.customFormatTypes&&(t.type==="quantitative"&&a.numberFormatType?f=Uo({fieldOrDatumDef:t,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):t.type==="temporal"&&a.timeFormatType&&Re(t)&&t.timeUnit===void 0&&(f=Uo({fieldOrDatumDef:t,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const h={...u?{opacity:u}:{},...f?{text:f}:{},...e};return An(h)?void 0:h}function e7e(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function Gre(e){return qre(e,(t,n)=>Math.max(t,n.value))}function ZD(e){return qre(e,(t,n)=>hr(t,n.value))}function qre(e,t){if(BMe(e))return Xe(e.condition).reduce(t,e.value);if(Zo(e))return e.value}function Xre(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Me(n.field);return r.map(s=>`(!length(data(${Me(Wn(s)+rd)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const pU={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return ene(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return tne(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??o7e(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??u7e(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??n7e(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>qp(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Gp(n)&&$u(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>t7e(t,e)};function t7e(e,t){const n=e.values;if(_e(n))return dne(t,n);if(st(n))return n}function n7e(e,t,n,r){if(t!=="shape"){const i=ZD(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function r7e(e){const{legend:t}=e;return hr(t.type,i7e(e))}function i7e({channel:e,timeUnit:t,scaleType:n}){if(Gp(e)){if(Bt(["quarter","month","day"],t))return"symbol";if($u(n))return"gradient"}return"symbol"}function s7e({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??a7e(n,t)}function a7e(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function o7e({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:a,gradientVerticalMaxLength:o,gradientVerticalMinLength:u}=e;if($u(i))return n==="horizontal"?r==="top"||r==="bottom"?gU(t,"width",a,s):a:gU(t,"height",u,o)}function gU(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function u7e(e){if(Bt(["quantile","threshold","log","symlog"],e))return"greedy"}function Kre(e){const t=qn(e)?l7e(e):d7e(e);return e.component.legends=t,t}function l7e(e){const{encoding:t}=e,n={};for(const r of[na,...Rne]){const i=Or(t[r]);!i||!e.getScaleComponent(r)||r===ra&&Re(i)&&i.type===C1||(n[r]=h7e(e,r))}return n}function c7e(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function f7e(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function h7e(e,t){var _;let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,a=s.legend,o=new Y9e({},c7e(e,t));hBe(e,t,o);const u=n!==void 0?!n:a.disable;if(o.set("disable",u,n!==void 0),u)return o;n=n||{};const l=e.getScaleComponent(t).get("type"),c=Or(i[t]),f=Re(c)?(_=Kr(c.timeUnit))==null?void 0:_.unit:void 0,h=n.orient||s.legend.orient||"right",d=r7e({legend:n,channel:t,timeUnit:f,scaleType:l}),p=s7e({legend:n,legendType:d,orient:h,legendConfig:a}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:a,config:s,scaleType:l,orient:h,legendType:d,direction:p};for(const E of jre){if(d==="gradient"&&E.startsWith("symbol")||d==="symbol"&&E.startsWith("gradient"))continue;const w=E in pU?pU[E](g):n[E];if(w!==void 0){const b=f7e(w,E,n,e.fieldDef(t));(b||s.legend[E]===void 0)&&o.set(E,w,b)}}const m=(n==null?void 0:n.encoding)??{},x=o.get("selections"),y={},v={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:o,legendType:d};for(const E of["labels","legend","title","symbols","gradient","entries"]){const w=Hre(m[E]??{},e),b=E in dU?dU[E](w,v):w;b!==void 0&&!An(b)&&(y[E]={...x!=null&&x.length&&Re(c)?{name:`${Wn(c.field)}_legend_${E}`}:{},...x!=null&&x.length?{interactive:!!x}:{},update:b})}return An(y)||o.set("encode",y,!!(n!=null&&n.encoding)),o}function d7e(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Kre(r);for(const i of De(r.component.legends))n.legend[i]=RI(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=Yre(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of De(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function Yre(e,t){var s,a,o,u;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const l of jre){const c=Hf(e.getWithExplicit(l),t.getWithExplicit(l),l,"legend",(f,h)=>{switch(l){case"symbolType":return p7e(f,h);case"title":return yte(f,h);case"type":return i=!0,ua("symbol")}return EC(f,h,l,"legend")});e.setWithExplicit(l,c)}return i&&((a=(s=e.implicit)==null?void 0:s.encode)!=null&&a.gradient&&ww(e.implicit,["encode","gradient"]),(u=(o=e.explicit)==null?void 0:o.encode)!=null&&u.gradient&&ww(e.explicit,["encode","gradient"])),e}function p7e(e,t){return t.value==="circle"?t:e}function g7e(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function Jre(e){const t=e.component.legends,n={};for(const i of De(t)){const s=e.getScaleComponent(i),a=Sn(s.get("domains"));if(n[a])for(const o of n[a])Yre(o,t[i])||n[a].push(t[i]);else n[a]=[t[i].clone()]}return pi(n).flat().map(i=>m7e(i,e.config)).filter(i=>i!==void 0)}function m7e(e,t){var a,o,u;const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),(a=s.encode)!=null&&a.symbols){const l=s.encode.symbols.update;l.fill&&l.fill.value!=="transparent"&&!l.stroke&&!s.stroke&&(l.stroke={value:"transparent"});for(const c of Rne)s[c]&&delete l[c]}if(s.title||delete s.title,r!==void 0){let l=r;(u=(o=s.encode)==null?void 0:o.labels)!=null&&u.update&&st(s.encode.labels.update.text)&&(l=Kh(r,"datum.label",s.encode.labels.update.text.signal)),g7e(s,"labels","text",{signal:l})}return s}}function x7e(e){return N1(e)||zI(e)?v7e(e):Zre(e)}function v7e(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Zre(e))}function Zre(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(a=>a.signal).join(", ")}]`},s=t.data.reduce((a,o)=>{const u=st(o)?o.signal:`data('${e.lookupDataSource(o)}')`;return Bt(a,u)||a.push(u),a},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const y7e=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Qre extends Ic{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function eie(e){e.component.projection=qn(e)?_7e(e):w7e(e)}function _7e(e){if(e.hasProjection){const t=ri(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?E7e(e):void 0,s=new Qre(e.projectionName(!0),{...ri(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function E7e(e){const t=[],{encoding:n}=e;for(const r of[[lu,uu],[go,cu]])(Or(n[r[0]])||Or(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ra)&&e.typedFieldDef(ra).type===C1&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Xn.Main)),t}function b7e(e,t){const n=w$(y7e,i=>!!(!Ke(e.explicit,i)&&!Ke(t.explicit,i)||Ke(e.explicit,i)&&Ke(t.explicit,i)&&xa(e.get(i),t.get(i))));if(xa(e.size,t.size)){if(n)return e;if(xa(e.explicit,{}))return t;if(xa(t.explicit,{}))return e}return null}function w7e(e){if(e.children.length===0)return;let t;for(const r of e.children)eie(r);const n=w$(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=b7e(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Qre(r,t.specifiedProjection,t.size,vt(t.data));for(const s of e.children){const a=s.component.projection;a&&(a.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(a.get("name"),r),a.merged=!0)}return i}}function A7e(e,t,n,r){if(Jy(t,n)){const i=qn(e)?e.axis(n)??e.legend(n)??{}:{},s=We(t,{expr:"datum"}),a=We(t,{expr:"datum",binSuffix:"end"});return{formulaAs:We(t,{binSuffix:"range",forAs:!0}),formula:qy(s,a,i.format,i.formatType,r)}}return{}}function tie(e,t){return`${fte(e)}_${t}`}function S7e(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function MI(e,t,n){const r=gC(n,void 0)??{},i=tie(r,t);return e.getName(`${i}_bins`)}function C7e(e){return"as"in e}function mU(e,t,n){let r,i;C7e(e)?r=Ge(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[We(e,{forAs:!0}),We(e,{binSuffix:"end",forAs:!0})];const s={...gC(t,void 0)},a=tie(s,e.field),{signal:o,extentSignal:u}=S7e(n,a);if(iC(s.extent)){const c=s.extent;i=$re(n,c.param,c),delete s.extent}const l={bin:s,field:e.field,as:[r],...o?{signal:o}:{},...u?{extentSignal:u}:{},...i?{span:i}:{}};return{key:a,binComponent:l}}class zu extends En{clone(){return new zu(null,vt(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,a)=>{if(ks(s)&&Nn(s.bin)){const{key:o,binComponent:u}=mU(s,s.bin,n);i[o]={...u,...i[o],...A7e(n,s,a,n.config)}}return i},{});return An(r)?null:new zu(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=mU(n,n.bin,r);return new zu(t,{[i]:s})}merge(t,n){for(const r of De(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Ou([...this.bins[r].as,...t.bins[r].as],jt)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(pi(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(pi(this.bins).map(t=>t.field))}hash(){return`Bin ${jt(this.bins)}`}assemble(){return pi(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...a}=t.bin,o={type:"bin",field:po(t.field),as:r,signal:t.signal,...iC(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...a};!s&&t.extentSignal&&(n.push({type:"extent",field:po(t.field),signal:t.extentSignal}),o.extent={signal:t.extentSignal}),n.push(o);for(const u of i)for(let l=0;l<2;l++)n.push({type:"formula",expr:We({field:r[l]},{expr:"datum"}),as:u[l]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function k7e(e,t,n,r){var s;const i=qn(r)?r.encoding[gl(t)]:void 0;if(ks(n)&&qn(r)&&sne(n,i,r.markDef,r.config)){e.add(We(n,{})),e.add(We(n,{suffix:"end"}));const{mark:a,markDef:o,config:u}=r,l=Wf({fieldDef:n,markDef:o,config:u});kv(a)&&l!==.5&&dr(t)&&(e.add(We(n,{suffix:bC})),e.add(We(n,{suffix:wC}))),n.bin&&Jy(n,t)&&e.add(We(n,{binSuffix:"range"}))}else if(nte(t)){const a=tte(t);e.add(r.getName(a))}else e.add(We(n));return Ld(n)&&sMe((s=n.scale)==null?void 0:s.range)&&e.add(n.scale.range.field),e}function T7e(e,t){for(const n of De(t)){const r=t[n];for(const i of De(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Go extends En{clone(){return new Go(null,new Set(this.dimensions),vt(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(a=>{a.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((a,o)=>{const{aggregate:u,field:l}=a;if(u)if(u==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([We(a,{forAs:!0})]);else{if(vc(u)||m0(u)){const c=vc(u)?"argmin":"argmax",f=u[c];i[f]??(i[f]={}),i[f][c]=new Set([We({op:c,field:f},{forAs:!0})])}else i[l]??(i[l]={}),i[l][u]=new Set([We(a,{forAs:!0})]);ml(o)&&n.scaleDomain(o)==="unaggregated"&&(i[l]??(i[l]={}),i[l].min=new Set([We({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([We({field:l,aggregate:"max"},{forAs:!0})]))}else k7e(s,o,a,n)}),s.size+De(i).length===0)?null:new Go(t,s,i)}static makeFromTransform(t,n){var r;const i=new Set,s={};for(const a of n.aggregate){const{op:o,field:u,as:l}=a;o&&(o==="count"?(s["*"]??(s["*"]={}),s["*"].count=new Set([l||We(a,{forAs:!0})])):(s[u]??(s[u]={}),(r=s[u])[o]??(r[o]=new Set),s[u][o].add(l||We(a,{forAs:!0}))))}for(const a of n.groupby??[])i.add(a);return i.size+De(s).length===0?null:new Go(t,i,s)}merge(t){return qee(this.dimensions,t.dimensions)?(T7e(this.measures,t.measures),!0):(DRe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...De(this.measures)])}producedFields(){const t=new Set;for(const n of De(this.measures))for(const r of De(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${jt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of De(this.measures))for(const a of De(this.measures[s]))for(const o of this.measures[s][a])r.push(o),t.push(a),n.push(s==="*"?null:po(s));return{type:"aggregate",groupby:[...this.dimensions].map(po),ops:t,fields:n,as:r}}}class F1 extends En{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of to){const a=n.facet[s];if(a){const{bin:o,sort:u}=a;this[s]={name:n.getName(`${s}_domain`),fields:[We(a),...Nn(o)?[We(a,{binSuffix:"end"})]:[]],...rc(u)?{sortField:u}:_e(u)?{sortIndexField:jg(a,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of to)this[n]&&(t+=` ${n.charAt(0)}:${jt(this[n])}`);return t}get fields(){var n;const t=[];for(const r of to)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of to)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Oc){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(Jr(i)&&Id(s)){const a=OC(this.childModel,n),o=UI(a);o?t[n]=o:Oe(L$(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],a=[],o=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),a.push("max")):(s.push(r[i]),a.push("distinct")),o.push(`distinct_${r[i]}`));const{sortField:u,sortIndexField:l}=this[t];if(u){const{op:c=hC,field:f}=u;s.push(f),a.push(c),o.push(We(u,{forAs:!0}))}else l&&(s.push(l),a.push("max"),o.push(l));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:a,as:o}:{}}]}}assembleFacetHeaderData(t){var u;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const l of OI){for(const c of $I){const f=(r[l]&&r[l][c])??[];for(const h of f)if(((u=h.axes)==null?void 0:u.length)>0){s[l]=!0;break}}if(s[l]){const c=`length(data("${this.facet.name}"))`,f=l==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:a,column:o}=s;return(a||o)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:a}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(r.x??[],r.y??[]),u=o.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:o,ops:u}]})}for(const o of[nc,tc])this[o]&&t.push(this.assembleRowColumnHeaderData(o,n,r));if(a){const o=this.assembleFacetHeaderData(r);o&&t.push(...o)}return t}}function xU(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function F7e(e,t){const n=C$(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=xU(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=xU(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Oe(BIe(t)),null}function D7e(e){const t={};return DE(e.filter,n=>{if(Mte(n)){let r=null;H$(n)?r=pa(n.equal):j$(n)?r=pa(n.lte):V$(n)?r=pa(n.lt):G$(n)?r=pa(n.gt):q$(n)?r=pa(n.gte):X$(n)?r=n.range[0]:K$(n)&&(r=(n.oneOf??n.in)[0]),r&&(Rd(r)?t[n.field]="date":sn(r)?t[n.field]="number":Ge(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function N7e(e){const t={};function n(r){zg(r)?t[r.field]="date":r.type==="quantitative"&&dIe(r.aggregate)?t[r.field]="number":Rg(r.field)>1?r.field in t||(t[r.field]="flatten"):Ld(r)&&rc(r.sort)&&Rg(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((qn(e)||ba(e))&&e.forEachFieldDef((r,i)=>{if(ks(r))n(r);else{const s=Od(i),a=e.fieldDef(s);n({...r,type:a.type})}}),qn(e)){const{mark:r,markDef:i,encoding:s}=e;if(x0(r)&&!e.encoding.order){const a=i.orient==="horizontal"?"y":"x",o=s[a];Re(o)&&o.type==="quantitative"&&!(o.field in t)&&(t[o.field]="number")}}return t}function O7e(e){const t={};if(qn(e)&&e.component.selection)for(const n of De(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Rg(i.field)>1&&(t[i.field]="flatten")}return t}class Bi extends En{clone(){return new Bi(null,vt(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${jt(this._parse)}`}static makeExplicit(t,n,r){var a;let i={};const s=n.data;return!Sf(s)&&((a=s==null?void 0:s.format)!=null&&a.parse)&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const o of De(r)){const u=i.getWithExplicit(o);u.value!==void 0&&(u.explicit||u.value===r[o]||u.value==="derived"||r[o]==="flatten"?delete r[o]:Oe(_7(o,r[o],u.value)))}for(const o of De(n)){const u=i.get(o);u!==void 0&&(u===n[o]?delete n[o]:Oe(_7(o,n[o],u)))}const s=new Ic(n,r);i.copyAll(s);const a={};for(const o of De(s.combine())){const u=s.get(o);u!==null&&(a[o]=u)}return De(a).length===0||i.parseNothing?null:new Bi(t,a)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of De(this._parse)){const r=this._parse[n];Rg(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(De(this._parse))}dependentFields(){return new Set(De(this._parse))}assembleTransforms(t=!1){return De(this._parse).filter(n=>t?Rg(n)>1:!0).map(n=>{const r=F7e(n,this._parse[n]);return r?{type:"formula",expr:r,as:A1(n)}:null}).filter(n=>n!==null)}}class Vf extends En{clone(){return new Vf(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([eu])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:eu}}}class r_ extends En{clone(){return new r_(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${jt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class i_ extends En{clone(){return new i_(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${jt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class ad extends En{constructor(t){super(null),t??(t={name:"source"});let n;if(Sf(t)||(n=t.format?{...Ks(t.format,["parse"])}:{}),Tv(t))this._data={values:t.values};else if(Wg(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Bt(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Qne(t)?this._data={values:[{type:"Sphere"}]}:(Jne(t)||Sf(t))&&(this._data={});this._generator=Sf(t),t.name&&(this._name=t.name),n&&!An(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var vU=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},$7e=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Km;function LI(e){return e instanceof ad||e instanceof r_||e instanceof i_}class PI{constructor(){Km.set(this,void 0),vU(this,Km,!1,"f")}setModified(){vU(this,Km,!0,"f")}get modifiedFlag(){return $7e(this,Km,"f")}}Km=new WeakMap;class Bd extends PI{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class BI extends PI{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class I7e extends BI{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of De(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class R7e extends BI{constructor(t){super(),this.requiresSelectionId=t&&TI(t)}run(t){t instanceof Vf&&(this.requiresSelectionId&&(LI(t.parent)||t.parent instanceof Go||t.parent instanceof Bi)||(this.setModified(),t.remove()))}}class M7e extends PI{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Bu&&(r=t.producedFields(),A$(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class L7e extends BI{constructor(){super()}run(t){t instanceof Ys&&!t.isRequired()&&(this.setModified(),t.remove())}}class P7e extends Bd{run(t){if(!LI(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Bi)if(t instanceof Bi)this.setModified(),t.merge(n);else{if(S$(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class B7e extends Bd{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Bi);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const a of r){const o=a.parse;for(const u of De(o))u in i?i[u]!==o[u]&&s.add(u):i[u]=o[u]}for(const a of s)delete i[a];if(!An(i)){this.setModified();const a=new Bi(t,i);for(const o of n){if(o instanceof Bi)for(const u of De(i))delete o.parse[u];t.removeChild(o),o.parent=a,o instanceof Bi&&De(o.parse).length===0&&o.remove()}}}}}class U7e extends Bd{run(t){t instanceof Ys||t.numChildren()>0||t instanceof F1||t instanceof ad||(this.setModified(),t.remove())}}class z7e extends Bd{run(t){const n=t.children.filter(i=>i instanceof Bu),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class W7e extends Bd{run(t){const n=t.children.filter(i=>i instanceof Go),r={};for(const i of n){const s=jt(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of De(r)){const s=r[i];if(s.length>1){const a=s.pop();for(const o of s)a.merge(o)&&(t.removeChild(o),o.parent=a,o.remove(),this.setModified())}}}}class H7e extends Bd{constructor(t){super(),this.model=t}run(t){const n=!(LI(t)||t instanceof T1||t instanceof Bi||t instanceof Vf),r=[],i=[];for(const s of t.children)s instanceof zu&&(n&&!S$(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const a of r)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof zu?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const a of i)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class V7e extends Bd{run(t){const n=[...t.children];if(!Ig(n,a=>a instanceof Ys)||t.numChildren()<=1)return;const i=[];let s;for(const a of n)if(a instanceof Ys){let o=a;for(;o.numChildren()===1;){const[u]=o.children;if(u instanceof Ys)o=u;else break}i.push(...o.children),s?(t.removeChild(a),a.parent=s.parent,s.parent.removeChild(s),s.parent=o,this.setModified()):s=o}else i.push(a);if(i.length){this.setModified();for(const a of i)a.parent.removeChild(a),a.parent=s}}}class Ud extends En{clone(){return new Ud(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ou(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??We(t)}hash(){return`JoinAggregateTransform ${jt(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class qg extends En{clone(){return new qg(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:s}=n,{marks:a,scales:o}=r;if(a==="include-invalid-values"&&o==="include-invalid-values")return null;const u=n.reduceFieldDef((l,c,f)=>{const h=ml(f)&&n.getScaleComponent(f);if(h){const d=h.get("type"),{aggregate:p}=c,g=nI({scaleChannel:f,markDef:s,config:i,scaleType:d,isCountAggregate:rC(p)});g!=="show"&&g!=="always-valid"&&(l[c.field]=c)}return l},{});return De(u).length?new qg(t,u):null}dependentFields(){return new Set(De(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${jt(this.filter)}`}assemble(){const t=De(this.filter).reduce((n,r)=>{const i=this.filter[r],s=We(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (${QD(s)}))`):i.type==="quantitative"&&n.push(QD(s))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function QD(e){return`isValid(${e}) && isFinite(+${e})`}function j7e(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=We(r);return i&&t.push(i),t},[])}function G7e(e){return _e(e)&&e.every(t=>Ge(t))&&e.length>1}class sc extends En{clone(){return new sc(null,vt(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:a="zero"}=n,o=[],u=[];if(n.sort!==void 0)for(const f of n.sort)o.push(f.field),u.push(hr(f.order,"ascending"));const l={field:o,order:u};let c;return G7e(s)?c=s:Ge(s)?c=[s,`${s}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new sc(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:a,sort:l,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:a,offset:o,impute:u}=r,l=s.map(d=>{const p=i[d];return Qo(p)}).filter(d=>!!d),c=j7e(n),f=n.encoding.order;let h;if(_e(f)||Re(f))h=mte(f);else{const d=ane(f)?f.sort:a==="y"?"descending":"ascending";h=c.reduce((p,g)=>(p.field.includes(g)||(p.field.push(g),p.order.push(d)),p),{field:[],order:[]})}return new sc(t,{dimensionFieldDefs:l,stackField:n.vgField(a),facetby:[],stackby:c,sort:h,offset:o,impute:u,as:[n.vgField(a,{suffix:"start",forAs:!0}),n.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${jt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[We(i,{binSuffix:"mid"})]:[We(i,{}),We(i,{binSuffix:"end"})]:[We(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:a,offset:o,impute:u,as:l}=this._stack;if(u)for(const c of r){const{bandPosition:f=.5,bin:h}=c;if(h){const d=We(c,{expr:"datum"}),p=We(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${QD(d)} ? ${f}*${d}+${1-f}*${p} : ${d}`,as:We(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:We(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:a,as:l,offset:o}),t}}class D1 extends En{clone(){return new D1(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ou(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??We(t)}hash(){return`WindowTransform ${jt(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const s=this.transform.frame,a=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(f=>R$(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...a!==void 0?{groupby:a}:{}};const o=[],u=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)o.push(f.field),u.push(f.order??"ascending");const l={field:o,order:u},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:l,...c!==void 0?{ignorePeers:c}:{},...a!==void 0?{groupby:a}:{},...s!==void 0?{frame:s}:{}}}}function q7e(e){function t(n){if(!(n instanceof F1)){const r=n.clone();if(r instanceof Ys){const i=tN+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Go||r instanceof sc||r instanceof D1||r instanceof Ud)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function eN(e){if(e instanceof F1)if(e.numChildren()===1&&!(e.children[0]instanceof Ys)){const t=e.children[0];(t instanceof Go||t instanceof sc||t instanceof D1||t instanceof Ud)&&t.addDimensions(e.fields),t.swapWithParent(),eN(e)}else{const t=e.model.component.data.main;nie(t);const n=q7e(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(eN)}function nie(e){if(e instanceof Ys&&e.type===Xn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof F1||(t.swapWithParent(),nie(e))}}const tN="scale_",x2=5;function nN(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!nN(t.children))return!1}return!0}function Co(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function yU(e,t,n){let r=e.sources,i=!1;return i=Co(new L7e,r)||i,i=Co(new R7e(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=Co(new U7e,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=Co(new P7e,r)||i,i=Co(new H7e(t),r)||i,i=Co(new M7e,r)||i,i=Co(new B7e,r)||i,i=Co(new W7e,r)||i,i=Co(new z7e,r)||i,i=Co(new I7e,r)||i,i=Co(new V7e,r)||i),e.sources=r,i}function X7e(e,t){nN(e.sources);let n=0,r=0;for(let i=0;i<x2&&yU(e,t,!0);i++)n++;e.sources.map(eN);for(let i=0;i<x2&&yU(e,t,!1);i++)r++;nN(e.sources),Math.max(n,r)===x2&&Oe(`Maximum optimization runs(${x2}) reached.`)}class Br{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Br(()=>t(n))}}function rie(e){qn(e)?K7e(e):Y7e(e)}function K7e(e){const t=e.component.scales;for(const n of De(t)){const r=Z7e(e,n);if(t[n].setWithExplicit("domains",r),eUe(e,n),e.component.data.isFaceted){let s=e;for(;!ba(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const o of r.value)ql(o)&&(o.data=tN+o.data.replace(tN,""))}}}function Y7e(e){for(const n of e.children)rie(n);const t=e.component.scales;for(const n of De(t)){let r,i=null;for(const s of e.children){const a=s.component.scales[n];if(a){r===void 0?r=a.getWithExplicit("domains"):r=Hf(r,a.getWithExplicit("domains"),"domains","scale",rN);const o=a.get("selectionExtent");i&&o&&i.param!==o.param&&Oe(OIe),i=o}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function J7e(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=_U(t,n);if(!i){Oe(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=_U(t,n);if(i)return"unaggregated"}return e}function Z7e(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=J7e(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Or(r.x2)?Or(r.x)?Hf(qc(n,i,e,"x"),qc(n,i,e,"x2"),"domain","scale",rN):qc(n,i,e,"x2"):t==="y"&&Or(r.y2)?Or(r.y)?Hf(qc(n,i,e,"y"),qc(n,i,e,"y2"),"domain","scale",rN):qc(n,i,e,"y2"):qc(n,i,e,t)}function Q7e(e,t,n){return e.map(r=>({signal:`{data: ${mC(r,{timeUnit:n,type:t})}}`}))}function nF(e,t,n){var i;const r=(i=Kr(n))==null?void 0:i.unit;return t==="temporal"||r?Q7e(e,t,r):[e]}function qc(e,t,n,r){const{encoding:i,markDef:s,mark:a,config:o,stack:u}=n,l=Or(i[r]),{type:c}=l,f=l.timeUnit,h=MPe({invalid:Ju("invalid",s,o),isPath:x0(a)});if(iMe(t)){const g=qc(e,void 0,n,r),m=nF(t.unionWith,c,f);return Su([...m,...g.value])}else{if(st(t))return Su([t]);if(t&&t!=="unaggregated"&&!Hte(t))return Su(nF(t,c,f))}if(u&&r===u.fieldChannel){if(u.offset==="normalize")return ua([[0,1]]);const g=n.requestDataName(h);return ua([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const d=ml(r)&&Re(l)?tUe(n,r,e):void 0;if(xl(l)){const g=nF([l.datum],c,f);return ua(g)}const p=l;if(t==="unaggregated"){const{field:g}=l;return ua([{data:n.requestDataName(h),field:We({field:g,aggregate:"min"})},{data:n.requestDataName(h),field:We({field:g,aggregate:"max"})}])}else if(Nn(p.bin)){if(Jr(e))return ua(e==="bin-ordinal"?[]:[{data:Sv(d)?n.requestDataName(h):n.requestDataName(Xn.Raw),field:n.vgField(r,Jy(p,r)?{binSuffix:"range"}:{}),sort:d===!0||!qe(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:g}=p;if(Nn(g)){const m=MI(n,p.field,g);return ua([new Br(()=>{const x=n.getSignalName(m);return`[${x}.start, ${x}.stop]`})])}else return ua([{data:n.requestDataName(h),field:n.vgField(r,{})}])}}else if(p.timeUnit&&Bt(["time","utc"],e)){const g=i[gl(r)];if(sne(p,g,s,o)){const m=n.requestDataName(h),x=Wf({fieldDef:p,fieldDef2:g,markDef:s,config:o}),y=kv(a)&&x!==.5&&dr(r);return ua([{data:m,field:n.vgField(r,y?{suffix:bC}:{})},{data:m,field:n.vgField(r,{suffix:y?wC:"end"})}])}}return ua(d?[{data:Sv(d)?n.requestDataName(h):n.requestDataName(Xn.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(h),field:n.vgField(r)}])}function rF(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":hC),...r?{field:po(r)}:{},...i?{order:i}:{}}}function eUe(e,t){var o;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(o=e.fieldDef(t))==null?void 0:o.bin,s=Hte(r)?r:void 0,a=$d(i)&&iC(i.extent)?i.extent:void 0;(s||a)&&n.set("selectionExtent",s??a,!0)}function tUe(e,t,n){if(!Jr(n))return;const r=e.fieldDef(t),i=r.sort;if(rne(i))return{op:"min",field:jg(r,t),order:"ascending"};const{stack:s}=e,a=s?new Set([...s.groupbyFields,...s.stackBy.map(o=>o.fieldDef.field)]):void 0;if(rc(i)){const o=s&&!a.has(i.field);return rF(i,o)}else if(MMe(i)){const{encoding:o,order:u}=i,l=e.fieldDef(o),{aggregate:c,field:f}=l,h=s&&!a.has(f);if(vc(c)||m0(c))return rF({field:We(l),order:u},h);if(R$(c)||!c)return rF({op:c,field:f,order:u},h)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Bt(["ascending",void 0],i))return!0}}function _U(e,t){const{aggregate:n,type:r}=e;return n?Ge(n)&&!gIe.has(n)?{valid:!1,reason:oRe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:uRe(e)}:{valid:!0}:{valid:!1,reason:aRe(e)}}function rN(e,t,n,r){return e.explicit&&t.explicit&&Oe(dRe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function nUe(e){const t=Ou(e.map(a=>{if(ql(a)){const{sort:o,...u}=a;return u}return a}),jt),n=Ou(e.map(a=>{if(ql(a)){const o=a.sort;return o!==void 0&&!Sv(o)&&("op"in o&&o.op==="count"&&delete o.field,o.order==="ascending"&&delete o.order),o}}).filter(a=>a!==void 0),jt);if(t.length===0)return;if(t.length===1){const a=e[0];if(ql(a)&&n.length>0){let o=n[0];if(n.length>1){Oe(b7);const u=n.filter(l=>qe(l)&&"op"in l&&l.op!=="min");n.every(l=>qe(l)&&"op"in l)&&u.length===1?o=u[0]:o=!0}else if(qe(o)&&"field"in o){const u=o.field;a.field===u&&(o=o.order?{order:o.order}:!0)}return{...a,sort:o}}return a}const r=Ou(n.map(a=>Sv(a)||!("op"in a)||Ge(a.op)&&Ke(fIe,a.op)?a:(Oe(gRe(a)),!0)),jt);let i;r.length===1?i=r[0]:r.length>1&&(Oe(b7),i=!0);const s=Ou(e.map(a=>ql(a)?a.data:null),a=>a);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(o=>o.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function UI(e){if(ql(e)&&Ge(e.field))return e.field;if(mIe(e)){let t;for(const n of e.fields)if(ql(n)&&Ge(n.field)){if(!t)t=n.field;else if(t!==n.field)return Oe(mRe),t}return Oe(xRe),t}else if(xIe(e)){Oe(vRe);const t=e.fields[0];return Ge(t)?t:void 0}}function OC(e,t){const r=e.component.scales[t].get("domains").map(i=>(ql(i)&&(i.data=e.lookupDataSource(i.data)),i));return nUe(r)}function iie(e){return N1(e)||zI(e)?e.children.reduce((t,n)=>t.concat(iie(n)),EU(e)):EU(e)}function EU(e){return De(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:a,selectionExtent:o,domains:u,range:l,reverse:c,...f}=i,h=rUe(i.range,s,n,e),d=OC(e,n),p=o?qPe(e,o,r,d):null;return t.push({name:s,type:a,...d?{domain:d}:{},...p?{domainRaw:p}:{},range:h,...c!==void 0?{reverse:c}:{},...f}),t},[])}function rUe(e,t,n,r){if(dr(n)){if(Id(e))return{step:{signal:`${t}_step`}}}else if(qe(e)&&ql(e))return{...e,data:r.lookupDataSource(e.data)};return e}class sie extends Ic{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(Bt([ii.LOG,ii.TIME,ii.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&Bt([ii.LINEAR,ii.SQRT,ii.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,s=!1,a=!1;for(const o of r){if(_e(o)){const u=o[0],l=o[o.length-1];if(sn(u)&&sn(l))if(u<=0&&l>=0){i=!0;continue}else{s=!0;continue}}a=!0}if(i)return"definitely";if(s&&!a)return"definitely-not"}return"maybe"}}const iUe=["range","scheme"];function sUe(e){const t=e.component.scales;for(const n of I$){const r=t[n];if(!r)continue;const i=aUe(n,e);r.setWithExplicit("range",i)}}function bU(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,s=ia(t),a=e.getName(s);if(qe(r)&&r.binned&&r.step!==void 0)return new Br(()=>{const o=e.scaleName(t),u=`(domain("${o}")[1] - domain("${o}")[0]) / ${r.step}`;return`${e.getSignalName(a)} / (${u})`});if(Nn(r)){const o=MI(e,i,r);return new Br(()=>{const u=e.getSignalName(o),l=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(a)} / (${l})`})}}}function aUe(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const f of iUe)if(n[f]!==void 0){const h=RD(s,f),d=Vte(e,f);if(!h)Oe(wte(s,f,e));else if(d)Oe(d);else switch(f){case"range":{const p=n.range;if(_e(p)){if(dr(e))return Su(p.map(g=>{if(g==="width"||g==="height"){const m=t.getName(g),x=t.getSignalName.bind(t);return Br.fromName(x,m)}return g}))}else if(qe(p))return Su({data:t.requestDataName(Xn.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Su(p)}case"scheme":return Su(oUe(n[f]))}}const a=e===Hn||e==="xOffset"?"width":"height",o=r[a];if(Qu(o)){if(dr(e))if(Jr(s)){const f=oie(o,t,e);if(f)return Su({step:f})}else Oe(Ate(a));else if(Vy(e)){const f=e===c0?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=uie(o,s);if(p)return Su(p)}}}const{rangeMin:u,rangeMax:l}=n,c=uUe(e,t);return(u!==void 0||l!==void 0)&&RD(s,"rangeMin")&&_e(c)&&c.length===2?Su([u??c[0],l??c[1]]):ua(c)}function oUe(e){return rMe(e)?{scheme:e.name,...Ks(e,["name"])}:{scheme:e}}function aie(e,t,n,{center:r}={}){const i=ia(e),s=t.getName(i),a=t.getSignalName.bind(t);return e===ei&&Jo(n)?r?[Br.fromName(o=>`${a(o)}/2`,s),Br.fromName(o=>`-${a(o)}/2`,s)]:[Br.fromName(a,s),0]:r?[Br.fromName(o=>`-${a(o)}/2`,s),Br.fromName(o=>`${a(o)}/2`,s)]:[0,Br.fromName(a,s)]}function uUe(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:a}=Or(s[e]),u=t.getScaleComponent(e).get("type"),{domain:l,domainMid:c}=t.specifiedScales[e];switch(e){case Hn:case ei:{if(Bt(["point","band"],u)){const f=lie(e,n,r.view);if(Qu(f))return{step:oie(f,t,e)}}return aie(e,t,u)}case c0:case S1:return lUe(e,t,u);case Dc:{const f=hUe(i,r),h=dUe(i,n,t,r);return Pg(u)?fUe(f,h,cUe(u,r,l,e)):[f,h]}case Eo:return[0,Math.PI*2];case Nd:return[0,360];case ou:return[0,new Br(()=>{const f=t.getSignalName(ba(t.parent)?"child_width":"width"),h=t.getSignalName(ba(t.parent)?"child_height":"height");return`min(${f},${h})/2`})];case f0:return{step:1e3/r.scale.framesPerSecond};case p0:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case g0:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ra:return"symbol";case na:case dl:case pl:return u==="ordinal"?a==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Nc:case h0:case d0:return[r.scale.minOpacity,r.scale.maxOpacity]}}function oie(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=D$(n),a=r[s];if(Lne({step:e,offsetIsDiscrete:yt(a)&&Pte(a.type)})==="offset"&&xne(r,s)){const u=t.getScaleComponent(s);let c=`domain('${t.scaleName(s)}').length`;if(u.get("type")==="band"){const h=u.get("paddingInner")??u.get("padding")??0,d=u.get("paddingOuter")??u.get("padding")??0;c=`bandspace(${c}, ${h}, ${d})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${EIe(f)})`}}else return e.step}function uie(e,t){if(Lne({step:e,offsetIsDiscrete:Jr(t)})==="offset")return{step:e.step}}function lUe(e,t,n){const r=e===c0?"x":"y",i=t.getScaleComponent(r);if(!i)return aie(r,t,n,{center:!0});const s=i.get("type"),a=t.scaleName(r),{markDef:o,config:u}=t;if(s==="band"){const l=lie(r,t.size,t.config.view);if(Qu(l)){const c=uie(l,n);if(c)return c}return[0,{signal:`bandwidth('${a}')`}]}else{const l=t.encoding[r];if(Re(l)&&l.timeUnit){const c=Ite(l.timeUnit,p=>`scale('${a}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,h=Wf({fieldDef:l,markDef:o,config:u})-.5,d=h!==0?` + ${h}`:"";if(f){const p=st(f)?`${f.signal}/2`+d:`${f/2+h}`,g=st(f)?`(1 - ${f.signal}/2)`+d:`${1-f/2+h}`;return[{signal:`${p} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return jee(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function lie(e,t,n){const r=e===Hn?"width":"height",i=t[r];return i||Ow(n,r)}function cUe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&_e(n)?n.length+1:(Oe(kRe(r)),3)}}function fUe(e,t,n){const r=()=>{const i=Bo(t),s=Bo(e),a=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${a}, ${a})`};return st(t)?new Br(r):{signal:r()}}function hUe(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(sC("size",e))}const wU=.95;function dUe(e,t,n,r){const i={x:bU(n,"x"),y:bU(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=AU(t,i,r.view);return sn(s)?s-1:new Br(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=AU(t,i,r.view);return sn(s)?Math.pow(wU*s,2):new Br(()=>`pow(${wU} * ${s.signal}, 2)`)}}throw new Error(sC("size",e))}function AU(e,t,n){const r=Qu(e.width)?e.width.step:BD(n,"width"),i=Qu(e.height)?e.height.step:BD(n,"height");return t.x||t.y?new Br(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function cie(e,t){qn(e)?pUe(e,t):hie(e,t)}function pUe(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:a}=e;for(const o of De(n)){const u=a[o],l=n[o],c=e.getScaleComponent(o),f=Or(i[o]),h=u[t],d=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=RD(d,t),x=Vte(o,t);if(h!==void 0&&(m?x&&Oe(x):Oe(wte(d,t,o))),m&&x===void 0)if(h!==void 0){const y=f.timeUnit,v=f.type;switch(t){case"domainMax":case"domainMin":Rd(u[t])||v==="temporal"||y?l.set(t,{signal:mC(u[t],{type:v,timeUnit:y})},!0):l.set(t,u[t],!0);break;default:l.copyKeyFromObject(t,u)}}else{const y=Ne(SU,t)?SU[t]({model:e,channel:o,fieldOrDatumDef:f,scaleType:d,scalePadding:p,scalePaddingInner:g,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:s,config:r,hasNestedOffsetScale:vne(i,o),hasSecondaryRangeChannel:!!i[gl(o)]}):r.scale[t];y!==void 0&&l.set(t,y,!1)}}}const SU={bins:({model:e,fieldOrDatumDef:t})=>Re(t)?gUe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>mUe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>xUe(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>vUe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>yUe(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>_Ue(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Re(e)?e.sort:void 0;return EUe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:a})=>bUe(e,t,n,r,i,s.scale,a)};function fie(e){qn(e)?sUe(e):hie(e,"range")}function hie(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?fie(r):cie(r,t);for(const r of De(n)){let i;for(const s of e.children){const a=s.component.scales[r];if(a){const o=a.getWithExplicit(t);i=Hf(i,o,t,"scale",Yne((u,l)=>{switch(t){case"range":return u.step&&l.step?u.step-l.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function gUe(e,t){const n=t.bin;if(Nn(n)){const r=MI(e,t.field,n);return new Br(()=>e.getSignalName(r))}else if(ni(n)&&$d(n)&&n.step!==void 0)return{step:n.step}}function mUe(e,t){if(Bt([na,dl,pl],e)&&t!=="nominal")return"hcl"}function xUe(e,t,n,r,i,s){var a;if(!((a=Qo(s))!=null&&a.bin||_e(n)||i!=null||r!=null||Bt([ii.TIME,ii.UTC],e)))return dr(t)?!0:void 0}function vUe(e,t,n,r,i,s){if(dr(e)){if($u(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:a,orient:o}=i;if(a==="bar"&&!(Re(r)&&(r.bin||r.timeUnit))&&(o==="vertical"&&e==="x"||o==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===ii.POINT)return n.pointPadding}}function yUe(e,t,n,r,i,s=!1){if(e===void 0){if(dr(t)){const{bandPaddingInner:a,barBandPaddingInner:o,rectBandPaddingInner:u,tickBandPaddingInner:l,bandWithNestedOffsetPaddingInner:c}=i;return s?c:hr(a,n==="bar"?o:n==="tick"?l:u)}else if(Vy(t)&&r===ii.BAND)return i.offsetBandPaddingInner}}function _Ue(e,t,n,r,i,s=!1){if(e===void 0){if(dr(t)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:o}=i;if(s)return o;if(n===ii.BAND)return hr(a,st(r)?{signal:`${r.signal}/2`}:r/2)}else if(Vy(t)){if(n===ii.POINT)return .5;if(n===ii.BAND)return i.offsetBandPaddingOuter}}}function EUe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Jo(e)&&t==="descending"?st(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Jo(e)&&t==="descending")return!0}function bUe(e,t,n,r,i,s,a){if(!!n&&n!=="unaggregated"&&Jo(i)){if(_e(n)){const u=n[0],l=n[n.length-1];if(sn(u)&&u<=0&&sn(l)&&l>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Pg(i))return!0;if(!(Re(t)&&t.bin)&&Bt([...Oc,...nIe],e)){const{orient:u,type:l}=r;return Bt(["bar","area","line","trail"],l)&&(u==="horizontal"&&e==="y"||u==="vertical"&&e==="x")?!1:Bt(["bar","area"],l)&&!a?!0:s==null?void 0:s.zero}return!1}function wUe(e,t,n,r,i=!1){const s=AUe(t,n,r,i),{type:a}=e;return ml(t)?a!==void 0?cMe(t,a)?Re(n)&&!lMe(a,n.type)?(Oe(fRe(a,s)),s):a:(Oe(cRe(t,a,s)),s):s:null}function AUe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Gp(e)||WT(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Oe(HT(e,"ordinal")),"ordinal";if(zT(e))return"band";if(dr(e)||Vy(e)){if(Bt(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in $$)return"band";const s=n[ia(e)];return ed(s)||Ug(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Gp(e)?"time":WT(e)==="discrete"?(Oe(HT(e,"temporal")),"ordinal"):Re(t)&&t.timeUnit&&Kr(t.timeUnit).utc?"utc":zT(e)?"band":"time";case"quantitative":return Gp(e)?Re(t)&&Nn(t.bin)?"bin-ordinal":"linear":WT(e)==="discrete"?(Oe(HT(e,"quantitative")),"ordinal"):zT(e)?"band":"linear";case"geojson":return}throw new Error(Ete(t.type))}function SUe(e,{ignoreRange:t}={}){die(e),rie(e);for(const n of uMe)cie(e,n);t||fie(e)}function die(e){qn(e)?e.component.scales=CUe(e):e.component.scales=TUe(e)}function CUe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of I$){const a=Or(t[s]);if(a&&n===qte&&s===ra&&a.type===C1)continue;let o=a&&a.scale;if(a&&o!==null&&o!==!1){o??(o={});const u=vne(t,s),l=wUe(o,s,a,r,u);i[s]=new sie(e.scaleName(`${s}`,!0),{value:l,explicit:o.type===l})}}return i}const kUe=Yne((e,t)=>A7(e)-A7(t));function TUe(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){die(s);for(const a of De(s.component.scales))if((t=i.scale)[a]??(t[a]=Vre(a,e)),i.scale[a]==="shared"){const o=r[a],u=s.component.scales[a].getWithExplicit("type");o?ZRe(o.value,u.value)?r[a]=Hf(o,u,"type","scale",kUe):(i.scale[a]="independent",delete r[a]):r[a]=u}}for(const s of De(r)){const a=e.scaleName(s,!0),o=r[s];n[s]=new sie(a,o);for(const u of e.children){const l=u.component.scales[s];l&&(u.renameScale(l.get("name"),a),l.merged=!0)}}return n}class iF{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function qn(e){return(e==null?void 0:e.type)==="unit"}function ba(e){return(e==null?void 0:e.type)==="facet"}function zI(e){return(e==null?void 0:e.type)==="concat"}function N1(e){return(e==null?void 0:e.type)==="layer"}class WI{constructor(t,n,r,i,s,a,o){this.type=n,this.parent=r,this.config=s,this.parent=r,this.config=s,this.view=ri(o),this.name=t.name??i,this.title=rf(t.title)?{text:t.title}:t.title?ri(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new iF,this.projectionNameMap=r?r.projectionNameMap:new iF,this.signalNameMap=r?r.signalNameMap:new iF,this.data=t.data,this.description=t.description,this.transforms=APe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:TLe(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:dC(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Ic,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?vt(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){SUe(this)}parseProjection(){eie(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Kre(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of De(r)){const a=r[s];a!==void 0&&(i[s]=In(a))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=In(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:An(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=X9e(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of to)t[r].title&&n.push(W9e(this,r));for(const r of OI)n=n.concat(H9e(this,r));return n}assembleAxes(){return F9e(this.component.axes,this.config)}assembleLegends(){return Jre(this)}assembleProjections(){return x7e(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...hte(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Bt(["unit","layer"],this.type)?Bt(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),An(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||ba(this.parent)?iie(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const a=this.assembleLegends();return a.length>0&&(n.legends=a),n}getName(t){return Wn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Xn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(ba(this.parent)){const n=Wre(t),r=nC(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),a=i.get("range");if(Jr(s)&&Id(a)){const o=i.get("name"),u=OC(this,r),l=UI(u);if(l){const c=We({aggregate:"distinct",field:l},{expr:"datum"});return{signal:zre(o,i,c)}}else return Oe(L$(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(ite(t)&&ml(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(CIe(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class pie extends WI{vgField(t,n={}){const r=this.fieldDef(t);if(r)return We(r,n)}reduceFieldDef(t,n){return rLe(this.getMapping(),(r,i,s)=>{const a=Qo(i);return a?t(r,a,s):r},n)}forEachFieldDef(t,n){fI(this.getMapping(),(r,i)=>{const s=Qo(r);s&&t(s,i)},n)}}class $C extends En{clone(){return new $C(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=vt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${jt(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class IC extends En{clone(){return new IC(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=vt(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${jt(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class RC extends En{clone(){return new RC(this.parent,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=vt(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,a)=>i[a]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${jt(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class MC extends En{clone(){return new MC(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=vt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${jt(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Kp extends En{clone(){return new Kp(null,vt(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[lu,uu],[go,cu]]){const s=i.map(a=>{const o=Or(n.encoding[a]);return Re(o)?o.field:xl(o)?{expr:`${o.datum}`}:Zo(o)?{expr:`${o.value}`}:void 0});(s[0]||s[1])&&(t=new Kp(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(ra)){const i=n.typedFieldDef(ra);i.type===C1&&(t=new Kp(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ge);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${jt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Nv extends En{clone(){return new Nv(null,this.projection,vt(this.fields),vt(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[lu,uu],[go,cu]]){const i=r.map(a=>{const o=Or(n.encoding[a]);return Re(o)?o.field:xl(o)?{expr:`${o.datum}`}:Zo(o)?{expr:`${o.value}`}:void 0}),s=r[0]===go?"2":"";(i[0]||i[1])&&(t=new Nv(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ge))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${jt(this.fields)} ${jt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class _h extends En{clone(){return new _h(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new _h(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(Re(i)&&Re(s)){const a=i.impute?i:s.impute?s:void 0;if(a===void 0)return;const o=i.impute?s:s.impute?i:void 0,{method:u,value:l,frame:c,keyvals:f}=a.impute,h=Ene(n.mark,r);return new _h(t,{impute:a.field,key:o.field,...u?{method:u}:{},...l!==void 0?{value:l}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...h.length?{groupby:h}:{}})}return null}hash(){return`Impute ${jt(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:a,frame:o=[null,null]}=this.transform,u={type:"impute",field:t,key:n,...r?{keyvals:sPe(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?a:null};if(i&&i!=="value"){const l={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:o,ignorePeers:!1,...s?{groupby:s}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[u,l,c]}else return[u]}}class LC extends En{clone(){return new LC(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=vt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${jt(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class Ov extends En{clone(){return new Ov(null,vt(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:a}=r;let o=null;if(aPe(a)){let u=xie(a.data,s);u||(u=new ad(a.data),s.push(u));const l=n.getName(`lookup_${i}`);o=new Ys(u,l,Xn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[l]=o}else if(oPe(a)){const u=a.param;r={as:u,...r};let l;try{l=n.getSelectionComponent(Wn(u),u)}catch{throw new Error(DIe(u))}if(o=l.materialized,!o)throw new Error(NIe(u))}return new Ov(t,r,o.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Xe(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${jt({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Xe(this.transform.as)}:{}};else{let n=this.transform.as;Ge(n)||(Oe(WIe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class PC extends En{clone(){return new PC(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=vt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${jt(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class BC extends En{clone(){return new BC(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=vt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${jt(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class UC extends En{clone(){return new UC(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ou((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${jt(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class zC extends En{clone(){return new zC(null,vt(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${jt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function gie(e){let t=0;function n(r,i){if(r instanceof ad&&!r.isGenerator&&!Wg(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Bi&&(r.parent instanceof ad&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof F1){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof r_||r instanceof i_||r instanceof qg||r instanceof T1||r instanceof Vg||r instanceof Nv||r instanceof Go||r instanceof Ov||r instanceof D1||r instanceof Ud||r instanceof MC||r instanceof RC||r instanceof $C||r instanceof LC||r instanceof PC||r instanceof BC||r instanceof Vf||r instanceof zC||r instanceof UC||r instanceof IC)&&i.transform.push(r.assemble()),(r instanceof zu||r instanceof Bu||r instanceof _h||r instanceof sc||r instanceof Kp)&&i.transform.push(...r.assemble()),r instanceof Ys&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Ys?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Ys&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const a of r.children)n(a,{name:null,source:s,transform:[]});break}}}return n}function FUe(e){const t=[],n=gie(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function DUe(e,t){const n=[],r=gie(n);let i=0;for(const a of e.sources){a.hasName()||(a.dataName=`source_${i++}`);const o=a.assemble();r(a,o)}for(const a of n)a.transform.length===0&&delete a.transform;let s=0;for(const[a,o]of n.entries())(o.transform??[]).length===0&&!o.source&&n.splice(s++,0,n.splice(a,1)[0]);for(const a of n)for(const o of a.transform??[])o.type==="lookup"&&(o.from=e.outputNodes[o.from].getSource());for(const a of n)a.name in t&&(a.values=t[a.name]);return n}function NUe(e){return e==="top"||e==="left"||st(e)?"header":"footer"}function OUe(e){for(const t of to)$Ue(e,t);CU(e,"x"),CU(e,"y")}function $Ue(e,t){var a;const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const o=n[t],u=Gg("title",null,r,t);let l=qp(o,r,{allowDisabling:!0,includeDefault:u===void 0||!!u});i.component.layoutHeaders[t].title&&(l=_e(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Gg("labelOrient",o.header,r,t),f=o.header!==null?hr((a=o.header)==null?void 0:a.labels,r.header.labels,!0):!1,h=Bt(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:o.header!==null?l:null,facetFieldDef:o,[h]:t==="facet"?[]:[mie(e,t,f)]}}}function mie(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function CU(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=RI(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",a=r[s];for(const o of n.component.axes[t]){const u=NUe(o.get("orient"));a[u]??(a[u]=[mie(e,s,!1)]);const l=Xm(o,"main",e.config,{header:!0});l&&a[u][0].axes.push(l),o.mainExtracted=!0}}}}function IUe(e){HI(e),Lw(e,"width"),Lw(e,"height")}function RUe(e){HI(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";Lw(e,t),Lw(e,n)}function HI(e){for(const t of e.children)t.parseLayoutSize()}function Lw(e,t){const n=Wre(t),r=nC(n),i=e.component.resolve,s=e.component.layoutSize;let a;for(const o of e.children){const u=o.component.layoutSize.getWithExplicit(n),l=i.scale[r]??Vre(r,e);if(l==="independent"&&u.value==="step"){a=void 0;break}if(a){if(l==="independent"&&a.value!==u.value){a=void 0;break}a=Hf(a,u,n,"")}else a=u}if(a){for(const o of e.children)e.renameSignal(o.getName(n),e.getName(t)),o.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,a)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function MUe(e){const{size:t,component:n}=e;for(const r of Oc){const i=ia(r);if(t[i]){const s=t[i];n.layoutSize.set(i,Qu(s)?"step":s,!0)}else{const s=LUe(e,i);n.layoutSize.set(i,s,!1)}}}function LUe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),a=i.get("range");if(Jr(s)){const o=Ow(r.view,t);return Id(a)||Qu(o)?"step":o}else return PD(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return PD(r.view,t);{const s=Ow(r.view,t);return Qu(s)?s.step:s}}}function iN(e,t,n){return We(t,{suffix:`by_${We(e)}`,...n})}class bx extends pie{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=XI(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Xy(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=De(t),r={};for(const i of n){if(![tc,nc].includes(i)){Oe(sC(i,"facet"));break}const s=t[i];if(s.field===void 0){Oe($D(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=cI(t,n);return r.header?r.header=ri(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return Ne(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=WC(this),this.child.parseData()}parseLayoutSize(){HI(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Uu(t))&&B$(P$)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),OUe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of to)for(const r of $I){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:a}=i;if(a){const o=Gg("titleOrient",a.header,this.config,n);if(["right","bottom"].includes(o)){const u=DC(n,o);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(s!=null&&s[0]){const o=n==="row"?"height":"width",u=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(o)&&(t[u]??(t[u]={}),t[u][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof bx))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof bx?{...this.channelHasField("column")?{encode:{update:{columns:{field:We(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof bx){if(this.child.channelHasField("column")){const i=We(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Oc){const s=this.child.component.scales[i];if(s&&!s.merged){const a=s.get("type"),o=s.get("range");if(Jr(a)&&Id(o)){const u=OC(this.child,i),l=UI(u);l?(t.push(l),n.push("distinct"),r.push(`distinct_${l}`)):Oe(L$(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:a,as:o}=this.getCardinalityAggregateForChild(),u=[];for(const c of to){const f=this.facet[c];if(f){u.push(We(f));const{bin:h,sort:d}=f;if(Nn(h)&&u.push(We(f,{binSuffix:"end"})),rc(d)){const{field:p,op:g=hC}=d,m=iN(f,d);r&&i?(s.push(m),a.push("max"),o.push(m)):(s.push(p),a.push(g),o.push(m))}else if(_e(d)){const p=jg(f,c);s.push(p),a.push("max"),o.push(p)}}}const l=!!r&&!!i;return{name:t,data:n,groupby:u,...l||s.length>0?{aggregate:{...l?{cross:l}:{},...s.length?{fields:s,ops:a,as:o}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?rc(r.sort)?[iN(r,r.sort,{expr:"datum"})]:_e(r.sort)?[jg(r,t,{expr:"datum"})]:[We(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(rc(i)?i.order:!_e(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return JD(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of OI)if(t[s]){const a=Gg("labelOrient",(i=t[s])==null?void 0:i.header,n,s);if(r[s].includes(a))return JD(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=FUe(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:to.map(u=>this.facetSortFields(u)).flat(),order:to.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(HPe(this,[]))}]}getMapping(){return this.facet}}function PUe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(rc(s.sort)){const{field:a,op:o=hC}=s.sort;e=i=new Ud(e,{joinaggregate:[{op:o,field:a,as:iN(s,s.sort,{forAs:!0})}],groupby:[We(s)]})}return i}return null}function xie(e,t){var n,r,i,s;for(const a of t){const o=a.data;if(e.name&&a.hasName()&&e.name!==a.dataName)continue;const u=(n=e.format)==null?void 0:n.mesh,l=(r=o.format)==null?void 0:r.feature;if(u&&l)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||l)&&c!==l)continue;const f=(s=o.format)==null?void 0:s.mesh;if(!((u||f)&&u!==f)){if(Tv(e)&&Tv(o)){if(xa(e.values,o.values))return a}else if(Wg(e)&&Wg(o)){if(e.url===o.url)return a}else if(Jne(e)&&e.name===a.dataName)return a}}return null}function BUe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new ad({values:[]});return t.push(r),r}const n=xie(e.data,t);if(n)return Sf(e.data)||(n.data.format=Gee({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new ad(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function UUe(e,t,n){let r=0;for(const i of t.transforms){let s,a;if(xPe(i))a=e=new Vg(e,i),s="derived";else if(bI(i)){const o=D7e(i);a=e=Bi.makeWithAncestors(e,{},o,n)??e,e=new T1(e,t,i.filter)}else if(Gne(i))a=e=zu.makeFromTransform(e,i,t),s="number";else if(yPe(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new Bi(e,{[i.field]:s}),n.set(i.field,s,!1)),a=e=Bu.makeFromTransform(e,i);else if(_Pe(i))a=e=Go.makeFromTransform(e,i),s="number",TI(t)&&(e=new Vf(e));else if(jne(i))a=e=Ov.make(e,t,i,r++),s="derived";else if(pPe(i))a=e=new D1(e,i),s="number";else if(gPe(i))a=e=new Ud(e,i),s="number";else if(EPe(i))a=e=sc.makeFromTransform(e,i),s="derived";else if(bPe(i))a=e=new MC(e,i),s="derived";else if(wPe(i))a=e=new IC(e,i),s="derived";else if(mPe(i))a=e=new RC(e,i),s="derived";else if(uPe(i))a=e=new UC(e,i),s="derived";else if(dPe(i))e=new zC(e,i);else if(vPe(i))a=e=_h.makeFromTransform(e,i),s="derived";else if(lPe(i))a=e=new $C(e,i),s="derived";else if(cPe(i))a=e=new PC(e,i),s="derived";else if(fPe(i))a=e=new BC(e,i),s="derived";else if(hPe(i))a=e=new LC(e,i),s="derived";else{Oe(zIe(i));continue}if(a&&s!==void 0)for(const o of a.producedFields()??[])n.set(o,s,!1)}return e}function WC(e){var m;let t=BUe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,a=!(i&&(Sf(i)||Wg(i)||Tv(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new RPe;Sf(i)?(Zne(i)?t=new i_(t,i.sequence):wI(i)&&(t=new r_(t,i.graticule)),a.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(a.parseNothing=!0),t=Bi.makeExplicit(t,e,a)??t,t=new Vf(t);const o=e.parent&&N1(e.parent);(qn(e)||ba(e))&&o&&(t=zu.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=UUe(t,e,a));const u=O7e(e),l=N7e(e);t=Bi.makeWithAncestors(t,{},{...u,...l},a)??t,qn(e)&&(t=Kp.parseAll(t,e),t=Nv.parseAll(t,e)),(qn(e)||ba(e))&&(o||(t=zu.makeFromEncoding(t,e)??t),t=Bu.makeFromEncoding(t,e)??t,t=Vg.parseAllForSortIndex(t,e));const c=t=v2(Xn.Raw,e,t);if(qn(e)){const x=Go.makeFromEncoding(t,e);x&&(t=x,TI(e)&&(t=new Vf(t))),t=_h.makeFromEncoding(t,e)??t,t=sc.makeFromEncoding(t,e)??t}let f,h;if(qn(e)){const{markDef:x,mark:y,config:v}=e,_=wn("invalid",x,v),{marks:E,scales:w}=h=ere({invalid:_,isPath:x0(y)});E!==w&&w==="include-invalid-values"&&(f=t=v2(Xn.PreFilterInvalid,e,t)),E==="exclude-invalid-values"&&(t=qg.make(t,e,h)??t)}const d=t=v2(Xn.Main,e,t);let p;if(qn(e)&&h){const{marks:x,scales:y}=h;x==="include-invalid-values"&&y==="exclude-invalid-values"&&(t=qg.make(t,e,h)??t,p=t=v2(Xn.PostFilterInvalid,e,t))}qn(e)&&k9e(e,d);let g=null;if(ba(e)){const x=e.getName("facet");t=PUe(t,e.facet)??t,g=new F1(t,e,x,d.getSource()),n[x]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:d,facetRoot:g,ancestorParse:a,preFilterInvalid:f,postFilterInvalid:p}}function v2(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),a=new Ys(n,s,e,i);return r[s]=a,a}class zUe extends WI{constructor(t,n,r,i){var s,a,o,u;super(t,"concat",n,r,i,t.resolve),(((a=(s=t.resolve)==null?void 0:s.axis)==null?void 0:a.x)==="shared"||((u=(o=t.resolve)==null?void 0:o.axis)==null?void 0:u.y)==="shared")&&Oe(PIe),this.children=this.getChildren(t).map((l,c)=>XI(l,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=WC(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of De(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Uu(t))&&B$(P$)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return yC(t)?t.vconcat:_I(t)?t.hconcat:t.concat}parseLayoutSize(){RUe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=II(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function WUe(e){return e===!1||e===null}const HUe={disable:1,gridScale:1,scale:1,...gne,labelExpr:1,encode:1},vie=De(HUe);class VI extends Ic{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new VI(vt(this.explicit),vt(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!WUe(this.get(t))}hasOrientSignalRef(){return st(this.explicit.orient)}}function VUe(e,t,n){const{encoding:r,config:i}=e,s=Or(r[t])??Or(r[gl(t)]),a=e.axis(t)||{},{format:o,formatType:u}=a;if(td(u))return{text:Uo({fieldOrDatumDef:s,field:"datum.value",format:o,formatType:u,config:i}),...n};if(o===void 0&&u===void 0&&i.customFormatTypes){if(Bg(s)==="quantitative"){if(Ug(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Uo({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Uo({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Bg(s)==="temporal"&&i.timeFormatType&&Re(s)&&!s.timeUnit)return{text:Uo({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function jUe(e){return Oc.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[ZUe(n,e)]),t),{})}const GUe={bottom:"top",top:"bottom",left:"right",right:"left"};function qUe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of De(i.component.axes))n.axis[s]=RI(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=XUe(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of Oc){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const a of s.component.axes[i]){const{value:o,explicit:u}=a.getWithExplicit("orient");if(!st(o)){if(r[o]>0&&!u){const l=GUe[o];r[o]>r[l]&&a.set("orient",l,!1)}r[o]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,a]of(t[i]||[]).entries())s>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}function XUe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const a=i.getWithExplicit("orient"),o=s.getWithExplicit("orient");if(a.explicit&&o.explicit&&a.value!==o.value)return;e[r]=KUe(i,s)}}}else return t.map(n=>n.clone());return e}function KUe(e,t){for(const n of vie){const r=Hf(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return yte(i,s);case"gridScale":return{explicit:i.explicit,value:hr(i.value,s.value)}}return EC(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function YUe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(st(n.labelAngle)?n.labelAngle:Cv(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Lre(r,i))return!0}return e===n[t]}const JUe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function ZUe(e,t){var x,y;let n=t.axis(e);const r=new VI,i=Or(t.encoding[e]),{mark:s,config:a}=t,o=(n==null?void 0:n.orient)||((x=a[e==="x"?"axisX":"axisY"])==null?void 0:x.orient)||((y=a.axis)==null?void 0:y.orient)||L9e(e),u=t.getScaleComponent(e).get("type"),l=D9e(e,u,o,t.config),c=n!==void 0?!n:KD("disable",a.style,n==null?void 0:n.style,l).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=I9e(i,n,e,a.style,l),h=tne(n.formatType,i,u),d=ene(i,i.type,n.format,n.formatType,a,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:u,orient:o,labelAngle:f,format:d,formatType:h,mark:s,config:a};for(const v of vie){const _=v in fU?fU[v](p):N7(v)?n[v]:void 0,E=_!==void 0,w=YUe(_,v,n,t,e);if(E&&w)r.set(v,_,w);else{const{configValue:b=void 0,configFrom:S=void 0}=N7(v)&&v!=="values"?KD(v,a.style,n.style,l):{},A=b!==void 0;E&&!A?r.set(v,_,w):(S!=="vgAxisConfig"||JUe.has(v)&&A||Zy(b)||st(b))&&r.set(v,b,!1)}}const g=n.encoding??{},m=pne.reduce((v,_)=>{if(!r.hasAxisPart(_))return v;const E=Hre(g[_]??{},t),w=_==="labels"?VUe(t,e,E):E;return w!==void 0&&!An(w)&&(v[_]={update:w}),v},{});return An(m)||r.set("encode",m,!!n.encoding||n.labelAngle!==void 0),r}function QUe({encoding:e,size:t}){for(const n of Oc){const r=ia(n);Qu(t[r])&&gf(e[n])&&(delete t[r],Oe(Ate(r)))}return t}const eze={vgMark:"arc",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ys("x",e,{defaultPos:"mid"}),...ys("y",e,{defaultPos:"mid"}),...yc(e,"radius"),...yc(e,"theta")})},tze={vgMark:"area",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...$w("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...$w("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...kI(e)})},nze={vgMark:"rect",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...yc(e,"x"),...yc(e,"y")})},rze={vgMark:"shape",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Re(n)&&n.type===C1?{field:We(n,{expr:"datum"})}:{}}]}},ize={vgMark:"image",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...yc(e,"x"),...yc(e,"y"),...SI(e,"url")})},sze={vgMark:"line",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ys("x",e,{defaultPos:"mid"}),...ys("y",e,{defaultPos:"mid"}),...si("size",e,{vgChannel:"strokeWidth"}),...kI(e)})},aze={vgMark:"trail",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ys("x",e,{defaultPos:"mid"}),...ys("y",e,{defaultPos:"mid"}),...si("size",e),...kI(e)})};function jI(e,t){const{config:n}=e;return{...bo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ys("x",e,{defaultPos:"mid"}),...ys("y",e,{defaultPos:"mid"}),...si("size",e),...si("angle",e),...oze(e,n,t)}}function oze(e,t,n){return n?{shape:{value:n}}:si("shape",e)}const uze={vgMark:"symbol",encodeEntry:e=>jI(e)},lze={vgMark:"symbol",encodeEntry:e=>jI(e,"circle")},cze={vgMark:"symbol",encodeEntry:e=>jI(e,"square")},fze={vgMark:"rect",encodeEntry:e=>({...bo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...yc(e,"x"),...yc(e,"y")})},hze={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...bo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$w("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...$w("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...si("size",e,{vgChannel:"strokeWidth"})}}},dze={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...bo(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...ys("x",e,{defaultPos:"mid"}),...ys("y",e,{defaultPos:"mid"}),...SI(e),...si("size",e,{vgChannel:"fontSize"}),...si("angle",e),...eU("align",pze(e.markDef,n,t)),...eU("baseline",gze(e.markDef,n,t)),...ys("radius",e,{defaultPos:null}),...ys("theta",e,{defaultPos:null})}}};function pze(e,t,n){if(wn("align",e,n)===void 0)return"center"}function gze(e,t,n){if(wn("baseline",e,n)===void 0)return"middle"}const mze={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",s=r==="horizontal"?"y":"x",a=r==="horizontal"?"height":"width";return{...bo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...yc(e,i),...ys(s,e,{defaultPos:"mid",vgChannel:s==="y"?"yc":"xc"}),[a]:In(wn("thickness",n,t))}}},y2={arc:eze,area:tze,bar:nze,circle:lze,geoshape:rze,image:ize,line:sze,point:uze,rect:fze,rule:hze,square:cze,text:dze,tick:mze,trail:aze};function xze(e){if(Bt([cC,uC,pMe],e.mark)){const t=Ene(e.mark,e.encoding);if(t.length>0)return vze(e,t)}else if(e.mark===lC){const t=ND.some(n=>wn(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return yze(e)}return GI(e)}const kU="faceted_path_";function vze(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:kU+e.requestDataName(Xn.Main),data:e.requestDataName(Xn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:GI(e,{fromPrefix:kU})}]}const TU="stack_group_";function yze(e){var l;const[t]=GI(e,{fromPrefix:TU}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const h=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${h.map(d=>`scale('${n}',${d})`).join(",")})`};let s,a;e.stack.fieldChannel==="x"?(s={...$g(t.encode.update,["y","yc","y2","height",...ND]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Ks(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...$g(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Ks(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of ND){const f=Ju(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):f&&(s[c]=In(f)),f&&(t.encode.update[c]={value:0})}const o=[];if(((l=e.stack.groupbyChannels)==null?void 0:l.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),h=We(f);h&&o.push(h),(f!=null&&f.bin||f!=null&&f.timeUnit)&&o.push(We(f,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const h=Ju(f,e.markDef,e.config);return h!==void 0?{...c,[f]:In(h)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Xn.Main),name:TU+e.requestDataName(Xn.Main),groupby:o,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}function _ze(e){const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,a=t.order;if(!(!_e(a)&&Zo(a)&&FD(a.value)||!a&&FD(wn("order",i,s)))){if((_e(a)||Re(a))&&!n)return mte(a,{expr:"datum"});if(x0(r)){const o=i.orient==="horizontal"?"y":"x",u=t[o];if(Re(u))return{field:o}}}}function GI(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,a=hr(r.clip,Eze(e),bze(e)),o=pte(r),u=i.key,l=_ze(e),c=wze(e),f=wn("aria",r,s),h=y2[n].postEncodingTransform?y2[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:y2[n].vgMark,...a?{clip:a}:{},...o?{style:o}:{},...u?{key:u.field}:{},...l?{sort:l}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Xn.Main)},encode:{update:y2[n].encodeEntry(e)},...h?{transform:h}:{}}]}function Eze(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function bze(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function wze(e){if(!e.component.selection)return null;const t=De(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=De(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class yie extends pie{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,$7(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=l=>{var c,f,h;return(c=l.from)!=null&&c.data&&(l.from.data=this.lookupDataSource(l.from.data),"time"in this.encoding&&(l.from.data=l.from.data+nre)),(h=(f=l.from)==null?void 0:f.facet)!=null&&h.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l};const a=Zu(t.mark)?{...t.mark}:{type:t.mark},o=a.type;a.filled===void 0&&(a.filled=JLe(a,s,{graticule:t.data&&wI(t.data)}));const u=this.encoding=tLe(t.encoding||{},o,a.filled,s);this.markDef=Wne(a,u,s),this.size=QUe({encoding:u,size:$7(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=zne(this.markDef,u),this.specifiedScales=this.initScales(o,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(l=>vI(l))}get hasProjection(){const{encoding:t}=this,n=this.mark===qte,r=t&&q$e.some(i=>yt(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return I$.reduce((r,i)=>{const s=Or(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=ri(t);return _e(n)&&(i.domain=n.map(pa)),_e(r)&&(i.range=r.map(pa)),i}initAxes(t){return Oc.reduce((n,r)=>{const i=t[r];if(yt(i)||r===Hn&&yt(t.x2)||r===ei&&yt(t.y2)){const s=yt(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=De(t),r={};for(const i of n){const s=t[i];r[i]=Zy(s)?dte(s):pa(s)}return r}initLegends(t){return iIe.reduce((n,r)=>{const i=Or(t[r]);if(i&&aIe(r)){const s=i.legend;n[r]=s&&ri(s)}return n},{})}parseData(){this.component.data=WC(this)}parseLayoutSize(){MUe(this)}parseSelections(){this.component.selection=C9e(this,this.selection)}parseMarkGroup(){this.component.mark=xze(this)}parseAxesAndHeaders(){this.component.axes=jUe(this)}assembleSelectionTopLevelSignals(t){return VPe(this,t)}assembleSignals(){return[...Ire(this),...WPe(this,[])]}assembleSelectionData(t){return jPe(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return II(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!N1(this.parent))&&(t=are(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return vh(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Qo(n)}typedFieldDef(t){const n=this.fieldDef(t);return ks(n)?n:null}}class qI extends WI{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const a={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((o,u)=>{if(_C(o))return new qI(o,this,this.getName(`layer_${u}`),a,s);if($c(o))return new yie(o,this,this.getName(`layer_${u}`),a,s);throw new Error(M$(o))})}parseData(){this.component.data=WC(this);for(const t of this.children)t.parseData()}parseLayoutSize(){IUe(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of De(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Uu(t))&&B$(P$)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){qUe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),Ire(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),II(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Xe(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return GPe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),Jre(this))}}function XI(e,t,n,r,i){if(dC(e))return new bx(e,t,n,i);if(_C(e))return new qI(e,t,n,r,i);if($c(e))return new yie(e,t,n,r,i);if(SLe(e))return new zUe(e,t,n,i);throw new Error(M$(e))}function Aze(e,t={}){t.logger&&TRe(t.logger),t.fieldTitle&&fne(t.fieldTitle);try{const n=Une(f1(t.config,e.config)),r=Kne(e,n),i=XI(r,null,"",void 0,n);return i.parse(),X7e(i.component.data,i),{spec:Cze(i,Sze(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&FRe(),t.fieldTitle&&GMe()}}function Sze(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ge(t)&&(t={type:t}),i&&s&&OPe(t.type)){if(i==="step"&&s==="step")Oe(x7()),t.type="pad";else if(i==="step"||s==="step"){const a=i==="step"?"width":"height";Oe(x7(nC(a)));const o=a==="width"?"height":"width";t.type=$Pe(o)}}return{...De(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...j7(n,!1),...j7(e,!0)}}function Cze(e,t,n={},r){const i=e.config?BLe(e.config):void 0,s=DUe(e.component.data,n),a=e.assembleSelectionData(s),o=e.assembleProjections(),u=e.assembleTitle(),l=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let f=e.assembleLayoutSignals();f=f.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:h,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...u?{title:u}:{},...l?{style:l}:{},...c?{encode:{update:c}}:{},data:a,...o.length>0?{projections:o}:{},...e.assembleGroup([...f,...e.assembleSelectionTopLevelSignals([]),...Mne(h)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const kze=z$e.version,Tze=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Rg,accessPathWithDatum:C$,accessWithDatumToUnescapedPath:mn,compile:Aze,contains:Bt,deepEqual:xa,deleteNestedProperty:ww,duplicate:vt,entries:Uf,every:w$,fieldIntersection:S$,flatAccessWithDatum:Xee,getFirstDefined:hr,hasIntersection:A$,hasProperty:Ne,hash:jt,internalField:Jee,isBoolean:Sv,isEmpty:An,isEqual:H$e,isInternalField:Zee,isNullOrFalse:FD,isNumeric:YS,keys:De,logicalExpr:yx,mergeDeep:Gee,never:jee,normalize:Kne,normalizeAngle:Cv,omit:Ks,pick:$g,prefixGenerator:DD,removePathFromField:A1,replaceAll:Kh,replacePathInField:po,resetIdCounter:j$e,setEqual:qee,some:Ig,stringify:Sn,titleCase:zy,unique:Ou,uniqueId:Yee,vals:pi,varName:Wn,version:kze},Symbol.toStringTag,{value:"Module"}));function _ie(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var Fze="2.15.0",Dze={version:Fze};const cp="#fff",FU="#888",Nze={background:"#333",view:{stroke:FU},title:{color:cp,subtitleColor:cp},style:{"guide-label":{fill:cp},"guide-title":{fill:cp}},axis:{domainColor:cp,gridColor:FU,tickColor:cp}},O0="#4572a7",Oze={background:"#fff",arc:{fill:O0},area:{fill:O0},line:{stroke:O0,strokeWidth:2},path:{stroke:O0},rect:{fill:O0},shape:{stroke:O0},symbol:{fill:O0,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},$0="#30a2da",sF="#cbcbcb",$ze="#999",Ize="#333",DU="#f0f0f0",NU="#333",Rze={arc:{fill:$0},area:{fill:$0},axis:{domainColor:sF,grid:!0,gridColor:sF,gridWidth:1,labelColor:$ze,labelFontSize:10,titleColor:Ize,tickColor:sF,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:DU,group:{fill:DU},legend:{labelColor:NU,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:NU,titleFontSize:14,titlePadding:10},line:{stroke:$0,strokeWidth:2},path:{stroke:$0,strokeWidth:.5},rect:{fill:$0},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:$0},bar:{binSpacing:2,fill:$0,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},I0="#000",Mze={group:{fill:"#e5e5e5"},arc:{fill:I0},area:{fill:I0},line:{stroke:I0},path:{stroke:I0},rect:{fill:I0},shape:{stroke:I0},symbol:{fill:I0,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Lze=22,Pze="normal",OU="Benton Gothic, sans-serif",$U=11.5,Bze="normal",R0="#82c6df",aF="Benton Gothic Bold, sans-serif",IU="normal",RU=13,gm={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},Uze={background:"#ffffff",title:{anchor:"start",color:"#000000",font:aF,fontSize:Lze,fontWeight:Pze},arc:{fill:R0},area:{fill:R0},line:{stroke:R0,strokeWidth:2},path:{stroke:R0},rect:{fill:R0},shape:{stroke:R0},symbol:{fill:R0,size:30},axis:{labelFont:OU,labelFontSize:$U,labelFontWeight:Bze,titleFont:aF,titleFontSize:RU,titleFontWeight:IU},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:OU,labelFontSize:$U,symbolType:"square",titleFont:aF,titleFontSize:RU,titleFontWeight:IU},range:{category:gm["category-6"],diverging:gm["fireandice-6"],heatmap:gm["fire-7"],ordinal:gm["fire-7"],ramp:gm["fire-7"]}},M0="#ab5787",_2="#979797",zze={background:"#f9f9f9",arc:{fill:M0},area:{fill:M0},line:{stroke:M0},path:{stroke:M0},rect:{fill:M0},shape:{stroke:M0},symbol:{fill:M0,size:30},axis:{domainColor:_2,domainWidth:.5,gridWidth:.2,labelColor:_2,tickColor:_2,tickWidth:.2,titleColor:_2},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},L0="#3e5c69",Wze={background:"#fff",arc:{fill:L0},area:{fill:L0},line:{stroke:L0},path:{stroke:L0},rect:{fill:L0},shape:{stroke:L0},symbol:{fill:L0},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ba="#1696d2",MU="#000000",Hze="#FFFFFF",E2="Lato",oF="Lato",Vze="Lato",jze="#DEDDDD",Gze=18,mm={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},qze={background:Hze,title:{anchor:"start",fontSize:Gze,font:E2},axisX:{domain:!0,domainColor:MU,domainWidth:1,grid:!1,labelFontSize:12,labelFont:oF,labelAngle:0,tickColor:MU,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:E2},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:jze,gridWidth:1,labelFontSize:12,labelFont:oF,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:E2,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:oF,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:E2,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:mm["six-groups-cat-1"],diverging:mm["diverging-colors"],heatmap:mm["diverging-colors"],ordinal:mm["six-groups-seq"],ramp:mm["shades-blue"]},area:{fill:Ba},rect:{fill:Ba},line:{color:Ba,stroke:Ba,strokeWidth:5},trail:{color:Ba,stroke:Ba,strokeWidth:0,size:1},path:{stroke:Ba,strokeWidth:.5},point:{filled:!0},text:{font:Vze,color:Ba,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ba,stroke:null}},arc:{fill:Ba},shape:{stroke:Ba},symbol:{fill:Ba,size:30}},P0="#3366CC",LU="#ccc",b2="Arial, sans-serif",Xze={arc:{fill:P0},area:{fill:P0},path:{stroke:P0},rect:{fill:P0},shape:{stroke:P0},symbol:{stroke:P0},circle:{fill:P0},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:b2,fontSize:12},"guide-title":{font:b2,fontSize:12},"group-title":{font:b2,fontSize:12}},title:{font:b2,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:LU,tickColor:LU,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},KI=e=>e*(1/3+1),PU=KI(9),BU=KI(10),UU=KI(12),xm="Segoe UI",zU="wf_standard-font, helvetica, arial, sans-serif",WU="#252423",vm="#605E5C",HU="transparent",Kze="#C8C6C4",Fo="#118DFF",Yze="#12239E",Jze="#E66C37",Zze="#6B007B",Qze="#E044A7",eWe="#744EC2",tWe="#D9B300",nWe="#D64550",Eie=Fo,bie="#DEEFFF",VU=[bie,Eie],rWe=[bie,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Eie],iWe={view:{stroke:HU},background:HU,font:xm,header:{titleFont:zU,titleFontSize:UU,titleColor:WU,labelFont:xm,labelFontSize:BU,labelColor:vm},axis:{ticks:!1,grid:!1,domain:!1,labelColor:vm,labelFontSize:PU,titleFont:zU,titleColor:WU,titleFontSize:UU,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Kze,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Fo},line:{stroke:Fo,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:xm,fontSize:PU,fill:vm},arc:{fill:Fo},area:{fill:Fo,line:!0,opacity:.6},path:{stroke:Fo},rect:{fill:Fo},point:{fill:Fo,filled:!0,size:75},shape:{stroke:Fo},symbol:{fill:Fo,strokeWidth:1.5,size:50},legend:{titleFont:xm,titleFontWeight:"bold",titleColor:vm,labelFont:xm,labelFontSize:BU,labelColor:vm,symbolType:"circle",symbolSize:75},range:{category:[Fo,Yze,Jze,Zze,Qze,eWe,tWe,nWe],diverging:VU,heatmap:VU,ordinal:rWe}},uF='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',sWe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',lF=400,w2={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},aWe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],oWe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function HC({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=w2.gridBg[e],i=w2.textPrimary[e],s=w2.textSecondary[e],a=n==="dark"?aWe:oWe,o=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:uF,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:sWe,labelFontWeight:lF,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:w2.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:uF,fill:s,fontWeight:lF},"guide-title":{font:uF,fill:s,fontWeight:lF}},range:{category:a,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const uWe=HC({theme:"white",background:"#ffffff"}),lWe=HC({theme:"g10",background:"#f4f4f4"}),cWe=HC({theme:"g90",background:"#262626"}),fWe=HC({theme:"g100",background:"#161616"}),hWe=Dze.version,dWe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:lWe,carbong100:fWe,carbong90:cWe,carbonwhite:uWe,dark:Nze,excel:Oze,fivethirtyeight:Rze,ggplot2:Mze,googlecharts:Xze,latimes:Uze,powerbi:iWe,quartz:zze,urbaninstitute:qze,version:hWe,vox:Wze},Symbol.toStringTag,{value:"Module"}));var cF={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var pWe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gWe=Object.prototype.hasOwnProperty;function sN(e,t){return gWe.call(e,t)}function aN(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)sN(e,i)&&r.push(i);return r}function va(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function oN(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function j0(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function wie(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function uN(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(uN(e[t]))return!0}else if(typeof e=="object"){for(var r=aN(e),i=r.length,s=0;s<i;s++)if(uN(e[r[s]]))return!0}}return!1}function jU(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Aie=function(e){pWe(t,e);function t(n,r,i,s,a){var o=this.constructor,u=e.call(this,jU(n,{name:r,index:i,operation:s,tree:a}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=a,Object.setPrototypeOf(u,o.prototype),u.message=jU(n,{name:r,index:i,operation:s,tree:a}),u}return t}(Error),Qn=Aie,mWe=va,Np={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Pw(n,this.path);r&&(r=va(r));var i=Eh(n,{op:"remove",path:this.from}).removed;return Eh(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Pw(n,this.from);return Eh(n,{op:"add",path:this.path,value:va(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:$v(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},xWe={add:function(e,t,n){return oN(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Np.move,copy:Np.copy,test:Np.test,_get:Np._get};function Pw(e,t){if(t=="")return e;var n={op:"_get",path:t};return Eh(e,n),n.value}function Eh(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):Bw(t,0)),t.path===""){var a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=Pw(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=$v(e,t.value),a.test===!1)throw new Qn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(n)throw new Qn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return a}}else{r||(e=va(e));var o=t.path||"",u=o.split("/"),l=e,c=1,f=u.length,h=void 0,d=void 0,p=void 0;for(typeof n=="function"?p=n:p=Bw;;){if(d=u[c],d&&d.indexOf("~")!=-1&&(d=wie(d)),i&&(d=="__proto__"||d=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(l[d]===void 0?h=u.slice(0,c).join("/"):c==f-1&&(h=t.path),h!==void 0&&p(t,0,e,h)),c++,Array.isArray(l)){if(d==="-")d=l.length;else{if(n&&!oN(d))throw new Qn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);oN(d)&&(d=~~d)}if(c>=f){if(n&&t.op==="add"&&d>l.length)throw new Qn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var a=xWe[t.op].call(t,l,d,e);if(a.test===!1)throw new Qn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}}else if(c>=f){var a=Np[t.op].call(t,l,d,e);if(a.test===!1)throw new Qn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}if(l=l[d],n&&c<f&&(!l||typeof l!="object"))throw new Qn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function VC(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Qn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=va(e));for(var s=new Array(t.length),a=0,o=t.length;a<o;a++)s[a]=Eh(e,t[a],n,!0,i,a),e=s[a].newDocument;return s.newDocument=e,s}function vWe(e,t,n){var r=Eh(e,t);if(r.test===!1)throw new Qn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Bw(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Qn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Np[e.op]){if(typeof e.path!="string")throw new Qn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Qn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Qn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Qn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&uN(e.value))throw new Qn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Qn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Qn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},o=Sie([a],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new Qn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Qn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Sie(e,t,n){try{if(!Array.isArray(e))throw new Qn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)VC(va(t),va(e),n||!0);else{n=n||Bw;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Qn)return i;throw i}}function $v(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,a;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!$v(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(e);if(s=o.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!$v(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var yWe=Object.freeze({__proto__:null,JsonPatchError:Qn,_areEquals:$v,applyOperation:Eh,applyPatch:VC,applyReducer:vWe,deepClone:mWe,getValueByPointer:Pw,validate:Sie,validator:Bw});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var YI=new WeakMap,_We=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),EWe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function bWe(e){return YI.get(e)}function wWe(e,t){return e.observers.get(t)}function AWe(e,t){e.observers.delete(t.callback)}function SWe(e,t){t.unobserve()}function CWe(e,t){var n=[],r,i=bWe(e);if(!i)i=new _We(e),YI.set(e,i);else{var s=wWe(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=va(e),t){r.callback=t,r.next=null;var a=function(){lN(r)},o=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return r.patches=n,r.object=e,r.unobserve=function(){lN(r),clearTimeout(r.next),AWe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},i.observers.set(t,new EWe(t,r)),r}function lN(e,t){t===void 0&&(t=!1);var n=YI.get(e.object);JI(n.value,e.object,e.patches,"",t),e.patches.length&&VC(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function JI(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=aN(t),a=aN(e),o=!1,u=a.length-1;u>=0;u--){var l=a[u],c=e[l];if(sN(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?JI(c,f,n,r+"/"+j0(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+j0(l),value:va(c)}),n.push({op:"replace",path:r+"/"+j0(l),value:va(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+j0(l),value:va(c)}),n.push({op:"remove",path:r+"/"+j0(l)}),o=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!o&&s.length==a.length))for(var u=0;u<s.length;u++){var l=s[u];!sN(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+j0(l),value:va(t[l])})}}}function kWe(e,t,n){n===void 0&&(n=!1);var r=[];return JI(e,t,r,"",n),r}var TWe=Object.freeze({__proto__:null,compare:kWe,generate:lN,observe:CWe,unobserve:SWe});Object.assign({},yWe,TWe,{JsonPatchError:Aie,deepClone:va,escapePathComponent:j0,unescapePathComponent:wie});function FWe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fF,GU;function DWe(){if(GU)return fF;GU=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(n,r)}return this}}return fF=e,fF}var hF,qU;function ZI(){if(qU)return hF;qU=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return hF=r=>r?typeof r!="object"?e:r:t,hF}var A2={exports:{}},dF,XU;function QI(){if(XU)return dF;XU=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return dF={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},dF}var pF,KU;function jC(){return KU||(KU=1,pF=typeof process=="object"&&cF&&cF.NODE_DEBUG&&/\bsemver\b/i.test(cF.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),pF}var YU;function eR(){return YU||(YU=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=QI(),s=jC();t=e.exports={};const a=t.re=[],o=t.safeRe=[],u=t.src=[],l=t.t={};let c=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],d=g=>{for(const[m,x]of h)g=g.split(`${m}*`).join(`${m}{0,${x}}`).split(`${m}+`).join(`${m}{1,${x}}`);return g},p=(g,m,x)=>{const y=d(m),v=c++;s(g,v,m),l[g]=v,u[v]=m,a[v]=new RegExp(m,x?"g":void 0),o[v]=new RegExp(y,x?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),p("FULL",`^${u[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),p("LOOSE",`^${u[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),p("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?(?:${u[l.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",u[l.COERCE],!0),p("COERCERTLFULL",u[l.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(A2,A2.exports)),A2.exports}var gF,JU;function NWe(){if(JU)return gF;JU=1;const e=/^[0-9]+$/,t=(r,i)=>{const s=e.test(r),a=e.test(i);return s&&a&&(r=+r,i=+i),r===i?0:s&&!a?-1:a&&!s?1:r<i?-1:1};return gF={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},gF}var mF,ZU;function tR(){if(ZU)return mF;ZU=1;const e=jC(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=QI(),{safeRe:r,t:i}=eR(),s=ZI(),{compareIdentifiers:a}=NWe();class o{constructor(l,c){if(c=s(c),l instanceof o){if(l.loose===!!c.loose&&l.includePrerelease===!!c.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",l,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const f=l.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!f)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const d=+h;if(d>=0&&d<n)return d}return h}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(e("SemVer.compare",this.version,this.options,l),!(l instanceof o)){if(typeof l=="string"&&l===this.version)return 0;l=new o(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof o||(l=new o(l,this.options)),a(this.major,l.major)||a(this.minor,l.minor)||a(this.patch,l.patch)}comparePre(l){if(l instanceof o||(l=new o(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let c=0;do{const f=this.prerelease[c],h=l.prerelease[c];if(e("prerelease compare",c,f,h),f===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(f===void 0)return-1;if(f===h)continue;return a(f,h)}while(++c)}compareBuild(l){l instanceof o||(l=new o(l,this.options));let c=0;do{const f=this.build[c],h=l.build[c];if(e("build compare",c,f,h),f===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(f===void 0)return-1;if(f===h)continue;return a(f,h)}while(++c)}inc(l,c,f){switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,f),this.inc("pre",c,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,f),this.inc("pre",c,f);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(f)?1:0;if(!c&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[h];else{let d=this.prerelease.length;for(;--d>=0;)typeof this.prerelease[d]=="number"&&(this.prerelease[d]++,d=-2);if(d===-1){if(c===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(c){let d=[c,h];f===!1&&(d=[c]),a(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=d):this.prerelease=d}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return mF=o,mF}var xF,QU;function O1(){if(QU)return xF;QU=1;const e=tR();return xF=(n,r,i)=>new e(n,i).compare(new e(r,i)),xF}var vF,ez;function OWe(){if(ez)return vF;ez=1;const e=O1();return vF=(n,r,i)=>e(n,r,i)===0,vF}var yF,tz;function $We(){if(tz)return yF;tz=1;const e=O1();return yF=(n,r,i)=>e(n,r,i)!==0,yF}var _F,nz;function IWe(){if(nz)return _F;nz=1;const e=O1();return _F=(n,r,i)=>e(n,r,i)>0,_F}var EF,rz;function RWe(){if(rz)return EF;rz=1;const e=O1();return EF=(n,r,i)=>e(n,r,i)>=0,EF}var bF,iz;function MWe(){if(iz)return bF;iz=1;const e=O1();return bF=(n,r,i)=>e(n,r,i)<0,bF}var wF,sz;function LWe(){if(sz)return wF;sz=1;const e=O1();return wF=(n,r,i)=>e(n,r,i)<=0,wF}var AF,az;function PWe(){if(az)return AF;az=1;const e=OWe(),t=$We(),n=IWe(),r=RWe(),i=MWe(),s=LWe();return AF=(o,u,l,c)=>{switch(u){case"===":return typeof o=="object"&&(o=o.version),typeof l=="object"&&(l=l.version),o===l;case"!==":return typeof o=="object"&&(o=o.version),typeof l=="object"&&(l=l.version),o!==l;case"":case"=":case"==":return e(o,l,c);case"!=":return t(o,l,c);case">":return n(o,l,c);case">=":return r(o,l,c);case"<":return i(o,l,c);case"<=":return s(o,l,c);default:throw new TypeError(`Invalid operator: ${u}`)}},AF}var SF,oz;function BWe(){if(oz)return SF;oz=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),a("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=c.match(f);if(!h)throw new TypeError(`Invalid comparator: ${c}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(a("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new o(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new u(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}SF=t;const n=ZI(),{safeRe:r,t:i}=eR(),s=PWe(),a=jC(),o=tR(),u=Cie();return SF}var CF,uz;function Cie(){if(uz)return CF;uz=1;const e=/\s+/g;class t{constructor(D,O){if(O=i(O),D instanceof t)return D.loose===!!O.loose&&D.includePrerelease===!!O.includePrerelease?D:new t(D.raw,O);if(D instanceof s)return this.raw=D.value,this.set=[[D]],this.formatted=void 0,this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=D.trim().replace(e," "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const M=this.set[0];if(this.set=this.set.filter(z=>!g(z[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(const z of this.set)if(z.length===1&&m(z[0])){this.set=[z];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let D=0;D<this.set.length;D++){D>0&&(this.formatted+="||");const O=this.set[D];for(let M=0;M<O.length;M++)M>0&&(this.formatted+=" "),this.formatted+=O[M].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(D){const M=((this.options.includePrerelease&&d)|(this.options.loose&&p))+":"+D,z=r.get(M);if(z)return z;const K=this.options.loose,X=K?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];D=D.replace(X,F(this.options.includePrerelease)),a("hyphen replace",D),D=D.replace(u[l.COMPARATORTRIM],c),a("comparator trim",D),D=D.replace(u[l.TILDETRIM],f),a("tilde trim",D),D=D.replace(u[l.CARETTRIM],h),a("caret trim",D);let ve=D.split(" ").map(de=>y(de,this.options)).join(" ").split(/\s+/).map(de=>k(de,this.options));K&&(ve=ve.filter(de=>(a("loose invalid filter",de,this.options),!!de.match(u[l.COMPARATORLOOSE])))),a("range list",ve);const te=new Map,ue=ve.map(de=>new s(de,this.options));for(const de of ue){if(g(de))return[de];te.set(de.value,de)}te.size>1&&te.has("")&&te.delete("");const le=[...te.values()];return r.set(M,le),le}intersects(D,O){if(!(D instanceof t))throw new TypeError("a Range is required");return this.set.some(M=>x(M,O)&&D.set.some(z=>x(z,O)&&M.every(K=>z.every(X=>K.intersects(X,O)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new o(D,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(N(this.set[O],D,this.options))return!0;return!1}}CF=t;const n=DWe(),r=new n,i=ZI(),s=BWe(),a=jC(),o=tR(),{safeRe:u,t:l,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:h}=eR(),{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:p}=QI(),g=R=>R.value==="<0.0.0-0",m=R=>R.value==="",x=(R,D)=>{let O=!0;const M=R.slice();let z=M.pop();for(;O&&M.length;)O=M.every(K=>z.intersects(K,D)),z=M.pop();return O},y=(R,D)=>(a("comp",R,D),R=w(R,D),a("caret",R),R=_(R,D),a("tildes",R),R=S(R,D),a("xrange",R),R=C(R,D),a("stars",R),R),v=R=>!R||R.toLowerCase()==="x"||R==="*",_=(R,D)=>R.trim().split(/\s+/).map(O=>E(O,D)).join(" "),E=(R,D)=>{const O=D.loose?u[l.TILDELOOSE]:u[l.TILDE];return R.replace(O,(M,z,K,X,ve)=>{a("tilde",R,M,z,K,X,ve);let te;return v(z)?te="":v(K)?te=`>=${z}.0.0 <${+z+1}.0.0-0`:v(X)?te=`>=${z}.${K}.0 <${z}.${+K+1}.0-0`:ve?(a("replaceTilde pr",ve),te=`>=${z}.${K}.${X}-${ve} <${z}.${+K+1}.0-0`):te=`>=${z}.${K}.${X} <${z}.${+K+1}.0-0`,a("tilde return",te),te})},w=(R,D)=>R.trim().split(/\s+/).map(O=>b(O,D)).join(" "),b=(R,D)=>{a("caret",R,D);const O=D.loose?u[l.CARETLOOSE]:u[l.CARET],M=D.includePrerelease?"-0":"";return R.replace(O,(z,K,X,ve,te)=>{a("caret",R,z,K,X,ve,te);let ue;return v(K)?ue="":v(X)?ue=`>=${K}.0.0${M} <${+K+1}.0.0-0`:v(ve)?K==="0"?ue=`>=${K}.${X}.0${M} <${K}.${+X+1}.0-0`:ue=`>=${K}.${X}.0${M} <${+K+1}.0.0-0`:te?(a("replaceCaret pr",te),K==="0"?X==="0"?ue=`>=${K}.${X}.${ve}-${te} <${K}.${X}.${+ve+1}-0`:ue=`>=${K}.${X}.${ve}-${te} <${K}.${+X+1}.0-0`:ue=`>=${K}.${X}.${ve}-${te} <${+K+1}.0.0-0`):(a("no pr"),K==="0"?X==="0"?ue=`>=${K}.${X}.${ve}${M} <${K}.${X}.${+ve+1}-0`:ue=`>=${K}.${X}.${ve}${M} <${K}.${+X+1}.0-0`:ue=`>=${K}.${X}.${ve} <${+K+1}.0.0-0`),a("caret return",ue),ue})},S=(R,D)=>(a("replaceXRanges",R,D),R.split(/\s+/).map(O=>A(O,D)).join(" ")),A=(R,D)=>{R=R.trim();const O=D.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return R.replace(O,(M,z,K,X,ve,te)=>{a("xRange",R,M,z,K,X,ve,te);const ue=v(K),le=ue||v(X),de=le||v(ve),ke=de;return z==="="&&ke&&(z=""),te=D.includePrerelease?"-0":"",ue?z===">"||z==="<"?M="<0.0.0-0":M="*":z&&ke?(le&&(X=0),ve=0,z===">"?(z=">=",le?(K=+K+1,X=0,ve=0):(X=+X+1,ve=0)):z==="<="&&(z="<",le?K=+K+1:X=+X+1),z==="<"&&(te="-0"),M=`${z+K}.${X}.${ve}${te}`):le?M=`>=${K}.0.0${te} <${+K+1}.0.0-0`:de&&(M=`>=${K}.${X}.0${te} <${K}.${+X+1}.0-0`),a("xRange return",M),M})},C=(R,D)=>(a("replaceStars",R,D),R.trim().replace(u[l.STAR],"")),k=(R,D)=>(a("replaceGTE0",R,D),R.trim().replace(u[D.includePrerelease?l.GTE0PRE:l.GTE0],"")),F=R=>(D,O,M,z,K,X,ve,te,ue,le,de,ke)=>(v(M)?O="":v(z)?O=`>=${M}.0.0${R?"-0":""}`:v(K)?O=`>=${M}.${z}.0${R?"-0":""}`:X?O=`>=${O}`:O=`>=${O}${R?"-0":""}`,v(ue)?te="":v(le)?te=`<${+ue+1}.0.0-0`:v(de)?te=`<${ue}.${+le+1}.0-0`:ke?te=`<=${ue}.${le}.${de}-${ke}`:R?te=`<${ue}.${le}.${+de+1}-0`:te=`<=${te}`,`${O} ${te}`.trim()),N=(R,D,O)=>{for(let M=0;M<R.length;M++)if(!R[M].test(D))return!1;if(D.prerelease.length&&!O.includePrerelease){for(let M=0;M<R.length;M++)if(a(R[M].semver),R[M].semver!==s.ANY&&R[M].semver.prerelease.length>0){const z=R[M].semver;if(z.major===D.major&&z.minor===D.minor&&z.patch===D.patch)return!0}return!1}return!0};return CF}var kF,lz;function UWe(){if(lz)return kF;lz=1;const e=Cie();return kF=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},kF}var zWe=UWe(),kie=FWe(zWe);function WWe(e,t,n){const r=e.open(t),i=250,{origin:s}=new URL(t);let a=40;function o(l){l.source===r&&(a=0,e.removeEventListener("message",o,!1))}e.addEventListener("message",o,!1);function u(){a<=0||(r.postMessage(n,s),setTimeout(u,i),a-=1)}setTimeout(u,i)}var HWe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Tie(e,...t){for(const n of t)VWe(e,n);return e}function VWe(e,t){for(const n of Object.keys(t))h1(e,n,t[n],!0)}const bu=F$e;let Iv=Tze;const S2=typeof window<"u"?window:void 0;var lH;Iv===void 0&&((lH=S2==null?void 0:S2.vl)!=null&&lH.compile)&&(Iv=S2.vl);const jWe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},GWe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Ym={vega:"Vega","vega-lite":"Vega-Lite"},Uw={vega:bu.version,"vega-lite":Iv?Iv.version:"not available"},qWe={vega:e=>e,"vega-lite":(e,t)=>Iv.compile(e,{config:t}).spec},XWe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,KWe="chart-wrapper";function YWe(e){return typeof e=="function"}function cz(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+e+s),a.document.title=`${Ym[r]} JSON Source`}function JWe(e,t){if(e.$schema){const n=_ie(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${Ym[n.library]}, but mode argument sets ${Ym[t]??t}.`);const r=n.library;return kie(Uw[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${Ym[r]} ${n.version}, but the current version of ${Ym[r]} is v${Uw[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function Fie(e){return!!(e&&"load"in e)}function fz(e){return Fie(e)?e:bu.loader(e)}function ZWe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Ge(t.defaultStyle)&&(t.defaultStyle=!1),t}async function cN(e,t,n={}){let r,i;Ge(t)?(i=fz(n.loader),r=JSON.parse(await i.load(t))):r=t;const s=ZWe(r),a=s.loader;(!i||a)&&(i=fz(n.loader??a));const o=await hz(s,i),u=await hz(n,i),l={...Tie(u,o),config:f1(u.config??{},o.config??{})};return await eHe(e,r,l,i)}async function hz(e,t){const n=Ge(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Ge(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function QWe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function eHe(e,t,n={},r){const i=n.theme?f1(dWe[n.theme],n.config??{}):n.config,s=a0(n.actions)?n.actions:Tie({},jWe,n.actions??{}),a={...GWe,...n.i18n},o=n.renderer??"canvas",u=n.logLevel??bu.Warn,l=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const E="vega-embed-style",{root:w,rootContainer:b}=QWe(c);if(!w.getElementById(E)){const S=document.createElement("style");S.id=E,S.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?HWe.toString():n.defaultStyle,b.appendChild(S)}}const f=JWe(t,n.mode);let h=qWe[f](t,i);if(f==="vega-lite"&&h.$schema){const E=_ie(h.$schema);kie(Uw.vega,`^${E.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${E.version}, but current version is v${Uw.vega}.`)}c.classList.add("vega-embed"),s&&c.classList.add("has-actions"),c.innerHTML="";let d=c;if(s){const E=document.createElement("div");E.classList.add(KWe),c.appendChild(E),d=E}const p=n.patch;if(p&&(h=p instanceof Function?p(h):VC(h,p,!0,!1).newDocument),n.formatLocale&&bu.formatLocale(n.formatLocale),n.timeFormatLocale&&bu.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const E in n.expressionFunctions){const w=n.expressionFunctions[E];"fn"in w?bu.expressionFunction(E,w.fn,w.visitor):w instanceof Function&&bu.expressionFunction(E,w)}const{ast:g}=n,m=bu.parse(h,f==="vega-lite"?{}:i,{ast:g}),x=new(n.viewClass||bu.View)(m,{loader:r,logLevel:u,renderer:o,...g?{expr:bu.expressionInterpreter??n.expr??B$e}:{}});if(x.addSignalListener("autosize",(E,w)=>{const{type:b}=w;b=="fit-x"?(d.classList.add("fit-x"),d.classList.remove("fit-y")):b=="fit-y"?(d.classList.remove("fit-x"),d.classList.add("fit-y")):b=="fit"?d.classList.add("fit-x","fit-y"):d.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:E,tooltip:w}=n,b=E&&!Fie(E)?E==null?void 0:E.baseURL:void 0,S=YWe(w)?w:new R2e({baseURL:b,...w===!0?{}:w}).call;x.tooltip(S)}let{hover:y}=n;if(y===void 0&&(y=f==="vega"),y){const{hoverSet:E,updateSet:w}=typeof y=="boolean"?{}:y;x.hover(E,w)}n&&(n.width!=null&&x.width(n.width),n.height!=null&&x.height(n.height),n.padding!=null&&x.padding(n.padding)),await x.initialize(d,n.bind).runAsync();let v;if(s!==!1){let E=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const b=document.createElement("details");b.title=a.CLICK_TO_VIEW_ACTIONS,c.append(b),E=b;const S=document.createElement("summary");S.innerHTML=XWe,b.append(S),v=A=>{b.contains(A.target)||b.removeAttribute("open")},document.addEventListener("click",v)}const w=document.createElement("div");if(E.append(w),w.classList.add("vega-actions"),s===!0||s.export!==!1){for(const b of["svg","png"])if(s===!0||s.export===!0||s.export[b]){const S=a[`${b.toUpperCase()}_ACTION`],A=document.createElement("a"),C=qe(n.scaleFactor)?n.scaleFactor[b]:n.scaleFactor;A.text=S,A.href="#",A.target="_blank",A.download=`${l}.${b}`,A.addEventListener("mousedown",async function(k){k.preventDefault();const F=await x.toImageURL(b,C);this.href=F}),w.append(A)}}if(s===!0||s.source!==!1){const b=document.createElement("a");b.text=a.SOURCE_ACTION,b.href="#",b.addEventListener("click",function(S){cz(aT(t),n.sourceHeader??"",n.sourceFooter??"",f),S.preventDefault()}),w.append(b)}if(f==="vega-lite"&&(s===!0||s.compiled!==!1)){const b=document.createElement("a");b.text=a.COMPILED_ACTION,b.href="#",b.addEventListener("click",function(S){cz(aT(h),n.sourceHeader??"",n.sourceFooter??"","vega"),S.preventDefault()}),w.append(b)}if(s===!0||s.editor!==!1){const b=n.editorUrl??"https://vega.github.io/editor/",S=document.createElement("a");S.text=a.EDITOR_ACTION,S.href="#",S.addEventListener("click",function(A){WWe(window,b,{config:i,mode:p?"vega":f,renderer:o,spec:aT(p?h:t)}),A.preventDefault()}),w.append(S)}}function _(){v&&document.removeEventListener("click",v),x.finalize()}return{view:x,spec:t,vgSpec:h,finalize:_,embedOptions:n}}const tHe="https://vega.github.io/schema/vega/v5.json",nHe={text:{font:"Roboto Condensed, Arial, sans-serif"}},rHe={top:50,bottom:10},iHe={type:"fit",contains:"padding"},sHe=[{name:"width",init:"containerSize()[0]",on:[{events:"window:resize",update:"containerSize()[0]"}]},{name:"height",init:"containerSize()[1]",on:[{events:"window:resize",update:"containerSize()[1]"}]},{name:"active",value:null,on:[{events:"shape:mouseover",update:'datum["properties"]["cartogram_id"]'},{events:"mouseover[!event.item]",update:"null"}]},{name:"colorScheme",value:"pastel1"}],aHe=[{name:"source_csv",url:"",format:{type:"csv",delimiter:","}},{name:"source_geojson",url:"",format:{type:"json",parse:{}}},{name:"geo_1",source:"source_geojson",transform:[{type:"flatten",fields:["features"]},{type:"project",fields:["features.type","features.properties","features.geometry"],as:["type","properties","geometry"]},{type:"lookup",from:"source_csv",key:"Region",fields:["properties.Region"],as:["cartogram_data"],default:{Color:"lightgrey",ColorGroup:"-1"}},{type:"formula",expr:"geoArea('source_projection', datum.geometry)",as:"Area"},{type:"formula",expr:'datum["properties"]["label"]["x"]',as:"x"},{type:"formula",expr:'datum["properties"]["label"]["y"]',as:"y"}]},{name:"geo_1_dividers",source:"source_geojson",transform:[{type:"filter",expr:"datum.dividers != null"},{type:"flatten",fields:["dividers"]},{type:"project",fields:["dividers.type","dividers.properties","dividers.geometry"],as:["type","properties","geometry"]}]}],oHe=[{name:"source_projection",size:{signal:"[width, height]"},fit:{signal:"data('source_geojson')"},type:"identity",reflectY:!0}],uHe=[{name:"font_size",type:"band",domain:{data:"geo_1",field:"Area",sort:!0},range:[8,12]},{name:"color_group",type:"ordinal",domain:{data:"source_csv",field:"ColorGroup"},range:{scheme:{signal:"colorScheme"}}}],lHe=[{name:"polygon_marks",type:"shape",style:["geoshape"],from:{data:"geo_1"},encode:{update:{description:{signal:'"geoshape_" + datum["properties"]["cartogram_id"]'},stroke:{value:"black"},strokeWidth:{signal:'datum["properties"]["cartogram_id"] == active? 1 : 0.2'},tooltip:{signal:"datum.cartogram_data"},fill:[{test:"isValid(datum.cartogram_data.Color)",field:"cartogram_data.Color"},{test:"isValid(datum.cartogram_data.ColorGroup)",scale:"color_group",field:"cartogram_data.ColorGroup"},{value:"lightgrey"}],ariaRoleDescription:{value:"geoshape"}}},transform:[{type:"geoshape",projection:"source_projection"}]},{name:"divider_marks",type:"shape",style:["geoshape"],from:{data:"geo_1_dividers"},encode:{update:{description:{value:"dividers"},stroke:{value:"white"},strokeWidth:{value:8},strokeCap:{value:"round"},ariaRoleDescription:{value:"geoshape"}}},transform:[{type:"geoshape",projection:"source_projection"}]},{name:"divider_marks_border",type:"shape",style:["geoshape"],from:{data:"geo_1_dividers"},encode:{update:{description:{value:"dividers"},stroke:{value:"black"},strokeWidth:{value:1},ariaRoleDescription:{value:"geoshape"}}},transform:[{type:"geoshape",projection:"source_projection"}]},{name:"label_marks",type:"text",style:["text"],from:{data:"geo_1"},encode:{update:{text:{field:"cartogram_data.RegionLabel"},x:{field:"x"},y:{field:"y"},description:{signal:'"geolabel_" + datum["properties"]["cartogram_id"]'},align:{value:"center"},baseline:{value:"middle"},fontSize:[{test:"datum.Area < 1000",scale:"font_size",field:"Area"},{value:12}],opacity:{signal:"datum.Area < 400 ? 0:1"},ariaRoleDescription:{value:"geolabel"}}},transform:[{type:"geopoint",fields:["x","y"],projection:"source_projection"}],interactive:!1}],Die={$schema:tHe,config:nHe,padding:rHe,autosize:iHe,signals:sHe,data:aHe,projections:oHe,scales:uHe,marks:lHe},cHe={class:"d-flex flex-column card-body p-0"},fHe={class:"d-flex position-absolute z-1"},hHe=["id","width"],dHe=["x2"],pHe=["x1","x2"],gHe=["cx"],mHe=["id","width","height"],xHe=["id"],vHe=["width","height"],yHe=["id"],_He=["innerHTML"],EHe=["innerHTML"],bHe=["id"],wHe={style:{"mix-blend-mode":"multiply"}},AHe=["id"],SHe=["id"],CHe=["id"],kHe=["id"],THe=["fill"],Ua=3,FHe=.3,DHe=Zr({__name:"CPanelLegend",props:{panelID:{},mapDBKey:{},versionKey:{},affineScale:{default:[1,1]}},emits:["gridChanged","versionUpdated"],setup(e,{expose:t,emit:n}){const r=wd(),i=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language,s=uh("colorScheme"),a=JSON.parse(JSON.stringify(Die)),o=oi();let u,l,c,f,h,d=-1,p=0;const g=e,m=sa({version:r.versions[g.versionKey],legendUnit:"",legendTotal:"",currentGridIndex:1,gridDataKeys:[1],gridData:{},handlePosition:0,scalePowerOf10:1});t({getCurrentScale:w});const x=n;Gs(()=>g.versionKey,()=>{m.version=r.versions[g.versionKey],y()}),Gs(()=>r.highlightedRegionID,O=>{D(O)}),Gs(()=>r.options.numberOfPanels,()=>{v()}),Gs(()=>g.affineScale,()=>{k()},{deep:!0}),Sc(async()=>{if(!m.version)return;a.signals[3].value=!s||s==="custom"?"pastel1":s,a.data[0].url=uE(r.currentMapName,g.mapDBKey,"data.csv"),a.data[1].url=uE(r.currentMapName,g.mapDBKey,m.version.name+".json"),u=k0("#"+g.panelID+"-vis"),l=k0("#"+g.panelID+"-offscreen"),c=(await cN("#"+g.panelID+"-vis",a,{renderer:"svg",actions:!1,tooltip:C4})).view;const[M,z]=QP(m.version.header,c.data("geo_1"),c.data("source_csv"));f=M,h=z,c.addResizeListener(function(){f=W2e(c.data("geo_1")),_()}),c.addSignalListener("active",function(K,X){r.highlightedRegionID=X}),c.addEventListener("pointerup",function(K,X){const ve=X==null?void 0:X.datum.cartogram_data;c.tooltip()(c,K,X,ve)}),_()});async function y(){a.data[1].url=uE(r.currentMapName,g.mapDBKey,m.version.name+".json");let O=0;const M=await cN("#"+g.panelID+"-offscreen",a,{renderer:"svg",actions:!1,tooltip:C4}),[z,K]=QP(m.version.header,M.view.data("geo_1"),M.view.data("source_csv"));f=z,h=K,_();function X(){M.view.runAfter(()=>x("versionUpdated")),M.view.initialize("#"+g.panelID+"-vis").runAsync(),c=M.view}u.selectAll('path[aria-roledescription="geoshape"]').each(function(){const ve=k0(this).attr("aria-label"),te=ve.replace("geoshape","geolabel"),ue=l.select('path[aria-label="'+ve+'"]').attr("d");if(k0(this).transition().ease(rE).duration(1e3).attr("d",ue).on("start",function(){O++}).on("end",function(){--O===0&&X()}),!te||te==="dividers")return;const le=l.select('text[aria-label="'+te+'"]'),de=le.attr("transform"),ke=le.attr("opacity"),He=le.attr("font-size");u.select('text[aria-label="'+te+'"]').transition().ease(rE).duration(1e3).attr("transform",de).attr("opacity",ke).attr("font-size",He).on("start",function(){O++}).on("end",function(){--O===0&&X()})})}async function v(){await c.resize(),await c.width(c.container().offsetWidth).runAsync(),_()}async function _(){if(!m.version)return;E(),await Fh(),b(m.currentGridIndex);const O=Math.floor(Math.log10(h)),M=h/Math.pow(10,O);m.legendTotal=F(M,O),N()}function E(){if(h===0||f===0)return;const O=h/f;let M=h/100,z=Math.sqrt(M/O);for(;z<20;)M*=2,z=Math.sqrt(M/O);const K=[],[X,ve]=FK(M),te=oE.indexOf(X);let ue=te===0?te:te-1,le=ue+Ua+1;for(;le>=oE.length&&ue>0;)le--,ue--;const de=oE.slice(ue,le);for(let ke=0;ke<=Ua;ke++)K[ke]=z*Math.sqrt(de[ke]*Math.pow(10,ve)/M);for(let ke=0;ke<=Ua;ke++)m.gridData[ke]={width:K[ke],scaleNiceNumber:de[ke]};m.gridDataKeys=[m.currentGridIndex],m.scalePowerOf10=ve}function w(){var O;return((O=m.gridData[m.currentGridIndex])==null?void 0:O.scaleNiceNumber)/(g.affineScale[0]*g.affineScale[1])}async function b(O){var M;m.currentGridIndex=O,m.gridDataKeys=[m.currentGridIndex],await Fh();for(let z=0;z<=Ua;z++)z<=O?k0("#"+g.panelID+"-legend"+z+" rect").attr("fill","#EEEEEE"):k0("#"+g.panelID+"-legend"+z+" rect").attr("fill","#D6D6D6");k(),R((M=m.gridData[O])==null?void 0:M.width)}function S(O){O.isPrimary&&(o.value.setPointerCapture(O.pointerId),d=O.pointerId,m.handlePosition=O.offsetX)}function A(O){if(d!==O.pointerId)return;const M=O.pageX-p,z=m.handlePosition+M;m.handlePosition=Math.max(0,Math.min(z,m.gridData[Ua].width)),p=O.pageX}function C(O){if(d!==O.pointerId)return;o.value.releasePointerCapture(O.pointerId),d=-1;let M=0,z=Number.MAX_VALUE;for(let K=0;K<=Ua;K++){const X=Math.abs(m.handlePosition-m.gridData[K].width);X<z&&(z=X,M=K)}b(M),x("gridChanged")}function k(){if(!m.gridData[Ua])return;let O=m.gridData[m.currentGridIndex].scaleNiceNumber;O=O/(g.affineScale[0]*g.affineScale[1]),m.legendUnit=F(O,m.scalePowerOf10)}function F(O,M){const z=O*Math.pow(10,M),K=Intl.NumberFormat(i,{notation:"compact",compactDisplay:"short"});let X="";return X+=K.format(z),X}function N(){if(!m.gridData[Ua])return;const O=m.gridData[m.currentGridIndex].width||20;R(O)}function R(O){if(isNaN(O))return;const M=r.options.showGrid?FHe:0,z=k0("#"+g.panelID+"-grid");z.select("path").attr("stroke-opacity",M).attr("d","M "+O*5+" 0 L 0 0 0 "+O*5),z.attr("width")?z.transition().ease(rE).duration(1e3).attr("width",O).attr("height",O):z.attr("width",O).attr("height",O),m.handlePosition=O}function D(O){c==null||c.signal("active",O).runAsync()}return(O,M)=>{var z;return je(),Ye("div",cHe,[Q("div",fHe,[m.gridData[Ua]?(je(),Ye("svg",{key:0,ref_key:"legendSvgEl",ref:o,class:"d-flex position-absolute z-2",style:{cursor:"pointer",top:"-15px","touch-action":"none"},height:"30px",stroke:"#AAAAAA","stroke-width":"2px",id:g.panelID+"-slider",width:m.gridData[Ua].width+15,onPointerdown:af(S,["stop","prevent"]),onPointermove:af(A,["stop","prevent"]),onPointerup:af(C,["stop","prevent"])},[Q("line",{x1:"0",y1:"15",x2:m.gridData[Ua].width,y2:"15"},null,8,dHe),(je(!0),Ye(Mt,null,Mi(m.gridData,(K,X)=>(je(),Ye("line",{x1:K.width,y1:"8",x2:K.width,y2:"16",key:X},null,8,pHe))),128)),Q("circle",{id:"handle",r:"5",cx:m.handlePosition,cy:"15","stroke-width":"0px"},null,8,gHe)],40,hHe)):Ar("",!0),m.gridData[Ua]?(je(),Ye("svg",{key:1,id:g.panelID+"-legend",style:{cursor:"pointer",opacity:"0.5"},width:m.gridData[m.currentGridIndex].width+2,height:m.gridData[m.currentGridIndex].width+2},[(je(!0),Ye(Mt,null,Mi(m.gridDataKeys,K=>(je(),Ye("g",{id:g.panelID+"-legend"+K,"stroke-width":"2px",fill:"#EEEEEE",stroke:"#AAAAAA",key:K},[Q("rect",{x:"1",y:"1",width:m.gridData[K].width,height:m.gridData[K].width},null,8,vHe)],8,xHe))),128))],8,mHe)):Ar("",!0),Q("div",{id:g.panelID+"-legend-num",class:"flex-fill p-1"},[Q("span",{innerHTML:m.legendUnit},null,8,_He),nr(" "+yr((z=m.version)==null?void 0:z.unit)+" ",1),Q("div",null,[M[0]||(M[0]=nr("Total: ")),Q("span",{innerHTML:m.legendTotal},null,8,EHe)])],8,yHe)]),Q("div",{id:g.panelID,class:"d-flex flex-fill position-relative"},[Q("div",wHe,[Q("div",{id:g.panelID+"-offscreen",class:"vis-area offscreen"},null,8,AHe),Q("div",{id:g.panelID+"-vis",class:"vis-area"},null,8,SHe),aV(O.$slots,"default",{},void 0,!0)]),(je(),Ye("svg",{width:"100%",height:"100%",id:g.panelID+"-grid-area"},[Q("defs",null,[Q("pattern",{id:g.panelID+"-grid",patternUnits:"userSpaceOnUse"},M[1]||(M[1]=[Q("path",{fill:"none",stroke:"#5A5A5A","stroke-width":"2","stroke-opacity":"0.3"},null,-1)]),8,kHe)]),tr(r).options.showGrid?(je(),Ye("rect",{key:0,width:"100%",height:"100%",fill:"url(#"+g.panelID+"-grid)"},null,8,THe)):Ar("",!0)],8,CHe))],8,bHe)])}}}),NHe=g1(DHe,[["__scopeId","data-v-ecdbe4d8"]]),OHe={class:"btn-group d-flex flex-shrink-1",style:{"min-width":"40px"},role:"group","aria-label":"Data"},$He=["disabled"],IHe=["onClick"],RHe={key:0,class:"fas fa-check"},MHe=Zr({__name:"CPanelSelectVersion",props:{currentVersionName:{}},emits:["version_changed"],setup(e,{emit:t}){const n=wd(),r=e,i=t,s=sa({isPlaying:!1});function a(){s.isPlaying=!0;const o=Object.keys(n.versions);let u=0;i("version_changed",o[u++]);const l=setInterval(function(){i("version_changed",o[u++]),u>=o.length&&(clearInterval(l),s.isPlaying=!1)},1e3)}return(o,u)=>(je(),Ye("div",OHe,[Object.keys(tr(n).versions).length>2?(je(),Ye("button",{key:0,class:"btn btn-primary",disabled:s.isPlaying,onClick:u[0]||(u[0]=l=>a())},u[1]||(u[1]=[Q("i",{class:"fas fa-play"},null,-1)]),8,$He)):Ar("",!0),(je(!0),Ye(Mt,null,Mi(tr(n).versions,(l,c)=>(je(),Ye("button",{type:"button",class:no(["btn btn-outline-primary version",{active:r.currentVersionName===c.toString()}]),onClick:f=>i("version_changed",c.toString()),key:c},[nr(yr(l.name)+" ",1),tr(n).versions.length===2&&r.currentVersionName===c.toString()?(je(),Ye("i",RHe)):Ar("",!0)],10,IHe))),128))]))}}),LHe=g1(MHe,[["__scopeId","data-v-a510d563"]]),PHe=["data-bs-target","title"],BHe=["id"],UHe={class:"modal-dialog"},zHe={class:"modal-content"},WHe={class:"modal-body"},HHe={class:"text-center"},VHe=["href"],jHe=["href"],GHe=Zr({__name:"CPanelBtnDownload",props:{mapDBKey:{},versionKey:{},panelID:{}},setup(e){const t=wd(),n=e,r=Yl(()=>t.versions[n.versionKey]),i=Yl(()=>{const o=t.versions[n.versionKey].name==="Geographic Area"?".json":"_simplified.json";return uE(t.currentMapName,n.mapDBKey,t.versions[n.versionKey].name+o)}),s=Yl(()=>V2e(t.currentMapName,n.mapDBKey));function a(){const o='<?xml version="1.0" encoding="UTF-8" standalone="no"?>',u=document.getElementById(n.panelID+"-vis").querySelector("svg").cloneNode(!0);u.setAttribute("xmlns","http://www.w3.org/2000/svg");const l=document.getElementById(n.panelID+"-legend").cloneNode(!0);u.appendChild(l);const c=document.getElementById(n.panelID+"-legend-num").textContent||"",f=document.createElement("text"),h=2+parseFloat(l.getAttribute("width"));f.innerHTML=c.replace("Total:"," / Total:"),f.setAttribute("font-family","sans-serif"),f.setAttribute("font-size","12px"),f.setAttribute("x",h.toString()),f.setAttribute("y","20"),u.appendChild(f),u.appendChild(document.getElementById(n.panelID+"-grid-area").cloneNode(!0));const d=document.createElement("div"),p=u.outerHTML.replace(/(&(?!(amp|gt|lt|quot|apos))[^;]+;)/g,y=>(d.innerHTML=y,d.textContent||"")),g=document.createElement("a"),m=new Blob([o+p.replace(//g,"&#xD7;")],{type:"image/svg+xml;charset=utf-8"}),x=URL.createObjectURL(m);g.href=x,g.download=t.versions[n.versionKey].name+".svg",document.body.appendChild(g),g.click(),document.body.removeChild(g)}return(o,u)=>(je(),Ye(Mt,null,[Q("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#downloadModal"+r.value.key,title:"Download "+r.value.name},u[1]||(u[1]=[Q("i",{class:"fas fa-download"},null,-1)]),8,PHe),Q("div",{class:"modal fade text-wrap",id:"downloadModal"+r.value.key,tabindex:"-1","aria-hidden":"true"},[Q("div",UHe,[Q("div",zHe,[u[3]||(u[3]=Q("div",{class:"modal-header"},[Q("h1",{class:"modal-title fs-5"},"Your map is ready!"),Q("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Q("div",WHe,[u[2]||(u[2]=Q("p",{class:"lead text-center"},"Download",-1)),Q("p",HHe,[Q("a",{onClick:u[0]||(u[0]=l=>a()),class:"btn btn-lg btn-primary mx-3"},"SVG"),Q("a",{href:i.value,download:"",class:"btn btn-lg btn-primary"},"GeoJSON",8,VHe),Q("a",{href:s.value,download:"",class:"btn btn-lg btn-primary mx-3"},"CSV",8,jHe)]),Ht(DK)])])])],8,BHe)],64))}}),qHe={class:"card w-100"},XHe={class:"d-flex flex-column card-body"},KHe={class:"position-absolute end-0",style:{width:"2.5rem"}},YHe=["title"],JHe={key:0,class:"fas fa-unlock"},ZHe={key:1,class:"fas fa-lock"},QHe={key:2,class:"fas fa-unlock"},eVe={key:3,class:"fas fa-arrows-alt-h"},tVe={key:4,class:"fas fa-arrows-alt-v"},nVe={class:"card-footer d-flex justify-content-between"},dz=300,rVe=Zr({__name:"CPanel",props:{panelID:{},defaultVersionKey:{},mapDBKey:{default:""}},setup(e){const t=new EEe;let n,r,i,s=0;const a="ontouchstart"in window||navigator.maxTouchPoints,o=oi(),u=e,l=sa({versionKey:u.defaultVersionKey,cursor:"grab",isLockRatio:!0,touchLenght:0,lastMove:0,stretchDirection:"x",affineMatrix:Q_(),affineScale:[1,1]});function c(y){t.set(y),l.touchLenght=t.length();const _=new Date().getTime()-s;if(t.length()===1&&_<dz&&_>0)m();else{const E=t.getMergedPoints();E.length>0&&(n=E.length>1&&Math.atan2(E[1][1]-E[0][1],E[1][0]-E[0][0]),r=[W0(E,w=>w[0])||0,W0(E,w=>w[1])||0],i=E.length>1&&Math.hypot(E[1][1]-E[0][1],E[1][0]-E[0][0]))}s=new Date().getTime(),l.lastMove=s}function f(y){if(o.value.$el.releasePointerCapture(y.pointerId),t.clear(y),l.touchLenght=t.length(),x(),t.length()===0)r=null;else{const v=t.getMergedPoints();v.length>0&&(n=v.length>1&&Math.atan2(v[1][1]-v[0][1],v[1][0]-v[0][0]),r=[W0(v,_=>_[0])||0,W0(v,_=>_[1])||0],i=v.length>1&&Math.hypot(v[1][1]-v[0][1],v[1][0]-v[0][0]))}}function h(y){var C;if(t.update(y),t.length()<1||t.length()>3||!r)return;(C=document.getElementById("vg-tooltip-element"))==null||C.classList.remove("visible"),o.value.$el.setPointerCapture(y.pointerId);const v=t.getMergedPoints();let _=Q_(),E=0;const w=[0,0],b=[1,1],S=new Date().getTime();if(v.length>1&&(t.length()===3||t.length()===2&&!l.isLockRatio)){const k=Math.atan2(v[1][1]-v[0][1],v[1][0]-v[0][0]);n&&typeof n=="number"?E=k-n:E=0,n=k,_=Bc(_,em(E));const F=Math.hypot(v[1][1]-v[0][1],v[1][0]-v[0][0]);i&&typeof i=="number"?b[0]=F/i:b[0]=0,l.affineScale[0]*=b[0],i=F,b[0]!==0&&(_=Bc(_,em(n)),_=Bc(_,e2(b[0],1)),_=Bc(_,em(-n)))}else if(v.length>1){if(n&&typeof n=="number"){const k=Math.atan2(v[1][1]-v[0][1],v[1][0]-v[0][0]);E=k-n,n=k,_=Bc(_,em(E))}if(i&&typeof i=="number"){const k=Math.hypot(v[1][1]-v[0][1],v[1][0]-v[0][0]);b[0]=k/i,b[1]=k/i,l.affineScale[0]*=b[0],l.affineScale[1]*=b[1],i=k,b[0]!==0&&b[1]!==0&&(_=Bc(_,e2(b[0],b[1])))}}const A=S-s;if(t.length()>1||t.length()===1&&A>dz){const k=[W0(v,F=>F[0])||0,W0(v,F=>F[1])||0];w[0]=k[0]-r[0],w[1]=k[1]-r[1],r=k,_=Bc(_,H2e(w[0],w[1]))}g(_,l.affineMatrix),l.lastMove=new Date().getTime()}function d(y){let v=[];if(y.shiftKey)v=em(y.wheelDelta/1e3);else{const _=1+y.wheelDelta/1e3;let E;l.isLockRatio?E=[_,_]:l.stretchDirection==="x"?E=[_,1]:E=[1,_],l.affineScale[0]*=E[0],l.affineScale[1]*=E[1],v=e2(E[0],E[1])}g(v,l.affineMatrix)}function p(){a?l.isLockRatio=!l.isLockRatio:l.isLockRatio?(l.stretchDirection="x",l.isLockRatio=!1):l.stretchDirection==="x"?l.stretchDirection="y":l.isLockRatio=!0}function g(y,v){l.affineMatrix=Bc(y,v),Ppe("#"+u.panelID+" g.root").attr("transform","matrix("+l.affineMatrix[0][0]+" "+l.affineMatrix[1][0]+" "+l.affineMatrix[0][1]+" "+l.affineMatrix[1][1]+" "+l.affineMatrix[0][2]+" "+l.affineMatrix[1][2]+")")}function m(){l.affineMatrix=Q_(),l.affineScale=[1,1],g(l.affineMatrix,l.affineMatrix)}function x(){const y=o.value.getCurrentScale();if(y===0)return;const[v,_]=FK(y),E=v*Math.pow(10,_),w=Math.sqrt(y/E);l.affineScale[0]*=w,l.affineScale[1]*=w;const b=e2(w,w);g(b,l.affineMatrix)}return(y,v)=>(je(),Ye(Mt,null,[Q("div",qHe,[Q("div",XHe,[Ht(NHe,{ref_key:"legendEl",ref:o,style:Qf([{"touch-action":"none"},{cursor:l.cursor}]),panelID:u.panelID,mapDBKey:u.mapDBKey,versionKey:l.versionKey,affineScale:l.affineScale,onGridChanged:x,onPointerdown:af(c,["stop","prevent"]),onPointermove:af(h,["stop","prevent"]),onPointerup:af(f,["stop","prevent"]),onWheel:af(d,["stop","prevent"]),onVersionUpdated:v[0]||(v[0]=_=>g(l.affineMatrix,Q_()))},{default:pA(()=>v[4]||(v[4]=[Q("img",{class:"position-absolute bottom-0 end-0 z-3",src:"/static/img/by.svg",alt:"cc-by"},null,-1)])),_:1},8,["style","panelID","mapDBKey","versionKey","affineScale"]),Q("div",KHe,[Q("button",{class:"btn btn-secondary w-100 my-1",onClick:v[1]||(v[1]=_=>p()),title:l.isLockRatio?"Switch to free transform":"Switch to lock ratio"},[l.touchLenght===3?(je(),Ye("i",JHe)):l.isLockRatio?(je(),Ye("i",ZHe)):tr(a)?(je(),Ye("i",QHe)):l.stretchDirection==="x"?(je(),Ye("i",eVe)):(je(),Ye("i",tVe))],8,YHe),Q("button",{class:"btn btn-secondary w-100 my-1",onClick:v[2]||(v[2]=_=>m()),title:"Reset"},v[5]||(v[5]=[Q("i",{class:"fas fa-crosshairs"},null,-1)]))])]),Q("div",nVe,[Ht(LHe,{currentVersionName:l.versionKey,onVersion_changed:v[3]||(v[3]=_=>l.versionKey=_)},null,8,["currentVersionName"]),Ht(GHe,{mapDBKey:u.mapDBKey,versionKey:l.versionKey,panelID:u.panelID},null,8,["mapDBKey","versionKey","panelID"])])]),(je(),Nh(SEe,{key:l.lastMove,touchInfo:tr(t),touchLenght:l.touchLenght},null,8,["touchInfo","touchLenght"]))],64))}}),iVe=Zr({__name:"CartogramViewer",props:{maps:{},mapName:{},mapTitle:{},mapDBKey:{},mode:{}},setup(e){const t=wd(),n=e,r=sa({mapkey:-1,versionKeys:[]});GN(()=>{t.currentMapName=n.mapName?n.mapName:""});async function i(){r.mapkey=Date.now(),r.versionKeys=Object.keys(t.versions)}return(s,a)=>(je(),Ye(Mt,null,[Ht(_Ee,{isEmbed:n.mode==="embed",maps:n.maps,mapTitle:n.mapTitle,mapDBKey:n.mapDBKey,onMap_changed:i},null,8,["isEmbed","maps","mapTitle","mapDBKey"]),r.versionKeys.length>0?(je(),Ye("div",{id:"cartogram",class:"d-flex flex-fill card-group position-relative mx-2",key:r.mapkey},[(je(!0),Ye(Mt,null,Mi(tr(t).options.numberOfPanels,o=>(je(),Nh(rVe,{panelID:"c-area"+o.toString(),defaultVersionKey:tr(t).options.numberOfPanels===1?r.versionKeys[r.versionKeys.length-1]:o===1?r.versionKeys[0]:r.versionKeys[r.versionKeys.length-1],mapDBKey:n.mapDBKey,key:o},null,8,["panelID","defaultVersionKey","mapDBKey"]))),128))])):Ar("",!0)],64))}});var bs="top",Fa="bottom",Da="right",ws="left",GC="auto",$1=[bs,Fa,Da,ws],od="start",Xg="end",Nie="clippingParents",nR="viewport",yp="popper",Oie="reference",fN=$1.reduce(function(e,t){return e.concat([t+"-"+od,t+"-"+Xg])},[]),rR=[].concat($1,[GC]).reduce(function(e,t){return e.concat([t,t+"-"+od,t+"-"+Xg])},[]),$ie="beforeRead",Iie="read",Rie="afterRead",Mie="beforeMain",Lie="main",Pie="afterMain",Bie="beforeWrite",Uie="write",zie="afterWrite",Wie=[$ie,Iie,Rie,Mie,Lie,Pie,Bie,Uie,zie];function el(e){return e?(e.nodeName||"").toLowerCase():null}function Na(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ud(e){var t=Na(e).Element;return e instanceof t||e instanceof Element}function ao(e){var t=Na(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function iR(e){if(typeof ShadowRoot>"u")return!1;var t=Na(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function sVe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!ao(s)||!el(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function aVe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),o=a.reduce(function(u,l){return u[l]="",u},{});!ao(i)||!el(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const sR={name:"applyStyles",enabled:!0,phase:"write",fn:sVe,effect:aVe,requires:["computeStyles"]};function Wu(e){return e.split("-")[0]}var bh=Math.max,zw=Math.min,Kg=Math.round;function hN(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Hie(){return!/^((?!chrome|android).)*safari/i.test(hN())}function Yg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&ao(e)&&(i=e.offsetWidth>0&&Kg(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Kg(r.height)/e.offsetHeight||1);var a=ud(e)?Na(e):window,o=a.visualViewport,u=!Hie()&&n,l=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/s,f=r.width/i,h=r.height/s;return{width:f,height:h,top:c,right:l+f,bottom:c+h,left:l,x:l,y:c}}function aR(e){var t=Yg(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Vie(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&iR(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ec(e){return Na(e).getComputedStyle(e)}function oVe(e){return["table","td","th"].indexOf(el(e))>=0}function y0(e){return((ud(e)?e.ownerDocument:e.document)||window.document).documentElement}function qC(e){return el(e)==="html"?e:e.assignedSlot||e.parentNode||(iR(e)?e.host:null)||y0(e)}function pz(e){return!ao(e)||Ec(e).position==="fixed"?null:e.offsetParent}function uVe(e){var t=/firefox/i.test(hN()),n=/Trident/i.test(hN());if(n&&ao(e)){var r=Ec(e);if(r.position==="fixed")return null}var i=qC(e);for(iR(i)&&(i=i.host);ao(i)&&["html","body"].indexOf(el(i))<0;){var s=Ec(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function s_(e){for(var t=Na(e),n=pz(e);n&&oVe(n)&&Ec(n).position==="static";)n=pz(n);return n&&(el(n)==="html"||el(n)==="body"&&Ec(n).position==="static")?t:n||uVe(e)||t}function oR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function wx(e,t,n){return bh(e,zw(t,n))}function lVe(e,t,n){var r=wx(e,t,n);return r>n?n:r}function jie(){return{top:0,right:0,bottom:0,left:0}}function Gie(e){return Object.assign({},jie(),e)}function qie(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var cVe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Gie(typeof t!="number"?t:qie(t,$1))};function fVe(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Wu(n.placement),u=oR(o),l=[ws,Da].indexOf(o)>=0,c=l?"height":"width";if(!(!s||!a)){var f=cVe(i.padding,n),h=aR(s),d=u==="y"?bs:ws,p=u==="y"?Fa:Da,g=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],m=a[u]-n.rects.reference[u],x=s_(s),y=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0,v=g/2-m/2,_=f[d],E=y-h[c]-f[p],w=y/2-h[c]/2+v,b=wx(_,w,E),S=u;n.modifiersData[r]=(t={},t[S]=b,t.centerOffset=b-w,t)}}function hVe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Vie(t.elements.popper,i)&&(t.elements.arrow=i))}const Xie={name:"arrow",enabled:!0,phase:"main",fn:fVe,effect:hVe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jg(e){return e.split("-")[1]}var dVe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pVe(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Kg(n*i)/i||0,y:Kg(r*i)/i||0}}function gz(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,o=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=a.x,d=h===void 0?0:h,p=a.y,g=p===void 0?0:p,m=typeof c=="function"?c({x:d,y:g}):{x:d,y:g};d=m.x,g=m.y;var x=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),v=ws,_=bs,E=window;if(l){var w=s_(n),b="clientHeight",S="clientWidth";if(w===Na(n)&&(w=y0(n),Ec(w).position!=="static"&&o==="absolute"&&(b="scrollHeight",S="scrollWidth")),w=w,i===bs||(i===ws||i===Da)&&s===Xg){_=Fa;var A=f&&w===E&&E.visualViewport?E.visualViewport.height:w[b];g-=A-r.height,g*=u?1:-1}if(i===ws||(i===bs||i===Fa)&&s===Xg){v=Da;var C=f&&w===E&&E.visualViewport?E.visualViewport.width:w[S];d-=C-r.width,d*=u?1:-1}}var k=Object.assign({position:o},l&&dVe),F=c===!0?pVe({x:d,y:g},Na(n)):{x:d,y:g};if(d=F.x,g=F.y,u){var N;return Object.assign({},k,(N={},N[_]=y?"0":"",N[v]=x?"0":"",N.transform=(E.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",N))}return Object.assign({},k,(t={},t[_]=y?g+"px":"",t[v]=x?d+"px":"",t.transform="",t))}function gVe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,u=o===void 0?!0:o,l={placement:Wu(t.placement),variation:Jg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,gz(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,gz(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const uR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gVe,data:{}};var C2={passive:!0};function mVe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,u=Na(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach(function(c){c.addEventListener("scroll",n.update,C2)}),o&&u.addEventListener("resize",n.update,C2),function(){s&&l.forEach(function(c){c.removeEventListener("scroll",n.update,C2)}),o&&u.removeEventListener("resize",n.update,C2)}}const lR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mVe,data:{}};var xVe={left:"right",right:"left",bottom:"top",top:"bottom"};function $E(e){return e.replace(/left|right|bottom|top/g,function(t){return xVe[t]})}var vVe={start:"end",end:"start"};function mz(e){return e.replace(/start|end/g,function(t){return vVe[t]})}function cR(e){var t=Na(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function fR(e){return Yg(y0(e)).left+cR(e).scrollLeft}function yVe(e,t){var n=Na(e),r=y0(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,u=0;if(i){s=i.width,a=i.height;var l=Hie();(l||!l&&t==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:o+fR(e),y:u}}function _Ve(e){var t,n=y0(e),r=cR(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=bh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=bh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+fR(e),u=-r.scrollTop;return Ec(i||n).direction==="rtl"&&(o+=bh(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:u}}function hR(e){var t=Ec(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Kie(e){return["html","body","#document"].indexOf(el(e))>=0?e.ownerDocument.body:ao(e)&&hR(e)?e:Kie(qC(e))}function Ax(e,t){var n;t===void 0&&(t=[]);var r=Kie(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Na(r),a=i?[s].concat(s.visualViewport||[],hR(r)?r:[]):r,o=t.concat(a);return i?o:o.concat(Ax(qC(a)))}function dN(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function EVe(e,t){var n=Yg(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function xz(e,t,n){return t===nR?dN(yVe(e,n)):ud(t)?EVe(t,n):dN(_Ve(y0(e)))}function bVe(e){var t=Ax(qC(e)),n=["absolute","fixed"].indexOf(Ec(e).position)>=0,r=n&&ao(e)?s_(e):e;return ud(r)?t.filter(function(i){return ud(i)&&Vie(i,r)&&el(i)!=="body"}):[]}function wVe(e,t,n,r){var i=t==="clippingParents"?bVe(e):[].concat(t),s=[].concat(i,[n]),a=s[0],o=s.reduce(function(u,l){var c=xz(e,l,r);return u.top=bh(c.top,u.top),u.right=zw(c.right,u.right),u.bottom=zw(c.bottom,u.bottom),u.left=bh(c.left,u.left),u},xz(e,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Yie(e){var t=e.reference,n=e.element,r=e.placement,i=r?Wu(r):null,s=r?Jg(r):null,a=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,u;switch(i){case bs:u={x:a,y:t.y-n.height};break;case Fa:u={x:a,y:t.y+t.height};break;case Da:u={x:t.x+t.width,y:o};break;case ws:u={x:t.x-n.width,y:o};break;default:u={x:t.x,y:t.y}}var l=i?oR(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(s){case od:u[l]=u[l]-(t[c]/2-n[c]/2);break;case Xg:u[l]=u[l]+(t[c]/2-n[c]/2);break}}return u}function Zg(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,a=s===void 0?e.strategy:s,o=n.boundary,u=o===void 0?Nie:o,l=n.rootBoundary,c=l===void 0?nR:l,f=n.elementContext,h=f===void 0?yp:f,d=n.altBoundary,p=d===void 0?!1:d,g=n.padding,m=g===void 0?0:g,x=Gie(typeof m!="number"?m:qie(m,$1)),y=h===yp?Oie:yp,v=e.rects.popper,_=e.elements[p?y:h],E=wVe(ud(_)?_:_.contextElement||y0(e.elements.popper),u,c,a),w=Yg(e.elements.reference),b=Yie({reference:w,element:v,placement:i}),S=dN(Object.assign({},v,b)),A=h===yp?S:w,C={top:E.top-A.top+x.top,bottom:A.bottom-E.bottom+x.bottom,left:E.left-A.left+x.left,right:A.right-E.right+x.right},k=e.modifiersData.offset;if(h===yp&&k){var F=k[i];Object.keys(C).forEach(function(N){var R=[Da,Fa].indexOf(N)>=0?1:-1,D=[bs,Fa].indexOf(N)>=0?"y":"x";C[N]+=F[D]*R})}return C}function AVe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?rR:u,c=Jg(r),f=c?o?fN:fN.filter(function(p){return Jg(p)===c}):$1,h=f.filter(function(p){return l.indexOf(p)>=0});h.length===0&&(h=f);var d=h.reduce(function(p,g){return p[g]=Zg(e,{placement:g,boundary:i,rootBoundary:s,padding:a})[Wu(g)],p},{});return Object.keys(d).sort(function(p,g){return d[p]-d[g]})}function SVe(e){if(Wu(e)===GC)return[];var t=$E(e);return[mz(e),t,mz(t)]}function CVe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=d===void 0?!0:d,g=n.allowedAutoPlacements,m=t.options.placement,x=Wu(m),y=x===m,v=u||(y||!p?[$E(m)]:SVe(m)),_=[m].concat(v).reduce(function(le,de){return le.concat(Wu(de)===GC?AVe(t,{placement:de,boundary:c,rootBoundary:f,padding:l,flipVariations:p,allowedAutoPlacements:g}):de)},[]),E=t.rects.reference,w=t.rects.popper,b=new Map,S=!0,A=_[0],C=0;C<_.length;C++){var k=_[C],F=Wu(k),N=Jg(k)===od,R=[bs,Fa].indexOf(F)>=0,D=R?"width":"height",O=Zg(t,{placement:k,boundary:c,rootBoundary:f,altBoundary:h,padding:l}),M=R?N?Da:ws:N?Fa:bs;E[D]>w[D]&&(M=$E(M));var z=$E(M),K=[];if(s&&K.push(O[F]<=0),o&&K.push(O[M]<=0,O[z]<=0),K.every(function(le){return le})){A=k,S=!1;break}b.set(k,K)}if(S)for(var X=p?3:1,ve=function(de){var ke=_.find(function(He){var B=b.get(He);if(B)return B.slice(0,de).every(function(j){return j})});if(ke)return A=ke,"break"},te=X;te>0;te--){var ue=ve(te);if(ue==="break")break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}}const Jie={name:"flip",enabled:!0,phase:"main",fn:CVe,requiresIfExists:["offset"],data:{_skip:!1}};function vz(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yz(e){return[bs,Da,Fa,ws].some(function(t){return e[t]>=0})}function kVe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=Zg(t,{elementContext:"reference"}),o=Zg(t,{altBoundary:!0}),u=vz(a,r),l=vz(o,i,s),c=yz(u),f=yz(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const Zie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kVe};function TVe(e,t,n){var r=Wu(e),i=[ws,bs].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[ws,Da].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function FVe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,a=rR.reduce(function(c,f){return c[f]=TVe(f,t.rects,s),c},{}),o=a[t.placement],u=o.x,l=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}const Qie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FVe};function DVe(e){var t=e.state,n=e.name;t.modifiersData[n]=Yie({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const dR={name:"popperOffsets",enabled:!0,phase:"read",fn:DVe,data:{}};function NVe(e){return e==="x"?"y":"x"}function OVe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,h=n.tether,d=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,m=Zg(t,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),x=Wu(t.placement),y=Jg(t.placement),v=!y,_=oR(x),E=NVe(_),w=t.modifiersData.popperOffsets,b=t.rects.reference,S=t.rects.popper,A=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,C=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(w){if(s){var N,R=_==="y"?bs:ws,D=_==="y"?Fa:Da,O=_==="y"?"height":"width",M=w[_],z=M+m[R],K=M-m[D],X=d?-S[O]/2:0,ve=y===od?b[O]:S[O],te=y===od?-S[O]:-b[O],ue=t.elements.arrow,le=d&&ue?aR(ue):{width:0,height:0},de=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:jie(),ke=de[R],He=de[D],B=wx(0,b[O],le[O]),j=v?b[O]/2-X-B-ke-C.mainAxis:ve-B-ke-C.mainAxis,G=v?-b[O]/2+X+B+He+C.mainAxis:te+B+He+C.mainAxis,W=t.elements.arrow&&s_(t.elements.arrow),Y=W?_==="y"?W.clientTop||0:W.clientLeft||0:0,T=(N=k==null?void 0:k[_])!=null?N:0,L=M+j-T-Y,J=M+G-T,Z=wx(d?zw(z,L):z,M,d?bh(K,J):K);w[_]=Z,F[_]=Z-M}if(o){var ee,ne=_==="x"?bs:ws,ye=_==="x"?Fa:Da,we=w[E],Se=E==="y"?"height":"width",Ee=we+m[ne],be=we-m[ye],Ce=[bs,ws].indexOf(x)!==-1,ce=(ee=k==null?void 0:k[E])!=null?ee:0,et=Ce?Ee:we-b[Se]-S[Se]-ce+C.altAxis,dt=Ce?we+b[Se]+S[Se]-ce-C.altAxis:be,ht=d&&Ce?lVe(et,we,dt):wx(d?et:Ee,we,d?dt:be);w[E]=ht,F[E]=ht-we}t.modifiersData[r]=F}}const ese={name:"preventOverflow",enabled:!0,phase:"main",fn:OVe,requiresIfExists:["offset"]};function $Ve(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function IVe(e){return e===Na(e)||!ao(e)?cR(e):$Ve(e)}function RVe(e){var t=e.getBoundingClientRect(),n=Kg(t.width)/e.offsetWidth||1,r=Kg(t.height)/e.offsetHeight||1;return n!==1||r!==1}function MVe(e,t,n){n===void 0&&(n=!1);var r=ao(t),i=ao(t)&&RVe(t),s=y0(t),a=Yg(e,i,n),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((el(t)!=="body"||hR(s))&&(o=IVe(t)),ao(t)?(u=Yg(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=fR(s))),{x:a.left+o.scrollLeft-u.x,y:a.top+o.scrollTop-u.y,width:a.width,height:a.height}}function LVe(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var u=t.get(o);u&&i(u)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function PVe(e){var t=LVe(e);return Wie.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function BVe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function UVe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var _z={placement:"bottom",modifiers:[],strategy:"absolute"};function Ez(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function XC(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?_z:i;return function(o,u,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},_z,s),modifiersData:{},elements:{reference:o,popper:u},attributes:{},styles:{}},f=[],h=!1,d={state:c,setOptions:function(x){var y=typeof x=="function"?x(c.options):x;g(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:ud(o)?Ax(o):o.contextElement?Ax(o.contextElement):[],popper:Ax(u)};var v=PVe(UVe([].concat(r,c.options.modifiers)));return c.orderedModifiers=v.filter(function(_){return _.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var x=c.elements,y=x.reference,v=x.popper;if(Ez(y,v)){c.rects={reference:MVe(y,s_(v),c.options.strategy==="fixed"),popper:aR(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var E=c.orderedModifiers[_],w=E.fn,b=E.options,S=b===void 0?{}:b,A=E.name;typeof w=="function"&&(c=w({state:c,options:S,name:A,instance:d})||c)}}}},update:BVe(function(){return new Promise(function(m){d.forceUpdate(),m(c)})}),destroy:function(){g(),h=!0}};if(!Ez(o,u))return d;d.setOptions(l).then(function(m){!h&&l.onFirstUpdate&&l.onFirstUpdate(m)});function p(){c.orderedModifiers.forEach(function(m){var x=m.name,y=m.options,v=y===void 0?{}:y,_=m.effect;if(typeof _=="function"){var E=_({state:c,name:x,instance:d,options:v}),w=function(){};f.push(E||w)}})}function g(){f.forEach(function(m){return m()}),f=[]}return d}}var zVe=XC(),WVe=[lR,dR,uR,sR],HVe=XC({defaultModifiers:WVe}),VVe=[lR,dR,uR,sR,Qie,Jie,ese,Xie,Zie],pR=XC({defaultModifiers:VVe});const tse=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Pie,afterRead:Rie,afterWrite:zie,applyStyles:sR,arrow:Xie,auto:GC,basePlacements:$1,beforeMain:Mie,beforeRead:$ie,beforeWrite:Bie,bottom:Fa,clippingParents:Nie,computeStyles:uR,createPopper:pR,createPopperBase:zVe,createPopperLite:HVe,detectOverflow:Zg,end:Xg,eventListeners:lR,flip:Jie,hide:Zie,left:ws,main:Lie,modifierPhases:Wie,offset:Qie,placements:rR,popper:yp,popperGenerator:XC,popperOffsets:dR,preventOverflow:ese,read:Iie,reference:Oie,right:Da,start:od,top:bs,variationPlacements:fN,viewport:nR,write:Uie},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const zc=new Map,TF={set(e,t,n){zc.has(e)||zc.set(e,new Map);const r=zc.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return zc.has(e)&&zc.get(e).get(t)||null},remove(e,t){if(!zc.has(e))return;const n=zc.get(e);n.delete(t),n.size===0&&zc.delete(e)}},jVe=1e6,GVe=1e3,pN="transitionend",nse=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),qVe=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),XVe=e=>{do e+=Math.floor(Math.random()*jVe);while(document.getElementById(e));return e},KVe=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return!r&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*GVe)},rse=e=>{e.dispatchEvent(new Event(pN))},ac=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),jf=e=>ac(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(nse(e)):null,I1=e=>{if(!ac(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},Gf=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",ise=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?ise(e.parentNode):null},Ww=()=>{},a_=e=>{e.offsetHeight},sse=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,FF=[],YVe=e=>{document.readyState==="loading"?(FF.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of FF)t()}),FF.push(e)):e()},mo=()=>document.documentElement.dir==="rtl",wo=e=>{YVe(()=>{const t=sse();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},js=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,ase=(e,t,n=!0)=>{if(!n){js(e);return}const i=KVe(t)+5;let s=!1;const a=({target:o})=>{o===t&&(s=!0,t.removeEventListener(pN,a),js(e))};t.addEventListener(pN,a),setTimeout(()=>{s||rse(t)},i)},gR=(e,t,n,r)=>{const i=e.length;let s=e.indexOf(t);return s===-1?!n&&r?e[i-1]:e[0]:(s+=n?1:-1,r&&(s=(s+i)%i),e[Math.max(0,Math.min(s,i-1))])},JVe=/[^.]*(?=\..*)\.|.*/,ZVe=/\..*/,QVe=/::\d+$/,DF={};let bz=1;const ose={mouseenter:"mouseover",mouseleave:"mouseout"},eje=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function use(e,t){return t&&`${t}::${bz++}`||e.uidEvent||bz++}function lse(e){const t=use(e);return e.uidEvent=t,DF[t]=DF[t]||{},DF[t]}function tje(e,t){return function n(r){return mR(r,{delegateTarget:e}),n.oneOff&&Fe.off(e,r.type,t),t.apply(e,[r])}}function nje(e,t,n){return function r(i){const s=e.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const o of s)if(o===a)return mR(i,{delegateTarget:a}),r.oneOff&&Fe.off(e,i.type,t,n),n.apply(a,[i])}}function cse(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function fse(e,t,n){const r=typeof t=="string",i=r?n:t||n;let s=hse(e);return eje.has(s)||(s=e),[r,i,s]}function wz(e,t,n,r,i){if(typeof t!="string"||!e)return;let[s,a,o]=fse(t,n,r);t in ose&&(a=(p=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return p.call(this,g)})(a));const u=lse(e),l=u[o]||(u[o]={}),c=cse(l,a,s?n:null);if(c){c.oneOff=c.oneOff&&i;return}const f=use(a,t.replace(JVe,"")),h=s?nje(e,n,a):tje(e,a);h.delegationSelector=s?n:null,h.callable=a,h.oneOff=i,h.uidEvent=f,l[f]=h,e.addEventListener(o,h,s)}function gN(e,t,n,r,i){const s=cse(t[n],r,i);s&&(e.removeEventListener(n,s,!!i),delete t[n][s.uidEvent])}function rje(e,t,n,r){const i=t[n]||{};for(const[s,a]of Object.entries(i))s.includes(r)&&gN(e,t,n,a.callable,a.delegationSelector)}function hse(e){return e=e.replace(ZVe,""),ose[e]||e}const Fe={on(e,t,n,r){wz(e,t,n,r,!1)},one(e,t,n,r){wz(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;const[i,s,a]=fse(t,n,r),o=a!==t,u=lse(e),l=u[a]||{},c=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(l).length)return;gN(e,u,a,s,i?n:null);return}if(c)for(const f of Object.keys(u))rje(e,u,f,t.slice(1));for(const[f,h]of Object.entries(l)){const d=f.replace(QVe,"");(!o||t.includes(d))&&gN(e,u,a,h.callable,h.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const r=sse(),i=hse(t),s=t!==i;let a=null,o=!0,u=!0,l=!1;s&&r&&(a=r.Event(t,n),r(e).trigger(a),o=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),l=a.isDefaultPrevented());const c=mR(new Event(t,{bubbles:o,cancelable:!0}),n);return l&&c.preventDefault(),u&&e.dispatchEvent(c),c.defaultPrevented&&a&&a.preventDefault(),c}};function mR(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function Az(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function NF(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const oc={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${NF(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${NF(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=Az(e.dataset[r])}return t},getDataAttribute(e,t){return Az(e.getAttribute(`data-bs-${NF(t)}`))}};class o_{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const r=ac(n)?oc.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...ac(n)?oc.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const s=t[r],a=ac(s)?"element":qVe(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}}const ije="5.3.3";class hu extends o_{constructor(t,n){super(),t=jf(t),t&&(this._element=t,this._config=this._getConfig(n),TF.set(this._element,this.constructor.DATA_KEY,this))}dispose(){TF.remove(this._element,this.constructor.DATA_KEY),Fe.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){ase(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return TF.get(jf(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return ije}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const OF=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>nse(n)).join(","):null},pt={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!Gf(n)&&I1(n))},getSelectorFromElement(e){const t=OF(e);return t&&pt.findOne(t)?t:null},getElementFromSelector(e){const t=OF(e);return t?pt.findOne(t):null},getMultipleElementsFromSelector(e){const t=OF(e);return t?pt.find(t):[]}},KC=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;Fe.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Gf(this))return;const s=pt.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(s)[t]()})},sje="alert",aje="bs.alert",dse=`.${aje}`,oje=`close${dse}`,uje=`closed${dse}`,lje="fade",cje="show";class YC extends hu{static get NAME(){return sje}close(){if(Fe.trigger(this._element,oje).defaultPrevented)return;this._element.classList.remove(cje);const n=this._element.classList.contains(lje);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),Fe.trigger(this._element,uje),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=YC.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}KC(YC,"close");wo(YC);const fje="button",hje="bs.button",dje=`.${hje}`,pje=".data-api",gje="active",Sz='[data-bs-toggle="button"]',mje=`click${dje}${pje}`;class JC extends hu{static get NAME(){return fje}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(gje))}static jQueryInterface(t){return this.each(function(){const n=JC.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}Fe.on(document,mje,Sz,e=>{e.preventDefault();const t=e.target.closest(Sz);JC.getOrCreateInstance(t).toggle()});wo(JC);const xje="swipe",R1=".bs.swipe",vje=`touchstart${R1}`,yje=`touchmove${R1}`,_je=`touchend${R1}`,Eje=`pointerdown${R1}`,bje=`pointerup${R1}`,wje="touch",Aje="pen",Sje="pointer-event",Cje=40,kje={endCallback:null,leftCallback:null,rightCallback:null},Tje={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Hw extends o_{constructor(t,n){super(),this._element=t,!(!t||!Hw.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return kje}static get DefaultType(){return Tje}static get NAME(){return xje}dispose(){Fe.off(this._element,R1)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),js(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Cje)return;const n=t/this._deltaX;this._deltaX=0,n&&js(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Fe.on(this._element,Eje,t=>this._start(t)),Fe.on(this._element,bje,t=>this._end(t)),this._element.classList.add(Sje)):(Fe.on(this._element,vje,t=>this._start(t)),Fe.on(this._element,yje,t=>this._move(t)),Fe.on(this._element,_je,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Aje||t.pointerType===wje)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Fje="carousel",Dje="bs.carousel",_0=`.${Dje}`,pse=".data-api",Nje="ArrowLeft",Oje="ArrowRight",$je=500,ym="next",fp="prev",_p="left",IE="right",Ije=`slide${_0}`,$F=`slid${_0}`,Rje=`keydown${_0}`,Mje=`mouseenter${_0}`,Lje=`mouseleave${_0}`,Pje=`dragstart${_0}`,Bje=`load${_0}${pse}`,Uje=`click${_0}${pse}`,gse="carousel",k2="active",zje="slide",Wje="carousel-item-end",Hje="carousel-item-start",Vje="carousel-item-next",jje="carousel-item-prev",mse=".active",xse=".carousel-item",Gje=mse+xse,qje=".carousel-item img",Xje=".carousel-indicators",Kje="[data-bs-slide], [data-bs-slide-to]",Yje='[data-bs-ride="carousel"]',Jje={[Nje]:IE,[Oje]:_p},Zje={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qje={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class u_ extends hu{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=pt.findOne(Xje,this._element),this._addEventListeners(),this._config.ride===gse&&this.cycle()}static get Default(){return Zje}static get DefaultType(){return Qje}static get NAME(){return Fje}next(){this._slide(ym)}nextWhenVisible(){!document.hidden&&I1(this._element)&&this.next()}prev(){this._slide(fp)}pause(){this._isSliding&&rse(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Fe.one(this._element,$F,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){Fe.one(this._element,$F,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const i=t>r?ym:fp;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Fe.on(this._element,Rje,t=>this._keydown(t)),this._config.pause==="hover"&&(Fe.on(this._element,Mje,()=>this.pause()),Fe.on(this._element,Lje,()=>this._maybeEnableCycle())),this._config.touch&&Hw.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of pt.find(qje,this._element))Fe.on(r,Pje,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(_p)),rightCallback:()=>this._slide(this._directionToOrder(IE)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),$je+this._config.interval))}};this._swipeHelper=new Hw(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=Jje[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=pt.findOne(mse,this._indicatorsElement);n.classList.remove(k2),n.removeAttribute("aria-current");const r=pt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(k2),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const r=this._getActive(),i=t===ym,s=n||gR(this._getItems(),r,i,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),o=d=>Fe.trigger(this._element,d,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:a});if(o(Ije).defaultPrevented||!r||!s)return;const l=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const c=i?Hje:Wje,f=i?Vje:jje;s.classList.add(f),a_(s),r.classList.add(c),s.classList.add(c);const h=()=>{s.classList.remove(c,f),s.classList.add(k2),r.classList.remove(k2,f,c),this._isSliding=!1,o($F)};this._queueCallback(h,r,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(zje)}_getActive(){return pt.findOne(Gje,this._element)}_getItems(){return pt.find(xse,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return mo()?t===_p?fp:ym:t===_p?ym:fp}_orderToDirection(t){return mo()?t===fp?_p:IE:t===fp?IE:_p}static jQueryInterface(t){return this.each(function(){const n=u_.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Fe.on(document,Uje,Kje,function(e){const t=pt.getElementFromSelector(this);if(!t||!t.classList.contains(gse))return;e.preventDefault();const n=u_.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(oc.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});Fe.on(window,Bje,()=>{const e=pt.find(Yje);for(const t of e)u_.getOrCreateInstance(t)});wo(u_);const eGe="collapse",tGe="bs.collapse",l_=`.${tGe}`,nGe=".data-api",rGe=`show${l_}`,iGe=`shown${l_}`,sGe=`hide${l_}`,aGe=`hidden${l_}`,oGe=`click${l_}${nGe}`,IF="show",Op="collapse",T2="collapsing",uGe="collapsed",lGe=`:scope .${Op} .${Op}`,cGe="collapse-horizontal",fGe="width",hGe="height",dGe=".collapse.show, .collapse.collapsing",mN='[data-bs-toggle="collapse"]',pGe={parent:null,toggle:!0},gGe={parent:"(null|element)",toggle:"boolean"};class Rv extends hu{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const r=pt.find(mN);for(const i of r){const s=pt.getSelectorFromElement(i),a=pt.find(s).filter(o=>o===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return pGe}static get DefaultType(){return gGe}static get NAME(){return eGe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(dGe).filter(o=>o!==this._element).map(o=>Rv.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||Fe.trigger(this._element,rGe).defaultPrevented)return;for(const o of t)o.hide();const r=this._getDimension();this._element.classList.remove(Op),this._element.classList.add(T2),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(T2),this._element.classList.add(Op,IF),this._element.style[r]="",Fe.trigger(this._element,iGe)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Fe.trigger(this._element,sGe).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,a_(this._element),this._element.classList.add(T2),this._element.classList.remove(Op,IF);for(const i of this._triggerArray){const s=pt.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(T2),this._element.classList.add(Op),Fe.trigger(this._element,aGe)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(IF)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=jf(t.parent),t}_getDimension(){return this._element.classList.contains(cGe)?fGe:hGe}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(mN);for(const n of t){const r=pt.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){const n=pt.find(lGe,this._config.parent);return pt.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const r of t)r.classList.toggle(uGe,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const r=Rv.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Fe.on(document,oGe,mN,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of pt.getMultipleElementsFromSelector(this))Rv.getOrCreateInstance(t,{toggle:!1}).toggle()});wo(Rv);const Cz="dropdown",mGe="bs.dropdown",zd=`.${mGe}`,xR=".data-api",xGe="Escape",kz="Tab",vGe="ArrowUp",Tz="ArrowDown",yGe=2,_Ge=`hide${zd}`,EGe=`hidden${zd}`,bGe=`show${zd}`,wGe=`shown${zd}`,vse=`click${zd}${xR}`,yse=`keydown${zd}${xR}`,AGe=`keyup${zd}${xR}`,Ep="show",SGe="dropup",CGe="dropend",kGe="dropstart",TGe="dropup-center",FGe="dropdown-center",ih='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',DGe=`${ih}.${Ep}`,RE=".dropdown-menu",NGe=".navbar",OGe=".navbar-nav",$Ge=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",IGe=mo()?"top-end":"top-start",RGe=mo()?"top-start":"top-end",MGe=mo()?"bottom-end":"bottom-start",LGe=mo()?"bottom-start":"bottom-end",PGe=mo()?"left-start":"right-start",BGe=mo()?"right-start":"left-start",UGe="top",zGe="bottom",WGe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},HGe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Hu extends hu{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=pt.next(this._element,RE)[0]||pt.prev(this._element,RE)[0]||pt.findOne(RE,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return WGe}static get DefaultType(){return HGe}static get NAME(){return Cz}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Gf(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Fe.trigger(this._element,bGe,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(OGe))for(const r of[].concat(...document.body.children))Fe.on(r,"mouseover",Ww);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ep),this._element.classList.add(Ep),Fe.trigger(this._element,wGe,t)}}hide(){if(Gf(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Fe.trigger(this._element,_Ge,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Fe.off(r,"mouseover",Ww);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ep),this._element.classList.remove(Ep),this._element.setAttribute("aria-expanded","false"),oc.removeDataAttribute(this._menu,"popper"),Fe.trigger(this._element,EGe,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!ac(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Cz.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof tse>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:ac(this._config.reference)?t=jf(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=pR(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Ep)}_getPlacement(){const t=this._parent;if(t.classList.contains(CGe))return PGe;if(t.classList.contains(kGe))return BGe;if(t.classList.contains(TGe))return UGe;if(t.classList.contains(FGe))return zGe;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(SGe)?n?RGe:IGe:n?LGe:MGe}_detectNavbar(){return this._element.closest(NGe)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(oc.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...js(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const r=pt.find($Ge,this._menu).filter(i=>I1(i));r.length&&gR(r,n,t===Tz,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=Hu.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===yGe||t.type==="keyup"&&t.key!==kz)return;const n=pt.find(DGe);for(const r of n){const i=Hu.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=t.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===kz||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:i._element};t.type==="click"&&(o.clickEvent=t),i._completeHide(o)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),r=t.key===xGe,i=[vGe,Tz].includes(t.key);if(!i&&!r||n&&!r)return;t.preventDefault();const s=this.matches(ih)?this:pt.prev(this,ih)[0]||pt.next(this,ih)[0]||pt.findOne(ih,t.delegateTarget.parentNode),a=Hu.getOrCreateInstance(s);if(i){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),s.focus())}}Fe.on(document,yse,ih,Hu.dataApiKeydownHandler);Fe.on(document,yse,RE,Hu.dataApiKeydownHandler);Fe.on(document,vse,Hu.clearMenus);Fe.on(document,AGe,Hu.clearMenus);Fe.on(document,vse,ih,function(e){e.preventDefault(),Hu.getOrCreateInstance(this).toggle()});wo(Hu);const _se="backdrop",VGe="fade",Fz="show",Dz=`mousedown.bs.${_se}`,jGe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},GGe={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ese extends o_{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return jGe}static get DefaultType(){return GGe}static get NAME(){return _se}show(t){if(!this._config.isVisible){js(t);return}this._append();const n=this._getElement();this._config.isAnimated&&a_(n),n.classList.add(Fz),this._emulateAnimation(()=>{js(t)})}hide(t){if(!this._config.isVisible){js(t);return}this._getElement().classList.remove(Fz),this._emulateAnimation(()=>{this.dispose(),js(t)})}dispose(){this._isAppended&&(Fe.off(this._element,Dz),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(VGe),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=jf(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Fe.on(t,Dz,()=>{js(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ase(t,this._getElement(),this._config.isAnimated)}}const qGe="focustrap",XGe="bs.focustrap",Vw=`.${XGe}`,KGe=`focusin${Vw}`,YGe=`keydown.tab${Vw}`,JGe="Tab",ZGe="forward",Nz="backward",QGe={autofocus:!0,trapElement:null},eqe={autofocus:"boolean",trapElement:"element"};class bse extends o_{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return QGe}static get DefaultType(){return eqe}static get NAME(){return qGe}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Fe.off(document,Vw),Fe.on(document,KGe,t=>this._handleFocusin(t)),Fe.on(document,YGe,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Fe.off(document,Vw))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=pt.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===Nz?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===JGe&&(this._lastTabNavDirection=t.shiftKey?Nz:ZGe)}}const Oz=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$z=".sticky-top",F2="padding-right",Iz="margin-right";class xN{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,F2,n=>n+t),this._setElementAttributes(Oz,F2,n=>n+t),this._setElementAttributes($z,Iz,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,F2),this._resetElementAttributes(Oz,F2),this._resetElementAttributes($z,Iz)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){const i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,n);const o=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,n){const r=t.style.getPropertyValue(n);r&&oc.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){const r=i=>{const s=oc.getDataAttribute(i,n);if(s===null){i.style.removeProperty(n);return}oc.removeDataAttribute(i,n),i.style.setProperty(n,s)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(ac(t)){n(t);return}for(const r of pt.find(t,this._element))n(r)}}const tqe="modal",nqe="bs.modal",xo=`.${nqe}`,rqe=".data-api",iqe="Escape",sqe=`hide${xo}`,aqe=`hidePrevented${xo}`,wse=`hidden${xo}`,Ase=`show${xo}`,oqe=`shown${xo}`,uqe=`resize${xo}`,lqe=`click.dismiss${xo}`,cqe=`mousedown.dismiss${xo}`,fqe=`keydown.dismiss${xo}`,hqe=`click${xo}${rqe}`,Rz="modal-open",dqe="fade",Mz="show",RF="modal-static",pqe=".modal.show",gqe=".modal-dialog",mqe=".modal-body",xqe='[data-bs-toggle="modal"]',vqe={backdrop:!0,focus:!0,keyboard:!0},yqe={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ld extends hu{constructor(t,n){super(t,n),this._dialog=pt.findOne(gqe,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new xN,this._addEventListeners()}static get Default(){return vqe}static get DefaultType(){return yqe}static get NAME(){return tqe}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Fe.trigger(this._element,Ase,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Rz),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Fe.trigger(this._element,sqe).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Mz),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Fe.off(window,xo),Fe.off(this._dialog,xo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ese({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new bse({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=pt.findOne(mqe,this._dialog);n&&(n.scrollTop=0),a_(this._element),this._element.classList.add(Mz);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Fe.trigger(this._element,oqe,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){Fe.on(this._element,fqe,t=>{if(t.key===iqe){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Fe.on(window,uqe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Fe.on(this._element,cqe,t=>{Fe.one(this._element,lqe,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Rz),this._resetAdjustments(),this._scrollBar.reset(),Fe.trigger(this._element,wse)})}_isAnimated(){return this._element.classList.contains(dqe)}_triggerBackdropTransition(){if(Fe.trigger(this._element,aqe).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(RF)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(RF),this._queueCallback(()=>{this._element.classList.remove(RF),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){const i=mo()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&t){const i=mo()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const r=ld.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}}Fe.on(document,hqe,xqe,function(e){const t=pt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Fe.one(t,Ase,i=>{i.defaultPrevented||Fe.one(t,wse,()=>{I1(this)&&this.focus()})});const n=pt.findOne(pqe);n&&ld.getInstance(n).hide(),ld.getOrCreateInstance(t).toggle(this)});KC(ld);wo(ld);const _qe="offcanvas",Eqe="bs.offcanvas",Rc=`.${Eqe}`,Sse=".data-api",bqe=`load${Rc}${Sse}`,wqe="Escape",Lz="show",Pz="showing",Bz="hiding",Aqe="offcanvas-backdrop",Cse=".offcanvas.show",Sqe=`show${Rc}`,Cqe=`shown${Rc}`,kqe=`hide${Rc}`,Uz=`hidePrevented${Rc}`,kse=`hidden${Rc}`,Tqe=`resize${Rc}`,Fqe=`click${Rc}${Sse}`,Dqe=`keydown.dismiss${Rc}`,Nqe='[data-bs-toggle="offcanvas"]',Oqe={backdrop:!0,keyboard:!0,scroll:!1},$qe={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class qf extends hu{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Oqe}static get DefaultType(){return $qe}static get NAME(){return _qe}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||Fe.trigger(this._element,Sqe,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new xN().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Pz);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Lz),this._element.classList.remove(Pz),Fe.trigger(this._element,Cqe,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||Fe.trigger(this._element,kqe).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Bz),this._backdrop.hide();const n=()=>{this._element.classList.remove(Lz,Bz),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new xN().reset(),Fe.trigger(this._element,kse)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){Fe.trigger(this._element,Uz);return}this.hide()},n=!!this._config.backdrop;return new Ese({className:Aqe,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new bse({trapElement:this._element})}_addEventListeners(){Fe.on(this._element,Dqe,t=>{if(t.key===wqe){if(this._config.keyboard){this.hide();return}Fe.trigger(this._element,Uz)}})}static jQueryInterface(t){return this.each(function(){const n=qf.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Fe.on(document,Fqe,Nqe,function(e){const t=pt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Gf(this))return;Fe.one(t,kse,()=>{I1(this)&&this.focus()});const n=pt.findOne(Cse);n&&n!==t&&qf.getInstance(n).hide(),qf.getOrCreateInstance(t).toggle(this)});Fe.on(window,bqe,()=>{for(const e of pt.find(Cse))qf.getOrCreateInstance(e).show()});Fe.on(window,Tqe,()=>{for(const e of pt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&qf.getOrCreateInstance(e).hide()});KC(qf);wo(qf);const Iqe=/^aria-[\w-]*$/i,Tse={"*":["class","dir","id","lang","role",Iqe],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rqe=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Mqe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Lqe=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?Rqe.has(n)?!!Mqe.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function Pqe(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const i=new window.DOMParser().parseFromString(e,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const a of s){const o=a.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){a.remove();continue}const u=[].concat(...a.attributes),l=[].concat(t["*"]||[],t[o]||[]);for(const c of u)Lqe(c,l)||a.removeAttribute(c.nodeName)}return i.body.innerHTML}const Bqe="TemplateFactory",Uqe={allowList:Tse,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},zqe={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Wqe={entry:"(string|element|function|null)",selector:"(string|element)"};class Hqe extends o_{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Uqe}static get DefaultType(){return zqe}static get NAME(){return Bqe}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(t,s,i);const n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},Wqe)}_setContent(t,n,r){const i=pt.findOne(r,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(ac(n)){this._putElementInTemplate(jf(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?Pqe(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return js(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const Vqe="tooltip",jqe=new Set(["sanitize","allowList","sanitizeFn"]),MF="fade",Gqe="modal",D2="show",qqe=".tooltip-inner",zz=`.${Gqe}`,Wz="hide.bs.modal",_m="hover",LF="focus",Xqe="click",Kqe="manual",Yqe="hide",Jqe="hidden",Zqe="show",Qqe="shown",eXe="inserted",tXe="click",nXe="focusin",rXe="focusout",iXe="mouseenter",sXe="mouseleave",aXe={AUTO:"auto",TOP:"top",RIGHT:mo()?"left":"right",BOTTOM:"bottom",LEFT:mo()?"right":"left"},oXe={allowList:Tse,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},uXe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class M1 extends hu{constructor(t,n){if(typeof tse>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return oXe}static get DefaultType(){return uXe}static get NAME(){return Vqe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Fe.off(this._element.closest(zz),Wz,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=Fe.trigger(this._element,this.constructor.eventName(Zqe)),r=(ise(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),Fe.trigger(this._element,this.constructor.eventName(eXe))),this._popper=this._createPopper(i),i.classList.add(D2),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))Fe.on(o,"mouseover",Ww);const a=()=>{Fe.trigger(this._element,this.constructor.eventName(Qqe)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Fe.trigger(this._element,this.constructor.eventName(Yqe)).defaultPrevented)return;if(this._getTipElement().classList.remove(D2),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Fe.off(i,"mouseover",Ww);this._activeTrigger[Xqe]=!1,this._activeTrigger[LF]=!1,this._activeTrigger[_m]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Fe.trigger(this._element,this.constructor.eventName(Jqe)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(MF,D2),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=XVe(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(MF),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Hqe({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[qqe]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(MF)}_isShown(){return this.tip&&this.tip.classList.contains(D2)}_createPopper(t){const n=js(this._config.placement,[this,t,this._element]),r=aXe[n.toUpperCase()];return pR(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return js(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...js(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")Fe.on(this._element,this.constructor.eventName(tXe),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==Kqe){const r=n===_m?this.constructor.eventName(iXe):this.constructor.eventName(nXe),i=n===_m?this.constructor.eventName(sXe):this.constructor.eventName(rXe);Fe.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?LF:_m]=!0,a._enter()}),Fe.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?LF:_m]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Fe.on(this._element.closest(zz),Wz,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=oc.getDataAttributes(this._element);for(const r of Object.keys(n))jqe.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:jf(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=M1.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}wo(M1);const lXe="popover",cXe=".popover-header",fXe=".popover-body",hXe={...M1.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},dXe={...M1.DefaultType,content:"(null|string|element|function)"};class vR extends M1{static get Default(){return hXe}static get DefaultType(){return dXe}static get NAME(){return lXe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[cXe]:this._getTitle(),[fXe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=vR.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}wo(vR);const pXe="scrollspy",gXe="bs.scrollspy",yR=`.${gXe}`,mXe=".data-api",xXe=`activate${yR}`,Hz=`click${yR}`,vXe=`load${yR}${mXe}`,yXe="dropdown-item",hp="active",_Xe='[data-bs-spy="scroll"]',PF="[href]",EXe=".nav, .list-group",Vz=".nav-link",bXe=".nav-item",wXe=".list-group-item",AXe=`${Vz}, ${bXe} > ${Vz}, ${wXe}`,SXe=".dropdown",CXe=".dropdown-toggle",kXe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},TXe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ZC extends hu{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return kXe}static get DefaultType(){return TXe}static get NAME(){return pXe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=jf(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Fe.off(this._config.target,Hz),Fe.on(this._config.target,Hz,PF,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&o){if(r(a),!i)return;continue}!s&&!o&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=pt.find(PF,this._config.target);for(const n of t){if(!n.hash||Gf(n))continue;const r=pt.findOne(decodeURI(n.hash),this._element);I1(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(hp),this._activateParents(t),Fe.trigger(this._element,xXe,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(yXe)){pt.findOne(CXe,t.closest(SXe)).classList.add(hp);return}for(const n of pt.parents(t,EXe))for(const r of pt.prev(n,AXe))r.classList.add(hp)}_clearActiveClass(t){t.classList.remove(hp);const n=pt.find(`${PF}.${hp}`,t);for(const r of n)r.classList.remove(hp)}static jQueryInterface(t){return this.each(function(){const n=ZC.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Fe.on(window,vXe,()=>{for(const e of pt.find(_Xe))ZC.getOrCreateInstance(e)});wo(ZC);const FXe="tab",DXe="bs.tab",Wd=`.${DXe}`,NXe=`hide${Wd}`,OXe=`hidden${Wd}`,$Xe=`show${Wd}`,IXe=`shown${Wd}`,RXe=`click${Wd}`,MXe=`keydown${Wd}`,LXe=`load${Wd}`,PXe="ArrowLeft",jz="ArrowRight",BXe="ArrowUp",Gz="ArrowDown",BF="Home",qz="End",sh="active",Xz="fade",UF="show",UXe="dropdown",Fse=".dropdown-toggle",zXe=".dropdown-menu",zF=`:not(${Fse})`,WXe='.list-group, .nav, [role="tablist"]',HXe=".nav-item, .list-group-item",VXe=`.nav-link${zF}, .list-group-item${zF}, [role="tab"]${zF}`,Dse='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',WF=`${VXe}, ${Dse}`,jXe=`.${sh}[data-bs-toggle="tab"], .${sh}[data-bs-toggle="pill"], .${sh}[data-bs-toggle="list"]`;class Qg extends hu{constructor(t){super(t),this._parent=this._element.closest(WXe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Fe.on(this._element,MXe,n=>this._keydown(n)))}static get NAME(){return FXe}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),r=n?Fe.trigger(n,NXe,{relatedTarget:t}):null;Fe.trigger(t,$Xe,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(sh),this._activate(pt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(UF);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Fe.trigger(t,IXe,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(Xz))}_deactivate(t,n){if(!t)return;t.classList.remove(sh),t.blur(),this._deactivate(pt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(UF);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Fe.trigger(t,OXe,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(Xz))}_keydown(t){if(![PXe,jz,BXe,Gz,BF,qz].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(i=>!Gf(i));let r;if([BF,qz].includes(t.key))r=n[t.key===BF?0:n.length-1];else{const i=[jz,Gz].includes(t.key);r=gR(n,t.target,i,!0)}r&&(r.focus({preventScroll:!0}),Qg.getOrCreateInstance(r).show())}_getChildren(){return pt.find(WF,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=pt.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const r=this._getOuterElement(t);if(!r.classList.contains(UXe))return;const i=(s,a)=>{const o=pt.findOne(s,r);o&&o.classList.toggle(a,n)};i(Fse,sh),i(zXe,UF),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(sh)}_getInnerElement(t){return t.matches(WF)?t:pt.findOne(WF,t)}_getOuterElement(t){return t.closest(HXe)||t}static jQueryInterface(t){return this.each(function(){const n=Qg.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Fe.on(document,RXe,Dse,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Gf(this)&&Qg.getOrCreateInstance(this).show()});Fe.on(window,LXe,()=>{for(const e of pt.find(jXe))Qg.getOrCreateInstance(e)});wo(Qg);const GXe="toast",qXe="bs.toast",E0=`.${qXe}`,XXe=`mouseover${E0}`,KXe=`mouseout${E0}`,YXe=`focusin${E0}`,JXe=`focusout${E0}`,ZXe=`hide${E0}`,QXe=`hidden${E0}`,eKe=`show${E0}`,tKe=`shown${E0}`,nKe="fade",Kz="hide",N2="show",O2="showing",rKe={animation:"boolean",autohide:"boolean",delay:"number"},iKe={animation:!0,autohide:!0,delay:5e3};class c_ extends hu{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return iKe}static get DefaultType(){return rKe}static get NAME(){return GXe}show(){if(Fe.trigger(this._element,eKe).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(nKe);const n=()=>{this._element.classList.remove(O2),Fe.trigger(this._element,tKe),this._maybeScheduleHide()};this._element.classList.remove(Kz),a_(this._element),this._element.classList.add(N2,O2),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||Fe.trigger(this._element,ZXe).defaultPrevented)return;const n=()=>{this._element.classList.add(Kz),this._element.classList.remove(O2,N2),Fe.trigger(this._element,QXe)};this._element.classList.add(O2),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(N2),super.dispose()}isShown(){return this._element.classList.contains(N2)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){Fe.on(this._element,XXe,t=>this._onInteraction(t,!0)),Fe.on(this._element,KXe,t=>this._onInteraction(t,!1)),Fe.on(this._element,YXe,t=>this._onInteraction(t,!0)),Fe.on(this._element,JXe,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=c_.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}KC(c_);wo(c_);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jw={};jw.version="0.20.3";var Ya=1200,sKe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_R={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ER=function(e){sKe.indexOf(e)!=-1&&(_R[0]=e)};function aKe(){ER(1252)}var zo=function(e){Ya=e,ER(e)};function bR(){zo(1200),aKe()}function Yz(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function Nse(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function oKe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e[2*n]+(e[2*n+1]<<8));return t.join("")}function Ose(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Jm=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?Nse(e.slice(2)):t==254&&n==255?Ose(e.slice(2)):t==65279?e.slice(1):e},$2=function(t){return String.fromCharCode(t)},Jz=function(t){return String.fromCharCode(t)},uKe=null,Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Gw(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0,u=0,l=0;l<e.length;)n=e.charCodeAt(l++),s=n>>2,r=e.charCodeAt(l++),a=(n&3)<<4|r>>4,i=e.charCodeAt(l++),o=(r&15)<<2|i>>6,u=i&63,isNaN(r)?o=u=64:isNaN(i)&&(u=64),t+=Ui.charAt(s)+Ui.charAt(a)+Ui.charAt(o)+Ui.charAt(u);return t}function lKe(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0,u=0,l=0;l<e.length;)n=e.charCodeAt(l++),n>255&&(n=95),s=n>>2,r=e.charCodeAt(l++),r>255&&(r=95),a=(n&3)<<4|r>>4,i=e.charCodeAt(l++),i>255&&(i=95),o=(r&15)<<2|i>>6,u=i&63,isNaN(r)?o=u=64:isNaN(i)&&(u=64),t+=Ui.charAt(s)+Ui.charAt(a)+Ui.charAt(o)+Ui.charAt(u);return t}function cKe(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0,u=0,l=0;l<e.length;)n=e[l++],s=n>>2,r=e[l++],a=(n&3)<<4|r>>4,i=e[l++],o=(r&15)<<2|i>>6,u=i&63,isNaN(r)?o=u=64:isNaN(i)&&(u=64),t+=Ui.charAt(s)+Ui.charAt(a)+Ui.charAt(o)+Ui.charAt(u);return t}function Oa(e){var t="",n=0,r=0,i=0,s=0,a=0,o=0,u=0;if(e.slice(0,5)=="data:"){var l=e.slice(0,1024).indexOf(";base64,");l>-1&&(e=e.slice(l+8))}e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)s=Ui.indexOf(e.charAt(l++)),a=Ui.indexOf(e.charAt(l++)),n=s<<2|a>>4,t+=String.fromCharCode(n),o=Ui.indexOf(e.charAt(l++)),r=(a&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),u=Ui.indexOf(e.charAt(l++)),i=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(i));return t}var Nt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),yl=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}(),Mv=function(){if(typeof Buffer>"u")return!1;var e=yl([65,0]);if(!e)return!1;var t=e.toString("utf16le");return t.length==1}();function Xf(e){return Nt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Zz(e){return Nt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var gs=function(t){return Nt?yl(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function QC(e){if(typeof ArrayBuffer>"u")return gs(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function tl(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function fKe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function wR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return wR(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var lr=Nt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:yl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)i=e[t].length,e[t]instanceof Uint8Array?r.set(e[t],n):typeof e[t]=="string"?r.set(new Uint8Array(gs(e[t])),n):r.set(new Uint8Array(e[t]),n);return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function hKe(e){for(var t=[],n=0,r=e.length+250,i=Xf(e.length+255),s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=e.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(t.push(i.slice(0,n)),n=0,i=Xf(65535),r=65530)}return t.push(i.slice(0,n)),lr(t)}var Js=/\u0000/g,Zm=/[\u0001-\u0006]/g;function Yp(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Wo(e,t){var n=""+e;return n.length>=t?n:qt("0",t-n.length)+n}function AR(e,t){var n=""+e;return n.length>=t?n:qt(" ",t-n.length)+n}function qw(e,t){var n=""+e;return n.length>=t?n:n+qt(" ",t-n.length)}function dKe(e,t){var n=""+Math.round(e);return n.length>=t?n:qt("0",t-n.length)+n}function pKe(e,t){var n=""+e;return n.length>=t?n:qt("0",t-n.length)+n}var Qz=Math.pow(2,32);function dp(e,t){if(e>Qz||e<-Qz)return dKe(e,t);var n=Math.round(e);return pKe(n,t)}function Xw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var eW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],HF=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gKe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ct={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},tW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mKe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Kw(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,a=1,o=0,u=1,l=0,c=0,f=Math.floor(i);l<t&&(f=Math.floor(i),o=f*a+s,c=f*l+u,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,u=l,l=c;if(c>t&&(l>t?(c=u,o=s):(c=l,o=a)),!n)return[0,r*o,c];var h=Math.floor(r*o/c);return[h,r*o-h*c,c]}function xKe(e){var t=e.toPrecision(16);if(t.indexOf("e")>-1){var n=t.slice(0,t.indexOf("e"));return n=n.indexOf(".")>-1?n.slice(0,n.slice(0,2)=="0."?17:16):n.slice(0,15)+qt("0",n.length-15),n+t.slice(t.indexOf("e"))}var r=t.indexOf(".")>-1?t.slice(0,t.slice(0,2)=="0."?17:16):t.slice(0,15)+qt("0",t.length-15);return Number(r)}function Ml(e,t,n){if(e>2958465||e<0)return null;e=xKe(e);var r=e|0,i=Math.floor(86400*(e-r)),s=0,a=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),a=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),r<60&&(s=(s+6)%7),n&&(s=EKe(u,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}function SR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vKe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yKe(e){var t=e<0?12:11,n=SR(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function _Ke(e){var t=SR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Lv(e){if(!isFinite(e))return isNaN(e)?"#NUM!":"#DIV/0!";var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=yKe(e):t===10?n=e.toFixed(10).substr(0,12):n=_Ke(e),SR(vKe(n.toUpperCase()))}function cd(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Lv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return $a(14,Yn(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function EKe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function bKe(e,t,n,r){var i="",s=0,a=0,o=n.y,u,l=0;switch(e){case 98:o=n.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,l=2;break;default:u=o%1e4,l=4;break}break;case 109:switch(t.length){case 1:case 2:u=n.m,l=t.length;break;case 3:return HF[n.m-1][1];case 5:return HF[n.m-1][0];default:return HF[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=n.d,l=t.length;break;case 3:return eW[n.q][0];default:return eW[n.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(n.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=n.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=n.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Wo(n.S,t.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),t==="s"?s===0?"0":""+s/a:(i=Wo(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+(r==0?Math.round(n.S+n.u):n.S);break;default:throw"bad abstime format: "+t}l=t.length===3?1:2;break;case 101:u=o,l=1;break}var c=l>0?Wo(u,l):"";return c}function Xl(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var $se=/%/g;function wKe(e,t,n){var r=t.replace($se,""),i=t.length-r.length;return uc(e,r,n*Math.pow(10,2*i))+qt("%",i)}function AKe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return uc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Ise(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ise(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,l,c){return u+l+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Rse=/# (\?+)( ?)\/( ?)(\d+)/;function SKe(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?qt(" ",e[1].length+1+e[4].length):AR(a,e[1].length)+e[2]+"/"+e[3]+Wo(o,e[4].length))}function CKe(e,t,n){return n+(t===0?"":""+t)+qt(" ",e[1].length+2+e[4].length)}var Mse=/^#*0*\.([0#]+)/,Lse=/\)[^)]*[0#]/,Pse=/\(###\) ###\\?-####/;function us(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function nW(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function rW(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function kKe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function TKe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Wa(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Lse)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Wa("n",r,n):"("+Wa("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return AKe(e,t,n);if(t.indexOf("%")!==-1)return wKe(e,t,n);if(t.indexOf("E")!==-1)return Ise(t,n);if(t.charCodeAt(0)===36)return"$"+Wa(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,a,o,u=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+dp(u,t.length);if(t.match(/^[#?]+$/))return i=dp(n,0),i==="0"&&(i=""),i.length>t.length?i:us(t.substr(0,t.length-i.length))+i;if(s=t.match(Rse))return SKe(s,u,l);if(t.match(/^#+0+$/))return l+dp(u,t.length-t.indexOf("0"));if(s=t.match(Mse))return i=nW(n,s[1].length).replace(/^([^\.]+)$/,"$1."+us(s[1])).replace(/\.$/,"."+us(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+qt("0",us(s[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return l+nW(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return l+Xl(dp(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Wa(e,t,-n):Xl(""+(Math.floor(n)+kKe(n,s[1].length)))+"."+Wo(rW(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Wa(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yp(Wa(e,t.replace(/[\\-]/g,""),n)),a=0,Yp(Yp(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return a<i.length?i.charAt(a++):p==="0"?"0":""}));if(t.match(Pse))return i=Wa(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Kw(u,Math.pow(10,a)-1,!1),i=""+l,c=uc("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=qw(o[2],a),c.length<s[4].length&&(c=us(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Kw(u,Math.pow(10,a)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?AR(o[1],a)+s[2]+"/"+s[3]+qw(o[2],a):qt(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=dp(n,0),t.length<=i.length?i:us(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=t.indexOf(".")-a,h=t.length-i.length-f;return us(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=rW(n,s[1].length),n<0?"-"+Wa(e,t,-n):Xl(TKe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Wo(0,3-p.length):"")+p})+"."+Wo(a,s[1].length);switch(t){case"###,##0.00":return Wa(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var d=Xl(dp(u,0));return d!=="0"?l+d:"";case"###,###.00":return Wa(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Wa(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function FKe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return uc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function DKe(e,t,n){var r=t.replace($se,""),i=t.length-r.length;return uc(e,r,n*Math.pow(10,2*i))+qt("%",i)}function Bse(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Bse(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,l,c){return u+l+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function yu(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Lse)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?yu("n",r,n):"("+yu("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return FKe(e,t,n);if(t.indexOf("%")!==-1)return DKe(e,t,n);if(t.indexOf("E")!==-1)return Bse(t,n);if(t.charCodeAt(0)===36)return"$"+yu(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,a,o,u=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+Wo(u,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:us(t.substr(0,t.length-i.length))+i;if(s=t.match(Rse))return CKe(s,u,l);if(t.match(/^#+0+$/))return l+Wo(u,t.length-t.indexOf("0"));if(s=t.match(Mse))return i=(""+n).replace(/^([^\.]+)$/,"$1."+us(s[1])).replace(/\.$/,"."+us(s[1])),i=i.replace(/\.(\d*)$/,function(p,g){return"."+g+qt("0",us(s[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return l+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return l+Xl(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+yu(e,t,-n):Xl(""+n)+"."+qt("0",s[1].length);if(s=t.match(/^#,#*,#0/))return yu(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yp(yu(e,t.replace(/[\\-]/g,""),n)),a=0,Yp(Yp(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return a<i.length?i.charAt(a++):p==="0"?"0":""}));if(t.match(Pse))return i=yu(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Kw(u,Math.pow(10,a)-1,!1),i=""+l,c=uc("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=qw(o[2],a),c.length<s[4].length&&(c=us(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Kw(u,Math.pow(10,a)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?AR(o[1],a)+s[2]+"/"+s[3]+qw(o[2],a):qt(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:us(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=t.indexOf(".")-a,h=t.length-i.length-f;return us(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+yu(e,t,-n):Xl(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Wo(0,3-p.length):"")+p})+"."+Wo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Xl(""+u);return d!=="0"?l+d:"";default:if(t.match(/\.[0#?]*$/))return yu(e,t.slice(0,t.lastIndexOf(".")),n)+us(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function uc(e,t,n){return(n|0)===n?yu(e,t,n):Wa(e,t,n)}function NKe(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Use=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function vo(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Xw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Use))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function OKe(e,t,n,r){for(var i=[],s="",a=0,o="",u="t",l,c,f,h="H";a<e.length;)switch(o=e.charAt(a)){case"G":if(!Xw(e,a))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=e.charCodeAt(++a))!==34&&a<e.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var d=e.charAt(++a),p=d==="("||d===")"?d:"t";i[i.length]={t:p,v:d},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:t},++a;break;case"B":case"b":if(e.charAt(a+1)==="1"||e.charAt(a+1)==="2"){if(l==null&&(l=Ml(t,n,e.charAt(a+1)==="2"),l==null))return"";i[i.length]={t:"X",v:e.substr(a,2)},u=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||l==null&&(l=Ml(t,n),l==null))return"";for(s=o;++a<e.length&&e.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},u=o;break;case"A":case"a":case"":var g={t:o,v:o};if(l==null&&(l=Ml(t,n)),e.substr(a,3).toUpperCase()==="A/P"?(l!=null&&(g.v=l.H>=12?e.charAt(a+2):o),g.t="T",h="h",a+=3):e.substr(a,5).toUpperCase()==="AM/PM"?(l!=null&&(g.v=l.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):e.substr(a,5).toUpperCase()==="/"?(l!=null&&(g.v=l.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),l==null&&g.t==="T")return"";i[i.length]=g,u=o;break;case"[":for(s=o;e.charAt(a++)!=="]"&&a<e.length;)s+=e.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Use)){if(l==null&&(l=Ml(t,n),l==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",vo(e)||(i[i.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=o;++a<e.length&&(o=e.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},u=o;break;case"*":++a,(e.charAt(a)==" "||e.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<e.length&&"0123456789".indexOf(e.charAt(++a))>-1;)s+=e.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++a;break}var m=0,x=0,y;for(a=i.length-1,u="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,u="h",m<1&&(m=1);break;case"s":(y=i[a].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1),m=4),m<3&&(m=3);case"d":case"y":case"e":u=i[a].t;break;case"M":u=i[a].t,m<2&&(m=2);break;case"m":u==="s"&&(i[a].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&i[a].v.match(/[Hh]/)&&(m=1),m<2&&i[a].v.match(/[Mm]/)&&(m=2),m<3&&i[a].v.match(/[Ss]/)&&(m=3)}var v;switch(m){case 0:break;case 1:case 2:case 3:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,v=Ml(l.D),v.u=l.u,v.S=l.S,v.M=l.M,v.H=l.H,l=v);break;case 4:switch(x){case 1:l.u=Math.round(l.u*10)/10;break;case 2:l.u=Math.round(l.u*100)/100;break;case 3:l.u=Math.round(l.u*1e3)/1e3;break}l.u>=1&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,v=Ml(l.D),v.u=l.u,v.S=l.S,v.M=l.M,v.H=l.H,l=v);break}var _="",E;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=bKe(i[a].t.charCodeAt(0),i[a].v,l,x),i[a].t="t";break;case"n":case"?":for(E=a+1;i[E]!=null&&((o=i[E].t)==="?"||o==="D"||(o===" "||o==="t")&&i[E+1]!=null&&(i[E+1].t==="?"||i[E+1].t==="t"&&i[E+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[E].v==="/"||i[E].v===" "&&i[E+1]!=null&&i[E+1].t=="?"));)i[a].v+=i[E].v,i[E]={v:"",t:";"},++E;_+=i[a].v,a=E-1;break;case"G":i[a].t="t",i[a].v=cd(t,n);break}var w="",b,S;if(_.length>0){_.charCodeAt(0)==40?(b=t<0&&_.charCodeAt(0)===45?-t:t,S=uc("n",_,b)):(b=t<0&&r>1?-t:t,S=uc("n",_,b),b<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),E=S.length-1;var A=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){A=a;break}var C=i.length;if(A===i.length&&S.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(E>=i[a].v.length-1?(E-=i[a].v.length,i[a].v=S.substr(E+1,i[a].v.length)):E<0?i[a].v="":(i[a].v=S.substr(0,E+1),E=-1),i[a].t="t",C=a);E>=0&&C<i.length&&(i[C].v=S.substr(0,E+1)+i[C].v)}else if(A!==i.length&&S.indexOf("E")===-1){for(E=S.indexOf(".")-1,a=A;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===A?i[a].v.indexOf(".")-1:i[a].v.length-1,w=i[a].v.substr(c+1);c>=0;--c)E>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(w=S.charAt(E--)+w);i[a].v=w,i[a].t="t",C=a}for(E>=0&&C<i.length&&(i[C].v=S.substr(0,E+1)+i[C].v),E=S.indexOf(".")+1,a=A;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==A)){for(c=i[a].v.indexOf(".")>-1&&a===A?i[a].v.indexOf(".")+1:0,w=i[a].v.substr(0,c);c<i[a].v.length;++c)E<S.length&&(w+=S.charAt(E++));i[a].v=w,i[a].t="t",C=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(b=r>1&&t<0&&a>0&&i[a-1].v==="-"?-t:t,i[a].v=uc(i[a].t,i[a].v,b),i[a].t="t");var k="";for(a=0;a!==i.length;++a)i[a]!=null&&(k+=i[a].v);return k}var iW=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function sW(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function $Ke(e,t){var n=NKe(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(typeof t=="number"&&!isFinite(t)&&(t=0),n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(iW),o=n[1].match(iW);return sW(t,a)?[r,n[0]]:sW(t,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function $a(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:ct)[e],r==null&&(r=n.table&&n.table[tW[e]]||ct[tW[e]]),r==null&&(r=mKe[e]||"General");break}if(Xw(r,0))return cd(t,n);t instanceof Date&&(t=Yn(t,n.date1904));var i=$Ke(r,t);if(Xw(i[1]))return cd(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else{if(t===""||t==null)return"";if(isNaN(t)&&i[1].indexOf("0")>-1)return"#NUM!";if(!isFinite(t)&&i[1].indexOf("0")>-1)return"#DIV/0!"}return OKe(i[1],t,n,i[0])}function zse(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(ct[n]==null){t<0&&(t=n);continue}if(ct[n]==e){t=n;break}}t<0&&(t=391)}return ct[t]=e,t}function ek(e){for(var t=0;t!=392;++t)e[t]!==void 0&&zse(e[t],t)}function L1(){ct=gKe()}var IKe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Yw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function RKe(e){var t=typeof e=="number"?ct[e]:e;return t=t.replace(Yw,"(\\d+)"),Yw.lastIndex=0,new RegExp("^"+t+"$")}function MKe(e,t,n){var r=-1,i=-1,s=-1,a=-1,o=-1,u=-1;(t.match(Yw)||[]).forEach(function(f,h){var d=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=d;break;case"d":s=d;break;case"h":a=d;break;case"s":u=d;break;case"m":a>=0?o=d:i=d;break}}),Yw.lastIndex=0,u>=0&&o==-1&&i>=0&&(o=i,i=-1);var l=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return a==-1&&o==-1&&u==-1?l:r==-1&&i==-1&&s==-1?c:l+"T"+c}var LKe={"d.m":"d\\.m"};function Cf(e,t){return zse(LKe[e]||e,t)}var aW=function(){var e={};e.version="1.2.0";function t(){for(var b=0,S=new Array(256),A=0;A!=256;++A)b=A,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,S[A]=b;return typeof Int32Array<"u"?new Int32Array(S):S}var n=t();function r(b){var S=0,A=0,C=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)k[C]=b[C];for(C=0;C!=256;++C)for(A=b[C],S=256+C;S<4096;S+=256)A=k[S]=A>>>8^b[A&255];var F=[];for(C=1;C!=16;++C)F[C-1]=typeof Int32Array<"u"&&typeof k.subarray=="function"?k.subarray(C*256,C*256+256):k.slice(C*256,C*256+256);return F}var i=r(n),s=i[0],a=i[1],o=i[2],u=i[3],l=i[4],c=i[5],f=i[6],h=i[7],d=i[8],p=i[9],g=i[10],m=i[11],x=i[12],y=i[13],v=i[14];function _(b,S){for(var A=S^-1,C=0,k=b.length;C<k;)A=A>>>8^n[(A^b.charCodeAt(C++))&255];return~A}function E(b,S){for(var A=S^-1,C=b.length-15,k=0;k<C;)A=v[b[k++]^A&255]^y[b[k++]^A>>8&255]^x[b[k++]^A>>16&255]^m[b[k++]^A>>>24]^g[b[k++]]^p[b[k++]]^d[b[k++]]^h[b[k++]]^f[b[k++]]^c[b[k++]]^l[b[k++]]^u[b[k++]]^o[b[k++]]^a[b[k++]]^s[b[k++]]^n[b[k++]];for(C+=15;k<C;)A=A>>>8^n[(A^b[k++])&255];return~A}function w(b,S){for(var A=S^-1,C=0,k=b.length,F=0,N=0;C<k;)F=b.charCodeAt(C++),F<128?A=A>>>8^n[(A^F)&255]:F<2048?(A=A>>>8^n[(A^(192|F>>6&31))&255],A=A>>>8^n[(A^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,N=b.charCodeAt(C++)&1023,A=A>>>8^n[(A^(240|F>>8&7))&255],A=A>>>8^n[(A^(128|F>>2&63))&255],A=A>>>8^n[(A^(128|N>>6&15|(F&3)<<4))&255],A=A>>>8^n[(A^(128|N&63))&255]):(A=A>>>8^n[(A^(224|F>>12&15))&255],A=A>>>8^n[(A^(128|F>>6&63))&255],A=A>>>8^n[(A^(128|F&63))&255]);return~A}return e.table=n,e.bstr=_,e.buf=E,e.str=w,e}(),ft=function(){var t={};t.version="1.2.2";function n(I,V){for(var P=I.split("/"),U=V.split("/"),H=0,q=0,se=Math.min(P.length,U.length);H<se;++H){if(q=P[H].length-U[H].length)return q;if(P[H]!=U[H])return P[H]<U[H]?-1:1}return P.length-U.length}function r(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:r(I.slice(0,-1));var V=I.lastIndexOf("/");return V===-1?I:I.slice(0,V+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var V=I.lastIndexOf("/");return V===-1?I:I.slice(V+1)}function s(I,V){typeof V=="string"&&(V=new Date(V));var P=V.getHours();P=P<<6|V.getMinutes(),P=P<<5|V.getSeconds()>>>1,I.write_shift(2,P);var U=V.getFullYear()-1980;U=U<<4|V.getMonth()+1,U=U<<5|V.getDate(),I.write_shift(2,U)}function a(I){var V=I.read_shift(2)&65535,P=I.read_shift(2)&65535,U=new Date,H=P&31;P>>>=5;var q=P&15;P>>>=4,U.setMilliseconds(0),U.setFullYear(P+1980),U.setMonth(q-1),U.setDate(H);var se=V&31;V>>>=5;var pe=V&63;return V>>>=6,U.setHours(V),U.setMinutes(pe),U.setSeconds(se<<1),U}function o(I){wr(I,0);for(var V={},P=0;I.l<=I.length-4;){var U=I.read_shift(2),H=I.read_shift(2),q=I.l+H,se={};switch(U){case 21589:P=I.read_shift(1),P&1&&(se.mtime=I.read_shift(4)),H>5&&(P&2&&(se.atime=I.read_shift(4)),P&4&&(se.ctime=I.read_shift(4))),se.mtime&&(se.mt=new Date(se.mtime*1e3));break;case 1:{var pe=I.read_shift(4),re=I.read_shift(4);se.usz=re*Math.pow(2,32)+pe,pe=I.read_shift(4),re=I.read_shift(4),se.csz=re*Math.pow(2,32)+pe}break}I.l=q,V[U]=se}return V}var u;function l(){return u||(u=PKe)}function c(I,V){if(I[0]==80&&I[1]==75)return rM(I,V);if((I[0]|32)==109&&(I[1]|32)==105)return Xoe(I,V);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var P=3,U=512,H=0,q=0,se=0,pe=0,re=0,ae=[],oe=I.slice(0,512);wr(oe,0);var $e=f(oe);switch(P=$e[0],P){case 3:U=512;break;case 4:U=4096;break;case 0:if($e[1]==0)return rM(I,V);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}U!==512&&(oe=I.slice(0,U),wr(oe,28));var ze=I.slice(0,U);h(oe,P);var Ze=oe.read_shift(4,"i");if(P===3&&Ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ze);oe.l+=4,se=oe.read_shift(4,"i"),oe.l+=4,oe.chk("00100000","Mini Stream Cutoff Size: "),pe=oe.read_shift(4,"i"),H=oe.read_shift(4,"i"),re=oe.read_shift(4,"i"),q=oe.read_shift(4,"i");for(var Ie=-1,Ve=0;Ve<109&&(Ie=oe.read_shift(4,"i"),!(Ie<0));++Ve)ae[Ve]=Ie;var wt=d(I,U);m(re,q,wt,U,ae);var Pn=y(wt,se,ae,U);se<Pn.length&&(Pn[se].name="!Directory"),H>0&&pe!==N&&(Pn[pe].name="!MiniFAT"),Pn[ae[0]].name="!FAT",Pn.fat_addrs=ae,Pn.ssz=U;var jn={},vi=[],z1=[],W1=[];v(se,Pn,wt,vi,H,jn,z1,pe),p(z1,W1,vi),vi.shift();var H1={FileIndex:z1,FullPaths:W1};return V&&V.raw&&(H1.raw={header:ze,sectors:wt}),H1}function f(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(R,"Header Signature: "),I.l+=16;var V=I.read_shift(2,"u");return[I.read_shift(2,"u"),V]}function h(I,V){var P=9;switch(I.l+=2,P=I.read_shift(2)){case 9:if(V!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(V!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function d(I,V){for(var P=Math.ceil(I.length/V)-1,U=[],H=1;H<P;++H)U[H-1]=I.slice(H*V,(H+1)*V);return U[P-1]=I.slice(P*V),U}function p(I,V,P){for(var U=0,H=0,q=0,se=0,pe=0,re=P.length,ae=[],oe=[];U<re;++U)ae[U]=oe[U]=U,V[U]=P[U];for(;pe<oe.length;++pe)U=oe[pe],H=I[U].L,q=I[U].R,se=I[U].C,ae[U]===U&&(H!==-1&&ae[H]!==H&&(ae[U]=ae[H]),q!==-1&&ae[q]!==q&&(ae[U]=ae[q])),se!==-1&&(ae[se]=U),H!==-1&&U!=ae[U]&&(ae[H]=ae[U],oe.lastIndexOf(H)<pe&&oe.push(H)),q!==-1&&U!=ae[U]&&(ae[q]=ae[U],oe.lastIndexOf(q)<pe&&oe.push(q));for(U=1;U<re;++U)ae[U]===U&&(q!==-1&&ae[q]!==q?ae[U]=ae[q]:H!==-1&&ae[H]!==H&&(ae[U]=ae[H]));for(U=1;U<re;++U)if(I[U].type!==0){if(pe=U,pe!=ae[pe])do pe=ae[pe],V[U]=V[pe]+"/"+V[U];while(pe!==0&&ae[pe]!==-1&&pe!=ae[pe]);ae[U]=-1}for(V[0]+="/",U=1;U<re;++U)I[U].type!==2&&(V[U]+="/")}function g(I,V,P){for(var U=I.start,H=I.size,q=[],se=U;P&&H>0&&se>=0;)q.push(V.slice(se*F,se*F+F)),H-=F,se=J0(P,se*4);return q.length===0?ie(0):lr(q).slice(0,I.size)}function m(I,V,P,U,H){var q=N;if(I===N){if(V!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var se=P[I],pe=(U>>>2)-1;if(!se)return;for(var re=0;re<pe&&(q=J0(se,re*4))!==N;++re)H.push(q);V>=1&&m(J0(se,U-4),V-1,P,U,H)}}function x(I,V,P,U,H){var q=[],se=[];H||(H=[]);var pe=U-1,re=0,ae=0;for(re=V;re>=0;){H[re]=!0,q[q.length]=re,se.push(I[re]);var oe=P[Math.floor(re*4/U)];if(ae=re*4&pe,U<4+ae)throw new Error("FAT boundary crossed: "+re+" 4 "+U);if(!I[oe])break;re=J0(I[oe],ae)}return{nodes:q,data:xW([se])}}function y(I,V,P,U){var H=I.length,q=[],se=[],pe=[],re=[],ae=U-1,oe=0,$e=0,ze=0,Ze=0;for(oe=0;oe<H;++oe)if(pe=[],ze=oe+V,ze>=H&&(ze-=H),!se[ze]){re=[];var Ie=[];for($e=ze;$e>=0;){Ie[$e]=!0,se[$e]=!0,pe[pe.length]=$e,re.push(I[$e]);var Ve=P[Math.floor($e*4/U)];if(Ze=$e*4&ae,U<4+Ze)throw new Error("FAT boundary crossed: "+$e+" 4 "+U);if(!I[Ve]||($e=J0(I[Ve],Ze),Ie[$e]))break}q[ze]={nodes:pe,data:xW([re])}}return q}function v(I,V,P,U,H,q,se,pe){for(var re=0,ae=U.length?2:0,oe=V[I].data,$e=0,ze=0,Ze;$e<oe.length;$e+=128){var Ie=oe.slice($e,$e+128);wr(Ie,64),ze=Ie.read_shift(2),Ze=OR(Ie,0,ze-ae),U.push(Ze);var Ve={name:Ze,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},wt=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);wt!==0&&(Ve.ct=_(Ie,Ie.l-8));var Pn=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Pn!==0&&(Ve.mt=_(Ie,Ie.l-8)),Ve.start=Ie.read_shift(4,"i"),Ve.size=Ie.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=N,Ve.name=""),Ve.type===5?(re=Ve.start,H>0&&re!==N&&(V[re].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",V[Ve.start]===void 0&&(V[Ve.start]=x(P,Ve.start,V.fat_addrs,V.ssz)),V[Ve.start].name=Ve.name,Ve.content=V[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:re!==N&&Ve.start!==N&&V[re]&&(Ve.content=g(Ve,V[re].data,(V[pe]||{}).data))),Ve.content&&wr(Ve.content,0),q[Ze]=Ve,se.push(Ve)}}function _(I,V){return new Date((da(I,V+4)/1e7*Math.pow(2,32)+da(I,V)/1e7-11644473600)*1e3)}function E(I,V){return l(),c(u.readFileSync(I),V)}function w(I,V){var P=V&&V.type;switch(P||Nt&&Buffer.isBuffer(I)&&(P="buffer"),P||"base64"){case"file":return E(I,V);case"base64":return c(gs(Oa(I)),V);case"binary":return c(gs(I),V)}return c(I,V)}function b(I,V){var P=V||{},U=P.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=U+"/",I.FileIndex[0]={name:U,type:5}),P.CLSID&&(I.FileIndex[0].clsid=P.CLSID),S(I)}function S(I){var V="Sh33tJ5";if(!ft.find(I,"/"+V)){var P=ie(4);P[0]=55,P[1]=P[3]=50,P[2]=54,I.FileIndex.push({name:V,type:2,content:P,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+V),A(I)}}function A(I,V){b(I);for(var P=!1,U=!1,H=I.FullPaths.length-1;H>=0;--H){var q=I.FileIndex[H];switch(q.type){case 0:U?P=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(q.R*q.L*q.C)&&(P=!0),q.R>-1&&q.L>-1&&q.R==q.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!V)){var se=new Date(1987,1,19),pe=0,re=Object.create?Object.create(null):{},ae=[];for(H=0;H<I.FullPaths.length;++H)re[I.FullPaths[H]]=!0,I.FileIndex[H].type!==0&&ae.push([I.FullPaths[H],I.FileIndex[H]]);for(H=0;H<ae.length;++H){var oe=r(ae[H][0]);for(U=re[oe];!U;){for(;r(oe)&&!re[r(oe)];)oe=r(oe);ae.push([oe,{name:i(oe).replace("/",""),type:1,clsid:O,ct:se,mt:se,content:null}]),re[oe]=!0,oe=r(ae[H][0]),U=re[oe]}}for(ae.sort(function(Ze,Ie){return n(Ze[0],Ie[0])}),I.FullPaths=[],I.FileIndex=[],H=0;H<ae.length;++H)I.FullPaths[H]=ae[H][0],I.FileIndex[H]=ae[H][1];for(H=0;H<ae.length;++H){var $e=I.FileIndex[H],ze=I.FullPaths[H];if($e.name=i(ze).replace("/",""),$e.L=$e.R=$e.C=-($e.color=1),$e.size=$e.content?$e.content.length:0,$e.start=0,$e.clsid=$e.clsid||O,H===0)$e.C=ae.length>1?1:-1,$e.size=0,$e.type=5;else if(ze.slice(-1)=="/"){for(pe=H+1;pe<ae.length&&r(I.FullPaths[pe])!=ze;++pe);for($e.C=pe>=ae.length?-1:pe,pe=H+1;pe<ae.length&&r(I.FullPaths[pe])!=r(ze);++pe);$e.R=pe>=ae.length?-1:pe,$e.type=1}else r(I.FullPaths[H+1]||"")==r(ze)&&($e.R=H+1),$e.type=2}}}function C(I,V){var P=V||{};if(P.fileType=="mad")return Koe(I,P);switch(A(I),P.fileType){case"zip":return Woe(I,P)}var U=function(Ze){for(var Ie=0,Ve=0,wt=0;wt<Ze.FileIndex.length;++wt){var Pn=Ze.FileIndex[wt];if(Pn.content){var jn=Pn.content.length;jn>0&&(jn<4096?Ie+=jn+63>>6:Ve+=jn+511>>9)}}for(var vi=Ze.FullPaths.length+3>>2,z1=Ie+7>>3,W1=Ie+127>>7,H1=z1+Ve+vi+W1,A0=H1+127>>7,pk=A0<=109?0:Math.ceil((A0-109)/127);H1+A0+pk+127>>7>A0;)pk=++A0<=109?0:Math.ceil((A0-109)/127);var _l=[1,pk,A0,W1,vi,Ve,Ie,0];return Ze.FileIndex[0].size=Ie<<6,_l[7]=(Ze.FileIndex[0].start=_l[0]+_l[1]+_l[2]+_l[3]+_l[4]+_l[5])+(_l[6]+7>>3),_l}(I),H=ie(U[7]<<9),q=0,se=0;{for(q=0;q<8;++q)H.write_shift(1,D[q]);for(q=0;q<8;++q)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),q=0;q<3;++q)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,U[2]),H.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:N),H.write_shift(4,U[3]),H.write_shift(-4,U[1]?U[0]-1:N),H.write_shift(4,U[1]),q=0;q<109;++q)H.write_shift(-4,q<U[2]?U[1]+q:-1)}if(U[1])for(se=0;se<U[1];++se){for(;q<236+se*127;++q)H.write_shift(-4,q<U[2]?U[1]+q:-1);H.write_shift(-4,se===U[1]-1?N:se+1)}var pe=function(Ze){for(se+=Ze;q<se-1;++q)H.write_shift(-4,q+1);Ze&&(++q,H.write_shift(-4,N))};for(se=q=0,se+=U[1];q<se;++q)H.write_shift(-4,M.DIFSECT);for(se+=U[2];q<se;++q)H.write_shift(-4,M.FATSECT);pe(U[3]),pe(U[4]);for(var re=0,ae=0,oe=I.FileIndex[0];re<I.FileIndex.length;++re)oe=I.FileIndex[re],oe.content&&(ae=oe.content.length,!(ae<4096)&&(oe.start=se,pe(ae+511>>9)));for(pe(U[6]+7>>3);H.l&511;)H.write_shift(-4,M.ENDOFCHAIN);for(se=q=0,re=0;re<I.FileIndex.length;++re)oe=I.FileIndex[re],oe.content&&(ae=oe.content.length,!(!ae||ae>=4096)&&(oe.start=se,pe(ae+63>>6)));for(;H.l&511;)H.write_shift(-4,M.ENDOFCHAIN);for(q=0;q<U[4]<<2;++q){var $e=I.FullPaths[q];if(!$e||$e.length===0){for(re=0;re<17;++re)H.write_shift(4,0);for(re=0;re<3;++re)H.write_shift(4,-1);for(re=0;re<12;++re)H.write_shift(4,0);continue}oe=I.FileIndex[q],q===0&&(oe.start=oe.size?oe.start-1:N);var ze=q===0&&P.root||oe.name;if(ze.length>31&&(console.error("Name "+ze+" will be truncated to "+ze.slice(0,31)),ze=ze.slice(0,31)),ae=2*(ze.length+1),H.write_shift(64,ze,"utf16le"),H.write_shift(2,ae),H.write_shift(1,oe.type),H.write_shift(1,oe.color),H.write_shift(-4,oe.L),H.write_shift(-4,oe.R),H.write_shift(-4,oe.C),oe.clsid)H.write_shift(16,oe.clsid,"hex");else for(re=0;re<4;++re)H.write_shift(4,0);H.write_shift(4,oe.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,oe.start),H.write_shift(4,oe.size),H.write_shift(4,0)}for(q=1;q<I.FileIndex.length;++q)if(oe=I.FileIndex[q],oe.size>=4096)if(H.l=oe.start+1<<9,Nt&&Buffer.isBuffer(oe.content))oe.content.copy(H,H.l,0,oe.size),H.l+=oe.size+511&-512;else{for(re=0;re<oe.size;++re)H.write_shift(1,oe.content[re]);for(;re&511;++re)H.write_shift(1,0)}for(q=1;q<I.FileIndex.length;++q)if(oe=I.FileIndex[q],oe.size>0&&oe.size<4096)if(Nt&&Buffer.isBuffer(oe.content))oe.content.copy(H,H.l,0,oe.size),H.l+=oe.size+63&-64;else{for(re=0;re<oe.size;++re)H.write_shift(1,oe.content[re]);for(;re&63;++re)H.write_shift(1,0)}if(Nt)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function k(I,V){var P=I.FullPaths.map(function(re){return re.toUpperCase()}),U=P.map(function(re){var ae=re.split("/");return ae[ae.length-(re.slice(-1)=="/"?2:1)]}),H=!1;V.charCodeAt(0)===47?(H=!0,V=P[0].slice(0,-1)+V):H=V.indexOf("/")!==-1;var q=V.toUpperCase(),se=H===!0?P.indexOf(q):U.indexOf(q);if(se!==-1)return I.FileIndex[se];var pe=!q.match(Zm);for(q=q.replace(Js,""),pe&&(q=q.replace(Zm,"!")),se=0;se<P.length;++se)if((pe?P[se].replace(Zm,"!"):P[se]).replace(Js,"")==q||(pe?U[se].replace(Zm,"!"):U[se]).replace(Js,"")==q)return I.FileIndex[se];return null}var F=64,N=-2,R="d0cf11e0a1b11ae1",D=[208,207,17,224,161,177,26,225],O="00000000000000000000000000000000",M={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:O,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(I,V,P){l();var U=C(I,P);u.writeFileSync(V,U)}function K(I){for(var V=new Array(I.length),P=0;P<I.length;++P)V[P]=String.fromCharCode(I[P]);return V.join("")}function X(I,V){var P=C(I,V);switch(V&&V.type||"buffer"){case"file":return l(),u.writeFileSync(V.filename,P),P;case"binary":return typeof P=="string"?P:K(P);case"base64":return Gw(typeof P=="string"?P:K(P));case"buffer":if(Nt)return Buffer.isBuffer(P)?P:yl(P);case"array":return typeof P=="string"?gs(P):P}return P}var ve;function te(I){try{var V=I.InflateRaw,P=new V;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)ve=I;else throw new Error("zlib does not expose bytesRead")}catch(U){console.error("cannot use native zlib: "+(U.message||U))}}function ue(I,V){if(!ve)return U1(I,V);var P=ve.InflateRaw,U=new P,H=U._processChunk(I.slice(I.l),U._finishFlushFlag);return I.l+=U.bytesRead,H}function le(I){return ve?ve.deflateRawSync(I):bn(I)}var de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ke=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],He=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function B(I){var V=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(V>>16|V>>8|V)&255}for(var j=typeof Uint8Array<"u",G=j?new Uint8Array(256):[],W=0;W<256;++W)G[W]=B(W);function Y(I,V){var P=G[I&255];return V<=8?P>>>8-V:(P=P<<8|G[I>>8&255],V<=16?P>>>16-V:(P=P<<8|G[I>>16&255],P>>>24-V))}function T(I,V){var P=V&7,U=V>>>3;return(I[U]|(P<=6?0:I[U+1]<<8))>>>P&3}function L(I,V){var P=V&7,U=V>>>3;return(I[U]|(P<=5?0:I[U+1]<<8))>>>P&7}function J(I,V){var P=V&7,U=V>>>3;return(I[U]|(P<=4?0:I[U+1]<<8))>>>P&15}function Z(I,V){var P=V&7,U=V>>>3;return(I[U]|(P<=3?0:I[U+1]<<8))>>>P&31}function ee(I,V){var P=V&7,U=V>>>3;return(I[U]|(P<=1?0:I[U+1]<<8))>>>P&127}function ne(I,V,P){var U=V&7,H=V>>>3,q=(1<<P)-1,se=I[H]>>>U;return P<8-U||(se|=I[H+1]<<8-U,P<16-U)||(se|=I[H+2]<<16-U,P<24-U)||(se|=I[H+3]<<24-U),se&q}function ye(I,V,P){var U=V&7,H=V>>>3;return U<=5?I[H]|=(P&7)<<U:(I[H]|=P<<U&255,I[H+1]=(P&7)>>8-U),V+3}function we(I,V,P){var U=V&7,H=V>>>3;return P=(P&1)<<U,I[H]|=P,V+1}function Se(I,V,P){var U=V&7,H=V>>>3;return P<<=U,I[H]|=P&255,P>>>=8,I[H+1]=P,V+8}function Ee(I,V,P){var U=V&7,H=V>>>3;return P<<=U,I[H]|=P&255,P>>>=8,I[H+1]=P&255,I[H+2]=P>>>8,V+16}function be(I,V){var P=I.length,U=2*P>V?2*P:V+5,H=0;if(P>=V)return I;if(Nt){var q=Zz(U);if(I.copy)I.copy(q);else for(;H<I.length;++H)q[H]=I[H];return q}else if(j){var se=new Uint8Array(U);if(se.set)se.set(I);else for(;H<P;++H)se[H]=I[H];return se}return I.length=U,I}function Ce(I){for(var V=new Array(I),P=0;P<I;++P)V[P]=0;return V}function ce(I,V,P){var U=1,H=0,q=0,se=0,pe=0,re=I.length,ae=j?new Uint16Array(32):Ce(32);for(q=0;q<32;++q)ae[q]=0;for(q=re;q<P;++q)I[q]=0;re=I.length;var oe=j?new Uint16Array(re):Ce(re);for(q=0;q<re;++q)ae[H=I[q]]++,U<H&&(U=H),oe[q]=0;for(ae[0]=0,q=1;q<=U;++q)ae[q+16]=pe=pe+ae[q-1]<<1;for(q=0;q<re;++q)pe=I[q],pe!=0&&(oe[q]=ae[pe+16]++);var $e=0;for(q=0;q<re;++q)if($e=I[q],$e!=0)for(pe=Y(oe[q],U)>>U-$e,se=(1<<U+4-$e)-1;se>=0;--se)V[pe|se<<$e]=$e&15|q<<4;return U}var et=j?new Uint16Array(512):Ce(512),dt=j?new Uint16Array(32):Ce(32);if(!j){for(var ht=0;ht<512;++ht)et[ht]=0;for(ht=0;ht<32;++ht)dt[ht]=0}(function(){for(var I=[],V=0;V<32;V++)I.push(5);ce(I,dt,32);var P=[];for(V=0;V<=143;V++)P.push(8);for(;V<=255;V++)P.push(9);for(;V<=279;V++)P.push(7);for(;V<=287;V++)P.push(8);ce(P,et,288)})();var Dt=function(){for(var V=j?new Uint8Array(32768):[],P=0,U=0;P<He.length-1;++P)for(;U<He[P+1];++U)V[U]=P;for(;U<32768;++U)V[U]=29;var H=j?new Uint8Array(259):[];for(P=0,U=0;P<ke.length-1;++P)for(;U<ke[P+1];++U)H[U]=P;function q(pe,re){for(var ae=0;ae<pe.length;){var oe=Math.min(65535,pe.length-ae),$e=ae+oe==pe.length;for(re.write_shift(1,+$e),re.write_shift(2,oe),re.write_shift(2,~oe&65535);oe-- >0;)re[re.l++]=pe[ae++]}return re.l}function se(pe,re){for(var ae=0,oe=0,$e=j?new Uint16Array(32768):[];oe<pe.length;){var ze=Math.min(65535,pe.length-oe);if(ze<10){for(ae=ye(re,ae,+(oe+ze==pe.length)),ae&7&&(ae+=8-(ae&7)),re.l=ae/8|0,re.write_shift(2,ze),re.write_shift(2,~ze&65535);ze-- >0;)re[re.l++]=pe[oe++];ae=re.l*8;continue}ae=ye(re,ae,+(oe+ze==pe.length)+2);for(var Ze=0;ze-- >0;){var Ie=pe[oe];Ze=(Ze<<5^Ie)&32767;var Ve=-1,wt=0;if((Ve=$e[Ze])&&(Ve|=oe&-32768,Ve>oe&&(Ve-=32768),Ve<oe))for(;pe[Ve+wt]==pe[oe+wt]&&wt<250;)++wt;if(wt>2){Ie=H[wt],Ie<=22?ae=Se(re,ae,G[Ie+1]>>1)-1:(Se(re,ae,3),ae+=5,Se(re,ae,G[Ie-23]>>5),ae+=3);var Pn=Ie<8?0:Ie-4>>2;Pn>0&&(Ee(re,ae,wt-ke[Ie]),ae+=Pn),Ie=V[oe-Ve],ae=Se(re,ae,G[Ie]>>3),ae-=3;var jn=Ie<4?0:Ie-2>>1;jn>0&&(Ee(re,ae,oe-Ve-He[Ie]),ae+=jn);for(var vi=0;vi<wt;++vi)$e[Ze]=oe&32767,Ze=(Ze<<5^pe[oe])&32767,++oe;ze-=wt-1}else Ie<=143?Ie=Ie+48:ae=we(re,ae,1),ae=Se(re,ae,G[Ie]),$e[Ze]=oe&32767,++oe}ae=Se(re,ae,0)-1}return re.l=(ae+7)/8|0,re.l}return function(re,ae){return re.length<8?q(re,ae):se(re,ae)}}();function bn(I){var V=ie(50+Math.floor(I.length*1.1)),P=Dt(I,V);return V.slice(0,P)}var Be=j?new Uint16Array(32768):Ce(32768),bt=j?new Uint16Array(32768):Ce(32768),Yt=j?new Uint16Array(128):Ce(128),Fn=1,Ma=1;function sr(I,V){var P=Z(I,V)+257;V+=5;var U=Z(I,V)+1;V+=5;var H=J(I,V)+4;V+=4;for(var q=0,se=j?new Uint8Array(19):Ce(19),pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,ae=j?new Uint8Array(8):Ce(8),oe=j?new Uint8Array(8):Ce(8),$e=se.length,ze=0;ze<H;++ze)se[de[ze]]=q=L(I,V),re<q&&(re=q),ae[q]++,V+=3;var Ze=0;for(ae[0]=0,ze=1;ze<=re;++ze)oe[ze]=Ze=Ze+ae[ze-1]<<1;for(ze=0;ze<$e;++ze)(Ze=se[ze])!=0&&(pe[ze]=oe[Ze]++);var Ie=0;for(ze=0;ze<$e;++ze)if(Ie=se[ze],Ie!=0){Ze=G[pe[ze]]>>8-Ie;for(var Ve=(1<<7-Ie)-1;Ve>=0;--Ve)Yt[Ze|Ve<<Ie]=Ie&7|ze<<3}var wt=[];for(re=1;wt.length<P+U;)switch(Ze=Yt[ee(I,V)],V+=Ze&7,Ze>>>=3){case 16:for(q=3+T(I,V),V+=2,Ze=wt[wt.length-1];q-- >0;)wt.push(Ze);break;case 17:for(q=3+L(I,V),V+=3;q-- >0;)wt.push(0);break;case 18:for(q=11+ee(I,V),V+=7;q-- >0;)wt.push(0);break;default:wt.push(Ze),re<Ze&&(re=Ze);break}var Pn=wt.slice(0,P),jn=wt.slice(P);for(ze=P;ze<286;++ze)Pn[ze]=0;for(ze=U;ze<30;++ze)jn[ze]=0;return Fn=ce(Pn,Be,286),Ma=ce(jn,bt,30),V}function ts(I,V){if(I[0]==3&&!(I[1]&3))return[Xf(V),2];for(var P=0,U=0,H=Zz(V||1<<18),q=0,se=H.length>>>0,pe=0,re=0;(U&1)==0;){if(U=L(I,P),P+=3,U>>>1)U>>1==1?(pe=9,re=5):(P=sr(I,P),pe=Fn,re=Ma);else{P&7&&(P+=8-(P&7));var ae=I[P>>>3]|I[(P>>>3)+1]<<8;if(P+=32,ae>0)for(!V&&se<q+ae&&(H=be(H,q+ae),se=H.length);ae-- >0;)H[q++]=I[P>>>3],P+=8;continue}for(;;){!V&&se<q+32767&&(H=be(H,q+32767),se=H.length);var oe=ne(I,P,pe),$e=U>>>1==1?et[oe]:Be[oe];if(P+=$e&15,$e>>>=4,($e>>>8&255)===0)H[q++]=$e;else{if($e==256)break;$e-=257;var ze=$e<8?0:$e-4>>2;ze>5&&(ze=0);var Ze=q+ke[$e];ze>0&&(Ze+=ne(I,P,ze),P+=ze),oe=ne(I,P,re),$e=U>>>1==1?dt[oe]:bt[oe],P+=$e&15,$e>>>=4;var Ie=$e<4?0:$e-2>>1,Ve=He[$e];for(Ie>0&&(Ve+=ne(I,P,Ie),P+=Ie),!V&&se<Ze&&(H=be(H,Ze+100),se=H.length);q<Ze;)H[q]=H[q-Ve],++q}}}return V?[H,P+7>>>3]:[H.slice(0,q),P+7>>>3]}function U1(I,V){var P=I.slice(I.l||0),U=ts(P,V);return I.l+=U[1],U[0]}function nM(I,V){if(I)typeof console<"u"&&console.error(V);else throw new Error(V)}function rM(I,V){var P=I;wr(P,0);var U=[],H=[],q={FileIndex:U,FullPaths:H};b(q,{root:V.root});for(var se=P.length-4;(P[se]!=80||P[se+1]!=75||P[se+2]!=5||P[se+3]!=6)&&se>=0;)--se;P.l=se+4,P.l+=4;var pe=P.read_shift(2);P.l+=6;var re=P.read_shift(4);for(P.l=re,se=0;se<pe;++se){P.l+=20;var ae=P.read_shift(4),oe=P.read_shift(4),$e=P.read_shift(2),ze=P.read_shift(2),Ze=P.read_shift(2);P.l+=8;var Ie=P.read_shift(4),Ve=o(P.slice(P.l+$e,P.l+$e+ze));P.l+=$e+ze+Ze;var wt=P.l;P.l=Ie+4,Ve&&Ve[1]&&((Ve[1]||{}).usz&&(oe=Ve[1].usz),(Ve[1]||{}).csz&&(ae=Ve[1].csz)),zoe(P,ae,oe,q,Ve),P.l=wt}return q}function zoe(I,V,P,U,H){I.l+=2;var q=I.read_shift(2),se=I.read_shift(2),pe=a(I);if(q&8257)throw new Error("Unsupported ZIP encryption");for(var re=I.read_shift(4),ae=I.read_shift(4),oe=I.read_shift(4),$e=I.read_shift(2),ze=I.read_shift(2),Ze="",Ie=0;Ie<$e;++Ie)Ze+=String.fromCharCode(I[I.l++]);if(ze){var Ve=o(I.slice(I.l,I.l+ze));(Ve[21589]||{}).mt&&(pe=Ve[21589].mt),(Ve[1]||{}).usz&&(oe=Ve[1].usz),(Ve[1]||{}).csz&&(ae=Ve[1].csz),H&&((H[21589]||{}).mt&&(pe=H[21589].mt),(H[1]||{}).usz&&(oe=H[1].usz),(H[1]||{}).csz&&(ae=H[1].csz))}I.l+=ze;var wt=I.slice(I.l,I.l+ae);switch(se){case 8:wt=ue(I,oe);break;case 0:I.l+=ae;break;default:throw new Error("Unsupported ZIP Compression method "+se)}var Pn=!1;q&8&&(re=I.read_shift(4),re==134695760&&(re=I.read_shift(4),Pn=!0),ae=I.read_shift(4),oe=I.read_shift(4)),ae!=V&&nM(Pn,"Bad compressed size: "+V+" != "+ae),oe!=P&&nM(Pn,"Bad uncompressed size: "+P+" != "+oe),dk(U,Ze,wt,{unsafe:!0,mt:pe})}function Woe(I,V){var P=V||{},U=[],H=[],q=ie(1),se=P.compression?8:0,pe=0,re=0,ae=0,oe=0,$e=0,ze=I.FullPaths[0],Ze=ze,Ie=I.FileIndex[0],Ve=[],wt=0;for(re=1;re<I.FullPaths.length;++re)if(Ze=I.FullPaths[re].slice(ze.length),Ie=I.FileIndex[re],!(!Ie.size||!Ie.content||Array.isArray(Ie.content)&&Ie.content.length==0||Ze=="Sh33tJ5")){var Pn=oe,jn=ie(Ze.length);for(ae=0;ae<Ze.length;++ae)jn.write_shift(1,Ze.charCodeAt(ae)&127);jn=jn.slice(0,jn.l),Ve[$e]=typeof Ie.content=="string"?aW.bstr(Ie.content,0):aW.buf(Ie.content,0);var vi=typeof Ie.content=="string"?gs(Ie.content):Ie.content;se==8&&(vi=le(vi)),q=ie(30),q.write_shift(4,67324752),q.write_shift(2,20),q.write_shift(2,pe),q.write_shift(2,se),Ie.mt?s(q,Ie.mt):q.write_shift(4,0),q.write_shift(-4,Ve[$e]),q.write_shift(4,vi.length),q.write_shift(4,Ie.content.length),q.write_shift(2,jn.length),q.write_shift(2,0),oe+=q.length,U.push(q),oe+=jn.length,U.push(jn),oe+=vi.length,U.push(vi),q=ie(46),q.write_shift(4,33639248),q.write_shift(2,0),q.write_shift(2,20),q.write_shift(2,pe),q.write_shift(2,se),q.write_shift(4,0),q.write_shift(-4,Ve[$e]),q.write_shift(4,vi.length),q.write_shift(4,Ie.content.length),q.write_shift(2,jn.length),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(4,0),q.write_shift(4,Pn),wt+=q.l,H.push(q),wt+=jn.length,H.push(jn),++$e}return q=ie(22),q.write_shift(4,101010256),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,$e),q.write_shift(2,$e),q.write_shift(4,wt),q.write_shift(4,oe),q.write_shift(2,0),lr([lr(U),lr(H),q])}var __={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Hoe(I,V){if(I.ctype)return I.ctype;var P=I.name||"",U=P.match(/\.([^\.]+)$/);return U&&__[U[1]]||V&&(U=(P=V).match(/[\.\\]([^\.\\])+$/),U&&__[U[1]])?__[U[1]]:"application/octet-stream"}function Voe(I){for(var V=Gw(I),P=[],U=0;U<V.length;U+=76)P.push(V.slice(U,U+76));return P.join(`\r
`)+`\r
`}function joe(I){var V=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ae){var oe=ae.charCodeAt(0).toString(16).toUpperCase();return"="+(oe.length==1?"0"+oe:oe)});V=V.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),V.charAt(0)==`
`&&(V="=0D"+V.slice(1)),V=V.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],U=V.split(`\r
`),H=0;H<U.length;++H){var q=U[H];if(q.length==0){P.push("");continue}for(var se=0;se<q.length;){var pe=76,re=q.slice(se,se+pe);re.charAt(pe-1)=="="?pe--:re.charAt(pe-2)=="="?pe-=2:re.charAt(pe-3)=="="&&(pe-=3),re=q.slice(se,se+pe),se+=pe,se<q.length&&(re+="="),P.push(re)}}return P.join(`\r
`)}function Goe(I){for(var V=[],P=0;P<I.length;++P){for(var U=I[P];P<=I.length&&U.charAt(U.length-1)=="=";)U=U.slice(0,U.length-1)+I[++P];V.push(U)}for(var H=0;H<V.length;++H)V[H]=V[H].replace(/[=][0-9A-Fa-f]{2}/g,function(q){return String.fromCharCode(parseInt(q.slice(1),16))});return gs(V.join(`\r
`))}function qoe(I,V,P){for(var U="",H="",q="",se,pe=0;pe<10;++pe){var re=V[pe];if(!re||re.match(/^\s*$/))break;var ae=re.match(/^([^:]*?):\s*([^\s].*)$/);if(ae)switch(ae[1].toLowerCase()){case"content-location":U=ae[2].trim();break;case"content-type":q=ae[2].trim();break;case"content-transfer-encoding":H=ae[2].trim();break}}switch(++pe,H.toLowerCase()){case"base64":se=gs(Oa(V.slice(pe).join("")));break;case"quoted-printable":se=Goe(V.slice(pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var oe=dk(I,U.slice(P.length),se,{unsafe:!0});q&&(oe.ctype=q)}function Xoe(I,V){if(K(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=V&&V.root||"",U=(Nt&&Buffer.isBuffer(I)?I.toString("binary"):K(I)).split(`\r
`),H=0,q="";for(H=0;H<U.length;++H)if(q=U[H],!!/^Content-Location:/i.test(q)&&(q=q.slice(q.indexOf("file")),P||(P=q.slice(0,q.lastIndexOf("/")+1)),q.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),q.slice(0,P.length)!=P););var se=(U[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var pe="--"+(se[1]||""),re=[],ae=[],oe={FileIndex:re,FullPaths:ae};b(oe);var $e,ze=0;for(H=0;H<U.length;++H){var Ze=U[H];Ze!==pe&&Ze!==pe+"--"||(ze++&&qoe(oe,U.slice($e,H),P),$e=H)}return oe}function Koe(I,V){var P=V||{},U=P.boundary||"SheetJS";U="------="+U;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+U.slice(2)+'"',"","",""],q=I.FullPaths[0],se=q,pe=I.FileIndex[0],re=1;re<I.FullPaths.length;++re)if(se=I.FullPaths[re].slice(q.length),pe=I.FileIndex[re],!(!pe.size||!pe.content||se=="Sh33tJ5")){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(wt){return"_x"+wt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(wt){return"_u"+wt.charCodeAt(0).toString(16)+"_"});for(var ae=pe.content,oe=Nt&&Buffer.isBuffer(ae)?ae.toString("binary"):K(ae),$e=0,ze=Math.min(1024,oe.length),Ze=0,Ie=0;Ie<=ze;++Ie)(Ze=oe.charCodeAt(Ie))>=32&&Ze<128&&++$e;var Ve=$e>=ze*4/5;H.push(U),H.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+se),H.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),H.push("Content-Type: "+Hoe(pe,se)),H.push(""),H.push(Ve?joe(oe):Voe(oe))}return H.push(U+`--\r
`),H.join(`\r
`)}function Yoe(I){var V={};return b(V,I),V}function dk(I,V,P,U){var H=U&&U.unsafe;H||b(I);var q=!H&&ft.find(I,V);if(!q){var se=I.FullPaths[0];V.slice(0,se.length)==se?se=V:(se.slice(-1)!="/"&&(se+="/"),se=(se+V).replace("//","/")),q={name:i(V),type:2},I.FileIndex.push(q),I.FullPaths.push(se),H||ft.utils.cfb_gc(I)}return q.content=P,q.size=P?P.length:0,U&&(U.CLSID&&(q.clsid=U.CLSID),U.mt&&(q.mt=U.mt),U.ct&&(q.ct=U.ct)),q}function Joe(I,V){b(I);var P=ft.find(I,V);if(P){for(var U=0;U<I.FileIndex.length;++U)if(I.FileIndex[U]==P)return I.FileIndex.splice(U,1),I.FullPaths.splice(U,1),!0}return!1}function Zoe(I,V,P){b(I);var U=ft.find(I,V);if(U){for(var H=0;H<I.FileIndex.length;++H)if(I.FileIndex[H]==U)return I.FileIndex[H].name=i(P),I.FullPaths[H]=P,!0}return!1}function Qoe(I){A(I,!0)}return t.find=k,t.read=w,t.parse=c,t.write=X,t.writeFile=z,t.utils={cfb_new:Yoe,cfb_add:dk,cfb_del:Joe,cfb_mov:Zoe,cfb_gc:Qoe,ReadShift:Cx,CheckField:fae,prep_blob:wr,bconcat:lr,use_zlib:te,_deflateRaw:bn,_inflateRaw:U1,consts:M},t}(),PKe;function oW(e){return typeof e=="string"?QC(e):Array.isArray(e)?fKe(e):e}function f_(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=QC(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Iu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var i=new Blob([oW(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=e,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}else if(typeof URL<"u"&&!URL.createObjectURL&&typeof chrome=="object"){var o="data:application/octet-stream;base64,"+cKe(new Uint8Array(oW(r)));return chrome.downloads.download({url:o,filename:e,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(e);return u.open("w"),u.encoding="binary",Array.isArray(t)&&(t=tl(t)),u.write(t),u.close(),t}catch(l){if(!l.message||l.message.indexOf("onstruct")==-1)throw l}throw new Error("cannot save file "+e)}function BKe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||r.message.indexOf("onstruct")==-1)throw r}throw new Error("Cannot access file "+e)}function Mn(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function uW(e,t){for(var n=[],r=Mn(e),i=0;i!==r.length;++i)n[e[r[i]][t]]==null&&(n[e[r[i]][t]]=r[i]);return n}function tk(e){for(var t=[],n=Mn(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function nk(e){for(var t=[],n=Mn(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function UKe(e){for(var t=[],n=Mn(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var Wse=Date.UTC(1899,11,30,0,0,0),zKe=Date.UTC(1899,11,31,0,0,0),WKe=Date.UTC(1904,0,1,0,0,0);function Yn(e,t){var n=e.getTime(),r=(n-Wse)/(24*60*60*1e3);return t?(r-=1462,r<-1402?r-1:r):r<60?r-1:r}function lc(e){if(e>=60&&e<61)return e;var t=new Date;return t.setTime((e>60?e:e+1)*24*60*60*1e3+Wse),t}function HKe(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var VKe=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,jKe=/^(\d+)-(\d+)-(\d+)$/,Hse=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function Vn(e,t){if(e instanceof Date)return e;var n=e.match(VKe);if(n)return new Date((t?WKe:zKe)+((parseInt(n[1],10)*60+parseInt(n[2],10))*60+(n[3]?parseInt(n[3].slice(1),10):0))*1e3+(n[4]?parseInt((n[4]+"000").slice(1,4),10):0));if(n=e.match(jKe),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],0,0,0,0));if(n=e.match(Hse),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var r=new Date(e);return r}function fd(e,t){if(Nt&&Buffer.isBuffer(e)){if(t&&Mv){if(e[0]==255&&e[1]==254)return Iu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Iu(Ose(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Iu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Iu(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}var r=[],i=0;try{for(i=0;i<e.length-65536;i+=65536)r.push(String.fromCharCode.apply(0,e.slice(i,i+65536)));r.push(String.fromCharCode.apply(0,e.slice(i)))}catch{try{for(;i<e.length-16384;i+=16384)r.push(String.fromCharCode.apply(0,e.slice(i,i+16384)));r.push(String.fromCharCode.apply(0,e.slice(i)))}catch{for(;i!=e.length;++i)r.push(String.fromCharCode(e[i]))}}return r.join("")}function Cn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Cn(e[n]));return t}function qt(e,t){for(var n="";n.length<t;)n+=e;return n}function wa(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(]([^()]*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var GKe=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,qKe=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,XKe=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,KKe=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function YKe(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,e[7]=="p"?12:0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),0,0,0))}function JKe(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}var ZKe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Pv(e){if(XKe.test(e))return e.indexOf("Z")==-1?rk(new Date(e)):new Date(e);var t=e.toLowerCase(),n=t.replace(/\s+/g," ").trim(),r=n.match(GKe);if(r)return YKe(r);if(r=n.match(qKe),r)return JKe(r);if(r=n.match(Hse),r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],r[6]&&parseInt(r[6].slice(1),10)||0,r[7]&&parseInt((r[7]+"0000").slice(1,4),10)||0));var i=new Date(KKe&&e.indexOf("UTC")==-1?e+" UTC":e),s=new Date(NaN),a=i.getYear();i.getMonth();var o=i.getDate();if(isNaN(o))return s;if(t.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(t=t.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),t.length>3&&ZKe.indexOf(t)==-1)return s}else if(t.replace(/[ap]m?/,"").match(/[a-z]/))return s;return a<0||a>8099||e.match(/[^-0-9:,\/\\\ ]/)?s:i}var QKe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function hd(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function rk(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function CR(e){var t=e.slice(0,1024),n=t.indexOf("<!DOCTYPE");if(n==-1)return e;var r=e.match(/<[\w]/);return r?e.slice(0,n)+e.slice(r.index):e}function kR(e,t,n){for(var r=[],i=e.indexOf(t);i>-1;){var s=e.indexOf(n,i+t.length);if(s==-1)break;r.push(e.slice(i,s+n.length)),i=e.indexOf(t,s+n.length)}return r.length>0?r:null}function h_(e,t,n){var r=[],i=0,s=e.indexOf(t);if(s==-1)return e;for(;s>-1;){r.push(e.slice(i,s));var a=e.indexOf(n,s+t.length);if(a==-1)break;(s=e.indexOf(t,i=a+n.length))==-1&&r.push(e.slice(i))}return r.join("")}var eYe={" ":1,"	":1,"\r":1,"\n":1,">":1};function wh(e,t){for(var n=e.indexOf("<"+t),r=t.length+1,i=e.length;n>=0&&n<=i-r&&!eYe[e.charAt(n+r)];)n=e.indexOf("<"+t,n+1);if(n===-1)return null;var s=e.indexOf(">",n+t.length);if(s===-1)return null;var a="</"+t+">",o=e.indexOf(a,s);return o==-1?null:[e.slice(n,o+a.length),e.slice(s+1,o)]}var Ur=function(){var e={};return function(n,r){var i=e[r];i||(e[r]=i=[new RegExp("<(?:\\w+:)?"+r+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+r+">","g")]),i[0].lastIndex=i[1].lastIndex=0;var s=i[0].exec(n);if(!s)return null;var a=s.index,o=i[0].lastIndex;if(i[1].lastIndex=i[0].lastIndex,s=i[1].exec(n),!s)return null;var u=s.index,l=i[1].lastIndex;return[n.slice(a,l),n.slice(o,u)]}}(),Vse=function(){var e={};return function(n,r){var i=[],s=e[r];s||(e[r]=s=[new RegExp("<(?:\\w+:)?"+r+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+r+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var a;a=s[0].exec(n);){var o=a.index;if(s[1].lastIndex=s[0].lastIndex,a=s[1].exec(n),!a)return null;var u=s[1].lastIndex;i.push(n.slice(o,u)),s[0].lastIndex=s[1].lastIndex}return i.length==0?null:i}}(),tYe=function(){var e={};return function(n,r){var i=[],s=e[r];s||(e[r]=s=[new RegExp("<(?:\\w+:)?"+r+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+r+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var a,o=0,u=0;a=s[0].exec(n);){if(o=a.index,i.push(n.slice(u,o)),u=o,s[1].lastIndex=s[0].lastIndex,a=s[1].exec(n),!a)return null;u=s[1].lastIndex,s[0].lastIndex=s[1].lastIndex}return i.push(n.slice(u)),i.length==0?"":i.join("")}}(),nYe=function(){var e={};return function(n,r){var i=[],s=e[r];s||(e[r]=s=[new RegExp("<"+r+"\\b[^<>]*>","ig"),new RegExp("</"+r+">","ig")]),s[0].lastIndex=s[1].lastIndex=0;for(var a;a=s[0].exec(n);){var o=a.index;if(s[1].lastIndex=s[0].lastIndex,a=s[1].exec(n),!a)return null;var u=s[1].lastIndex;i.push(n.slice(o,u)),s[0].lastIndex=s[1].lastIndex}return i.length==0?null:i}}();function jse(e){return e?e.content&&e.type?fd(e.content,!0):e.data?Jm(e.data):e.asNodeBuffer&&Nt?Jm(e.asNodeBuffer().toString("binary")):e.asBinary?Jm(e.asBinary()):e._data&&e._data.getContent?Jm(fd(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Gse(e){if(!e)return null;if(e.data)return Yz(e.data);if(e.asNodeBuffer&&Nt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Yz(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function rYe(e){return e&&e.name.slice(-4)===".bin"?Gse(e):jse(e)}function Ha(e,t){for(var n=e.FullPaths||Mn(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function TR(e,t){var n=Ha(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function xr(e,t,n){if(!n)return rYe(TR(e,t));if(!t)return null;try{return xr(e,t)}catch{return null}}function xs(e,t,n){if(!n)return jse(TR(e,t));if(!t)return null;try{return xs(e,t)}catch{return null}}function iYe(e,t,n){return Gse(TR(e,t))}function lW(e){for(var t=e.FullPaths||Mn(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function At(e,t,n){if(e.FullPaths){if(Array.isArray(n)&&typeof n[0]=="string"&&(n=n.join("")),typeof n=="string"){var r;return Nt?r=yl(n):r=hKe(n),ft.utils.cfb_add(e,t,r)}ft.utils.cfb_add(e,t,n)}else e.file(t,n)}function FR(){return ft.utils.cfb_new()}function qse(e,t){switch(t.type){case"base64":return ft.read(e,{type:"base64"});case"binary":return ft.read(e,{type:"binary"});case"buffer":case"array":return ft.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function $p(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var gr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Xse=/\s([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,cW=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?<>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'"<>\s=]+))*\s*[\/\?]?>/mg,sYe=/<[^<>]*>/g,xi=gr.match(cW)?cW:sYe,aYe=/<\w*:/,oYe=/<(\/?)\w+:/;function Qe(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var a=e.match(Xse),o=0,u="",l=0,c="",f="",h=1;if(a)for(l=0;l!=a.length;++l){for(f=a[l].slice(1),s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(c=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,u=f.slice(s+1+h,f.length-h),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=u,r[c.toLowerCase()]=u;else{var d=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(r[d]&&c.slice(o-3,o)=="ext")continue;r[d]=u,r[d.toLowerCase()]=u}}return r}function uYe(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(i===e.length)return r;var a=e.match(Xse),o="",u=0,l="",c="",f=1;if(a)for(u=0;u!=a.length;++u){for(c=a[u].slice(1),s=0;s!=c.length&&c.charCodeAt(s)!==61;++s);for(l=c.slice(0,s).trim();c.charCodeAt(s+1)==32;)++s;f=(i=c.charCodeAt(s+1))==34||i==39?1:0,o=c.slice(s+1+f,c.length-f),l.indexOf("_")>0&&(l=l.slice(0,l.indexOf("_"))),r[l]=o,r[l.toLowerCase()]=o}return r}function Ao(e){return e.replace(oYe,"<$1")}var Kse={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},DR=tk(Kse),Wt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(o,u){return Kse[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}return function(i,s){var a=n(i);return s?a.replace(/\r\n/g,`
`):a}}(),NR=/[&<>'"]/g,lYe=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function kt(e){var t=e+"";return t.replace(NR,function(n){return DR[n]}).replace(lYe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function fW(e){return kt(e).replace(/ /g,"_x0020_")}var Yse=/[\u0000-\u001f]/g;function Sx(e){var t=e+"";return t.replace(NR,function(n){return DR[n]}).replace(/\n/g,"<br/>").replace(Yse,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function cYe(e){var t=e+"";return t.replace(NR,function(n){return DR[n]}).replace(Yse,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var hW=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function fYe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function cn(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function VF(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=e.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function dW(e){var t=Xf(2*e.length),n,r,i=1,s=0,a=0,o;for(r=0;r<e.length;r+=i)i=1,(o=e.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(e.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(t[s++]=a&255,t[s++]=a>>>8,a=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function pW(e){return yl(e,"binary").toString("utf8")}var I2="foo bar baz",dn=Nt&&(pW(I2)==VF(I2)&&pW||dW(I2)==VF(I2)&&dW)||VF,Iu=Nt?function(e){return yl(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Jse=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),hYe=/<\/?(?:vt:)?variant>/g,dYe=/<(?:vt:)([^<"'>]*)>([\s\S]*)</;function gW(e,t){var n=Qe(e),r=Vse(e,n.baseType)||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(hYe,"").match(dYe);a&&i.push({v:dn(a[2]),t:a[1]})}),i}var Zse=/(^\s|\s$|\n)/;function ai(e,t){return"<"+e+(t.match(Zse)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Bv(e){return Mn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Le(e,t,n){return"<"+e+(n!=null?Bv(n):"")+(t!=null?(t.match(Zse)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function vN(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function pYe(e,t){switch(typeof e){case"string":var n=Le("vt:lpwstr",kt(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Le((e|0)==e?"vt:i4":"vt:r8",kt(String(e)));case"boolean":return Le("vt:bool",e?"true":"false")}if(e instanceof Date)return Le("vt:filetime",vN(e));throw new Error("Unable to serialize "+e)}function ik(e){if(Nt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return dn(tl(wR(e)));throw new Error("Bad input format: expected Buffer or string")}var vr=/<([\/]?)([^\s?><!\/:"]*:|)([^\s?<>:\/"]+)(?:\s+[^<>=?"'\s]+="[^"]*?")*\s*[\/]?>/mg,Fr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Hd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ha={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function gYe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function mYe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,a=r?-t:t;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[n+o]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var mW=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},xW=Nt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:yl(t)})):mW(e)}:mW,vW=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Kl(e,i)));return r.join("").replace(Js,"")},OR=Nt?function(e,t,n){return!Buffer.isBuffer(e)||!Mv?vW(e,t,n):e.toString("utf16le",t,n).replace(Js,"")}:vW,yW=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},Qse=Nt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):yW(e,t,n)}:yW,_W=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(bp(e,i)));return r.join("")},d_=Nt?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):_W(t,n,r)}:_W,eae=function(e,t){var n=da(e,t);return n>0?d_(e,t+4,t+4+n-1):""},tae=eae,nae=function(e,t){var n=da(e,t);return n>0?d_(e,t+4,t+4+n-1):""},rae=nae,iae=function(e,t){var n=2*da(e,t);return n>0?d_(e,t+4,t+4+n-1):""},sae=iae,aae=function(t,n){var r=da(t,n);return r>0?OR(t,n+4,n+4+r):""},oae=aae,uae=function(e,t){var n=da(e,t);return n>0?d_(e,t+4,t+4+n):""},lae=uae,cae=function(e,t){return gYe(e,t)},Jw=cae,$R=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Nt&&(tae=function(t,n){if(!Buffer.isBuffer(t))return eae(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},rae=function(t,n){if(!Buffer.isBuffer(t))return nae(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},sae=function(t,n){if(!Buffer.isBuffer(t)||!Mv)return iae(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},oae=function(t,n){if(!Buffer.isBuffer(t)||!Mv)return aae(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},lae=function(t,n){if(!Buffer.isBuffer(t))return uae(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},Jw=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):cae(t,n)},$R=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var bp=function(e,t){return e[t]},Kl=function(e,t){return e[t+1]*256+e[t]},xYe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},da=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},J0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},vYe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Cx(e,t){var n="",r,i,s=[],a,o,u,l;switch(t){case"dbcs":if(l=this.l,Nt&&Buffer.isBuffer(this)&&Mv)n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(Kl(this,l)),l+=2;e*=2;break;case"utf8":n=d_(this,this.l,this.l+e);break;case"utf16le":e*=2,n=OR(this,this.l,this.l+e);break;case"wstr":return Cx.call(this,e,"dbcs");case"lpstr-ansi":n=tae(this,this.l),e=4+da(this,this.l);break;case"lpstr-cp":n=rae(this,this.l),e=4+da(this,this.l);break;case"lpwstr":n=sae(this,this.l),e=4+2*da(this,this.l);break;case"lpp4":e=4+da(this,this.l),n=oae(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+da(this,this.l),n=lae(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(a=bp(this,this.l+e++))!==0;)s.push($2(a));n=s.join("");break;case"_wstr":for(e=0,n="";(a=Kl(this,this.l+e))!==0;)s.push($2(a)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",l=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(l)!==-1)return a=bp(this,l),this.l=l+1,o=Cx.call(this,e-u,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push($2(Kl(this,l))),l+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",l=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(l)!==-1)return a=bp(this,l),this.l=l+1,o=Cx.call(this,e-u,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push($2(bp(this,l))),l+=1}n=s.join("");break;default:switch(e){case 1:return r=bp(this,this.l),this.l++,r;case 2:return r=(t==="i"?xYe:Kl)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?J0:vYe)(this,this.l),this.l+=4,r):(i=da(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Jw(this,this.l):i=Jw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=Qse(this,this.l,e);break}}return this.l+=e,n}var yYe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},_Ye=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},EYe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function bYe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)EYe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"||n=="cpstr"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,yYe(this,t,this.l);break;case 8:if(r=8,n==="f"){mYe(this,t,this.l);break}case 16:break;case-4:r=4,_Ye(this,t,this.l);break}return this.l+=r,this}function fae(e,t){var n=Qse(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function wr(e,t){e.l=t,e.read_shift=Cx,e.chk=fae,e.write_shift=bYe}function es(e,t){e.l+=t}function ie(e){var t=Xf(e);return wr(t,0),t}function Mc(e,t,n){if(e){var r,i,s;wr(e,e.l||0);for(var a=e.length,o=0,u=0;e.l<a;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var l=Xv[o]||Xv[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;u=e.l+s;var c=l.f&&l.f(e,s,n);if(e.l=u,t(c,l,o))return}}}function Yi(){var e=[],t=Nt?16384:2048;Nt&&ie(t).copy;var n=function(c){var f=ie(c);return wr(f,0),f},r=n(t),i=function(){r&&(r.l&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r)),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,t)))},a=function(){return i(),lr(e)},o=function(){return i(),e},u=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:u,end:a,_bufs:e,end2:o}}function Ae(e,t,n,r){var i=+t,s;if(!isNaN(i)){r||(r=Xv[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=e.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&$R(n)&&e.push(n)}}function kx(e,t,n){var r=Cn(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function EW(e,t,n){var r=Cn(e);return r.s=kx(r.s,t.s,n),r.e=kx(r.e,t.s,n),r}function Tx(e,t){if(e.cRel&&e.c<0)for(e=Cn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Cn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=It(e);return!e.cRel&&e.cRel!=null&&(n=SYe(n)),!e.rRel&&e.rRel!=null&&(n=wYe(n)),n}function jF(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ot(e.s.c)+":"+(e.e.cRel?"":"$")+Ot(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ut(e.s.r)+":"+(e.e.rRel?"":"$")+Ut(e.e.r):Tx(e.s,t.biff)+":"+Tx(e.e,t.biff)}function IR(e){return parseInt(AYe(e),10)-1}function Ut(e){return""+(e+1)}function wYe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function AYe(e){return e.replace(/\$(\d+)$/,"$1")}function RR(e){for(var t=CYe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Ot(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function SYe(e){return e.replace(/^([A-Z])/,"$$$1")}function CYe(e){return e.replace(/^\$([A-Z])/,"$1")}function kYe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pn(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function It(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Yr(e){var t=e.indexOf(":");return t==-1?{s:pn(e),e:pn(e)}:{s:pn(e.slice(0,t)),e:pn(e.slice(t+1))}}function Ct(e,t){return typeof t>"u"||typeof t=="number"?Ct(e.s,e.e):(typeof e!="string"&&(e=It(e)),typeof t!="string"&&(t=It(t)),e==t?e:e+":"+t)}function Uv(e){var t=Yr(e);return"$"+Ot(t.s.c)+"$"+Ut(t.s.r)+":$"+Ot(t.e.c)+"$"+Ut(t.e.r)}function zv(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function Qt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function bW(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=$a(e.z,n?Yn(t):t)}catch{}try{return e.w=$a((e.XF||{}).numFmtId||(n?14:0),n?Yn(t):t)}catch{return""+t}}function bc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Rr[e.v]||e.v:t==null?bW(e,e.v):bW(e,t))}function b0(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function TYe(e){var t={},n=e||{};return n.dense&&(t["!data"]=[]),t}function hae(e,t,n){var r=n||{},i=e?e["!data"]!=null:r.dense,s=e||(i?{"!data":[]}:{});i&&!s["!data"]&&(s["!data"]=[]);var a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var u=typeof r.origin=="string"?pn(r.origin):r.origin;a=u.r,o=u.c}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=Qt(s["!ref"]);l.s.c=c.s.c,l.s.r=c.s.r,l.e.c=Math.max(l.e.c,c.e.c),l.e.r=Math.max(l.e.r,c.e.r),a==-1&&(l.e.r=a=s["!ref"]?c.e.r+1:0)}else l.s.c=l.e.c=l.s.r=l.e.r=0;for(var f=[],h=!1,d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");var p=a+d;i&&(s["!data"][p]||(s["!data"][p]=[]),f=s["!data"][p]);for(var g=t[d],m=0;m!=g.length;++m)if(!(typeof g[m]>"u")){var x={v:g[m],t:""},y=o+m;if(l.s.r>p&&(l.s.r=p),l.s.c>y&&(l.s.c=y),l.e.r<p&&(l.e.r=p),l.e.c<y&&(l.e.c=y),h=!0,g[m]&&typeof g[m]=="object"&&!Array.isArray(g[m])&&!(g[m]instanceof Date))x=g[m];else if(Array.isArray(x.v)&&(x.f=g[m][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?isFinite(x.v)?x.t="n":isNaN(x.v)?(x.t="e",x.v=15):(x.t="e",x.v=7):typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||ct[14],r.UTC||(x.v=rk(x.v)),r.cellDates?(x.t="d",x.w=$a(x.z,Yn(x.v,r.date1904))):(x.t="n",x.v=Yn(x.v,r.date1904),x.w=$a(x.z,x.v))):x.t="s";if(i)f[y]&&f[y].z&&(x.z=f[y].z),f[y]=x;else{var v=Ot(y)+(p+1);s[v]&&s[v].z&&(x.z=s[v].z),s[v]=x}}}return h&&l.s.c<104e5&&(s["!ref"]=Ct(l)),s}function P1(e,t){return hae(null,e,t)}function FYe(e){return e.read_shift(4,"i")}function qo(e,t){return t||(t=ie(4)),t.write_shift(4,e),t}function Ji(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function $r(e,t){var n=!1;return t==null&&(n=!0,t=ie(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function DYe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function NYe(e,t){return t||(t=ie(4)),t.write_shift(2,0),t.write_shift(2,0),t}function MR(e,t){var n=e.l,r=e.read_shift(1),i=Ji(e),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)s.push(DYe(e));a.r=s}else a.r=[{ich:0,ifnt:0}];return e.l=n+t,a}function OYe(e,t){var n=!1;return t==null&&(n=!0,t=ie(15+4*e.t.length)),t.write_shift(1,0),$r(e.t,t),n?t.slice(0,t.l):t}var $Ye=MR;function IYe(e,t){var n=!1;return t==null&&(n=!0,t=ie(23+4*e.t.length)),t.write_shift(1,1),$r(e.t,t),t.write_shift(4,1),NYe({},t),n?t.slice(0,t.l):t}function So(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Vd(e,t){return t==null&&(t=ie(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function jd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Gd(e,t){return t==null&&(t=ie(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var RYe=Ji,dae=$r;function sk(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Wv(e,t){var n=!1;return t==null&&(n=!0,t=ie(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var MYe=Ji,yN=sk,LR=Wv;function ak(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?Jw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):J0(t,0)>>2;return n?i/100:i}function pae(e,t){t==null&&(t=ie(4));var n=0,r=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?i:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function gae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function LYe(e,t){return t||(t=ie(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var qd=gae,B1=LYe;function Ri(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function dd(e,t){return(t||ie(8)).write_shift(8,e,"f")}function PYe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),a=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var l=Ah[i];l&&(t.rgb=Vv(l));break;case 2:t.rgb=Vv([a,o,u]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Zw(e,t){if(t||(t=ie(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function BYe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function UYe(e,t){t||(t=ie(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function mae(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function zYe(e){return mae(e,1)}function WYe(e){return mae(e,2)}var PR=2,Is=3,R2=11,wW=12,Qw=19,M2=64,HYe=65,VYe=71,jYe=4108,GYe=4126,Pr=80,xae=81,qYe=[Pr,xae],_N={1:{n:"CodePage",t:PR},2:{n:"Category",t:Pr},3:{n:"PresentationFormat",t:Pr},4:{n:"ByteCount",t:Is},5:{n:"LineCount",t:Is},6:{n:"ParagraphCount",t:Is},7:{n:"SlideCount",t:Is},8:{n:"NoteCount",t:Is},9:{n:"HiddenCount",t:Is},10:{n:"MultimediaClipCount",t:Is},11:{n:"ScaleCrop",t:R2},12:{n:"HeadingPairs",t:jYe},13:{n:"TitlesOfParts",t:GYe},14:{n:"Manager",t:Pr},15:{n:"Company",t:Pr},16:{n:"LinksUpToDate",t:R2},17:{n:"CharacterCount",t:Is},19:{n:"SharedDoc",t:R2},22:{n:"HyperlinksChanged",t:R2},23:{n:"AppVersion",t:Is,p:"version"},24:{n:"DigSig",t:HYe},26:{n:"ContentType",t:Pr},27:{n:"ContentStatus",t:Pr},28:{n:"Language",t:Pr},29:{n:"Version",t:Pr},255:{},2147483648:{n:"Locale",t:Qw},2147483651:{n:"Behavior",t:Qw},1919054434:{}},EN={1:{n:"CodePage",t:PR},2:{n:"Title",t:Pr},3:{n:"Subject",t:Pr},4:{n:"Author",t:Pr},5:{n:"Keywords",t:Pr},6:{n:"Comments",t:Pr},7:{n:"Template",t:Pr},8:{n:"LastAuthor",t:Pr},9:{n:"RevNumber",t:Pr},10:{n:"EditTime",t:M2},11:{n:"LastPrinted",t:M2},12:{n:"CreatedDate",t:M2},13:{n:"ModifiedDate",t:M2},14:{n:"PageCount",t:Is},15:{n:"WordCount",t:Is},16:{n:"CharCount",t:Is},17:{n:"Thumbnail",t:VYe},18:{n:"Application",t:Pr},19:{n:"DocSecurity",t:Is},255:{},2147483648:{n:"Locale",t:Qw},2147483651:{n:"Behavior",t:Qw},1919054434:{}},AW={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},XYe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function KYe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var YYe=KYe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ah=Cn(YYe),Rr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Xr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},BR=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],bN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},L2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function UR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function JYe(e){var t=UR();if(!e||!e.match)return t;var n={};if((e.match(xi)||[]).forEach(function(r){var i=Qe(r);switch(i[0].replace(aYe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension.toLowerCase()]=i.ContentType;break;case"<Override":t[bN[i.ContentType]]!==void 0&&t[bN[i.ContentType]].push(i.PartName);break}}),t.xmlns!==Fr.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}function vae(e,t,n){var r=UKe(bN),i=[],s;i[i.length]=gr,i[i.length]=Le("Types",null,{xmlns:Fr.CT,"xmlns:xsd":Fr.xsd,"xmlns:xsi":Fr.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Le("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){e[l]&&e[l].length>0&&(s=e[l][0],i[i.length]=Le("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:L2[l][t.bookType]||L2[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(c){i[i.length]=Le("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:L2[l][t.bookType]||L2[l].xlsx})})},u=function(l){(e[l]||[]).forEach(function(c){i[i.length]=Le("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var $t={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Hv(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Fx(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(xi)||[]).forEach(function(i){var s=Qe(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=Wt(s.Target),a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:$p(s.Target,t);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Jp(e){var t=[gr,Le("Relationships",null,{xmlns:Fr.RELS})];return Mn(e["!id"]).forEach(function(n){t[t.length]=Le("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function un(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[$t.HLINK,$t.XPATH,$t.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var ZYe="application/vnd.oasis.opendocument.spreadsheet";function QYe(e,t){for(var n=ik(e),r,i;r=vr.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Qe(r[0],!1),i.path=="/"&&i.type!==ZYe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function eJe(e){var t=[gr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function SW(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function tJe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function nJe(e){var t=[gr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(SW(e[n][0],e[n][1])),t.push(tJe("",e[n][0]));return t.push(SW("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function yae(e,t){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+jw.version+"</meta:generator></office:meta></office:document-meta>"}var cc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function _ae(e){var t={};e=dn(e);for(var n=0;n<cc.length;++n){var r=cc[n],i=wh(e,r[0]);i!=null&&i.length>0&&(t[r[1]]=Wt(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Vn(t[r[1]]))}return t}function GF(e,t,n,r,i){i[e]!=null||t==null||t===""||(i[e]=t,t=kt(t),r[r.length]=n?Le(e,t,n):ai(e,t))}function Eae(e,t){var n=t||{},r=[gr,Le("cp:coreProperties",null,{"xmlns:cp":Fr.CORE_PROPS,"xmlns:dc":Fr.dc,"xmlns:dcterms":Fr.dcterms,"xmlns:dcmitype":Fr.dcmitype,"xmlns:xsi":Fr.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&GF("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:vN(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),e.ModifiedDate!=null&&GF("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:vN(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=cc.length;++s){var a=cc[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:e?e[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&GF(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Sh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bae=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function wae(e,t,n,r){var i=[];if(typeof e=="string")i=gW(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(c){return{v:c}}));var a=typeof t=="string"?gW(t,r).map(function(c){return c.v}):t,o=0,u=0;if(a.length>0)for(var l=0;l!==i.length;l+=2){switch(u=+i[l+1].v,i[l].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=u,n.SheetNames=a.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=u,n.DefinedNames=a.slice(o,o+u);break;case"Charts":case"Diagramme":n.Chartsheets=u,n.ChartNames=a.slice(o,o+u);break}o+=u}}function rJe(e,t,n){var r={};return t||(t={}),e=dn(e),Sh.forEach(function(i){var s=(Ur(e,i[0])||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Wt(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var a=wh(e,i[0]);a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&wae(r.HeadingPairs,r.TitlesOfParts,t,n),t}function Aae(e){var t=[],n=Le;return e||(e={}),e.Application="SheetJS",t[t.length]=gr,t[t.length]=Le("Properties",null,{xmlns:Fr.EXT_PROPS,"xmlns:vt":Fr.vt}),Sh.forEach(function(r){if(e[r[1]]!==void 0){var i;switch(r[2]){case"string":i=kt(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}i!==void 0&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+kt(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var iJe=/<[^<>]+>[^<]*/g;function sJe(e,t){var n={},r="",i=e.match(iJe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Qe(a);switch(Ao(o[0])){case"<?xml":break;case"<Properties":break;case"<property":r=Wt(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var u=a.split(">"),l=u[0].slice(4),c=u[1];switch(l){case"lpstr":case"bstr":case"lpwstr":n[r]=Wt(c);break;case"bool":n[r]=cn(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(c,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(c);break;case"filetime":case"date":n[r]=Vn(c);break;case"cy":case"error":n[r]=Wt(c);break;default:if(l.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,l,u)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return n}function Sae(e){var t=[gr,Le("Properties",null,{xmlns:Fr.CUST_PROPS,"xmlns:vt":Fr.vt})];if(!e)return t.join("");var n=1;return Mn(e).forEach(function(i){++n,t[t.length]=Le("property",pYe(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:kt(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var wN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},qF;function aJe(e,t,n){qF||(qF=tk(wN)),t=qF[t]||t,e[t]=n}function oJe(e,t){var n=[];return Mn(wN).map(function(r){for(var i=0;i<cc.length;++i)if(cc[i][1]==r)return cc[i];for(i=0;i<Sh.length;++i)if(Sh[i][1]==r)return Sh[i];throw r}).forEach(function(r){if(e[r[1]]!=null){var i=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(ai(wN[r[1]]||r[1],i))}}),Le("DocumentProperties",n.join(""),{xmlns:ha.o})}function uJe(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&Mn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var a=0;a<cc.length;++a)if(s==cc[a][1])return;for(a=0;a<Sh.length;++a)if(s==Sh[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=e[s],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),i.push(Le(fW(s),o,{"dt:dt":u}))}}),t&&Mn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var a=t[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Le(fW(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+ha.o+'">'+i.join("")+"</"+r+">"}function zR(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function lJe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=ie(8);return a.write_shift(4,r),a.write_shift(4,i),a}function cJe(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function fJe(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function Cae(e,t,n){return t===31?fJe(e):cJe(e,t,n)}function Dx(e,t,n){return Cae(e,t,n===!1?0:4)}function hJe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Cae(e,t,0)}function dJe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Js,""),e.l-i&2&&(e.l+=2)}return n}function pJe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Js,"");return n}function gJe(e){var t=e.l,n=eA(e,xae);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=eA(e,Is);return[n,r]}function mJe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(gJe(e));return n}function CW(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),a=e.read_shift(4);r[s]=e.read_shift(a,t===1200?"utf16le":"utf8").replace(Js,"").replace(Zm,"!"),t===1200&&a%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function kae(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function xJe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function eA(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==wW&&r!==t&&qYe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===wW?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:e.l+=4,val=Dx(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,val=Dx(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 64:return zR(e);case 65:return kae(e);case 71:return xJe(e);case 80:return Dx(e,r,!s.raw).replace(Js,"");case 81:return hJe(e,r).replace(Js,"");case 4108:return mJe(e);case 4126:case 4127:return r==4127?dJe(e):pJe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function kW(e,t){var n=ie(4),r=ie(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=ie(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=lJe(t);break;case 31:case 80:for(r=ie(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return lr([n,r])}function TW(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],a=0,o=0,u=-1,l={};for(a=0;a!=i;++a){var c=e.read_shift(4),f=e.read_shift(4);s[a]=[c,f+n]}s.sort(function(y,v){return y[1]-v[1]});var h={};for(a=0;a!=i;++a){if(e.l!==s[a][1]){var d=!0;if(a>0&&t)switch(t[s[a-1][0]].t){case 2:e.l+2===s[a][1]&&(e.l+=2,d=!1);break;case 80:e.l<=s[a][1]&&(e.l=s[a][1],d=!1);break;case 4108:e.l<=s[a][1]&&(e.l=s[a][1],d=!1);break}if((!t||a==0)&&e.l<=s[a][1]&&(d=!1,e.l=s[a][1]),d)throw new Error("Read Error: Expected address "+s[a][1]+" at "+e.l+" :"+a)}if(t){if(s[a][0]==0&&s.length>a+1&&s[a][1]==s[a+1][1])continue;var p=t[s[a][0]];if(h[p.n]=eA(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:zo(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[a][0]===1){if(o=h.CodePage=eA(e,PR),zo(o),u!==-1){var g=e.l;e.l=s[u][1],l=CW(e,o),e.l=g}}else if(s[a][0]===0){if(o===0){u=a,e.l=s[a+1][1];continue}l=CW(e,o)}else{var m=l[s[a][0]],x;switch(e[e.l]){case 65:e.l+=4,x=kae(e);break;case 30:e.l+=4,x=Dx(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,x=Dx(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=ar(e,4);break;case 64:e.l+=4,x=Vn(zR(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[m]=x}}return e.l=n+r,h}var Tae=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vJe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function FW(e,t,n){var r=ie(8),i=[],s=[],a=8,o=0,u=ie(8),l=ie(8);if(u.write_shift(4,2),u.write_shift(4,1200),l.write_shift(4,1),s.push(u),i.push(l),a+=8+u.length,!t){l=ie(8),l.write_shift(4,0),i.unshift(l);var c=[ie(4)];for(c[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(u=ie(8+2*(f.length+1)+(f.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,f.length+1),u.write_shift(0,f,"dbcs");u.l!=u.length;)u.write_shift(1,0);c.push(u)}u=lr(c),s.unshift(u),a+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(Tae.indexOf(e[o][0])>-1||bae.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],d=0;if(t){d=+t[e[o][0]];var p=n[d];if(p.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}u=kW(p.t,h)}else{var m=vJe(h);m==-1&&(m=31,h=String(h)),u=kW(m,h)}s.push(u),l=ie(8),l.write_shift(4,t?d:2+o),i.push(l),a+=8+u.length}var x=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,x),x+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),lr([r].concat(i).concat(s))}function DW(e,t,n){var r=e.content;if(!r)return{};wr(r,0);var i,s,a,o,u=0;r.chk("feff","Byte Order: "),r.read_shift(2);var l=r.read_shift(4),c=r.read_shift(16);if(c!==ft.utils.consts.HEADER_CLSID&&c!==n)throw new Error("Bad PropertySet CLSID "+c);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),u=r.read_shift(4));var f=TW(r,t),h={SystemIdentifier:l};for(var d in f)h[d]=f[d];if(h.FMTID=s,i===1)return h;if(u-r.l==2&&(r.l+=2),r.l!==u)throw new Error("Length mismatch 2: "+r.l+" !== "+u);var p;try{p=TW(r,null)}catch{}for(d in p)h[d]=p[d];return h.FMTID=[s,a],h}function NW(e,t,n,r,i,s){var a=ie(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,ft.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var u=FW(e,n,r);if(o.push(u),i){var l=FW(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+u.length),o.push(l)}return lr(o)}function Wc(e,t){return e.read_shift(t),null}function yJe(e,t){t||(t=ie(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function _Je(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function ar(e,t){return e.read_shift(t)===1}function Fi(e,t){return t||(t=ie(2)),t.write_shift(2,+!!e),t}function Jn(e){return e.read_shift(2,"u")}function ja(e,t){return t||(t=ie(2)),t.write_shift(2,e),t}function Fae(e,t){return _Je(e,t,Jn)}function Dae(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function Nae(e,t,n){return n||(n=ie(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function e1(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=Ya;if(n&&n.biff>=8&&(Ya=1200),!n||n.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return Ya=s,o}function EJe(e){var t=Ya;Ya=1200;var n=e.read_shift(2),r=e.read_shift(1),i=r&4,s=r&8,a=1+(r&1),o=0,u,l={};s&&(o=e.read_shift(2)),i&&(u=e.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",f=n===0?"":e.read_shift(n,c);return s&&(e.l+=4*o),i&&(e.l+=u),l.t=f,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),Ya=t,l}function bJe(e){var t=e.t||"",n=ie(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=ie(2*t.length);r.write_shift(2*t.length,t,"utf16le");var i=[n,r];return lr(i)}function pd(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function p_(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):pd(e,r,n)}function Xd(e,t,n){if(n.biff>5)return p_(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Oae(e,t,n){return n||(n=ie(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function wJe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function AJe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Js,"");return r&&(e.l+=24),i}function SJe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=e.read_shift(s>>1,"utf16le").replace(Js,"");return n+a}function CJe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return AJe(e);case"0303000000000000c000000000000046":return SJe(e);default:throw new Error("Unsupported Moniker "+n)}}function P2(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Js,""):"";return n}function OW(e,t){t||(t=ie(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function kJe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,a,o,u,l="",c,f;i&16&&(s=P2(e,n-e.l)),i&128&&(a=P2(e,n-e.l)),(i&257)===257&&(o=P2(e,n-e.l)),(i&257)===1&&(u=CJe(e,n-e.l)),i&8&&(l=P2(e,n-e.l)),i&32&&(c=e.read_shift(16)),i&64&&(f=zR(e)),e.l=n;var h=a||o||u||"";h&&l&&(h+="#"+l),h||(h="#"+l),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return c&&(d.guid=c),f&&(d.time=f),s&&(d.Tooltip=s),d}function TJe(e){var t=ie(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)t.write_shift(4,a[n]);if(s==28)r=r.slice(1),OW(r,t);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)t.write_shift(2,o.charCodeAt(n));t.write_shift(2,0),s&8&&OW(i>-1?r.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,r.length-3*u+1),n=0;n<r.length-3*u;++n)t.write_shift(1,r.charCodeAt(n+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function $ae(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function Iae(e,t){var n=$ae(e);return n[3]=0,n}function du(e,t,n){var r=e.read_shift(2),i=e.read_shift(2),s={r,c:i,ixfe:0};if(n&&n.biff==2||t==7){var a=e.read_shift(1);s.ixfe=a&63,e.l+=2}else s.ixfe=e.read_shift(2);return s}function gd(e,t,n,r){return r||(r=ie(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function FJe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function DJe(e,t,n){return t===0?"":Xd(e,t,n)}function NJe(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),a=e.read_shift(r,"i");return[i,s,a]}function Rae(e){var t=e.read_shift(2),n=ak(e);return[t,n]}function OJe(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=e1(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function ok(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function Mae(e,t){return t||(t=ie(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Lae(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var $Je=Lae;function Pae(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function IJe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function RJe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function bi(e){e.l+=2,e.l+=e.read_shift(2)}var MJe={0:bi,4:bi,5:bi,6:bi,7:RJe,8:bi,9:bi,10:bi,11:bi,12:bi,13:IJe,14:bi,15:bi,16:bi,17:bi,18:bi,19:bi,20:bi,21:Pae};function LJe(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r[i]=MJe[i](e,n-e.l)}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function B2(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function WR(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ie(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function PJe(e,t){return t===0||e.read_shift(2),1200}function BJe(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=Xd(e,0,n);return e.read_shift(t+r-e.l),i}function UJe(e,t){var n=!t||t.biff==8,r=ie(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function zJe(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function WJe(e,t,n){var r="";if(n.biff==4)return r=e1(e,0,n),r.length===0&&(r="Sheet1"),{name:r};var i=e.read_shift(4),s=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}return r=e1(e,0,n),r.length===0&&(r="Sheet1"),{pos:i,hs:s,dt:a,name:r}}function HJe(e,t){var n=!t||t.biff>=8?2:1,r=ie(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function VJe(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],a=0;a!=i&&e.l<n;++a)s.push(EJe(e));return s.Count=r,s.Unique=i,s}function jJe(e,t){var n=ie(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=bJe(e[i]);var s=lr([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function GJe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function qJe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function XJe(e){var t=FJe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function KJe(e){return e.read_shift(2),e.read_shift(4)}function $W(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function YJe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),l=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:u,TabRatio:l}}function JJe(){var e=ie(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function ZJe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function QJe(e){var t=ie(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function eZe(){}function tZe(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=e1(e,0,n),r}function nZe(e,t){var n=e.name||"Arial",r=t&&t.biff==5,i=r?15+n.length:16+2*n.length,s=ie(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function rZe(e,t,n){var r=du(e,t,n);return r.isst=e.read_shift(4),r}function iZe(e,t,n,r){var i=ie(10);return gd(e,t,r,i),i.write_shift(4,n),i}function sZe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=du(e,t,n),s=p_(e,r-e.l,n);return i.val=s,i}function aZe(e,t,n,r,i){var s=!i||i.biff==8,a=ie(8+ +s+(1+s)*n.length);return gd(e,t,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function oZe(e,t,n){var r=e.read_shift(2),i=Xd(e,0,n);return[r,i]}function uZe(e,t,n,r){var i=n&&n.biff==5;r||(r=ie(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var lZe=Xd;function cZe(e){var t=ie(1+e.length);return t.write_shift(1,e.length),t.write_shift(e.length,e,"sbcs"),t}function fZe(e){var t=ie(3+e.length);return t.l+=2,t.write_shift(1,e.length),t.write_shift(e.length,e,"sbcs"),t}function IW(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),a=e.read_shift(i),o=e.read_shift(2),u=e.read_shift(2);return e.l=r,{s:{r:s,c:o},e:{r:a,c:u}}}function hZe(e,t){var n=t.biff==8||!t.biff?4:2,r=ie(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function dZe(e){var t=e.read_shift(2),n=e.read_shift(2),r=Rae(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function pZe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(Rae(e));if(e.l!==n)throw new Error("MulRK read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function gZe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function mZe(e,t,n,r){var i={},s=e.read_shift(4),a=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return i.patternType=XYe[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=u&127,i.icvBack=u>>7&127,i.fsxButton=u>>14&1),i}function xZe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=mZe(e,t,r.fStyle,n),r}function RW(e,t,n,r){var i=n&&n.biff==5;r||(r=ie(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function vZe(e){var t={};return t.ifnt=e.read_shift(1),e.l++,t.flags=e.read_shift(1),t.numFmtId=t.flags&63,t.flags>>=6,t.fStyle=0,t.data={},t}function yZe(e){var t=ie(4);return t.l+=2,t.write_shift(1,e.numFmtId),t.l++,t}function Bae(e){var t=ie(12);return t.l++,t.write_shift(1,e.numFmtId),t.l+=10,t}var _Ze=Bae;function EZe(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function bZe(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function wZe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function AZe(e){var t=ie(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function SZe(e,t,n){var r=du(e,6,n),i=Dae(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function XF(e,t,n,r,i,s){var a=ie(8);return gd(e,t,r,a),Nae(n,s,a),a}function CZe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=du(e,6,n),i=Ri(e);return r.val=i,r}function kZe(e,t,n,r){var i=ie(14);return gd(e,t,r,i),dd(n,i),i}var MW=DJe;function TZe(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=pd(e,s),o=[];r>e.l;)o.push(p_(e));return[s,i,a,o]}function LW(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=OJe(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}function PW(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),a=e.read_shift(1),o=e.read_shift(n&&n.biff==2?1:2),u=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),u=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var l=pd(e,a,n);i&32&&(l=BR[l.charCodeAt(0)]);var c=r-e.l;n&&n.biff==2&&--c;var f=r==e.l||o===0||!(c>0)?[]:Vnt(e,c,n,o);return{chKey:s,Name:l,itab:u,rgce:f}}function Uae(e,t,n){if(n.biff<8||!(n.biff>8)&&t==e[e.l]+(e[e.l+1]==3?1:0)+1)return BW(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(NJe(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function BW(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=e1(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function FZe(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=pd(e,r,n),a=pd(e,i,n);return[s,a]}function DZe(e,t,n){var r=Lae(e);e.l++;var i=e.read_shift(1);return t-=8,[jnt(e,t,n),i,r]}function UW(e,t,n){var r=$Je(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,Wnt(e,t,n)]}function NZe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function OZe(e,t,n){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),o=Xd(e,0,n);return[{r,c:i},o,a,s]}function $Ze(e,t,n){if(n&&n.biff<8){var r=e.read_shift(2),i=e.read_shift(2);if(r==65535||r==-1)return;var s=e.read_shift(2),a=e.read_shift(Math.min(s,2048),"cpstr");return[{r,c:i},a]}return OZe(e,t,n)}function KF(e,t,n,r){var i=ie(6+(r||e.length));return i.write_shift(2,t),i.write_shift(2,n),i.write_shift(2,r||e.length),i.write_shift(e.length,e,"sbcs"),i}function IZe(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(ok(e));return n}function RZe(e){var t=ie(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Mae(e[n],t);return t}function MZe(e,t,n){if(n&&n.biff<8)return PZe(e,t,n);var r=Pae(e),i=LJe(e,t-22,r[1]);return{cmo:r,ft:i}}var LZe={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function PZe(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var a=[];return a.push((LZe[r]||es)(e,t,n)),{cmo:[i,r,s],ft:a}}function BZe(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:a=wJe(e,6,n);var o=e.read_shift(2);e.read_shift(2),Jn(e,2);var u=e.read_shift(2);e.l+=u;for(var l=1;l<e.lens.length-1;++l){if(e.l-r!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l],f=pd(e,e.lens[l+1]-e.lens[l]-1);if(i+=f,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function UZe(e,t){var n=ok(e);e.l+=16;var r=kJe(e,t-24);return[n,r]}function zZe(e){var t=ie(24),n=pn(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return lr([t,TJe(e[1])])}function WZe(e,t){e.read_shift(2);var n=ok(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Js,""),[n,r]}function HZe(e){var t=e[1].Tooltip,n=ie(10+2*(t.length+1));n.write_shift(2,2048);var r=pn(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function VZe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=AW[n]||n,n=e.read_shift(2),t[1]=AW[n]||n,t}function jZe(e){return e||(e=ie(4)),e.write_shift(2,1),e.write_shift(2,1),e}function GZe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Iae(e));return n}function qZe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Iae(e));return n}function XZe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function zae(e,t,n){if(!n.cellStyles)return es(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),u=e.read_shift(2);r==2&&(e.l+=2);var l={s:i,e:s,w:a,ixfe:o,flags:u};return(n.biff>=5||!n.biff)&&(l.level=u>>8&7),l}function KZe(e,t){var n=ie(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function YZe(e,t){var n={};return t<32||(e.l+=16,n.header=Ri(e),n.footer=Ri(e),e.l+=2),n}function JZe(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}function ZZe(e){for(var t=ie(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var QZe=du,eQe=Fae,tQe=p_;function nQe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function g_(e,t,n,r,i){return e||(e=ie(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(1,r||0),e.write_shift(1,i||0),e.write_shift(1,0),e}function rQe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=du(e,7,n),i=Xd(e,t-7,n);return r.t="str",r.val=i,r}function iQe(e,t,n){var r=du(e,7,n),i=Ri(e);return r.t="n",r.val=i,r}function sQe(e,t,n,r,i){var s=ie(15);return g_(s,e,t,r||0,i||0),s.write_shift(8,n,"f"),s}function aQe(e,t,n){var r=du(e,7,n),i=e.read_shift(2);return r.t="n",r.val=i,r}function oQe(e,t,n,r,i){var s=ie(9);return g_(s,e,t,r||0,i||0),s.write_shift(2,n),s}function uQe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function lQe(e,t,n){var r=e.l+7,i=du(e,6,n);e.l=r;var s=Dae(e);return i.val=s,i.t=s===!0||s===!1?"b":"e",i}function cQe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function fQe(e,t,n){var r=e.l+t,i=du(e,6,n),s=e.read_shift(2),a=pd(e,s,n);return e.l=r,i.t="str",i.val=a,i}function hQe(e){var t=e.read_shift(4),n=e.read_shift(1),r=e.read_shift(n,"sbcs");return r.length===0&&(r="Sheet1"),{flags:t,name:r}}var dQe=[2,3,48,49,131,139,140,245],AN=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=tk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,u){var l=[],c=Xf(1);switch(u.type){case"base64":c=gs(Oa(o));break;case"binary":c=gs(o);break;case"buffer":case"array":c=o;break}wr(c,0);var f=c.read_shift(1),h=!!(f&136),d=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,m=521;f==2&&(g=c.read_shift(2)),c.l+=3,f!=2&&(g=c.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(m=c.read_shift(2));var x=c.read_shift(2);u.codepage,f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&e[c[c.l]],c.l+=1,c.l+=2),p&&(c.l+=36);for(var y=[],v={},_=Math.min(c.length,f==2?521:m-10-(d?264:0)),E=p?32:11;c.l<_&&c[c.l]!=13;)switch(v={},v.name=tl(c.slice(c.l,c.l+E)).replace(/[\u0000\r\n][\S\s]*$/g,""),c.l+=E,v.type=String.fromCharCode(c.read_shift(1)),f!=2&&!p&&(v.offset=c.read_shift(4)),v.len=c.read_shift(1),f==2&&(v.offset=c.read_shift(2)),v.dec=c.read_shift(1),v.name.length&&y.push(v),f!=2&&(c.l+=p?13:14),v.type){case"B":(!d||v.len!=8)&&u.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+v.type)}if(c[c.l]!==13&&(c.l=m-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=m;var w=0,b=0;for(l[0]=[],b=0;b!=y.length;++b)l[0][b]=y[b].name;for(;g-- >0;){if(c[c.l]===42){c.l+=x;continue}for(++c.l,l[++w]=[],b=0,b=0;b!=y.length;++b){var S=c.slice(c.l,c.l+y[b].len);c.l+=y[b].len,wr(S,0);var A=tl(S);switch(y[b].type){case"C":A.trim().length&&(l[w][b]=A.replace(/([^\s])\s+$/,"$1"));break;case"D":A.length===8?(l[w][b]=new Date(Date.UTC(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8),0,0,0,0)),u&&u.UTC||(l[w][b]=hd(l[w][b]))):l[w][b]=A;break;case"F":l[w][b]=parseFloat(A.trim());break;case"+":case"I":l[w][b]=p?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":l[w][b]=!0;break;case"N":case"F":l[w][b]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));l[w][b]="##MEMO##"+(p?parseInt(A.trim(),10):S.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(l[w][b]=+A||0);break;case"@":l[w][b]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":{var C=S.read_shift(4),k=S.read_shift(4);if(C==0&&k==0)break;l[w][b]=new Date((C-2440588)*864e5+k),u&&u.UTC||(l[w][b]=hd(l[w][b]))}break;case"Y":l[w][b]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[w][b]=-S.read_shift(-8,"f");break;case"B":if(d&&y[b].len==8){l[w][b]=S.read_shift(8,"f");break}case"G":case"P":S.l+=y[b].len;break;case"0":if(y[b].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[b].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return u&&u.sheetRows&&(l=l.slice(0,u.sheetRows)),u.DBF=y,l}function r(o,u){var l=u||{};l.dateNF||(l.dateNF="yyyymmdd");var c=P1(n(o,l),l);return c["!cols"]=l.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete l.DBF,c}function i(o,u){try{var l=b0(r(o,u),u);return l.bookType="dbf",l}catch(c){if(u&&u.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,u){if(!o["!ref"])throw new Error("Cannot export empty sheet to DBF");var l=u||{},c=Ya;if(+l.codepage>=0&&zo(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var f=Yi(),h=FN(o,{header:1,raw:!0,cellDates:!0}),d=h[0],p=h.slice(1),g=o["!cols"]||[],m=0,x=0,y=0,v=1;for(m=0;m<d.length;++m){if(((g[m]||{}).DBF||{}).name){d[m]=g[m].DBF.name,++y;continue}if(d[m]!=null){if(++y,typeof d[m]=="number"&&(d[m]=d[m].toString(10)),typeof d[m]!="string")throw new Error("DBF Invalid column name "+d[m]+" |"+typeof d[m]+"|");if(d.indexOf(d[m])!==m){for(x=0;x<1024;++x)if(d.indexOf(d[m]+"_"+x)==-1){d[m]+="_"+x;break}}}}var _=Qt(o["!ref"]),E=[],w=[],b=[];for(m=0;m<=_.e.c-_.s.c;++m){var S="",A="",C=0,k=[];for(x=0;x<p.length;++x)p[x][m]!=null&&k.push(p[x][m]);if(k.length==0||d[m]==null){E[m]="?";continue}for(x=0;x<k.length;++x){switch(typeof k[x]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=k[x]instanceof Date?"D":"C";break;default:A="C"}C=Math.max(C,String(k[x]).length),S=S&&S!=A?"C":A}C>250&&(C=250),A=((g[m]||{}).DBF||{}).type,A=="C"&&g[m].DBF.len>C&&(C=g[m].DBF.len),S=="B"&&A=="N"&&(S="N",b[m]=g[m].DBF.dec,C=g[m].DBF.len),w[m]=S=="C"||A=="N"?C:s[S]||0,v+=w[m],E[m]=S}var F=f.next(32);for(F.write_shift(4,318902576),F.write_shift(4,p.length),F.write_shift(2,296+32*y),F.write_shift(2,v),m=0;m<4;++m)F.write_shift(4,0);var N=+t[Ya]||3;for(F.write_shift(4,0|N<<8),e[N]!=+l.codepage&&(l.codepage&&console.error("DBF Unsupported codepage "+Ya+", using 1252"),Ya=1252),m=0,x=0;m<d.length;++m)if(d[m]!=null){var R=f.next(32),D=(d[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,D,"sbcs"),R.write_shift(1,E[m]=="?"?"C":E[m],"sbcs"),R.write_shift(4,x),R.write_shift(1,w[m]||s[E[m]]||0),R.write_shift(1,b[m]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),x+=w[m]||s[E[m]]||0}var O=f.next(264);for(O.write_shift(4,13),m=0;m<65;++m)O.write_shift(4,0);for(m=0;m<p.length;++m){var M=f.next(v);for(M.write_shift(1,0),x=0;x<d.length;++x)if(d[x]!=null)switch(E[x]){case"L":M.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":M.write_shift(8,p[m][x]||0,"f");break;case"N":var z="0";for(typeof p[m][x]=="number"&&(z=p[m][x].toFixed(b[x]||0)),z.length>w[x]&&(z=z.slice(0,w[x])),y=0;y<w[x]-z.length;++y)M.write_shift(1,32);M.write_shift(1,z,"sbcs");break;case"D":p[m][x]?(M.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var K=M.l,X=String(p[m][x]!=null?p[m][x]:"").slice(0,w[x]);for(M.write_shift(1,X,"cpstr"),K+=w[x]-M.l,y=0;y<K;++y)M.write_shift(1,32);break}}return Ya=c,f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}}(),Wae=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Mn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{t=new RegExp("\x1BN("+Mn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var n=function(d,p){var g=e[p];return typeof g=="number"?Jz(g):g},r=function(d,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?d:Jz(m)};e["|"]=254;var i=function(d){return d.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function s(d,p){switch(p.type){case"base64":return a(Oa(d),p);case"binary":return a(d,p);case"buffer":return a(Nt&&Buffer.isBuffer(d)?d.toString("binary"):tl(d),p);case"array":return a(fd(d),p)}throw new Error("Unrecognized type "+p.type)}function a(d,p){var g=d.split(/[\n\r]+/),m=-1,x=-1,y=0,v=0,_=[],E=[],w=null,b={},S=[],A=[],C=[],k=0,F,N={Workbook:{WBProps:{},Names:[]}};for(+p.codepage>=0&&zo(+p.codepage);y!==g.length;++y){k=0;var R=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),D=R.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),O=D[0],M;if(R.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"V":{var z=parseInt(D[v].slice(1),10);z>=1&&z<=4&&(N.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":switch(D[1].charAt(0)){case"P":E.push(R.slice(3).replace(/;;/g,";"));break}break;case"NN":{var K={Sheet:0};for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"N":K.Name=D[v].slice(1);break;case"E":K.Ref=(p&&p.sheet||"Sheet1")+"!"+kh(D[v].slice(1));break}N.Workbook.Names.push(K)}break;case"C":var X=!1,ve=!1,te=!1,ue=!1,le=-1,de=-1,ke="",He="z",B="";for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"A":B=D[v].slice(1);break;case"X":x=parseInt(D[v].slice(1),10)-1,ve=!0;break;case"Y":for(m=parseInt(D[v].slice(1),10)-1,ve||(x=0),F=_.length;F<=m;++F)_[F]=[];break;case"K":M=D[v].slice(1),M.charAt(0)==='"'?(M=M.slice(1,M.length-1),He="s"):M==="TRUE"||M==="FALSE"?(M=M==="TRUE",He="b"):M.charAt(0)=="#"&&Xr[M]!=null?(He="e",M=Xr[M]):isNaN(wa(M))||(M=wa(M),He="n",w!==null&&vo(w)&&p.cellDates&&(M=lc(N.Workbook.WBProps.date1904?M+1462:M),He=typeof M=="number"?"n":"d")),X=!0;break;case"E":ue=!0,ke=kh(D[v].slice(1),{r:m,c:x});break;case"S":te=!0;break;case"G":break;case"R":le=parseInt(D[v].slice(1),10)-1;break;case"C":de=parseInt(D[v].slice(1),10)-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}if(X&&(_[m][x]?(_[m][x].t=He,_[m][x].v=M):_[m][x]={t:He,v:M},w&&(_[m][x].z=w),p.cellText!==!1&&w&&(_[m][x].w=$a(_[m][x].z,_[m][x].v,{date1904:N.Workbook.WBProps.date1904})),w=null),te){if(ue)throw new Error("SYLK shared formula cannot have own formula");var j=le>-1&&_[le][de];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");ke=noe(j[1],{r:m-le,c:x-de})}ke&&(_[m][x]?_[m][x].f=ke:_[m][x]={t:"n",f:ke}),B&&(_[m][x]||(_[m][x]={t:"z"}),_[m][x].c=[{a:"SheetJSYLK",t:B}]);break;case"F":var G=0;for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"X":x=parseInt(D[v].slice(1),10)-1,++G;break;case"Y":for(m=parseInt(D[v].slice(1),10)-1,F=_.length;F<=m;++F)_[F]=[];break;case"M":k=parseInt(D[v].slice(1),10)/20;break;case"F":break;case"G":break;case"P":w=E[parseInt(D[v].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(C=D[v].slice(1).split(" "),F=parseInt(C[0],10);F<=parseInt(C[1],10);++F)k=parseInt(C[2],10),A[F-1]=k===0?{hidden:!0}:{wch:k};break;case"C":x=parseInt(D[v].slice(1),10)-1,A[x]||(A[x]={});break;case"R":m=parseInt(D[v].slice(1),10)-1,S[m]||(S[m]={}),k>0?(S[m].hpt=k,S[m].hpx=n1(k)):k===0&&(S[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}G<1&&(w=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}}return S.length>0&&(b["!rows"]=S),A.length>0&&(b["!cols"]=A),A.forEach(function(W){Kf(W)}),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,b,N]}function o(d,p){var g=s(d,p),m=g[0],x=g[1],y=g[2],v=Cn(p);v.date1904=(((y||{}).Workbook||{}).WBProps||{}).date1904;var _=P1(m,v);Mn(x).forEach(function(w){_[w]=x[w]});var E=b0(_,p);return Mn(y).forEach(function(w){E[w]=y[w]}),E.bookType="sylk",E}function u(d,p,g,m,x,y){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(d.t){case"n":v+=isFinite(d.v)?d.v||0:Rr[isNaN(d.v)?36:7],d.f&&!d.F&&(v+=";E"+lk(d.f,{r:g,c:m}));break;case"b":v+=d.v?"TRUE":"FALSE";break;case"e":v+=d.w||Rr[d.v]||d.v;break;case"d":v+=Yn(Vn(d.v,y),y);break;case"s":v+='"'+(d.v==null?"":String(d.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function l(d,p,g){var m="C;Y"+(p+1)+";X"+(g+1)+";A";return m+=i(d.map(function(x){return x.t}).join("")),m}function c(d,p){p.forEach(function(g,m){var x="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=jv(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Gv(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&d.push(x)})}function f(d,p){p.forEach(function(g,m){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*qv(g.hpx)+";"),x.length>2&&d.push(x+"R"+(m+1))})}function h(d,p,g){p||(p={}),p._formats=["General"];var m=["ID;PSheetJS;N;E"],x=[],y=Qt(d["!ref"]||"A1"),v,_=d["!data"]!=null,E=`\r
`,w=(((g||{}).Workbook||{}).WBProps||{}).date1904,b="General";m.push("P;PGeneral");var S=y.s.r,A=y.s.c,C=[];if(d["!ref"]){for(S=y.s.r;S<=y.e.r;++S)if(!(_&&!d["!data"][S])){for(C=[],A=y.s.c;A<=y.e.c;++A)v=_?d["!data"][S][A]:d[Ot(A)+Ut(S)],!(!v||!v.c)&&C.push(l(v.c,S,A));C.length&&x.push(C.join(E))}}if(d["!ref"]){for(S=y.s.r;S<=y.e.r;++S)if(!(_&&!d["!data"][S])){for(C=[],A=y.s.c;A<=y.e.c;++A)if(v=_?d["!data"][S][A]:d[Ot(A)+Ut(S)],!(!v||v.v==null&&(!v.f||v.F))){if((v.z||(v.t=="d"?ct[14]:"General"))!=b){var k=p._formats.indexOf(v.z);k==-1&&(p._formats.push(v.z),k=p._formats.length-1,m.push("P;P"+v.z.replace(/;/g,";;"))),C.push("F;P"+k+";Y"+(S+1)+";X"+(A+1))}C.push(u(v,d,S,A,p,w))}x.push(C.join(E))}}return m.push("F;P0;DG0G8;M255"),d["!cols"]&&c(m,d["!cols"]),d["!rows"]&&f(m,d["!rows"]),d["!ref"]&&m.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" ")),m.push("O;L;D;B"+(w?";V4":"")+";K47;G100 0.001"),delete p._formats,m.join(E)+E+x.join(E)+E+"E"+E}return{to_workbook:o,from_sheet:h}}(),Hae=function(){function e(o,u){switch(u.type){case"base64":return t(Oa(o),u);case"binary":return t(o,u);case"buffer":return t(Nt&&Buffer.isBuffer(o)?o.toString("binary"):tl(o),u);case"array":return t(fd(o),u)}throw new Error("Unrecognized type "+u.type)}function t(o,u){for(var l=o.split(`
`),c=-1,f=-1,h=0,d=[];h!==l.length;++h){if(l[h].trim()==="BOT"){d[++c]=[],f=0;continue}if(!(c<0)){var p=l[h].trim().split(","),g=p[0],m=p[1];++h;for(var x=l[h]||"";(x.match(/["]/g)||[]).length&1&&h<l.length-1;)x+=`
`+l[++h];switch(x=x.trim(),+g){case-1:if(x==="BOT"){d[++c]=[],f=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?d[c][f]=!0:x==="FALSE"?d[c][f]=!1:isNaN(wa(m))?isNaN(Pv(m).getDate())?d[c][f]=m:(d[c][f]=Vn(m),u&&u.UTC||(d[c][f]=hd(d[c][f]))):d[c][f]=wa(m),++f;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),d[c][f++]=x!==""?x:null;break}if(x==="EOD")break}}return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),d}function n(o,u){return P1(e(o,u),u)}function r(o,u){var l=b0(n(o,u),u);return l.bookType="dif",l}function i(o,u){return"0,"+String(o)+`\r
`+u}function s(o){return`1,0\r
"`+o.replace(/"/g,'""')+'"'}function a(o){if(!o["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var u=Qt(o["!ref"]),l=o["!data"]!=null,c=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(u.e.r-u.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(u.e.c-u.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],f=u.s.r;f<=u.e.r;++f){for(var h=l?o["!data"][f]:[],d=`-1,0\r
BOT\r
`,p=u.s.c;p<=u.e.c;++p){var g=l?h&&h[p]:o[It({r:f,c:p})];if(g==null){d+=`1,0\r
""\r
`;continue}switch(g.t){case"n":g.w!=null?d+="0,"+g.w+`\r
V`:g.v!=null?d+=i(g.v,"V"):g.f!=null&&!g.F?d+=s("="+g.f):d+=`1,0\r
""`;break;case"b":d+=g.v?i(1,"TRUE"):i(0,"FALSE");break;case"s":d+=s(isNaN(+g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=$a(g.z||ct[14],Yn(Vn(g.v)))),d+=i(g.w,"V");break;default:d+=`1,0\r
""`}d+=`\r
`}c.push(d)}return c.join("")+`-1,0\r
EOD`}return{to_workbook:r,to_sheet:n,from_sheet:a}}(),Vae=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var d=f.split(`
`),p=-1,g=-1,m=0,x=[];m!==d.length;++m){var y=d[m].trim().split(":");if(y[0]==="cell"){var v=pn(y[1]);if(x.length<=v.r)for(p=x.length;p<=v.r;++p)x[p]||(x[p]=[]);switch(p=v.r,g=v.c,y[2]){case"t":x[p][g]=e(y[3]);break;case"v":x[p][g]=+y[3];break;case"vtf":var _=y[y.length-1];case"vtc":switch(y[3]){case"nl":x[p][g]=!!+y[4];break;default:x[p][g]=y[y.length-1].charAt(0)=="#"?{t:"e",v:Xr[y[y.length-1]]}:+y[4];break}y[2]=="vtf"&&(x[p][g]=[x[p][g],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function r(f,h){return P1(n(f,h),h)}function i(f,h){return b0(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function l(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],p,g="",m=Yr(f["!ref"]),x=f["!data"]!=null,y=m.s.r;y<=m.e.r;++y)for(var v=m.s.c;v<=m.e.c;++v)if(g=It({r:y,c:v}),p=x?(f["!data"][y]||[])[v]:f[g],!(!p||p.v==null||p.t==="z")){switch(d=["cell",g,"t"],p.t){case"s":d.push(t(p.v));break;case"b":d[2]="vt"+(p.f?"f":"c"),d[3]="nl",d[4]=p.v?"1":"0",d[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var _=Yn(Vn(p.v));d[2]="vtc",d[3]="nd",d[4]=""+_,d[5]=p.w||$a(p.z||ct[14],_);break;case"n":isFinite(p.v)?p.f?(d[2]="vtf",d[3]="n",d[4]=p.v,d[5]=t(p.f)):(d[2]="v",d[3]=p.v):(d[2]="vt"+(p.f?"f":"c"),d[3]="e"+Rr[isNaN(p.v)?36:7],d[4]="0",d[5]=p.f||d[3].slice(1),d[6]="e",d[7]=d[3].slice(1));break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(m.e.c-m.s.c+1)+":r:"+(m.e.r-m.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function c(f){return[s,a,o,a,l(f),u].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:c}}(),t1=function(){function e(c,f,h,d,p){p.raw?f[h][d]=c:c===""||(c==="TRUE"?f[h][d]=!0:c==="FALSE"?f[h][d]=!1:isNaN(wa(c))?isNaN(Pv(c).getDate())?c.charCodeAt(0)==35&&Xr[c]!=null?f[h][d]={t:"e",v:Xr[c],w:c}:f[h][d]=c:f[h][d]=Vn(c):f[h][d]=wa(c))}function t(c,f){var h=f||{},d=[];if(!c||c.length===0)return d;for(var p=c.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var m=10,x=0,y=0;y<=g;++y)x=p[y].indexOf(" "),x==-1?x=p[y].length:x++,m=Math.max(m,x);for(y=0;y<=g;++y){d[y]=[];var v=0;for(e(p[y].slice(0,m).trim(),d,y,v,h),v=1;v<=(p[y].length-m)/10+1;++v)e(p[y].slice(m+(v-1)*10,m+v*10).trim(),d,y,v,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(c){for(var f={},h=!1,d=0,p=0;d<c.length;++d)(p=c.charCodeAt(d))==34?h=!h:!h&&p in n&&(f[p]=(f[p]||0)+1);p=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&p.push([f[d],d]);if(!p.length){f=r;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&p.push([f[d],d])}return p.sort(function(g,m){return g[0]-m[0]||r[g[1]]-r[m[1]]}),n[p.pop()[1]]||44}function s(c,f){var h=f||{},d="",p={};h.dense&&(p["!data"]=[]);var g={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(d=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(d=c.charAt(4),c=c.slice(6)):d=i(c.slice(0,1024)):h&&h.FS?d=h.FS:d=i(c.slice(0,1024));var m=0,x=0,y=0,v=0,_=0,E=d.charCodeAt(0),w=!1,b=0,S=c.charCodeAt(0),A=h.dateNF!=null?RKe(h.dateNF):null;function C(){var k=c.slice(v,_);k.slice(-1)=="\r"&&(k=k.slice(0,-1));var F={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),h.cellText!==!1&&(F.w=k),k.length===0)F.t="z";else if(h.raw)F.t="s",F.v=k;else if(k.trim().length===0)F.t="s",F.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(F.t="s",F.v=k.slice(2,-1).replace(/""/g,'"')):Ttt(k)?(F.t="s",F.f=k.slice(1),F.v=k):(F.t="s",F.v=k);else if(k=="TRUE")F.t="b",F.v=!0;else if(k=="FALSE")F.t="b",F.v=!1;else if(!isNaN(y=wa(k)))F.t="n",F.v=y;else if(!isNaN((y=Pv(k)).getDate())||A&&k.match(A)){if(F.z=h.dateNF||ct[14],A&&k.match(A)){var N=MKe(k,h.dateNF,k.match(A)||[]);y=Vn(N),h&&h.UTC===!1&&(y=hd(y))}else h&&h.UTC===!1?y=hd(y):h.cellText!==!1&&h.dateNF&&(F.w=$a(F.z,y));h.cellDates?(F.t="d",F.v=y):(F.t="n",F.v=Yn(y)),h.cellNF||delete F.z}else k.charCodeAt(0)==35&&Xr[k]!=null?(F.t="e",F.w=k,F.v=Xr[k]):(F.t="s",F.v=k);if(F.t=="z"||(h.dense?(p["!data"][m]||(p["!data"][m]=[]),p["!data"][m][x]=F):p[It({c:x,r:m})]=F),v=_+1,S=c.charCodeAt(v),g.e.c<x&&(g.e.c=x),g.e.r<m&&(g.e.r=m),b==E)++x;else if(x=0,++m,h.sheetRows&&h.sheetRows<=m)return!0}e:for(;_<c.length;++_)switch(b=c.charCodeAt(_)){case 34:S===34&&(w=!w);break;case 13:if(w)break;c.charCodeAt(_+1)==10&&++_;case E:case 10:if(!w&&C())break e;break}return _-v>0&&C(),p["!ref"]=Ct(g),p}function a(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,f):P1(t(c,f),f)}function o(c,f){var h="",d=f.type=="string"?[0,0,0,0]:QR(c,f);switch(f.type){case"base64":h=Oa(c);break;case"binary":h=c;break;case"buffer":f.codepage==65001?h=c.toString("utf8"):(f.codepage,h=Nt&&Buffer.isBuffer(c)?c.toString("binary"):tl(c));break;case"array":h=fd(c);break;case"string":h=c;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=dn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=dn(h):f.type=="binary",h.slice(0,19)=="socialcalc:version:"?Vae.to_sheet(f.type=="string"?h:dn(h),f):a(h,f)}function u(c,f){return b0(o(c,f),f)}function l(c){var f=[];if(!c["!ref"])return"";for(var h=Qt(c["!ref"]),d,p=c["!data"]!=null,g=h.s.r;g<=h.e.r;++g){for(var m=[],x=h.s.c;x<=h.e.c;++x){var y=It({r:g,c:x});if(d=p?(c["!data"][g]||[])[x]:c[y],!d||d.v==null){m.push("          ");continue}for(var v=(d.w||(bc(d),d.w)||"").slice(0,10);v.length<10;)v+=" ";m.push(v+(x===0?" ":""))}f.push(m.join(""))}return f.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:l}}();function pQe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=Wae.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,s.message.indexOf("SYLK bad record ID")==-1&&r)throw s;return t1.to_workbook(e,t)}}var Ch=function(){function e(B,j,G){if(B){wr(B,B.l||0);for(var W=G.Enum||ue;B.l<B.length;){var Y=B.read_shift(2),T=W[Y]||W[65535],L=B.read_shift(2),J=B.l+L,Z=T.f&&T.f(B,L,G);if(B.l=J,j(Z,T,Y))return}}}function t(B,j){switch(j.type){case"base64":return r(gs(Oa(B)),j);case"binary":return r(gs(B),j);case"buffer":case"array":return r(B,j)}throw"Unsupported type "+j.type}var n=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function r(B,j){if(!B)return B;var G=j||{},W={},Y="Sheet1",T="",L=0,J={},Z=[],ee=[],ne=[];G.dense&&(ne=W["!data"]=[]);var ye={s:{r:0,c:0},e:{r:0,c:0}},we=G.sheetRows||0,Se={};if(B[4]==81&&B[5]==80&&B[6]==87)return He(B,j);if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)G.Enum=ue,e(B,function(ce,et,dt){switch(dt){case 0:G.vers=ce,ce>=4096&&(G.qpro=!0);break;case 255:G.vers=ce,G.works=!0;break;case 6:ye=ce;break;case 204:ce&&(T=ce);break;case 222:T=ce;break;case 15:case 51:(!G.qpro&&!G.works||dt==51)&&ce[1].v.charCodeAt(0)<48&&(ce[1].v=ce[1].v.slice(1)),(G.works||G.works2)&&(ce[1].v=ce[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(ce[2]&112)==112&&(ce[2]&15)>1&&(ce[2]&15)<15&&(ce[1].z=G.dateNF||n[(ce[2]&15)-1]||ct[14],G.cellDates&&(ce[1].v=lc(ce[1].v),ce[1].t=typeof ce[1].v=="number"?"n":"d")),G.qpro&&ce[3]>L&&(W["!ref"]=Ct(ye),J[Y]=W,Z.push(Y),W={},G.dense&&(ne=W["!data"]=[]),ye={s:{r:0,c:0},e:{r:0,c:0}},L=ce[3],Y=T||"Sheet"+(L+1),T="");var ht=G.dense?(ne[ce[0].r]||[])[ce[0].c]:W[It(ce[0])];if(ht){ht.t=ce[1].t,ht.v=ce[1].v,ce[1].z!=null&&(ht.z=ce[1].z),ce[1].f!=null&&(ht.f=ce[1].f),Se=ht;break}G.dense?(ne[ce[0].r]||(ne[ce[0].r]=[]),ne[ce[0].r][ce[0].c]=ce[1]):W[It(ce[0])]=ce[1],Se=ce[1];break;case 21509:G.works2=!0;break;case 21506:ce==5281&&(Se.z="hh:mm:ss",G.cellDates&&Se.t=="n"&&(Se.v=lc(Se.v),Se.t=typeof Se.v=="number"?"n":"d"));break}},G);else if(B[2]==26||B[2]==14)G.Enum=le,B[2]==14&&(G.qpro=!0,B.l=0),e(B,function(ce,et,dt){switch(dt){case 204:Y=ce;break;case 22:ce[1].v.charCodeAt(0)<48&&(ce[1].v=ce[1].v.slice(1)),ce[1].v=ce[1].v.replace(/\x0F./g,function(ht){return String.fromCharCode(ht.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(ce[3]>L&&(W["!ref"]=Ct(ye),J[Y]=W,Z.push(Y),W={},G.dense&&(ne=W["!data"]=[]),ye={s:{r:0,c:0},e:{r:0,c:0}},L=ce[3],Y="Sheet"+(L+1)),we>0&&ce[0].r>=we)break;G.dense?(ne[ce[0].r]||(ne[ce[0].r]=[]),ne[ce[0].r][ce[0].c]=ce[1]):W[It(ce[0])]=ce[1],ye.e.c<ce[0].c&&(ye.e.c=ce[0].c),ye.e.r<ce[0].r&&(ye.e.r=ce[0].r);break;case 27:ce[14e3]&&(ee[ce[14e3][0]]=ce[14e3][1]);break;case 1537:ee[ce[0]]=ce[1],ce[0]==L&&(Y=ce[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(W["!ref"]=Ct(ye),J[T||Y]=W,Z.push(T||Y),!ee.length)return{SheetNames:Z,Sheets:J};for(var Ee={},be=[],Ce=0;Ce<ee.length;++Ce)J[Z[Ce]]?(be.push(ee[Ce]||Z[Ce]),Ee[ee[Ce]]=J[ee[Ce]]||J[Z[Ce]]):(be.push(ee[Ce]),Ee[ee[Ce]]={"!ref":"A1"});return{SheetNames:be,Sheets:Ee}}function i(B,j){var G=j||{};if(+G.codepage>=0&&zo(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Yi();if(!B["!ref"])throw new Error("Cannot export empty sheet to WK1");var Y=Qt(B["!ref"]),T=B["!data"]!=null,L=[];Te(W,0,a(1030)),Te(W,6,l(Y));for(var J=Math.min(Y.e.r,8191),Z=Y.s.c;Z<=Y.e.c;++Z)L[Z]=Ot(Z);for(var ee=Y.s.r;ee<=J;++ee){var ne=Ut(ee);for(Z=Y.s.c;Z<=Y.e.c;++Z){var ye=T?(B["!data"][ee]||[])[Z]:B[L[Z]+ne];if(!(!ye||ye.t=="z"))switch(ye.t){case"n":(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?Te(W,13,m(ee,Z,ye)):Te(W,14,y(ee,Z,ye));break;case"d":var we=Yn(ye.v);(we|0)==we&&we>=-32768&&we<=32767?Te(W,13,m(ee,Z,{v:we,z:ye.z||ct[14]})):Te(W,14,y(ee,Z,{v:we,z:ye.z||ct[14]}));break;default:var Se=bc(ye);Te(W,15,d(ee,Z,Se.slice(0,239)))}}}return Te(W,1),W.end()}function s(B,j){var G=j||{};if(+G.codepage>=0&&zo(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Yi();Te(W,0,o(B));for(var Y=0,T=0;Y<B.SheetNames.length;++Y)(B.Sheets[B.SheetNames[Y]]||{})["!ref"]&&Te(W,27,te(B.SheetNames[Y],T++));var L=0;for(Y=0;Y<B.SheetNames.length;++Y){var J=B.Sheets[B.SheetNames[Y]];if(!(!J||!J["!ref"])){for(var Z=Qt(J["!ref"]),ee=J["!data"]!=null,ne=[],ye=Math.min(Z.e.r,8191),we=Z.s.r;we<=ye;++we)for(var Se=Ut(we),Ee=Z.s.c;Ee<=Z.e.c;++Ee){we===Z.s.r&&(ne[Ee]=Ot(Ee));var be=ne[Ee]+Se,Ce=ee?(J["!data"][we]||[])[Ee]:J[be];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")Te(W,23,N(we,Ee,L,Ce.v));else{var ce=bc(Ce);Te(W,22,C(we,Ee,L,ce.slice(0,239)))}}++L}}return Te(W,1),W.end()}function a(B){var j=ie(2);return j.write_shift(2,B),j}function o(B){var j=ie(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var G=0,W=0,Y=0,T=0;T<B.SheetNames.length;++T){var L=B.SheetNames[T],J=B.Sheets[L];if(!(!J||!J["!ref"])){++Y;var Z=Yr(J["!ref"]);G<Z.e.r&&(G=Z.e.r),W<Z.e.c&&(W=Z.e.c)}}return G>8191&&(G=8191),j.write_shift(2,G),j.write_shift(1,Y),j.write_shift(1,W),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function u(B,j,G){var W={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&G.qpro?(W.s.c=B.read_shift(1),B.l++,W.s.r=B.read_shift(2),W.e.c=B.read_shift(1),B.l++,W.e.r=B.read_shift(2),W):(W.s.c=B.read_shift(2),W.s.r=B.read_shift(2),j==12&&G.qpro&&(B.l+=2),W.e.c=B.read_shift(2),W.e.r=B.read_shift(2),j==12&&G.qpro&&(B.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function l(B){var j=ie(8);return j.write_shift(2,B.s.c),j.write_shift(2,B.s.r),j.write_shift(2,B.e.c),j.write_shift(2,B.e.r),j}function c(B,j,G){var W=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(W[0].c=B.read_shift(1),W[3]=B.read_shift(1),W[0].r=B.read_shift(2),B.l+=2):G.works?(W[0].c=B.read_shift(2),W[0].r=B.read_shift(2),W[2]=B.read_shift(2)):(W[2]=B.read_shift(1),W[0].c=B.read_shift(2),W[0].r=B.read_shift(2)),W}function f(B){return B.z&&vo(B.z)?240|(n.indexOf(B.z)+1||2):255}function h(B,j,G){var W=B.l+j,Y=c(B,j,G);if(Y[1].t="s",(G.vers&65534)==20768){B.l++;var T=B.read_shift(1);return Y[1].v=B.read_shift(T,"utf8"),Y}return G.qpro&&B.l++,Y[1].v=B.read_shift(W-B.l,"cstr"),Y}function d(B,j,G){var W=ie(7+G.length);W.write_shift(1,255),W.write_shift(2,j),W.write_shift(2,B),W.write_shift(1,39);for(var Y=0;Y<W.length;++Y){var T=G.charCodeAt(Y);W.write_shift(1,T>=128?95:T)}return W.write_shift(1,0),W}function p(B,j,G){var W=B.l+j,Y=c(B,j,G);if(Y[1].t="s",G.vers==20768){var T=B.read_shift(1);return Y[1].v=B.read_shift(T,"utf8"),Y}return Y[1].v=B.read_shift(W-B.l,"cstr"),Y}function g(B,j,G){var W=c(B,j,G);return W[1].v=B.read_shift(2,"i"),W}function m(B,j,G){var W=ie(7);return W.write_shift(1,f(G)),W.write_shift(2,j),W.write_shift(2,B),W.write_shift(2,G.v,"i"),W}function x(B,j,G){var W=c(B,j,G);return W[1].v=B.read_shift(8,"f"),W}function y(B,j,G){var W=ie(13);return W.write_shift(1,f(G)),W.write_shift(2,j),W.write_shift(2,B),W.write_shift(8,G.v,"f"),W}function v(B,j,G){var W=B.l+j,Y=c(B,j,G);if(Y[1].v=B.read_shift(8,"f"),G.qpro)B.l=W;else{var T=B.read_shift(2);b(B.slice(B.l,B.l+T),Y),B.l+=T}return Y}function _(B,j,G){var W=j&32768;return j&=-32769,j=(W?B:0)+(j>=8192?j-16384:j),(W?"":"$")+(G?Ot(j):Ut(j))}var E={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(B,j){wr(B,0);for(var G=[],W=0,Y="",T="",L="",J="";B.l<B.length;){var Z=B[B.l++];switch(Z){case 0:G.push(B.read_shift(8,"f"));break;case 1:T=_(j[0].c,B.read_shift(2),!0),Y=_(j[0].r,B.read_shift(2),!1),G.push(T+Y);break;case 2:{var ee=_(j[0].c,B.read_shift(2),!0),ne=_(j[0].r,B.read_shift(2),!1);T=_(j[0].c,B.read_shift(2),!0),Y=_(j[0].r,B.read_shift(2),!1),G.push(ee+ne+":"+T+Y)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(B.read_shift(2));break;case 6:{for(var ye="";Z=B[B.l++];)ye+=String.fromCharCode(Z);G.push('"'+ye.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:J=G.pop(),L=G.pop(),G.push(["AND","OR"][Z-20]+"("+L+","+J+")");break;default:if(Z<32&&w[Z])J=G.pop(),L=G.pop(),G.push(L+w[Z]+J);else if(E[Z]){if(W=E[Z][1],W==69&&(W=B[B.l++]),W>G.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+G.join("|")+"|");return}var we=G.slice(-W);G.length-=W,G.push(E[Z][0]+"("+we.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}G.length==1?j[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function S(B){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=B.read_shift(2),j[3]=B[B.l++],j[0].c=B[B.l++],j}function A(B,j){var G=S(B);return G[1].t="s",G[1].v=B.read_shift(j-4,"cstr"),G}function C(B,j,G,W){var Y=ie(6+W.length);Y.write_shift(2,B),Y.write_shift(1,G),Y.write_shift(1,j),Y.write_shift(1,39);for(var T=0;T<W.length;++T){var L=W.charCodeAt(T);Y.write_shift(1,L>=128?95:L)}return Y.write_shift(1,0),Y}function k(B,j){var G=S(B);G[1].v=B.read_shift(2);var W=G[1].v>>1;if(G[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return G[1].v=W,G}function F(B,j){var G=S(B),W=B.read_shift(4),Y=B.read_shift(4),T=B.read_shift(2);if(T==65535)return W===0&&Y===3221225472?(G[1].t="e",G[1].v=15):W===0&&Y===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var L=T&32768;return T=(T&32767)-16446,G[1].v=(1-L*2)*(Y*Math.pow(2,T+32)+W*Math.pow(2,T)),G}function N(B,j,G,W){var Y=ie(14);if(Y.write_shift(2,B),Y.write_shift(1,G),Y.write_shift(1,j),W==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var T=0,L=0,J=0,Z=0;return W<0&&(T=1,W=-W),L=Math.log2(W)|0,W/=Math.pow(2,L-31),Z=W>>>0,(Z&2147483648)==0&&(W/=2,++L,Z=W>>>0),W-=Z,Z|=2147483648,Z>>>=0,W*=Math.pow(2,32),J=W>>>0,Y.write_shift(4,J),Y.write_shift(4,Z),L+=16383+(T?32768:0),Y.write_shift(2,L),Y}function R(B,j){var G=F(B);return B.l+=j-14,G}function D(B,j){var G=S(B),W=B.read_shift(4);return G[1].v=W>>6,G}function O(B,j){var G=S(B),W=B.read_shift(8,"f");return G[1].v=W,G}function M(B,j){var G=O(B);return B.l+=j-12,G}function z(B,j){return B[B.l+j-1]==0?B.read_shift(j,"cstr"):""}function K(B,j){var G=B[B.l++];G>j-1&&(G=j-1);for(var W="";W.length<G;)W+=String.fromCharCode(B[B.l++]);return W}function X(B,j,G){if(!(!G.qpro||j<21)){var W=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var Y=B.read_shift(j-21,"cstr");return[W,Y]}}function ve(B,j){for(var G={},W=B.l+j;B.l<W;){var Y=B.read_shift(2);if(Y==14e3){for(G[Y]=[0,""],G[Y][0]=B.read_shift(2);B[B.l];)G[Y][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return G}function te(B,j){var G=ie(5+B.length);G.write_shift(2,14e3),G.write_shift(2,j);for(var W=0;W<B.length;++W){var Y=B.charCodeAt(W);G[G.l++]=Y>127?95:Y}return G[G.l++]=0,G}var ue={0:{n:"BOF",f:Jn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:K},255:{n:"BOF",f:Jn},21506:{n:"WKSNF",f:Jn},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ve},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},de={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function ke(B){var j=B.read_shift(2),G=B.read_shift(1);if(G!=0)throw"unsupported QPW string type "+G.toString(16);return B.read_shift(j,"sbcs-cont")}function He(B,j){wr(B,0);var G=j||{},W={};G.dense&&(W["!data"]=[]);var Y=[],T="",L={s:{r:-1,c:-1},e:{r:-1,c:-1}},J=0,Z=0,ee=0,ne=0,ye={SheetNames:[],Sheets:{}},we=[];e:for(;B.l<B.length;){var Se=B.read_shift(2),Ee=B.read_shift(2),be=B.slice(B.l,B.l+Ee);switch(wr(be,0),Se){case 1:if(be.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var Ce=be.read_shift(4),ce=(be.length-be.l)/Ce|0,et=0;et<Ce;++et){var dt=be.l+ce,ht={};be.l+=2,ht.numFmtId=be.read_shift(2),de[ht.numFmtId]&&(ht.z=de[ht.numFmtId]),be.l=dt,we.push(ht)}break;case 1025:break;case 1026:break;case 1031:for(be.l+=12;be.l<be.length;)J=be.read_shift(2),Z=be.read_shift(1),Y.push(be.read_shift(J,"cstr"));break;case 1032:break;case 1537:{var Dt=be.read_shift(2);W={},G.dense&&(W["!data"]=[]),L.s.c=be.read_shift(2),L.e.c=be.read_shift(2),L.s.r=be.read_shift(4),L.e.r=be.read_shift(4),be.l+=4,be.l+2<be.length&&(J=be.read_shift(2),Z=be.read_shift(1),T=J==0?"":be.read_shift(J,"cstr")),T||(T=Ot(Dt))}break;case 1538:{if(L.s.c>255||L.s.r>999999)break;L.e.c<L.s.c&&(L.e.c=L.s.c),L.e.r<L.s.r&&(L.e.r=L.s.r),W["!ref"]=Ct(L),y_(ye,W,T)}break;case 2561:ee=be.read_shift(2),L.e.c<ee&&(L.e.c=ee),L.s.c>ee&&(L.s.c=ee),ne=be.read_shift(4),L.s.r>ne&&(L.s.r=ne),ne=be.read_shift(4),L.e.r<ne&&(L.e.r=ne);break;case 3073:{ne=be.read_shift(4),J=be.read_shift(4),L.s.r>ne&&(L.s.r=ne),L.e.r<ne+J-1&&(L.e.r=ne+J-1);for(var bn=Ot(ee);be.l<be.length;){var Be={t:"z"},bt=be.read_shift(1),Yt=-1;bt&128&&(Yt=be.read_shift(2));var Fn=bt&64?be.read_shift(2)-1:0;switch(bt&31){case 0:break;case 1:break;case 2:Be={t:"n",v:be.read_shift(2)};break;case 3:Be={t:"n",v:be.read_shift(2,"i")};break;case 4:Be={t:"n",v:ak(be)};break;case 5:Be={t:"n",v:be.read_shift(8,"f")};break;case 7:Be={t:"s",v:Y[Z=be.read_shift(4)-1]};break;case 8:Be={t:"n",v:be.read_shift(8,"f")},be.l+=2,be.l+=4,isNaN(Be.v)&&(Be={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(bt&31)}Yt!=-1&&(we[Yt-1]||{}).z&&(Be.z=we[Yt-1].z);var Ma=0;if(bt&32)switch(bt&31){case 2:Ma=be.read_shift(2);break;case 3:Ma=be.read_shift(2,"i");break;case 7:Ma=be.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(bt&31)}if(!(!G.sheetStubs&&Be.t=="z")){var sr=Cn(Be);Be.t=="n"&&Be.z&&vo(Be.z)&&G.cellDates&&(sr.v=lc(Be.v),sr.t=typeof sr.v=="number"?"n":"d"),W["!data"]!=null?(W["!data"][ne]||(W["!data"][ne]=[]),W["!data"][ne][ee]=sr):W[bn+Ut(ne)]=sr}for(++ne,--J;Fn-- >0&&J>=0;){if(bt&32)switch(bt&31){case 2:Be={t:"n",v:Be.v+Ma&65535};break;case 3:Be={t:"n",v:Be.v+Ma&65535},Be.v>32767&&(Be.v-=65536);break;case 7:Be={t:"s",v:Y[Z=Z+Ma>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(bt&31)}else switch(bt&31){case 1:Be={t:"z"};break;case 2:Be={t:"n",v:be.read_shift(2)};break;case 7:Be={t:"s",v:Y[Z=be.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(bt&31)}!G.sheetStubs&&Be.t=="z"||(W["!data"]!=null?(W["!data"][ne]||(W["!data"][ne]=[]),W["!data"][ne][ee]=Be):W[bn+Ut(ne)]=Be),++ne,--J}}}break;case 3074:{ee=be.read_shift(2),ne=be.read_shift(4);var ts=ke(be);W["!data"]!=null?(W["!data"][ne]||(W["!data"][ne]=[]),W["!data"][ne][ee]={t:"s",v:ts}):W[Ot(ee)+Ut(ne)]={t:"s",v:ts}}break}B.l+=Ee}return ye}return{sheet_to_wk1:i,book_to_wk3:s,to_workbook:t}}();function gQe(e){var t={},n=e.match(xi),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Qe(n[r]);switch(s[0].replace(/<\w*:/g,"<")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=_R[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var mQe=function(){function e(r){var i=Ur(r,"t");if(!i)return{t:"s",v:""};var s={t:"s",v:Wt(i[1])},a=Ur(r,"rPr");return a&&(s.s=gQe(a[1])),s}var t=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(i){return i.replace(t,"").split(n).map(e).filter(function(s){return s.v})}}(),xQe=function(){var t=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var u=i.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(s.push("<"+u+">"),a.push("</"+u+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),vQe=/<(?:\w+:)?t\b[^<>]*>([^<]*)<\/(?:\w+:)?t>/g,yQe=/<(?:\w+:)?r\b[^<>]*>/;function HR(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Wt(dn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""),!0),r.r=dn(e),n&&(r.h=Sx(r.t))):e.match(yQe)&&(r.r=dn(e),r.t=Wt(dn((tYe(e,"rPh").match(vQe)||[]).join("").replace(xi,"")),!0),n&&(r.h=xQe(mQe(r.r)))),r):{t:""}}var _Qe=/<(?:\w+:)?(?:si|sstItem)>/g,EQe=/<\/(?:\w+:)?(?:si|sstItem)>/;function bQe(e,t){var n=[],r="";if(!e)return n;var i=Ur(e,"sst");if(i){r=i[1].replace(_Qe,"").split(EQe);for(var s=0;s!=r.length;++s){var a=HR(r[s].trim(),t);a!=null&&(n[n.length]=a)}i=Qe(i[0].slice(0,i[0].indexOf(">"))),n.Count=i.count,n.Unique=i.uniqueCount}return n}var wQe=/^\s|\s$|[\t\n\r]/;function AQe(e,t){if(!t.bookSST)return"";var n=[gr];n[n.length]=Le("sst",null,{xmlns:Hd[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),typeof i.t!="string"&&(i.t=String(i.t)),i.t.match(wQe)&&(s+=' xml:space="preserve"'),s+=">"+kt(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function SQe(e){return[e.read_shift(4),e.read_shift(4)]}function CQe(e,t){var n=[],r=!1;return Mc(e,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function kQe(e,t){return t||(t=ie(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var TQe=OYe;function FQe(e){var t=Yi();Ae(t,159,kQe(e));for(var n=0;n<e.length;++n)Ae(t,19,TQe(e[n]));return Ae(t,160),t.end()}function jae(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function fc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function DQe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=fc(e,4),t.U=fc(e,4),t.W=fc(e,4),t}function NQe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function OQe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(NQe(e));return t}function $Qe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function IQe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=fc(e,4),t.U=fc(e,4),t.W=fc(e,4),t}function RQe(e){var t=IQe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Gae(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function qae(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function MQe(e){var t=fc(e);switch(t.Minor){case 2:return[t.Minor,LQe(e)];case 3:return[t.Minor,PQe()];case 4:return[t.Minor,BQe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function LQe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=Gae(e,n),i=qae(e,e.length-e.l);return{t:"Std",h:r,v:i}}function PQe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function BQe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(xi,function(s){var a=Qe(s);switch(Ao(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function UQe(e,t){var n={},r=n.EncryptionVersionInfo=fc(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=Gae(e,i),t-=i,n.EncryptionVerifier=qae(e,t),n}function zQe(e){var t={},n=t.EncryptionVersionInfo=fc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function VR(e){var t=0,n,r=jae(e),i=r.length+1,s,a,o,u,l;for(n=Xf(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(t&16384)===0?0:1,u=t<<1&32767,l=o|u,t=l^a;return t^52811}var Xae=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=t[a.length-1],u=104,l=a.length-1;l>=0;--l)for(var c=a[l],f=0;f!=7;++f)c&64&&(o^=n[u]),c*=2,--u;return o};return function(a){for(var o=jae(a),u=s(o),l=o.length,c=Xf(16),f=0;f!=16;++f)c[f]=0;var h,d,p;for((l&1)===1&&(h=u>>8,c[l]=i(e[0],h),--l,h=u&255,d=o[o.length-1],c[l]=i(d,h));l>0;)--l,h=u>>8,c[l]=i(o[l],h),--l,h=u&255,c[l]=i(o[l],h);for(l=15,p=15-o.length;p>0;)h=u>>8,c[l]=i(e[p],h),--l,--p,h=u&255,c[l]=i(o[l],h),--l,--p;return c}}(),WQe=function(e,t,n,r,i){i||(i=t),r||(r=Xae(e));var s,a;for(s=0;s!=t.length;++s)a=t[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},HQe=function(e){var t=0,n=Xae(e);return function(r){var i=WQe("",r,t,n);return t=i[1],i[0]}};function VQe(e,t,n,r){var i={key:Jn(e),verificationBytes:Jn(e)};return n.password&&(i.verifier=VR(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=HQe(n.password)),i}function jQe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=zQe(e):r.Data=UQe(e,t),r}function GQe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?jQe(e,t-2,r):VQe(e,n.biff>=8?t:t-2,n,r),r}function qQe(e,t){switch(t.type){case"base64":return U2(Oa(e),t);case"binary":return U2(e,t);case"buffer":return U2(Nt&&Buffer.isBuffer(e)?e.toString("binary"):tl(e),t);case"array":return U2(fd(e),t)}throw new Error("Unrecognized type "+t.type)}function U2(e,t){var n=t||{},r={},i=n.dense;i&&(r["!data"]=[]);var s=kR(e,"\\trowd","\\row");if(!s)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:s.length-1}},o=[];return s.forEach(function(u,l){i&&(o=r["!data"][l]=[]);for(var c=/\\[\w\-]+\b/g,f=0,h,d=-1,p=[];(h=c.exec(u))!=null;){var g=u.slice(f,c.lastIndex-h[0].length);switch(g.charCodeAt(0)==32&&(g=g.slice(1)),g.length&&p.push(g),h[0]){case"\\cell":if(++d,p.length){var m={v:p.join(""),t:"s"};m.v=="TRUE"||m.v=="FALSE"?(m.v=m.v=="TRUE",m.t="b"):isNaN(wa(m.v))?Xr[m.v]!=null&&(m.t="e",m.w=m.v,m.v=Xr[m.v]):(m.t="n",n.cellText!==!1&&(m.w=m.v),m.v=wa(m.v)),i?o[d]=m:r[It({r:l,c:d})]=m}p=[];break;case"\\par":p.push(`
`);break}f=c.lastIndex}d>a.e.c&&(a.e.c=d)}),r["!ref"]=Ct(a),r}function XQe(e,t){var n=b0(qQe(e,t),t);return n.bookType="rtf",n}function KQe(e,t){var n=["{\\rtf1\\ansi"];if(!e["!ref"])return n[0]+"}";for(var r=Qt(e["!ref"]),i,s=e["!data"]!=null,a=[],o=r.s.r;o<=r.e.r;++o){n.push("\\trowd\\trautofit1");for(var u=r.s.c;u<=r.e.c;++u)n.push("\\cellx"+(u+1));for(n.push("\\pard\\intbl"),s&&(a=e["!data"][o]||[]),u=r.s.c;u<=r.e.c;++u){var l=It({r:o,c:u});if(i=s?a[u]:e[l],!i||i.v==null&&(!i.f||i.F)){n.push(" \\cell");continue}n.push(" "+(i.w||(bc(i),i.w)||"").replace(/[\r\n]/g,"\\par ")),n.push("\\cell")}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}function YQe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Vv(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function JQe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=i-s;if(a===0)return[0,0,t];var o=0,u=0,l=i+s;switch(u=a/(l>1?2-l:l),i){case t:o=((n-r)/a+6)%6;break;case n:o=(r-t)/a+2;break;case r:o=(t-n)/a+4;break}return[o/6,u,l/2]}function ZQe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*t,u;if(n!==0)switch(o|0){case 0:case 6:u=i*o,a[0]+=i,a[1]+=u;break;case 1:u=i*(2-o),a[0]+=u,a[1]+=i;break;case 2:u=i*(o-2),a[1]+=i,a[2]+=u;break;case 3:u=i*(4-o),a[1]+=u,a[2]+=i;break;case 4:u=i*(o-4),a[2]+=i,a[0]+=u;break;case 5:u=i*(6-o),a[2]+=u,a[0]+=i;break}for(var l=0;l!=3;++l)a[l]=Math.round(a[l]*255);return a}function tA(e,t){if(t===0)return e;var n=JQe(YQe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Vv(ZQe(n))}var Kae=6,QQe=15,eet=1,$i=Kae;function jv(e){return Math.floor((e+Math.round(128/$i)/256)*$i)}function Gv(e){return Math.floor((e-5)/$i*100+.5)/100}function nA(e){return Math.round((e*$i+5)/$i*256)/256}function YF(e){return nA(Gv(jv(e)))}function jR(e){var t=Math.abs(e-YF(e)),n=$i;if(t>.005)for($i=eet;$i<QQe;++$i)Math.abs(e-YF(e))<=t&&(t=Math.abs(e-YF(e)),n=$i);$i=n}function Kf(e){e.width?(e.wpx=jv(e.width),e.wch=Gv(e.wpx),e.MDW=$i):e.wpx?(e.wch=Gv(e.wpx),e.width=nA(e.wch),e.MDW=$i):typeof e.wch=="number"&&(e.width=nA(e.wch),e.wpx=jv(e.width),e.MDW=$i),e.customWidth&&delete e.customWidth}var tet=96,Yae=tet;function qv(e){return e*96/Yae}function n1(e){return e*Yae/96}var net={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function ret(e,t,n,r){t.Borders=[];var i={},s=!1;(e.match(xi)||[]).forEach(function(a){var o=Qe(a);switch(Ao(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=cn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=cn(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function iet(e,t,n,r){t.Fills=[];var i={},s=!1;(e.match(xi)||[]).forEach(function(a){var o=Qe(a);switch(Ao(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function set(e,t,n,r){t.Fonts=[];var i={},s=!1;(e.match(xi)||[]).forEach(function(a){var o=Qe(a);switch(Ao(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=dn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?cn(o.val):1;break;case"<b/>":i.bold=1;break;case"</b>":case"</b":break;case"<i":i.italic=o.val?cn(o.val):1;break;case"<i/>":i.italic=1;break;case"</i>":case"</i":break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"</u>":case"</u":break;case"<strike":i.strike=o.val?cn(o.val):1;break;case"<strike/>":i.strike=1;break;case"</strike>":case"</strike":break;case"<outline":i.outline=o.val?cn(o.val):1;break;case"<outline/>":i.outline=1;break;case"</outline>":case"</outline":break;case"<shadow":i.shadow=o.val?cn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"</shadow>":case"</shadow":break;case"<condense":i.condense=o.val?cn(o.val):1;break;case"<condense/>":i.condense=1;break;case"</condense>":case"</condense":break;case"<extend":i.extend=o.val?cn(o.val):1;break;case"<extend/>":i.extend=1;break;case"</extend>":case"</extend":break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":case"</sz":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":case"</vertAlign":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":case"</family":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":case"</scheme":break;case"<charset":if(o.val=="1")break;o.codepage=_R[parseInt(o.val,10)];break;case"<charset/>":case"</charset>":case"</charset":break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=cn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var u=Ah[i.color.index];i.color.index==81&&(u=Ah[1]),u||(u=Ah[1]),i.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=tA(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":case"</color":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":case"</AlternateContent":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function aet(e,t,n){t.NumberFmt=[];for(var r=Mn(ct),i=0;i<r.length;++i)t.NumberFmt[r[i]]=ct[r[i]];var s=e.match(xi);if(s)for(i=0;i<s.length;++i){var a=Qe(s[i]);switch(Ao(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Wt(dn(a.formatCode)),u=parseInt(a.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}Cf(o,u)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function oet(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=Le("numFmt",null,{numFmtId:r,formatCode:kt(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Le("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var z2=["numFmtId","fillId","fontId","borderId","xfId"],W2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function uet(e,t,n){t.CellXf=[];var r,i=!1;(e.match(xi)||[]).forEach(function(s){var a=Qe(s),o=0;switch(Ao(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":case"<xf>":for(r=a,delete r[0],o=0;o<z2.length;++o)r[z2[o]]&&(r[z2[o]]=parseInt(r[z2[o]],10));for(o=0;o<W2.length;++o)r[W2[o]]&&(r[W2[o]]=cn(r[W2[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":case"<alignment>":var u={};a.vertical&&(u.vertical=a.vertical),a.horizontal&&(u.horizontal=a.horizontal),a.textRotation!=null&&(u.textRotation=a.textRotation),a.indent&&(u.indent=a.indent),a.wrapText&&(u.wrapText=cn(a.wrapText)),r.alignment=u;break;case"</alignment>":break;case"<protection":case"<protection>":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function cet(e){var t=[];return t[t.length]=Le("cellXfs",null),e.forEach(function(n){t[t.length]=Le("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Le("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var fet=function(){return function(n,r,i){var s={};if(!n)return s;n=CR(h_(n,"<!--","-->"));var a;return(a=Ur(n,"numFmts"))&&aet(a[0],s,i),(a=Ur(n,"fonts"))&&set(a[0],s,r,i),(a=Ur(n,"fills"))&&iet(a[0],s,r,i),(a=Ur(n,"borders"))&&ret(a[0],s,r,i),(a=Ur(n,"cellXfs"))&&uet(a[0],s,i),s}}();function het(e,t){var n=[gr,Le("styleSheet",null,{xmlns:Hd[0],"xmlns:vt":Fr.vt})],r;return e.SSF&&(r=oet(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=cet(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function det(e,t){var n=e.read_shift(2),r=Ji(e);return[n,r]}function pet(e,t,n){n||(n=ie(6+4*t.length)),n.write_shift(2,e),$r(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function get(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=BYe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=e.read_shift(1);a!=0&&(r.underline=a);var o=e.read_shift(1);o>0&&(r.family=o);var u=e.read_shift(1);switch(u>0&&(r.charset=u),e.l++,r.color=PYe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ji(e),r}function met(e,t){t||(t=ie(25+4*32)),t.write_shift(2,e.sz*20),UYe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Zw(e.color,t);var r=0;return r=2,t.write_shift(1,r),$r(e.name,t),t.length>t.l?t.slice(0,t.l):t}var xet=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],JF,vet=es;function zW(e,t){t||(t=ie(4*3+8*7+16*1)),JF||(JF=tk(xet));var n=JF[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(Zw({auto:1},t),Zw({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function yet(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function Jae(e,t,n){n||(n=ie(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Em(e,t){return t||(t=ie(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var _et=es;function Eet(e,t){return t||(t=ie(51)),t.write_shift(1,0),Em(null,t),Em(null,t),Em(null,t),Em(null,t),Em(null,t),t.length>t.l?t.slice(0,t.l):t}function bet(e,t){return t||(t=ie(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Wv(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function wet(e,t,n){var r=ie(2052);return r.write_shift(4,e),Wv(t,r),Wv(n,r),r.length>r.l?r.slice(0,r.l):r}function Aet(e,t,n){var r={};r.NumberFmt=[];for(var i in ct)r.NumberFmt[i]=ct[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Mc(e,function(u,l,c){switch(c){case 44:r.NumberFmt[u[0]]=u[1],Cf(u[1],u[0]);break;case 43:r.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=tA(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(c),a=!0;break;case 38:s.pop(),a=!1;break;default:if(l.T>0)s.push(c);else if(l.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function Cet(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&++n}),n!=0&&(Ae(e,615,qo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Ae(e,44,pet(i,t[i]))}),Ae(e,616))}}function ket(e){var t=1;Ae(e,611,qo(t)),Ae(e,43,met({sz:12,color:{theme:1},name:"Calibri",family:2})),Ae(e,612)}function Tet(e){var t=2;Ae(e,603,qo(t)),Ae(e,45,zW({patternType:"none"})),Ae(e,45,zW({patternType:"gray125"})),Ae(e,604)}function Fet(e){var t=1;Ae(e,613,qo(t)),Ae(e,46,Eet()),Ae(e,614)}function Det(e){var t=1;Ae(e,626,qo(t)),Ae(e,47,Jae({numFmtId:0},65535)),Ae(e,627)}function Net(e,t){Ae(e,617,qo(t.length)),t.forEach(function(n){Ae(e,47,Jae(n,0))}),Ae(e,618)}function Oet(e){var t=1;Ae(e,619,qo(t)),Ae(e,48,bet({xfId:0,name:"Normal"})),Ae(e,620)}function $et(e){var t=0;Ae(e,505,qo(t)),Ae(e,506)}function Iet(e){var t=0;Ae(e,508,wet(t,"TableStyleMedium9","PivotStyleMedium4")),Ae(e,509)}function Ret(e,t){var n=Yi();return Ae(n,278),Cet(n,e.SSF),ket(n),Tet(n),Fet(n),Det(n),Net(n,t.cellXfs),Oet(n),$et(n),Iet(n),Ae(n,279),n.end()}var Met=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Let(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(xi)||[]).forEach(function(i){var s=Qe(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"</a:srgbClr>":break;case"<a:sysClr":r.rgb=s.lastClr;break;case"</a:sysClr>":break;case"</a:dk1>":case"</a:lt1>":case"<a:dk1>":case"<a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Met.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Pet(e,t,n){t.themeElements={};var r;if(!(r=wh(e,"a:clrScheme")))throw new Error("clrScheme not found in themeElements");if(Let(r,t,n),!(r=wh(e,"a:fontScheme")))throw new Error("fontScheme not found in themeElements");if(!(r=wh(e,"a:fmtScheme")))throw new Error("fmtScheme not found in themeElements")}function Zae(e,t){(!e||e.length===0)&&(e=GR());var n,r={};if(!(n=wh(e,"a:themeElements")))throw new Error("themeElements not found in theme");return Pet(n[0],r,t),r.raw=e,r}function GR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[gr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Bet(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var a;try{a=qse(s,{type:"array"})}catch{return}var o=xs(a,"theme/theme/theme1.xml",!0);if(o)return Zae(o,n)}}function Uet(e){return e.read_shift(4)}function zet(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Wet(e,4);break;case 2:t.xclrValue=$ae(e);break;case 3:t.xclrValue=Uet(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Wet(e,t){return es(e,t)}function Het(e,t){return es(e,t)}function Vet(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=zet(e);break;case 6:r[1]=Het(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function jet(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(Vet(e,n-e.l));return{ixfe:r,ext:s}}function Get(e,t){t.forEach(function(n){n[0]})}function qet(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ji(e)}}function Xet(e){var t=ie(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),$r(e.name,t),t.slice(0,t.l)}function Ket(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Yet(e){var t=ie(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function Jet(e,t){var n=ie(8+2*t.length);return n.write_shift(4,e),$r(t,n),n.slice(0,n.l)}function Zet(e){return e.l+=4,e.read_shift(4)!=0}function Qet(e,t){var n=ie(8);return n.write_shift(4,e),n.write_shift(4,1),n}function ett(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Mc(e,function(u,l,c){switch(c){case 335:r.Types.push({name:u.name});break;case 51:u.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:s.push(c),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!l.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function ttt(){var e=Yi();return Ae(e,332),Ae(e,334,qo(1)),Ae(e,335,Xet({name:"XLDAPR",version:12e4,flags:3496657072})),Ae(e,336),Ae(e,339,Jet(1,"XLDAPR")),Ae(e,52),Ae(e,35,qo(514)),Ae(e,4096,qo(0)),Ae(e,4097,ja(1)),Ae(e,36),Ae(e,53),Ae(e,340),Ae(e,337,Qet(1)),Ae(e,51,Yet([[1,0]])),Ae(e,338),Ae(e,333),e.end()}function ntt(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,a;return e.replace(xi,function(o){var u=Qe(o);switch(Ao(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<r.Types.length;++l)r.Types[l].name==u.name&&(a=r.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[u.t-1].name,index:+u.v}):s==0&&r.Value.push({type:r.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+u.i);break;default:if(!i&&(n!=null&&n.WTF))throw new Error("unrecognized "+u[0]+" in metadata")}return o}),r}function rtt(){var e=[gr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function itt(e){var t=[];if(!e)return t;var n=1;return(e.match(xi)||[]).forEach(function(r){var i=Qe(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function stt(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=It(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function att(e,t,n){var r=[];return Mc(e,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function ott(e,t,n,r){if(!e)return e;var i=r||{},s=!1;Mc(e,function(o,u,l){switch(l){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!u.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}},i)}function utt(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^<>]*r:id="([^<>"]*)"/)||["",""])[1];return t["!id"][n].Target}function ltt(e,t,n){var r=0;(Vse(e,"shape")||[]).forEach(function(i){var s="",a=!0,o=-1,u=-1,l=-1;switch(i.replace(xi,function(f,h){var d=Qe(f);switch(Ao(d[0])){case"<ClientData":d.ObjectType&&(s=d.ObjectType);break;case"<Visible":case"<Visible/>":a=!1;break;case"<Row":case"<Row>":o=h+f.length;break;case"</Row>":u=+i.slice(o,h).trim();break;case"<Column":case"<Column>":o=h+f.length;break;case"</Column>":l=+i.slice(o,h).trim();break}return""}),s){case"Note":var c=Zv(t,u>=0&&l>=0?It({r:u,c:l}):n[r].ref);c.c&&(c.c.hidden=a),++r;break}})}function Qae(e,t,n){var r=[21600,21600],i=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Le("xml",null,{"xmlns:v":ha.v,"xmlns:o":ha.o,"xmlns:x":ha.x,"xmlns:mv":ha.mv}).replace(/\/>/,">"),Le("o:shapelayout",Le("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"})],a=65536*e,o=t||[];return o.length>0&&s.push(Le("v:shapetype",[Le("v:stroke",null,{joinstyle:"miter"}),Le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:r.join(","),"o:spt":202,path:i})),o.forEach(function(u){++a,s.push(ctt(u,a))}),s.push("</xml>"),s.join("")}function ctt(e,t,n){var r=pn(e[0]),i={color2:"#BEFF82",type:"gradient"};i.type=="gradient"&&(i.angle="-180");var s=i.type=="gradient"?Le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,a=Le("v:fill",s,i),o={on:"t",obscured:"t"};return["<v:shape"+Bv({id:"_x0000_s"+t,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",a,Le("v:shadow",null,o),Le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ai("x:Anchor",[r.c+1,0,r.r+1,0,r.c+3,20,r.r+5,20].join(",")),ai("x:AutoFill","False"),ai("x:Row",String(r.r)),ai("x:Column",String(r.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}function WW(e,t,n,r){var i=e["!data"]!=null,s;t.forEach(function(a){var o=pn(a.ref);if(!(o.r<0||o.c<0)){if(i?(e["!data"][o.r]||(e["!data"][o.r]=[]),s=e["!data"][o.r][o.c]):s=e[a.ref],!s){s={t:"z"},i?e["!data"][o.r][o.c]=s:e[a.ref]=s;var u=Qt(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var l=Ct(u);e["!ref"]=l}s.c||(s.c=[]);var c={a:a.author,t:a.t,r:a.r,T:n};a.h&&(c.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(c.a==r[f].id){c.a=r[f].name||c.a;break}}s.c.push(c)}})}function ftt(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=Ur(e,"authors");i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^<>]*>(.*)/);o&&n.push(o[1])}});var s=Ur(e,"commentList");return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^<>]*>/);if(o){var u=Qe(o[0]),l={author:u.authorId&&n[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},c=pn(u.ref);if(!(t.sheetRows&&t.sheetRows<=c.r)){var f=Ur(a,"text"),h=!!f&&!!f[1]&&HR(f[1])||{r:"",t:"",h:""};l.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),l.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(l.h=h.h),r.push(l)}}}}),r}function htt(e){var t=[gr,Le("comments",null,{xmlns:Hd[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(i){var s=kt(i.a);n.indexOf(s)==-1&&(n.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var i=0,s=[],a=0;if(r[1][0]&&r[1][0].T&&r[1][0].ID&&(i=n.indexOf("tc="+r[1][0].ID)),r[1].forEach(function(l){l.a&&(i=n.indexOf(kt(l.a))),l.T&&++a,s.push(l.t==null?"":kt(l.t))}),a===0)r[1].forEach(function(l){t.push('<comment ref="'+r[0]+'" authorId="'+n.indexOf(kt(l.a))+'"><text>'),t.push(ai("t",l.t==null?"":kt(l.t))),t.push("</text></comment>")});else{r[1][0]&&r[1][0].T&&r[1][0].ID&&(i=n.indexOf("tc="+r[1][0].ID)),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>');for(var o=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)o+=`Reply:
    `+s[u]+`
`;t.push(ai("t",kt(o))),t.push("</text></comment>")}}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function dtt(e,t){var n=[],r=!1,i={},s=0;return e.replace(xi,function(o,u){var l=Qe(o);switch(Ao(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=u+o.length;break;case"</text>":i.t=e.slice(s,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return o}),n}function eoe(e,t,n){var r=[gr,Le("ThreadedComments",null,{xmlns:Fr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=u.id:u.parentId=s,a.ID=u.id,a.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),r.push(Le("threadedComment",ai("text",a.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function ptt(e,t){var n=[],r=!1;return e.replace(xi,function(s){var a=Qe(s);switch(Ao(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function toe(e){var t=[gr,Le("personList",null,{xmlns:Fr.TCMNT,"xmlns:x":Hd[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(Le("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function gtt(e){var t={};t.iauthor=e.read_shift(4);var n=qd(e);return t.rfx=n.s,t.ref=It(n.s),e.l+=16,t}function mtt(e,t){return t==null&&(t=ie(36)),t.write_shift(4,e[1].iauthor),B1(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var xtt=Ji;function HW(e){return $r(e.slice(0,54))}function vtt(e,t){var n=[],r=[],i={},s=!1;return Mc(e,function(o,u,l){switch(l){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),n}function ytt(e){var t=Yi(),n=[];return Ae(t,628),Ae(t,630),e.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ae(t,632,HW(i.a)),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),Ae(t,632,HW("tc="+i.ID))))})}),Ae(t,631),Ae(t,633),e.forEach(function(r){r[1].forEach(function(i){var s=-1;i.ID&&(s=n.indexOf("tc="+i.ID)),s==-1&&r[1][0].T&&r[1][0].ID&&(s=n.indexOf("tc="+r[1][0].ID)),s==-1&&(s=n.indexOf(i.a)),i.iauthor=s;var a={s:pn(r[0]),e:pn(r[0])};Ae(t,635,mtt([a,i])),i.t&&i.t.length>0&&Ae(t,637,IYe(i)),Ae(t,636),delete i.iauthor})}),Ae(t,634),Ae(t,629),t.end()}var _tt="application/vnd.ms-office.vbaProject";function Ett(e){var t=ft.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ft.utils.cfb_add(t,i,e.FileIndex[r].content)}}),ft.write(t)}function btt(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&ft.utils.cfb_add(e,i,t.FileIndex[r].content)}})}var wtt=["xlsb","xlsm","xlam","biff8","xla"];function Att(){return{"!type":"dialog"}}function Stt(){return{"!type":"dialog"}}function Ctt(){return{"!type":"macro"}}function ktt(){return{"!type":"macro"}}var kh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,a){var o=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return o?c+=t.c:--c,u?l+=t.r:--l,i+(o?"":"$")+Ot(c)+(u?"":"$")+Ut(l)}return function(i,s){return t=s,i.replace(e,n)}}(),uk=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{uk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var lk=function(){return function(t,n){return t.replace(uk,function(r,i,s,a,o,u){var l=RR(a)-(s?0:n.c),c=IR(u)-(o?0:n.r),f=o=="$"?c+1:c==0?"":"["+c+"]",h=s=="$"?l+1:l==0?"":"["+l+"]";return i+"R"+f+"C"+h})}}();function noe(e,t){return e.replace(uk,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Ot(RR(s)+t.c))+(a=="$"?a+o:Ut(IR(o)+t.r))})}function VW(e,t,n){var r=Yr(t),i=r.s,s=pn(n),a={r:s.r-i.r,c:s.c-i.c};return noe(e,a)}function Ttt(e){return e.length!=1}function jW(e){return e.replace(/_xlfn\./g,"")}function mr(e){e.l+=1}function Yf(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function roe(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return ioe(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),a=Yf(e),o=Yf(e);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function ioe(e){var t=Yf(e),n=Yf(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Ftt(e,t,n){if(n.biff<8)return ioe(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=Yf(e),a=Yf(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function soe(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return Dtt(e);var r=e.read_shift(n&&n.biff==12?4:2),i=Yf(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Dtt(e){var t=Yf(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Ntt(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Ott(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return $tt(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function $tt(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function Itt(e,t,n){var r=(e[e.l++]&96)>>5,i=roe(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Rtt(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var a=roe(e,s,n);return[r,i,a]}function Mtt(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Ltt(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function Ptt(e,t,n){var r=(e[e.l++]&96)>>5,i=Ftt(e,t-1,n);return[r,i]}function Btt(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function GW(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function Utt(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function ztt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function Wtt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function Htt(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Vtt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function aoe(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function jtt(e){return e.read_shift(2),aoe(e)}function Gtt(e){return e.read_shift(2),aoe(e)}function qtt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=soe(e,0,n);return[r,i]}function Xtt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=Ott(e,0,n);return[r,i]}function Ktt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=soe(e,0,n);return[r,i,s]}function Ytt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[crt[i],loe[i],r]}function Jtt(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:Ztt(e);return[i,(s[0]===0?loe:lrt)[s[1]]]}function Ztt(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Qtt(e,t,n){e.l+=n&&n.biff==2?3:4}function ent(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function tnt(e){return e.l++,Rr[e.read_shift(1)]}function nnt(e){return e.l++,e.read_shift(2)}function rnt(e){return e.l++,e.read_shift(1)!==0}function int(e){return e.l++,Ri(e)}function snt(e,t,n){return e.l++,e1(e,t-1,n)}function ant(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=ar(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=Rr[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Ri(e);break;case 2:n[1]=Xd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function ont(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?qd:ok)(e));return i}function unt(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=ant(e,n.biff);return a}function lnt(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function cnt(e,t,n){if(n.biff==5)return fnt(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function fnt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function hnt(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function dnt(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function pnt(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function gnt(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var mnt=es,xnt=es,vnt=es;function m_(e,t,n){return e.l+=2,[Ntt(e)]}function qR(e){return e.l+=6,[]}var ynt=m_,_nt=qR,Ent=qR,bnt=m_;function ooe(e){return e.l+=2,[Jn(e),e.read_shift(2)&1]}var wnt=m_,Ant=ooe,Snt=qR,Cnt=m_,knt=m_,Tnt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Fnt(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),a=Tnt[n>>2&31];return{ixti:t,coltype:n&3,rt:a,idx:r,c:i,C:s}}function Dnt(e){return e.l+=2,[e.read_shift(4)]}function Nnt(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Ont(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function $nt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Int(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Rnt(e){return e.l+=4,[0,0]}var qW={1:{n:"PtgExp",f:ent},2:{n:"PtgTbl",f:vnt},3:{n:"PtgAdd",f:mr},4:{n:"PtgSub",f:mr},5:{n:"PtgMul",f:mr},6:{n:"PtgDiv",f:mr},7:{n:"PtgPower",f:mr},8:{n:"PtgConcat",f:mr},9:{n:"PtgLt",f:mr},10:{n:"PtgLe",f:mr},11:{n:"PtgEq",f:mr},12:{n:"PtgGe",f:mr},13:{n:"PtgGt",f:mr},14:{n:"PtgNe",f:mr},15:{n:"PtgIsect",f:mr},16:{n:"PtgUnion",f:mr},17:{n:"PtgRange",f:mr},18:{n:"PtgUplus",f:mr},19:{n:"PtgUminus",f:mr},20:{n:"PtgPercent",f:mr},21:{n:"PtgParen",f:mr},22:{n:"PtgMissArg",f:mr},23:{n:"PtgStr",f:snt},26:{n:"PtgSheet",f:Nnt},27:{n:"PtgEndSheet",f:Ont},28:{n:"PtgErr",f:tnt},29:{n:"PtgBool",f:rnt},30:{n:"PtgInt",f:nnt},31:{n:"PtgNum",f:int},32:{n:"PtgArray",f:Btt},33:{n:"PtgFunc",f:Ytt},34:{n:"PtgFuncVar",f:Jtt},35:{n:"PtgName",f:lnt},36:{n:"PtgRef",f:qtt},37:{n:"PtgArea",f:Itt},38:{n:"PtgMemArea",f:hnt},39:{n:"PtgMemErr",f:mnt},40:{n:"PtgMemNoMem",f:xnt},41:{n:"PtgMemFunc",f:dnt},42:{n:"PtgRefErr",f:pnt},43:{n:"PtgAreaErr",f:Mtt},44:{n:"PtgRefN",f:Xtt},45:{n:"PtgAreaN",f:Ptt},46:{n:"PtgMemAreaN",f:$nt},47:{n:"PtgMemNoMemN",f:Int},57:{n:"PtgNameX",f:cnt},58:{n:"PtgRef3d",f:Ktt},59:{n:"PtgArea3d",f:Rtt},60:{n:"PtgRefErr3d",f:gnt},61:{n:"PtgAreaErr3d",f:Ltt},255:{}},Mnt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Lnt={1:{n:"PtgElfLel",f:ooe},2:{n:"PtgElfRw",f:Cnt},3:{n:"PtgElfCol",f:ynt},6:{n:"PtgElfRwV",f:knt},7:{n:"PtgElfColV",f:bnt},10:{n:"PtgElfRadical",f:wnt},11:{n:"PtgElfRadicalS",f:Snt},13:{n:"PtgElfColS",f:_nt},15:{n:"PtgElfColSV",f:Ent},16:{n:"PtgElfRadicalLel",f:Ant},25:{n:"PtgList",f:Fnt},29:{n:"PtgSxName",f:Dnt},255:{}},Pnt={0:{n:"PtgAttrNoop",f:Rnt},1:{n:"PtgAttrSemi",f:Vtt},2:{n:"PtgAttrIf",f:Wtt},4:{n:"PtgAttrChoose",f:Utt},8:{n:"PtgAttrGoto",f:ztt},16:{n:"PtgAttrSum",f:Qtt},32:{n:"PtgAttrBaxcel",f:GW},33:{n:"PtgAttrBaxcel",f:GW},64:{n:"PtgAttrSpace",f:jtt},65:{n:"PtgAttrSpaceSemi",f:Gtt},128:{n:"PtgAttrIfError",f:Htt},255:{}};function x_(e,t,n,r){if(r.biff<8)return es(e,t);for(var i=e.l+t,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=unt(e,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=ont(e,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=e.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return t=i-e.l,t!==0&&s.push(es(e,t)),s}function v_(e,t,n){for(var r=e.l+t,i,s,a=[];r!=e.l;)t=r-e.l,s=e[e.l],i=qW[s]||qW[Mnt[s]],(s===24||s===25)&&(i=(s===24?Lnt:Pnt)[e[e.l+1]]),!i||!i.f?es(e,t):a.push([i.n,i.f(e,t,n)]);return a}function Bnt(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Unt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function znt(e,t){var n=e.lastIndexOf("!"),r=t.lastIndexOf("!");return n==-1&&r==-1?e+":"+t:n>0&&r>0&&e.slice(0,n).toLowerCase()==t.slice(0,r).toLowerCase()?e+":"+t.slice(r+1):(console.error("Cannot hydrate range",e,t),e+":"+t)}function uoe(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function XW(e,t,n){var r=uoe(e,t,n);return r=="#REF"?r:zv(r,n)}function Di(e,t,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],u,l,c,f=0,h=0,d,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,m="",x=0,y=e[0].length;x<y;++x){var v=e[0][x];switch(v[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),l=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:m=qt(" ",e[0][g][1][1]);break;case 1:m=qt("\r",e[0][g][1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}l=l+m,g=-1}o.push(l+Unt[v[0]]+u);break;case"PtgIsect":u=o.pop(),l=o.pop(),o.push(l+" "+u);break;case"PtgUnion":u=o.pop(),l=o.pop(),o.push(l+","+u);break;case"PtgRange":u=o.pop(),l=o.pop(),o.push(znt(l,u));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=kx(v[1][1],a,i),o.push(Tx(c,s));break;case"PtgRefN":c=n?kx(v[1][1],n,i):v[1][1],o.push(Tx(c,s));break;case"PtgRef3d":f=v[1][1],c=kx(v[1][2],a,i),p=XW(r,f,i),o.push(p+"!"+Tx(c,s));break;case"PtgFunc":case"PtgFuncVar":var _=v[1][0],E=v[1][1];_||(_=0),_&=127;var w=_==0?[]:o.slice(-_);o.length-=_,E==="User"&&(E=w.shift()),o.push(E+"("+w.join(",")+")");break;case"PtgBool":o.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(v[1]);break;case"PtgNum":o.push(String(v[1]));break;case"PtgStr":o.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(v[1]);break;case"PtgAreaN":d=EW(v[1][1],n?{s:n}:a,i),o.push(jF(d,i));break;case"PtgArea":d=EW(v[1][1],a,i),o.push(jF(d,i));break;case"PtgArea3d":f=v[1][1],d=v[1][2],p=XW(r,f,i),o.push(p+"!"+jF(d,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var b=(r.names||[])[h-1]||(r[0]||[])[h],S=b?b.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!i.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var A=v[1][1];h=v[1][2];var C;if(i.biff<=5)A<0&&(A=-A),r[A]&&(C=r[A][h]);else{var k="";if(((r[A]||[])[0]||[])[0]==14849||(((r[A]||[])[0]||[])[0]==1025?r[A][h]&&r[A][h].itab>0&&(k=r.SheetNames[r[A][h].itab-1]+"!"):k=r.SheetNames[h-1]+"!"),r[A]&&r[A][h])k+=r[A][h].Name;else if(r[0]&&r[0][h])k+=r[0][h].Name;else{var F=(uoe(r,A,i)||"").split(";;");F[h-1]?k=F[h-1]:k+="SH33TJSERRX"}o.push(k);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var N="(",R=")";if(g>=0){switch(m="",e[0][g][1][0]){case 2:N=qt(" ",e[0][g][1][1])+N;break;case 3:N=qt("\r",e[0][g][1][1])+N;break;case 4:R=qt(" ",e[0][g][1][1])+R;break;case 5:R=qt("\r",e[0][g][1][1])+R;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(N+o.pop()+R);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:v[1][1],r:v[1][0]};var D={c:n.c,r:n.r};if(r.sharedf[It(c)]){var O=r.sharedf[It(c)];o.push(Di(O,a,D,r,i))}else{var M=!1;for(u=0;u!=r.arrayf.length;++u)if(l=r.arrayf[u],!(c.c<l[0].s.c||c.c>l[0].e.c)&&!(c.r<l[0].s.r||c.r>l[0].e.r)){o.push(Di(l[1],a,D,r,i)),M=!0;break}M||o.push(v[1])}break;case"PtgArray":o.push("{"+Bnt(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&z.indexOf(e[0][x][0])==-1){v=e[0][g];var K=!0;switch(v[1][0]){case 4:K=!1;case 0:m=qt(" ",v[1][1]);break;case 5:K=!1;case 1:m=qt("\r",v[1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}o.push((K?m:"")+o.pop()+(K?"":m)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]=="TRUE"?!0:o[0]=="FALSE"?!1:o[0]}function Wnt(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],es(e,t-2)];var o=v_(e,a,n);return t!==a+i&&(s=x_(e,t-a-i,o,n)),e.l=r,[o,s]}function Hnt(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],es(e,t-2)];var o=v_(e,a,n);return t!==a+i&&(s=x_(e,t-a-i,o,n)),e.l=r,[o,s]}function Vnt(e,t,n,r){var i=e.l+t,s=v_(e,r,n),a;return i!==e.l&&(a=x_(e,i-e.l,s,n)),[s,a]}function jnt(e,t,n){var r=e.l+t,i,s=e.read_shift(2),a=v_(e,s,n);return s==65535?[[],es(e,t-2)]:(t!==s+2&&(i=x_(e,r-s-2,a,n)),[a,i])}function Gnt(e){var t;if(Kl(e,e.l+6)!==65535)return[Ri(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function qnt(e){if(e==null){var t=ie(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return dd(e);return dd(0)}function ZF(e,t,n){var r=e.l+t,i=du(e,6,n),s=Gnt(e),a=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=Hnt(e,r-e.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function Xnt(e,t,n,r,i){var s=gd(t,n,i),a=qnt(e.v),o=ie(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var l=ie(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];var f=lr([s,a,o,l]);return f}function ck(e,t,n){var r=e.read_shift(4),i=v_(e,r,n),s=e.read_shift(4),a=s>0?x_(e,s,i,n):null;return[i,a]}var Knt=ck,fk=ck,Ynt=ck,Jnt=ck;function KW(e){if((e|0)==e&&e<Math.pow(2,16)&&e>=0){var t=ie(11);return t.write_shift(4,3),t.write_shift(1,30),t.write_shift(2,e),t.write_shift(4,0),t}var n=ie(17);return n.write_shift(4,11),n.write_shift(1,31),n.write_shift(8,e),n.write_shift(4,0),n}function Znt(e){var t=ie(10);return t.write_shift(4,2),t.write_shift(1,28),t.write_shift(1,e),t.write_shift(4,0),t}function Qnt(e){var t=ie(10);return t.write_shift(4,2),t.write_shift(1,29),t.write_shift(1,e?1:0),t.write_shift(4,0),t}function ert(e){var t=ie(7);t.write_shift(4,3+2*e.length),t.write_shift(1,23),t.write_shift(2,e.length);var n=ie(2*e.length);n.write_shift(2*e.length,e,"utf16le");var r=ie(4);return r.write_shift(4,0),lr([t,n,r])}function trt(e){var t=pn(e),n=ie(15);return n.write_shift(4,7),n.write_shift(1,36),n.write_shift(4,t.r),n.write_shift(2,t.c|(e.charAt(0)=="$"?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n}function nrt(e,t){var n=e.lastIndexOf("!"),r=e.slice(0,n);e=e.slice(n+1);var i=pn(e);r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var s=ie(17);return s.write_shift(4,9),s.write_shift(1,58),s.write_shift(2,2+t.SheetNames.map(function(a){return a.toLowerCase()}).indexOf(r.toLowerCase())),s.write_shift(4,i.r),s.write_shift(2,i.c|(e.charAt(0)=="$"?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),s.write_shift(4,0),s}function rrt(e,t){var n=e.lastIndexOf("!"),r=e.slice(0,n);e=e.slice(n+1),r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var i=ie(17);return i.write_shift(4,9),i.write_shift(1,60),i.write_shift(2,2+t.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(r.toLowerCase())),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(4,0),i}function irt(e){var t=e.split(":"),n=t[0],r=ie(23);r.write_shift(4,15),n=t[0];var i=pn(n);return r.write_shift(1,36),r.write_shift(4,i.r),r.write_shift(2,i.c|(n.charAt(0)=="$"?0:1)<<14|(n.match(/\$\d/)?0:1)<<15),r.write_shift(4,0),n=t[1],i=pn(n),r.write_shift(1,36),r.write_shift(4,i.r),r.write_shift(2,i.c|(n.charAt(0)=="$"?0:1)<<14|(n.match(/\$\d/)?0:1)<<15),r.write_shift(4,0),r.write_shift(1,17),r.write_shift(4,0),r}function srt(e,t){var n=e.lastIndexOf("!"),r=e.slice(0,n);e=e.slice(n+1),r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var i=e.split(":"),s=ie(27);s.write_shift(4,19);var a=i[0],o=pn(a);return s.write_shift(1,58),s.write_shift(2,2+t.SheetNames.map(function(u){return u.toLowerCase()}).indexOf(r.toLowerCase())),s.write_shift(4,o.r),s.write_shift(2,o.c|(a.charAt(0)=="$"?0:1)<<14|(a.match(/\$\d/)?0:1)<<15),a=i[1],o=pn(a),s.write_shift(1,58),s.write_shift(2,2+t.SheetNames.map(function(u){return u.toLowerCase()}).indexOf(r.toLowerCase())),s.write_shift(4,o.r),s.write_shift(2,o.c|(a.charAt(0)=="$"?0:1)<<14|(a.match(/\$\d/)?0:1)<<15),s.write_shift(1,17),s.write_shift(4,0),s}function art(e,t){var n=e.lastIndexOf("!"),r=e.slice(0,n);e=e.slice(n+1),r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var i=Yr(e),s=ie(23);return s.write_shift(4,15),s.write_shift(1,59),s.write_shift(2,2+t.SheetNames.map(function(a){return a.toLowerCase()}).indexOf(r.toLowerCase())),s.write_shift(4,i.s.r),s.write_shift(4,i.e.r),s.write_shift(2,i.s.c),s.write_shift(2,i.e.c),s.write_shift(4,0),s}function ort(e,t){if(typeof e=="number")return KW(e);if(typeof e=="boolean")return Qnt(e);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(e))return Znt(+Xr[e]);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return trt(e);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return irt(e);if(e.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return art(e,t);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return nrt(e,t);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return srt(e,t);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(e))return rrt(e,t);if(/^".*"$/.test(e))return ert(e);if(/^[+-]\d+$/.test(e))return KW(parseInt(e,10));throw"Formula |"+e+"| not supported for XLSB"}var urt=ort,lrt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},loe={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},crt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function YW(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\$'([^']|'')+'/g,function(t){return t.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(t,n){return n.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?t:n}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function frt(e){var t="of:="+e.replace(uk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function QF(e){e=e.replace(/\$'([^']|'')+'/g,function(r){return r.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(r,i){return i.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?r:i});var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function coe(e){return e.replace(/!/,".").replace(/:/,":.")}var Nx={},Zp={},Ox=typeof Map<"u";function XR(e,t,n){var r=0,i=e.length;if(n){if(Ox?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var s=Ox?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(Ox?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function hk(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&($i=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=Gv(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=nA(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function Th(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function w0(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Cf(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function foe(e,t,n,r,i,s,a){try{r.cellNF&&(e.z=ct[t])}catch(u){if(r.WTF)throw u}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Vn(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(ct[t]==null&&Cf(IKe[t]||"General",t),e.t==="e")e.w=e.w||Rr[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lv(e.v);else if(e.t==="d"){var o=Yn(e.v,!!a);(o|0)===o?e.w=o.toString(10):e.w=Lv(o)}else{if(e.v===void 0)return"";e.w=cd(e.v,Zp)}else e.t==="d"?e.w=$a(t,Yn(e.v,!!a),Zp):e.w=$a(t,e.v,Zp)}catch(u){if(r.WTF)throw u}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=tA(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=tA(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(r.WTF&&s.Fills)throw u}}}function hrt(e,t,n){if(e&&e["!ref"]){var r=Qt(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function drt(e,t){var n=Qt(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=Ct(n))}var prt=/<(?:\w+:)?mergeCell ref=["'][A-Z0-9:]+['"]\s*[\/]?>/g,grt=/<(?:\w+:)?hyperlink [^<>]*>/mg,mrt=/"(\w*:\w*)"/,xrt=/<(?:\w+:)?col\b[^<>]*[\/]?>/g,vrt=/<(?:\w+:)?autoFilter[^>]*/g,yrt=/<(?:\w+:)?pageMargins[^<>]*\/>/g,hoe=/<(?:\w+:)?sheetPr\b[^<>]*?\/>/;function _rt(e,t,n,r,i,s,a){if(!e)return e;r||(r={"!id":{}});var o={};t.dense&&(o["!data"]=[]);var u={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",c="",f=Ur(e,"sheetData");f?(l=e.slice(0,f.index),c=e.slice(f.index+f[0].length)):l=c=e;var h=l.match(hoe);h?KR(h[0],o,i,n):(h=Ur(l,"sheetPr"))&&brt(h[0],h[1]||"",o,i,n);var d=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var p=l.slice(d,d+50).match(mrt);p&&!(t&&t.nodim)&&drt(o,p[1])}var g=Ur(l,"sheetViews");g&&g[1]&&Rrt(g[1],i);var m=[];if(t.cellStyles){var x=l.match(xrt);x&&Drt(m,x)}f&&Prt(f[1],o,t,u,s,a,i);var y=c.match(vrt);y&&(o["!autofilter"]=Ort(y[0]));var v=[],_=c.match(prt);if(_)for(d=0;d!=_.length;++d)v[d]=Qt(_[d].slice(_[d].indexOf("=")+2));var E=c.match(grt);E&&krt(o,E,r);var w=c.match(yrt);w&&(o["!margins"]=Trt(Qe(w[0])));var b;if((b=c.match(/legacyDrawing r:id="(.*?)"/))&&(o["!legrel"]=b[1]),t&&t.nodim&&(u.s.c=u.s.r=0),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=Ct(u)),t.sheetRows>0&&o["!ref"]){var S=Qt(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>u.e.r&&(S.e.r=u.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>u.e.c&&(S.e.c=u.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Ct(S))}return m.length>0&&(o["!cols"]=m),v.length>0&&(o["!merges"]=v),r["!id"][o["!legrel"]]&&(o["!legdrawel"]=r["!id"][o["!legrel"]]),o}function Ert(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Ct(e[n])+'"/>';return t+"</mergeCells>"}function KR(e,t,n,r){var i=Qe(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Wt(dn(i.codeName)))}function brt(e,t,n,r,i){KR(e.slice(0,e.indexOf(">")),n,r,i)}function wrt(e,t,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[n];try{t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}s=!0,a.codeName=Iu(kt(u))}if(e&&e["!outline"]){var l={summaryBelow:1,summaryRight:1};e["!outline"].above&&(l.summaryBelow=0),e["!outline"].left&&(l.summaryRight=0),o=(o||"")+Le("outlinePr",null,l)}!s&&!o||(i[i.length]=Le("sheetPr",o,a))}var Art=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Srt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Crt(e){var t={sheet:1};return Art.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),Srt.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=VR(e.password).toString(16).toUpperCase()),Le("sheetProtection",null,t)}function krt(e,t,n){for(var r=e["!data"]!=null,i=0;i!=t.length;++i){var s=Qe(dn(t[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Wt(s.location))):(s.Target="#"+Wt(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Qt(s.ref),u=o.s.r;u<=o.e.r;++u)for(var l=o.s.c;l<=o.e.c;++l){var c=Ot(l)+Ut(u);r?(e["!data"][u]||(e["!data"][u]=[]),e["!data"][u][l]||(e["!data"][u][l]={t:"z",v:void 0}),e["!data"][u][l].l=s):(e[c]||(e[c]={t:"z",v:void 0}),e[c].l=s)}}}function Trt(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function Frt(e){return Th(e),Le("pageMargins",null,e)}function Drt(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=Qe(t[r],!0);i.hidden&&(i.hidden=cn(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,jR(i.width)),Kf(i);s<=a;)e[s++]=Cn(i)}}function Nrt(e,t){for(var n=["<cols>"],r,i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=Le("col",null,hk(i,r)));return n[n.length]="</cols>",n.join("")}function Ort(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function $rt(e,t,n,r){var i=typeof e.ref=="string"?e.ref:Ct(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=Yr(i);a.s.r==a.e.r&&(a.e.r=Yr(t["!ref"]).e.r,i=Ct(a));for(var o=0;o<s.length;++o){var u=s[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref=zv(n.SheetNames[r])+"!"+Uv(i);break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Le("autoFilter",null,{ref:i})}var Irt=/<(?:\w:)?sheetView(?:[^<>a-z][^<>]*)?\/?>/g;function Rrt(e,t){t.Views||(t.Views=[{}]),(e.match(Irt)||[]).forEach(function(n,r){var i=Qe(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),i.rightToLeft&&cn(i.rightToLeft)&&(t.Views[r].RTL=!0)})}function Mrt(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Le("sheetViews",Le("sheetView",null,i),{})}function Lrt(e,t,n,r,i,s,a){if(e.c&&n["!comments"].push([t,e.c]),(e.v===void 0||e.t==="z"&&!(r||{}).sheetStubs)&&typeof e.f!="string"&&typeof e.z>"u")return"";var o="",u=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":o=e.v?"1":"0";break;case"n":isNaN(e.v)?(e.t="e",o=Rr[e.v=36]):isFinite(e.v)?o=""+e.v:(e.t="e",o=Rr[e.v=7]);break;case"e":o=Rr[e.v];break;case"d":if(r&&r.cellDates){var c=Vn(e.v,a);o=c.toISOString(),c.getUTCFullYear()<1900&&(o=o.slice(o.indexOf("T")+1).replace("Z",""))}else e=Cn(e),e.t="n",o=""+(e.v=Yn(Vn(e.v,a),a));typeof e.z>"u"&&(e.z=ct[14]);break;default:o=e.v;break}var f=e.t=="z"||e.v==null?"":ai("v",kt(o)),h={r:t},d=w0(r.cellXfs,e,r);switch(d!==0&&(h.s=d),e.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){f=ai("v",""+XR(r.Strings,e.v,r.revStrings)),h.t="s";break}else h.t="str";break}if(e.t!=u&&(e.t=u,e.v=l),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;f=Le("f",kt(e.f),p)+(e.v!=null?f:"")}return e.l&&(e.l.display=kt(o),n["!links"].push([t,e.l])),e.D&&(h.cm=1),Le("c",f,h)}var Prt=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/ref=["']([^"']*)["']/;return function(s,a,o,u,l,c,f){for(var h=0,d="",p=[],g=[],m=0,x=0,y=0,v="",_,E,w=0,b=0,S,A,C=0,k=0,F=Array.isArray(c.CellXf),N,R=[],D=[],O=a["!data"]!=null,M=[],z={},K=!1,X=!!o.sheetStubs,ve=!!((f||{}).WBProps||{}).date1904,te=s.split(t),ue=0,le=te.length;ue!=le;++ue){d=te[ue].trim();var de=d.length;if(de!==0){var ke=0;e:for(h=0;h<de;++h)switch(d[h]){case">":if(d[h-1]!="/"){++h;break e}if(o&&o.cellStyles){if(E=Qe(d.slice(ke,h),!0),w=E.r!=null?parseInt(E.r,10):w+1,b=-1,o.sheetRows&&o.sheetRows<w)continue;z={},K=!1,E.ht&&(K=!0,z.hpt=parseFloat(E.ht),z.hpx=n1(z.hpt)),E.hidden&&cn(E.hidden)&&(K=!0,z.hidden=!0),E.outlineLevel!=null&&(K=!0,z.level=+E.outlineLevel),K&&(M[w-1]=z)}break;case"<":ke=h;break}if(ke>=h)break;if(E=Qe(d.slice(ke,h),!0),w=E.r!=null?parseInt(E.r,10):w+1,b=-1,!(o.sheetRows&&o.sheetRows<w)){o.nodim||(u.s.r>w-1&&(u.s.r=w-1),u.e.r<w-1&&(u.e.r=w-1)),o&&o.cellStyles&&(z={},K=!1,E.ht&&(K=!0,z.hpt=parseFloat(E.ht),z.hpx=n1(z.hpt)),E.hidden&&cn(E.hidden)&&(K=!0,z.hidden=!0),E.outlineLevel!=null&&(K=!0,z.level=+E.outlineLevel),K&&(M[w-1]=z)),p=d.slice(h).split(e);for(var He=0;He!=p.length&&p[He].trim().charAt(0)=="<";++He);for(p=p.slice(He),h=0;h!=p.length;++h)if(d=p[h].trim(),d.length!==0){if(g=d.match(n),m=h,x=0,y=0,d="<c "+(d.slice(0,1)=="<"?">":"")+d,g!=null&&g.length===2){for(m=0,v=g[1],x=0;x!=v.length&&!((y=v.charCodeAt(x)-64)<1||y>26);++x)m=26*m+y;--m,b=m}else++b;for(x=0;x!=d.length&&d.charCodeAt(x)!==62;++x);if(++x,E=Qe(d.slice(0,x),!0),E.r||(E.r=It({r:w-1,c:b})),v=d.slice(x),_={t:""},(g=Ur(v,"v"))!=null&&g[1]!==""&&(_.v=Wt(g[1])),o.cellFormula){if((g=Ur(v,"f"))!=null){if(g[1]=="")g[0].indexOf('t="shared"')>-1&&(A=Qe(g[0]),D[A.si]&&(_.f=VW(D[A.si][1],D[A.si][2],E.r)));else if(_.f=Wt(dn(g[1]),!0),o.xlfn||(_.f=jW(_.f)),g[0].indexOf('t="array"')>-1)_.F=(v.match(r)||[])[1],_.F.indexOf(":")>-1&&R.push([Qt(_.F),_.F]);else if(g[0].indexOf('t="shared"')>-1){A=Qe(g[0]);var B=Wt(dn(g[1]));o.xlfn||(B=jW(B)),D[parseInt(A.si,10)]=[A,B,E.r]}}else(g=v.match(/<f[^<>]*\/>/))&&(A=Qe(g[0]),D[A.si]&&(_.f=VW(D[A.si][1],D[A.si][2],E.r)));var j=pn(E.r);for(x=0;x<R.length;++x)j.r>=R[x][0].s.r&&j.r<=R[x][0].e.r&&j.c>=R[x][0].s.c&&j.c<=R[x][0].e.c&&(_.F=R[x][1])}if(E.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(X)_.t="z";else continue;else _.t=E.t||"n";switch(u.s.c>b&&(u.s.c=b),u.e.c<b&&(u.e.c=b),_.t){case"n":if(_.v==""||_.v==null){if(!X)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!X)continue;_.t="z"}else S=Nx[parseInt(_.v,10)],_.v=S.t,_.r=S.r,o.cellHTML&&(_.h=S.h);break;case"str":_.t="s",_.v=_.v!=null?Wt(dn(_.v),!0):"",o.cellHTML&&(_.h=Sx(_.v));break;case"inlineStr":g=Ur(v,"is"),_.t="s",g!=null&&(S=HR(g[1]))?(_.v=S.t,o.cellHTML&&(_.h=S.h)):_.v="";break;case"b":_.v=cn(_.v);break;case"d":o.cellDates?_.v=Vn(_.v,ve):(_.v=Yn(Vn(_.v,ve),ve),_.t="n");break;case"e":(!o||o.cellText!==!1)&&(_.w=_.v),_.v=Xr[_.v];break}if(C=k=0,N=null,F&&E.s!==void 0&&(N=c.CellXf[E.s],N!=null&&(N.numFmtId!=null&&(C=N.numFmtId),o.cellStyles&&N.fillId!=null&&(k=N.fillId))),foe(_,C,k,o,l,c,ve),o.cellDates&&F&&_.t=="n"&&vo(ct[C])&&(_.v=lc(_.v+(ve?1462:0)),_.t=typeof _.v=="number"?"n":"d"),E.cm&&o.xlmeta){var G=(o.xlmeta.Cell||[])[+E.cm-1];G&&G.type=="XLDAPR"&&(_.D=!0)}var W;o.nodim&&(W=pn(E.r),u.s.r>W.r&&(u.s.r=W.r),u.e.r<W.r&&(u.e.r=W.r)),O?(W=pn(E.r),a["!data"][W.r]||(a["!data"][W.r]=[]),a["!data"][W.r][W.c]=_):a[E.r]=_}}}}M.length>0&&(a["!rows"]=M)}}();function Brt(e,t,n,r){var i=[],s=[],a=Qt(e["!ref"]),o="",u,l="",c=[],f=0,h=0,d=e["!rows"],p=e["!data"]!=null,g=p?e["!data"]:[],m={r:l},x,y=-1,v=(((r||{}).Workbook||{}).WBProps||{}).date1904;for(h=a.s.c;h<=a.e.c;++h)c[h]=Ot(h);for(f=a.s.r;f<=a.e.r;++f){s=[],l=Ut(f);var _=p?g[f]:[];for(h=a.s.c;h<=a.e.c;++h){u=c[h]+l;var E=p?_[h]:e[u];E!==void 0&&(o=Lrt(E,u,e,t,n,r,v))!=null&&s.push(o)}(s.length>0||d&&d[f])&&(m={r:l},d&&d[f]&&(x=d[f],x.hidden&&(m.hidden=1),y=-1,x.hpx?y=qv(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(m.ht=y,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),i[i.length]=Le("row",s.join(""),m))}if(d)for(;f<d.length;++f)d&&d[f]&&(m={r:f+1},x=d[f],x.hidden&&(m.hidden=1),y=-1,x.hpx?y=qv(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(m.ht=y,m.customHeight=1),x.level&&(m.outlineLevel=x.level),i[i.length]=Le("row","",m));return i.join("")}function Urt(e,t,n,r){var i=[gr,Le("worksheet",null,{xmlns:Hd[0],"xmlns:r":Fr.r})],s=n.SheetNames[e],a=0,o="",u=n.Sheets[s];u==null&&(u={});var l=u["!ref"]||"A1",c=Qt(l);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),l=Ct(c)}r||(r={}),u["!comments"]=[];var f=[];wrt(u,n,e,t,i),i[i.length]=Le("dimension",null,{ref:l}),i[i.length]=Mrt(u,t,e,n),t.sheetFormat&&(i[i.length]=Le("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=Nrt(u,u["!cols"])),i[a=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=Brt(u,t,e,n),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),u["!protect"]&&(i[i.length]=Crt(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=$rt(u["!autofilter"],u,n,e)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=Ert(u["!merges"]));var h=-1,d,p=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(g){g[1].Target&&(d={ref:g[0]},g[1].Target.charAt(0)!="#"&&(p=un(r,-1,kt(g[1].Target).replace(/#[\s\S]*$/,""),$t.HLINK),d["r:id"]="rId"+p),(h=g[1].Target.indexOf("#"))>-1&&(d.location=kt(g[1].Target.slice(h+1))),g[1].Tooltip&&(d.tooltip=kt(g[1].Tooltip)),d.display=g[1].display,i[i.length]=Le("hyperlink",null,d))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=Frt(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=ai("ignoredErrors",Le("ignoredError",null,{numberStoredAsText:1,sqref:l}))),f.length>0&&(p=un(r,-1,"../drawings/drawing"+(e+1)+".xml",$t.DRAW),i[i.length]=Le("drawing",null,{"r:id":"rId"+p}),u["!drawing"]=f),u["!comments"].length>0&&(p=un(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",$t.VML),i[i.length]=Le("legacyDrawing",null,{"r:id":"rId"+p}),u["!legacy"]=p),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function zrt(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function Wrt(e,t,n){var r=ie(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=qv(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,u=r.l;r.l+=4;for(var l={r:e,c:0},c=n["!data"]!=null,f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var h=-1,d=-1,p=f<<10;p<f+1<<10;++p){l.c=p;var g=c?(n["!data"][l.r]||[])[l.c]:n[It(l)];g&&(h<0&&(h=p),d=p)}h<0||(++o,r.write_shift(4,h),r.write_shift(4,d))}var m=r.l;return r.l=u,r.write_shift(4,o),r.l=m,r.length>r.l?r.slice(0,r.l):r}function Hrt(e,t,n,r){var i=Wrt(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Ae(e,0,i)}var Vrt=qd,jrt=B1;function Grt(){}function qrt(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=RYe(e),n}function Xrt(e,t,n){n==null&&(n=ie(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return Zw({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),dae(e,n),n.slice(0,n.l)}function Krt(e){var t=So(e);return[t]}function Yrt(e,t,n){return n==null&&(n=ie(8)),Vd(t,n)}function Jrt(e){var t=jd(e);return[t]}function Zrt(e,t,n){return n==null&&(n=ie(4)),Gd(t,n)}function Qrt(e){var t=So(e),n=e.read_shift(1);return[t,n,"b"]}function eit(e,t,n){return n==null&&(n=ie(9)),Vd(t,n),n.write_shift(1,e.v?1:0),n}function tit(e){var t=jd(e),n=e.read_shift(1);return[t,n,"b"]}function nit(e,t,n){return n==null&&(n=ie(5)),Gd(t,n),n.write_shift(1,e.v?1:0),n}function rit(e){var t=So(e),n=e.read_shift(1);return[t,n,"e"]}function e3(e,t,n){return n==null&&(n=ie(9)),Vd(t,n),n.write_shift(1,e.v),n}function iit(e){var t=jd(e),n=e.read_shift(1);return[t,n,"e"]}function t3(e,t,n){return n==null&&(n=ie(8)),Gd(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function sit(e){var t=So(e),n=e.read_shift(4);return[t,n,"s"]}function ait(e,t,n){return n==null&&(n=ie(12)),Vd(t,n),n.write_shift(4,t.v),n}function oit(e){var t=jd(e),n=e.read_shift(4);return[t,n,"s"]}function uit(e,t,n){return n==null&&(n=ie(8)),Gd(t,n),n.write_shift(4,t.v),n}function lit(e){var t=So(e),n=Ri(e);return[t,n,"n"]}function cit(e,t,n){return n==null&&(n=ie(16)),Vd(t,n),dd(e.v,n),n}function doe(e){var t=jd(e),n=Ri(e);return[t,n,"n"]}function fit(e,t,n){return n==null&&(n=ie(12)),Gd(t,n),dd(e.v,n),n}function hit(e){var t=So(e),n=ak(e);return[t,n,"n"]}function dit(e,t,n){return n==null&&(n=ie(12)),Vd(t,n),pae(e.v,n),n}function pit(e){var t=jd(e),n=ak(e);return[t,n,"n"]}function git(e,t,n){return n==null&&(n=ie(8)),Gd(t,n),pae(e.v,n),n}function mit(e){var t=So(e),n=MR(e);return[t,n,"is"]}function xit(e){var t=So(e),n=Ji(e);return[t,n,"str"]}function vit(e,t,n){var r=e.v==null?"":String(e.v);return n==null&&(n=ie(12+4*e.v.length)),Vd(t,n),$r(r,n),n.length>n.l?n.slice(0,n.l):n}function yit(e){var t=jd(e),n=Ji(e);return[t,n,"str"]}function _it(e,t,n){var r=e.v==null?"":String(e.v);return n==null&&(n=ie(8+4*r.length)),Gd(t,n),$r(r,n),n.length>n.l?n.slice(0,n.l):n}function Eit(e,t,n){var r=e.l+t,i=So(e);i.r=n["!row"];var s=e.read_shift(1),a=[i,s,"b"];if(n.cellFormula){e.l+=2;var o=fk(e,r-e.l,n);a[3]=Di(o,null,i,n.supbooks,n)}else e.l=r;return a}function bit(e,t,n){var r=e.l+t,i=So(e);i.r=n["!row"];var s=e.read_shift(1),a=[i,s,"e"];if(n.cellFormula){e.l+=2;var o=fk(e,r-e.l,n);a[3]=Di(o,null,i,n.supbooks,n)}else e.l=r;return a}function wit(e,t,n){var r=e.l+t,i=So(e);i.r=n["!row"];var s=Ri(e),a=[i,s,"n"];if(n.cellFormula){e.l+=2;var o=fk(e,r-e.l,n);a[3]=Di(o,null,i,n.supbooks,n)}else e.l=r;return a}function Ait(e,t,n){var r=e.l+t,i=So(e);i.r=n["!row"];var s=Ji(e),a=[i,s,"str"];if(n.cellFormula){e.l+=2;var o=fk(e,r-e.l,n);a[3]=Di(o,null,i,n.supbooks,n)}else e.l=r;return a}var Sit=qd,Cit=B1;function kit(e,t){return t==null&&(t=ie(4)),t.write_shift(4,e),t}function Tit(e,t){var n=e.l+t,r=qd(e),i=sk(e),s=Ji(e),a=Ji(e),o=Ji(e);e.l=n;var u={rfx:r,relId:i,loc:s,display:o};return a&&(u.Tooltip=a),u}function Fit(e,t){var n=ie(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));B1({s:pn(e[0]),e:pn(e[0])},n),LR("rId"+t,n);var r=e[1].Target.indexOf("#"),i=r==-1?"":e[1].Target.slice(r+1);return $r(i||"",n),$r(e[1].Tooltip||"",n),$r("",n),n.slice(0,n.l)}function Dit(){}function Nit(e,t,n){var r=e.l+t,i=gae(e),s=e.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=Knt(e,r-e.l,n);a[1]=o}else e.l=r;return a}function Oit(e,t,n){var r=e.l+t,i=qd(e),s=[i];if(n.cellFormula){var a=Jnt(e,r-e.l,n);s[1]=a,e.l=r}else e.l=r;return s}function $it(e,t,n){n==null&&(n=ie(18));var r=hk(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var poe=["left","right","top","bottom","header","footer"];function Iit(e){var t={};return poe.forEach(function(n){t[n]=Ri(e)}),t}function Rit(e,t){return t==null&&(t=ie(6*8)),Th(e),poe.forEach(function(n){dd(e[n],t)}),t}function Mit(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Lit(e,t,n){n==null&&(n=ie(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function Pit(e){var t=ie(24);return t.write_shift(4,4),t.write_shift(4,1),B1(e,t),t}function Bit(e,t){return t==null&&(t=ie(16*4+2)),t.write_shift(2,e.password?VR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function Uit(){}function zit(){}function Wit(e,t,n,r,i,s,a){if(!e)return e;var o=t||{};r||(r={"!id":{}});var u={};o.dense&&(u["!data"]=[]);var l,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,p,g,m,x,y,v,_,E,w=[];o.biff=12,o["!row"]=0;var b=0,S=!1,A=[],C={},k=o.supbooks||i.supbooks||[[]];if(k.sharedf=C,k.arrayf=A,k.SheetNames=i.SheetNames||i.Sheets.map(function(K){return K.name}),!o.supbooks&&(o.supbooks=k,i.Names))for(var F=0;F<i.Names.length;++F)k[0][F+1]=i.Names[F];var N=[],R=[],D=!1;Xv[16]={n:"BrtShortReal",f:doe};var O,M=1462*+!!((i||{}).WBProps||{}).date1904;if(Mc(e,function(X,ve,te){if(!h)switch(te){case 148:l=X;break;case 0:d=X,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),_=Ut(m=d.r),o["!row"]=d.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=n1(X.hpt)),R[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:X[2]},X[2]){case"n":p.v=X[1];break;case"s":v=Nx[X[1]],p.v=v.t,p.r=v.r;break;case"b":p.v=!!X[1];break;case"e":p.v=X[1],o.cellText!==!1&&(p.w=Rr[p.v]);break;case"str":p.t="s",p.v=X[1];break;case"is":p.t="s",p.v=X[1].t;break}if((g=a.CellXf[X[0].iStyleRef])&&foe(p,g.numFmtId,null,o,s,a,M>0),x=X[0].c==-1?x+1:X[0].c,o.dense?(u["!data"][m]||(u["!data"][m]=[]),u["!data"][m][x]=p):u[Ot(x)+_]=p,o.cellFormula){for(S=!1,b=0;b<A.length;++b){var ue=A[b];d.r>=ue[0].s.r&&d.r<=ue[0].e.r&&x>=ue[0].s.c&&x<=ue[0].e.c&&(p.F=Ct(ue[0]),S=!0)}!S&&X.length>3&&(p.f=X[3])}if(c.s.r>d.r&&(c.s.r=d.r),c.s.c>x&&(c.s.c=x),c.e.r<d.r&&(c.e.r=d.r),c.e.c<x&&(c.e.c=x),o.cellDates&&g&&p.t=="n"&&vo(ct[g.numFmtId])){var le=Ml(p.v+M);le&&(p.t="d",p.v=new Date(Date.UTC(le.y,le.m-1,le.d,le.H,le.M,le.S,le.u)))}O&&(O.type=="XLDAPR"&&(p.D=!0),O=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},x=X[0].c==-1?x+1:X[0].c,o.dense?(u["!data"][m]||(u["!data"][m]=[]),u["!data"][m][x]=p):u[Ot(x)+_]=p,c.s.r>d.r&&(c.s.r=d.r),c.s.c>x&&(c.s.c=x),c.e.r<d.r&&(c.e.r=d.r),c.e.c<x&&(c.e.c=x),O&&(O.type=="XLDAPR"&&(p.D=!0),O=void 0);break;case 176:w.push(X);break;case 49:O=((o.xlmeta||{}).Cell||[])[X-1];break;case 494:var de=r["!id"][X.relId];for(de?(X.Target=de.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=de):X.relId==""&&(X.Target="#"+X.loc),m=X.rfx.s.r;m<=X.rfx.e.r;++m)for(x=X.rfx.s.c;x<=X.rfx.e.c;++x)o.dense?(u["!data"][m]||(u["!data"][m]=[]),u["!data"][m][x]||(u["!data"][m][x]={t:"z",v:void 0}),u["!data"][m][x].l=X):(y=Ot(x)+Ut(m),u[y]||(u[y]={t:"z",v:void 0}),u[y].l=X);break;case 426:if(!o.cellFormula)break;A.push(X),E=o.dense?u["!data"][m][x]:u[Ot(x)+_],E.f=Di(X[1],c,{r:d.r,c:x},k,o),E.F=Ct(X[0]);break;case 427:if(!o.cellFormula)break;C[It(X[0].s)]=X[1],E=o.dense?u["!data"][m][x]:u[Ot(x)+_],E.f=Di(X[1],c,{r:d.r,c:x},k,o);break;case 60:if(!o.cellStyles)break;for(;X.e>=X.s;)N[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},D||(D=!0,jR(X.w/256)),Kf(N[X.e+1]);break;case 551:X&&(u["!legrel"]=X);break;case 161:u["!autofilter"]={ref:Ct(X)};break;case 476:u["!margins"]=X;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),X.name&&(i.Sheets[n].CodeName=X.name),(X.above||X.left)&&(u["!outline"]={above:X.above,left:X.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),X.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ve.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+te.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(c.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(u["!ref"]=Ct(l||c)),o.sheetRows&&u["!ref"]){var z=Qt(u["!ref"]);o.sheetRows<=+z.e.r&&(z.e.r=o.sheetRows-1,z.e.r>c.e.r&&(z.e.r=c.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>c.e.c&&(z.e.c=c.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Ct(z))}return w.length>0&&(u["!merges"]=w),N.length>0&&(u["!cols"]=N),R.length>0&&(u["!rows"]=R),r["!id"][u["!legrel"]]&&(u["!legdrawel"]=r["!id"][u["!legrel"]]),u}function Hit(e,t,n,r,i,s,a,o){var u={r:n,c:r};if(t.c&&s["!comments"].push([It(u),t.c]),t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Cn(t),t.z=t.z||ct[14],t.v=Yn(Vn(t.v,o),o),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}switch(u.s=w0(i.cellXfs,t,i),t.l&&s["!links"].push([It(u),t.l]),t.t){case"s":case"str":return i.bookSST?(l=XR(i.Strings,t.v==null?"":String(t.v),i.revStrings),u.t="s",u.v=l,a?Ae(e,18,uit(t,u)):Ae(e,7,ait(t,u))):(u.t="str",a?Ae(e,17,_it(t,u)):Ae(e,6,vit(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?Ae(e,13,git(t,u)):Ae(e,2,dit(t,u)):isFinite(t.v)?a?Ae(e,16,fit(t,u)):Ae(e,5,cit(t,u)):(u.t="e",isNaN(t.v)?a?Ae(e,14,t3({v:36},u)):Ae(e,3,e3({v:36},u)):a?Ae(e,14,t3({v:7},u)):Ae(e,3,e3({v:7},u))),!0;case"b":return u.t="b",a?Ae(e,15,nit(t,u)):Ae(e,4,eit(t,u)),!0;case"e":return u.t="e",a?Ae(e,14,t3(t,u)):Ae(e,3,e3(t,u)),!0}return a?Ae(e,12,Zrt(t,u)):Ae(e,1,Yrt(t,u)),!0}function Vit(e,t,n,r,i){var s=Qt(t["!ref"]||"A1"),a="",o=[],u=(((i||{}).Workbook||{}).WBProps||{}).date1904;Ae(e,145);var l=t["!data"]!=null,c=l?t["!data"][s.s.r]:[],f=s.e.r;t["!rows"]&&(f=Math.max(s.e.r,t["!rows"].length-1));for(var h=s.s.r;h<=f;++h)if(a=Ut(h),l&&(c=t["!data"][h]),Hrt(e,t,s,h),!(l&&!c)){var d=!1;if(h<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){h===s.s.r&&(o[p]=Ot(p));var g=l?c[p]:t[o[p]+a];if(!g){d=!1;continue}d=Hit(e,g,h,p,r,t,d,u)}}Ae(e,146)}function jit(e,t){!t||!t["!merges"]||(Ae(e,177,kit(t["!merges"].length)),t["!merges"].forEach(function(n){Ae(e,176,Cit(n))}),Ae(e,178))}function Git(e,t){!t||!t["!cols"]||(Ae(e,390),t["!cols"].forEach(function(n,r){n&&Ae(e,60,$it(r,n))}),Ae(e,391))}function qit(e,t){!t||!t["!ref"]||(Ae(e,648),Ae(e,649,Pit(Qt(t["!ref"]))),Ae(e,650))}function Xit(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var i=un(n,-1,r[1].Target.replace(/#[\s\S]*$/,""),$t.HLINK);Ae(e,494,Fit(r,i))}}),delete t["!links"]}function Kit(e,t,n,r){if(t["!comments"].length>0){var i=un(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",$t.VML);Ae(e,551,LR("rId"+i)),t["!legacy"]=i}}function Yit(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:Ct(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=Yr(s);o.s.r==o.e.r&&(o.e.r=Yr(t["!ref"]).e.r,s=Ct(o));for(var u=0;u<a.length;++u){var l=a[u];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref=zv(n.SheetNames[r])+"!"+Uv(s);break}}u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:zv(n.SheetNames[r])+"!"+Uv(s)}),Ae(e,161,B1(Qt(s))),Ae(e,162)}}function Jit(e,t,n){Ae(e,133),Ae(e,137,Lit(t,n)),Ae(e,138),Ae(e,134)}function Zit(e,t){t["!protect"]&&Ae(e,535,Bit(t["!protect"]))}function Qit(e,t,n,r){var i=Yi(),s=n.SheetNames[e],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[e].CodeName||o)}catch{}var u=Qt(a["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Ae(i,129),(n.vbaraw||a["!outline"])&&Ae(i,147,Xrt(o,a["!outline"])),Ae(i,148,jrt(u)),Jit(i,a,n.Workbook),Git(i,a),Vit(i,a,e,t,n),Zit(i,a),Yit(i,a,n,e),jit(i,a),Xit(i,a,r),a["!margins"]&&Ae(i,476,Rit(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&qit(i,a),Kit(i,a,e,r),Ae(i,130),i.end()}function est(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<])<\/c:v><\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<]*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=n?+a[2]:a[2])});var i=Wt((wh(e,"c:formatCode")||["","General"])[1]);return(kR(e,"<c:f>","</c:f>")||[]).forEach(function(s){r=s.replace(/<[^<>]*>/g,"")}),[t,i,r]}function tst(e,t,n,r,i,s){var a=s||{"!type":"chart"};if(!e)return s;var o=0,u=0,l="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(kR(e,"<c:numCache>","</c:numCache>")||[]).forEach(function(f){var h=est(f);c.s.r=c.s.c=0,c.e.c=o,l=Ot(o),h[0].forEach(function(d,p){a["!data"]?(a["!data"][p]||(a["!data"][p]=[]),a["!data"][p][o]={t:"n",v:d,z:h[1]}):a[l+Ut(p)]={t:"n",v:d,z:h[1]},u=p}),c.e.r<u&&(c.e.r=u),++o}),o>0&&(a["!ref"]=Ct(c)),a}function nst(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=e.match(hoe);return o&&KR(o[0],s,i,n),(a=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function rst(e,t){e.l+=10;var n=Ji(e);return{name:n}}function ist(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Mc(e,function(u,l,c){switch(c){case 550:s["!rel"]=u;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),u.name&&(i.Sheets[n].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(l.T>0)){if(!(l.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var YR=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sst=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ast=[],ost=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function JW(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=cn(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function ZW(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=cn(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function goe(e){ZW(e.WBProps,YR),ZW(e.CalcPr,ost),JW(e.WBView,sst),JW(e.Sheets,ast),Zp.date1904=cn(e.WBProps.date1904)}function ust(e){return!e.Workbook||!e.Workbook.WBProps?"false":cn(e.Workbook.WBProps.date1904)?"true":"false"}var lst=":][*?/\\".split("");function moe(e,t){try{if(e=="")throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(e.charCodeAt(0)==39||e.charCodeAt(e.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(e.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");lst.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(n){throw n}return!0}function cst(e,t,n){e.forEach(function(r,i){moe(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=t&&t[i]&&t[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function fst(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];cst(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)hrt(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n);e.SheetNames.forEach(function(r,i){var s=e.Sheets[r];if(!(!s||!s["!autofilter"])){var a;e.Workbook||(e.Workbook={}),e.Workbook.Names||(e.Workbook.Names=[]),e.Workbook.Names.forEach(function(u){u.Name=="_xlnm._FilterDatabase"&&u.Sheet==i&&(a=u)});var o=zv(r)+"!"+Uv(s["!autofilter"].ref);a?a.Ref=o:e.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:o})}})}var hst=/<\w+:workbook/;function dst(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(e.replace(xi,function(u,l){var c=Qe(u);switch(Ao(c[0])){case"<?xml":break;case"<workbook":u.match(hst)&&(i="xmlns"+u.match(/<(\w+):/)[1]),n.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":YR.forEach(function(f){if(c[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=cn(c[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(c[f[0]],10);break;default:n.WBProps[f[0]]=c[f[0]]}}),c.codeName&&(n.WBProps.CodeName=dn(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Wt(dn(c.name)),delete c[0],n.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=dn(c.name),c.comment&&(s.Comment=c.comment),c.localSheetId&&(s.Sheet=+c.localSheetId),cn(c.hidden||"0")&&(s.Hidden=!0),a=l+u.length;break;case"</definedName>":s.Ref=Wt(dn(e.slice(a,l))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete c[0],n.CalcPr=c;break;case"<calcPr/>":delete c[0],n.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return u}),Hd.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return goe(n),n}function pst(e){var t=[gr];t[t.length]=Le("workbook",null,{xmlns:Hd[0],"xmlns:r":Fr.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(YR.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Le("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var a={name:kt(e.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=Le("sheet",null,a)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=Le("definedName",kt(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function gst(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=yN(e),n.name=Ji(e),n}function mst(e,t){return t||(t=ie(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),LR(e.strRelID,t),$r(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function xst(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?Ji(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function vst(e,t){t||(t=ie(72));var n=0;return e&&(e.date1904&&(n|=1),e.filterPrivacy&&(n|=8)),t.write_shift(4,n),t.write_shift(4,0),dae(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function yst(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function _st(e,t,n){var r=e.l+t,i=e.read_shift(4);e.l+=1;var s=e.read_shift(4),a=MYe(e),o,u="";try{o=Ynt(e,0,n);try{u=sk(e)}catch{}}catch{console.error("Could not parse defined name "+a)}i&32&&(a="_xlnm."+a),e.l=r;var l={Name:a,Ptg:o,Flags:i};return s<268435455&&(l.Sheet=s),u&&(l.Comment=u),l}function Est(e,t){var n=ie(9),r=0,i=e.Name;BR.indexOf(i)>-1&&(r|=32,i=i.slice(6)),n.write_shift(4,r),n.write_shift(1,0),n.write_shift(4,e.Sheet==null?4294967295:e.Sheet);var s=[n,$r(i),urt(e.Ref,t)];if(e.Comment)s.push(Wv(e.Comment));else{var a=ie(4);a.write_shift(4,4294967295),s.push(a)}return lr(s)}function bst(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Xv[16]={n:"BrtFRTArchID$",f:yst},Mc(e,function(u,l,c){switch(c){case 156:a.SheetNames.push(u.name),n.Sheets.push(u);break;case 153:n.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=u.Ptg?Di(u.Ptg,null,null,a,t):"#REF!",delete t.SID,delete u.Ptg,s.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([c,u]):a[0]=[c,u],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(u),a.XTI=a.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(c),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(c),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!l.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},t),goe(n),n.Names=s,n.supbooks=a,n}function wst(e,t){Ae(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ae(e,156,mst(i))}Ae(e,144)}function Ast(e,t){t||(t=ie(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return $r("SheetJS",t),$r(jw.version,t),$r(jw.version,t),$r("7262",t),t.length>t.l?t.slice(0,t.l):t}function Sst(e,t){t||(t=ie(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function Cst(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(Ae(e,135),Ae(e,158,Sst(i)),Ae(e,136))}}function kst(e,t){!t.Workbook||!t.Workbook.Names||t.Workbook.Names.forEach(function(n){try{if(n.Flags&14)return;Ae(e,39,Est(n,t))}catch{console.error("Could not serialize defined name "+JSON.stringify(n))}})}function Tst(e){var t=e.SheetNames.length,n=ie(12*t+28);n.write_shift(4,t+2),n.write_shift(4,0),n.write_shift(4,-2),n.write_shift(4,-2),n.write_shift(4,0),n.write_shift(4,-1),n.write_shift(4,-1);for(var r=0;r<t;++r)n.write_shift(4,0),n.write_shift(4,r),n.write_shift(4,r);return n}function Fst(e,t){Ae(e,353),Ae(e,357),Ae(e,362,Tst(t)),Ae(e,354)}function Dst(e,t){var n=Yi();return Ae(n,131),Ae(n,128,Ast()),Ae(n,153,vst(e.Workbook&&e.Workbook.WBProps||null)),Cst(n,e),wst(n,e),Fst(n,e),(e.Workbook||{}).Names&&kst(n,e),Ae(n,132),n.end()}function Nst(e,t,n){return t.slice(-4)===".bin"?bst(e,n):dst(e,n)}function Ost(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?Wit(e,r,n,i,s,a,o):_rt(e,r,n,i,s,a,o)}function $st(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?ist(e,r,n,i,s):nst(e,r,n,i,s)}function Ist(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?Ctt():ktt()}function Rst(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?Att():Stt()}function Mst(e,t,n,r){return t.slice(-4)===".bin"?Aet(e,n,r):fet(e,n,r)}function Lst(e,t,n){return t.slice(-4)===".bin"?CQe(e,n):bQe(e,n)}function Pst(e,t,n){return t.slice(-4)===".bin"?vtt(e,n):ftt(e,n)}function Bst(e,t,n){return t.slice(-4)===".bin"?att(e):itt(e)}function Ust(e,t,n,r){return n.slice(-4)===".bin"?ott(e,t,n,r):void 0}function zst(e,t,n){return t.slice(-4)===".bin"?ett(e,t,n):ntt(e,t,n)}var xoe=/\b((?:\w+:)?[\w]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,voe=/\b((?:\w+:)?[\w]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ko(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(xoe),s,a,o,u;if(i)for(u=0;u!=i.length;++u)s=i[u].match(voe),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function Wst(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(xoe),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(voe),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var $x;function Hst(e,t,n){var r=$x[e]||Wt(e);return r==="General"?cd(t):$a(r,t,{date1904:!!n})}function Vst(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=cn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Vn(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Wt(t)]=i}function jst(e,t,n,r){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Rr[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lv(e.v):e.w=cd(e.v):e.w=Hst(t||"General",e.v,r)}catch(a){if(n.WTF)throw a}try{var i=$x[t]||t||"General";if(n.cellNF&&(e.z=i),n.cellDates&&e.t=="n"&&vo(i)){var s=Ml(e.v+(r?1462:0));s&&(e.t="d",e.v=new Date(Date.UTC(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u)))}}catch(a){if(n.WTF)throw a}}}function Gst(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=net[r.Pattern]||r.Pattern)}e[t.ID]=t}function qst(e,t,n,r,i,s,a,o,u,l,c){var f="General",h=r.StyleID,d={};l=l||{};var p=[],g=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&a&&(h=a.StyleID);s[h]!==void 0;){var m=s[h];if(m.nf&&(f=m.nf),m.Interior&&p.push(m.Interior),!m.Parent)break;h=m.Parent}switch(n.Type){case"Boolean":r.t="b",r.v=cn(e);break;case"String":r.t="s",r.r=hW(Wt(e)),r.v=e.indexOf("<")>-1?Wt(t||e).replace(/<[^<>]*>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=Yn(Vn(e,c),c),r.v!==r.v&&(r.v=Wt(e)),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Xr[e],l.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=hW(t||e));break}if(jst(r,f,l,c),l.cellFormula!==!1)if(r.Formula){var x=Wt(r.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),r.f=kh(x,i),delete r.Formula,r.ArrayRange=="RC"?r.F=kh("RC:RC",i):r.ArrayRange&&(r.F=kh(r.ArrayRange,i),u.push([Qt(r.F),r.F]))}else for(g=0;g<u.length;++g)i.r>=u[g][0].s.r&&i.r<=u[g][0].e.r&&i.c>=u[g][0].s.c&&i.c<=u[g][0].e.c&&(r.F=u[g][1]);l.cellStyles&&(p.forEach(function(y){!d.patternType&&y.patternType&&(d.patternType=y.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Xst(e){return BR.indexOf("_xlnm."+e)>-1?"_xlnm."+e:e}function Kst(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function n3(e,t){var n=t||{};L1();var r=Jm(ik(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=dn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Cn(n);return a.type="string",t1.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ne){i.indexOf("<"+ne)>=0&&(s=!0)}),s)return Rat(r,n);$x={"General Number":"General","General Date":ct[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ct[15],"Short Date":ct[14],"Long Time":ct[19],"Medium Time":ct[18],"Short Time":ct[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ct[2],Standard:ct[4],Percent:ct[10],Scientific:ct[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],l,c={},f=[],h={},d="";n.dense&&(h["!data"]=[]);var p={},g={},m=ko('<Data ss:Type="String">'),x=0,y=0,v=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},w={},b="",S=0,A=[],C={},k={},F=0,N=[],R=[],D={},O=[],M,z=!1,K=[],X=[],ve={},te=0,ue=0,le={Sheets:[],WBProps:{date1904:!1}},de={};vr.lastIndex=0,r=h_(r,"<!--","-->");for(var ke="";o=vr.exec(r);)switch(o[3]=(ke=o[3]).toLowerCase()){case"data":if(ke=="data"){if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?qst(r.slice(x,o.index),b,m,u[u.length-1][0]=="comment"?D:p,{c:y,r:v},E,O[y],g,K,n,le.WBProps.date1904):(b="",m=ko(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(R.length>0&&(p.c=R),(!n.sheetRows||n.sheetRows>v)&&p.v!==void 0&&(n.dense?(h["!data"][v]||(h["!data"][v]=[]),h["!data"][v][y]=p):h[Ot(y)+Ut(v)]=p),p.HRef&&(p.l={Target:Wt(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(te=y+(parseInt(p.MergeAcross,10)|0),ue=v+(parseInt(p.MergeDown,10)|0),(te>y||ue>v)&&A.push({s:{c:y,r:v},e:{c:te,r:ue}})),!n.sheetStubs)p.MergeAcross?y=te+1:++y;else if(p.MergeAcross||p.MergeDown){for(var He=y;He<=te;++He)for(var B=v;B<=ue;++B)(He>y||B>v)&&(n.dense?(h["!data"][B]||(h["!data"][B]=[]),h["!data"][B][He]={t:"z"}):h[Ot(He)+Ut(B)]={t:"z"});y=te+1}else++y;else p=Wst(o[0]),p.Index&&(y=+p.Index-1),y<_.s.c&&(_.s.c=y),y>_.e.c&&(_.e.c=y),o[0].slice(-2)==="/>"&&++y,R=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(v<_.s.r&&(_.s.r=v),v>_.e.r&&(_.e.r=v),o[0].slice(-2)==="/>"&&(g=ko(o[0]),g.Index&&(v=+g.Index-1)),y=0,++v):(g=ko(o[0]),g.Index&&(v=+g.Index-1),ve={},(g.AutoFitHeight=="0"||g.Height)&&(ve.hpx=parseInt(g.Height,10),ve.hpt=qv(ve.hpx),X[v]=ve),g.Hidden=="1"&&(ve.hidden=!0,X[v]=ve));break;case"worksheet":if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));f.push(d),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Ct(_),n.sheetRows&&n.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=n.sheetRows-1,h["!ref"]=Ct(_))),A.length&&(h["!merges"]=A),O.length>0&&(h["!cols"]=O),X.length>0&&(h["!rows"]=X),c[d]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=y=0,u.push([o[3],!1]),l=ko(o[0]),d=Wt(l.Name),h={},n.dense&&(h["!data"]=[]),A=[],K=[],X=[],de={name:d,Hidden:0},le.Sheets.push(de);break;case"table":if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),O=[],z=!1}break;case"style":o[1]==="/"?Gst(E,w,n):w=ko(o[0]);break;case"numberformat":w.nf=Wt(ko(o[0]).Format||"General"),$x[w.nf]&&(w.nf=$x[w.nf]);for(var j=0;j!=392&&ct[j]!=w.nf;++j);if(j==392){for(j=57;j!=392;++j)if(ct[j]==null){Cf(w.nf,j);break}}break;case"column":if(u[u.length-1][0]!=="table"||o[1]==="/")break;if(M=ko(o[0]),M.Hidden&&(M.hidden=!0,delete M.Hidden),M.Width&&(M.wpx=parseInt(M.Width,10)),!z&&M.wpx>10){z=!0,$i=Kae;for(var G=0;G<O.length;++G)O[G]&&Kf(O[G])}z&&Kf(M),O[M.Index-1||O.length]=M;for(var W=0;W<+M.Span;++W)O[O.length]=Cn(M);break;case"namedrange":if(o[1]==="/")break;le.Names||(le.Names=[]);var Y=Qe(o[0]),T={Name:Xst(Y.Name),Ref:kh(Y.RefersTo.slice(1),{r:0,c:0})};le.Sheets.length>0&&(T.Sheet=le.Sheets.length-1),le.Names.push(T);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?b+=r.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;w.Interior=ko(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?aJe(C,ke,r.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));Kst(D),R.push(D)}else u.push([o[3],!1]),l=ko(o[0]),cn(l.ShowAlways||"0")||(R.hidden=!0),D={a:l.Author};break;case"autofilter":if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var L=ko(o[0]);h["!autofilter"]={ref:kh(L.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((l=u.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return nH(r,n);var J=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(o[3]){case"date1904":le.WBProps.date1904=!0;break;case"hidehorizontalscrollbar":break;case"hideverticalscrollbar":break;case"hideworkbooktabs":break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:J=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(F,o.index)){case"SheetHidden":de.Hidden=1;break;case"SheetVeryHidden":de.Hidden=2;break}else F=o.index+o[0].length;break;case"header":h["!margins"]||Th(h["!margins"]={},"xlml"),isNaN(+Qe(o[0]).Margin)||(h["!margins"].header=+Qe(o[0]).Margin);break;case"footer":h["!margins"]||Th(h["!margins"]={},"xlml"),isNaN(+Qe(o[0]).Margin)||(h["!margins"].footer=+Qe(o[0]).Margin);break;case"pagemargins":var Z=Qe(o[0]);h["!margins"]||Th(h["!margins"]={},"xlml"),isNaN(+Z.Top)||(h["!margins"].top=+Z.Top),isNaN(+Z.Left)||(h["!margins"].left=+Z.Left),isNaN(+Z.Right)||(h["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(h["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":le.Views||(le.Views=[]),le.Views[0]||(le.Views[0]={}),le.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:J=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:J=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:J=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:J=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1;break}if(J||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Vst(k,ke,N,r.slice(F,o.index)):(N=o,F=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var ee={};return!n.bookSheets&&!n.bookProps&&(ee.Sheets=c),ee.SheetNames=f,ee.Workbook=le,ee.SSF=Cn(ct),ee.Props=C,ee.Custprops=k,ee.bookType="xlml",ee}function SN(e,t){switch(JR(t=t||{}),t.type||"base64"){case"base64":return n3(Oa(e),t);case"binary":case"buffer":case"file":return n3(e,t);case"array":return n3(tl(e),t)}}function Yst(e,t){var n=[];return e.Props&&n.push(oJe(e.Props,t)),e.Custprops&&n.push(uJe(e.Props,e.Custprops)),n.join("")}function Jst(e){return(((e||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}function Zst(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var s=[];s.push(Le("NumberFormat",null,{"ss:Format":kt(ct[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(Le("Style",s.join(""),a))}),Le("Styles",n.join(""))}function yoe(e){return Le("NamedRange",null,{"ss:Name":e.Name.slice(0,6)=="_xlnm."?e.Name.slice(6):e.Name,"ss:RefersTo":"="+lk(e.Ref,{r:0,c:0})})}function Qst(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(yoe(i)))}return Le("Names",n.join(""))}function eat(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(yoe(o)))}return s.join("")}function tat(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Le("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Le("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Le("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Le("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(ai("ProtectContents","True")),e["!protect"].objects&&i.push(ai("ProtectObjects","True")),e["!protect"].scenarios&&i.push(ai("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(ai("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(ai("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){e["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Le("WorksheetOptions",i.join(""),{xmlns:ha.x})}function nat(e){return e.map(function(t){var n=fYe(t.t||""),r=Le("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"}),i={};return t.a&&(i["ss:Author"]=t.a),e.hidden||(i["ss:ShowAlways"]="1"),Le("Comment",r,i)}).join("")}function rat(e,t,n,r,i,s,a){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+kt(lk(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var u=pn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==a.r?"":"["+(u.r-a.r)+"]")+"C"+(u.c==a.c?"":"["+(u.c-a.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=kt(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=kt(e.l.Tooltip))),n["!merges"])for(var l=n["!merges"],c=0;c!=l.length;++c)l[c].s.c!=a.c||l[c].s.r!=a.r||(l[c].e.c>l[c].s.c&&(o["ss:MergeAcross"]=l[c].e.c-l[c].s.c),l[c].e.r>l[c].s.r&&(o["ss:MergeDown"]=l[c].e.r-l[c].s.r));var f="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":isFinite(e.v)?(f="Number",h=String(e.v)):(f="Error",h=Rr[isNaN(e.v)?36:7]);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Rr[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ct[14]);break;case"s":f="String",h=cYe(e.v||"");break}var d=w0(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+d),o["ss:Index"]=a.c+1;var p=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=nat(e.c)),Le("Cell",g,o)}function iat(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=n1(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function sat(e,t,n,r){if(!e["!ref"])return"";var i=Qt(e["!ref"]),s=e["!merges"]||[],a=0,o=[];e["!cols"]&&e["!cols"].forEach(function(m,x){Kf(m);var y=!!m.width,v=hk(x,m),_={"ss:Index":x+1};y&&(_["ss:Width"]=jv(v.width)),m.hidden&&(_["ss:Hidden"]="1"),o.push(Le("Column",null,_))});for(var u=e["!data"]!=null,l={r:0,c:0},c=i.s.r;c<=i.e.r;++c){var f=[iat(c,(e["!rows"]||[])[c])];l.r=c;for(var h=i.s.c;h<=i.e.c;++h){l.c=h;var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>c)&&!(s[a].e.c<h)&&!(s[a].e.r<c)){(s[a].s.c!=h||s[a].s.r!=c)&&(d=!0);break}if(!d){var p=Ot(h)+Ut(c),g=u?(e["!data"][c]||[])[h]:e[p];f.push(rat(g,p,e,t,n,r,l))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function aat(e,t,n){var r=[],i=n.SheetNames[e],s=n.Sheets[i],a=s?eat(s,t,e,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?sat(s,t,e,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(tat(s,t,e,n)),s&&s["!autofilter"]&&r.push('<AutoFilter x:Range="'+lk(Uv(s["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),r.join("")}function oat(e,t){t||(t={}),e.SSF||(e.SSF=Cn(ct)),e.SSF&&(L1(),ek(e.SSF),t.revssf=nk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],w0(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Yst(e,t)),n.push(Jst(e)),n.push(""),n.push(Qst(e));for(var r=0;r<e.SheetNames.length;++r)n.push(Le("Worksheet",aat(r,t,e),{"ss:Name":kt(e.SheetNames[r])}));return n[2]=Zst(e,t),gr+Le("Workbook",n.join(""),{xmlns:ha.ss,"xmlns:o":ha.o,"xmlns:x":ha.x,"xmlns:ss":ha.ss,"xmlns:dt":ha.dt,"xmlns:html":ha.html})}function uat(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=zYe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=WYe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var lat=[60,1084,2066,2165,2175];function cat(e,t,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var u=Kl(n,n.l),l=CN[u],c=0;l!=null&&lat.indexOf(u)>-1;)s=Kl(n,n.l+2),c=n.l+4,u==2066?c+=4:(u==2165||u==2175)&&(c+=12),o=n.slice(c,n.l+4+s),a.push(o),n.l+=4+s,l=CN[u=Kl(n,n.l)];var f=lr(a);wr(f,0);var h=0;f.lens=[];for(var d=0;d<a.length;++d)f.lens.push(h),h+=a[d].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,i)}function mu(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&e.z==null&&(e.z=ct[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Rr[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lv(e.v):e.w=cd(e.v):e.w=$a(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&vo(ct[r]||String(r))){var i=Ml(e.v+(n?1462:0));i&&(e.t="d",e.v=new Date(Date.UTC(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u)))}}}function H2(e,t,n){return{v:e,ixfe:t,t:n}}function fat(e,t){var n={opts:{}},r={},i={};t.dense&&(i["!data"]=[]);var s={},a={},o=null,u=[],l="",c={},f,h="",d,p,g,m,x={},y=[],v,_,E=[],w=[],b={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},A=!1,C=function(Be){return Be<8?Ah[Be]:Be<64&&w[Be-8]||Ah[Be]},k=function(Be,bt){var Yt=Be.XF.data;if(!(!Yt||!Yt.patternType||!bt||!bt.cellStyles)){Be.s={},Be.s.patternType=Yt.patternType;var Fn;(Fn=Vv(C(Yt.icvFore)))&&(Be.s.fgColor={rgb:Fn}),(Fn=Vv(C(Yt.icvBack)))&&(Be.s.bgColor={rgb:Fn})}},F=function(Be,bt,Yt){if(!(!A&&te>1)&&!(Yt.sheetRows&&Be.r>=Yt.sheetRows)){if(Yt.cellStyles&&bt.XF&&bt.XF.data&&k(bt,Yt),delete bt.ixfe,delete bt.XF,f=Be,h=It(Be),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Be.r<a.s.r&&(a.s.r=Be.r),Be.c<a.s.c&&(a.s.c=Be.c),Be.r+1>a.e.r&&(a.e.r=Be.r+1),Be.c+1>a.e.c&&(a.e.c=Be.c+1),Yt.cellFormula&&bt.f){for(var Fn=0;Fn<y.length;++Fn)if(!(y[Fn][0].s.c>Be.c||y[Fn][0].s.r>Be.r)&&!(y[Fn][0].e.c<Be.c||y[Fn][0].e.r<Be.r)){bt.F=Ct(y[Fn][0]),(y[Fn][0].s.c!=Be.c||y[Fn][0].s.r!=Be.r)&&delete bt.f,bt.f&&(bt.f=""+Di(y[Fn][1],a,Be,X,N));break}}Yt.dense?(i["!data"][Be.r]||(i["!data"][Be.r]=[]),i["!data"][Be.r][Be.c]=bt):i[h]=bt}},N={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var R,D=[],O=[],M=[],z=[],K=!1,X=[];X.SheetNames=N.snames,X.sharedf=N.sharedf,X.arrayf=N.arrayf,X.names=[],X.XTI=[];var ve=0,te=0,ue=0,le=[],de=[],ke;N.codepage=1200,zo(1200);for(var He=!1;e.l<e.length-1;){var B=e.l,j=e.read_shift(2);if(j===0&&ve===10)break;var G=e.l===e.length?0:e.read_shift(2),W=CN[j];if(te==0&&[9,521,1033,2057].indexOf(j)==-1)break;if(W&&W.f){if(t.bookSheets&&ve===133&&j!==133)break;if(ve=j,W.r===2||W.r==12){var Y=e.read_shift(2);if(G-=2,!N.enc&&Y!==j&&((Y&255)<<8|Y>>8)!==j)throw new Error("rt mismatch: "+Y+"!="+j);W.r==12&&(e.l+=10,G-=10)}var T={};if(j===10?T=W.f(e,G,N):T=cat(j,W,e,G,N),te==0&&[9,521,1033,2057].indexOf(ve)===-1)continue;switch(j){case 34:n.opts.Date1904=b.WBProps.date1904=T;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=T,!t.password)throw new Error("File is password-protected");if(T.valid==null)throw new Error("Encryption scheme unsupported");if(!T.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=T;break;case 66:var L=Number(T);switch(L){case 21010:L=1200;break;case 32768:L=1e4;break;case 32769:L=1252;break}zo(N.codepage=L),He=!0;break;case 317:N.rrtabid=T;break;case 25:N.winlocked=T;break;case 439:n.opts.RefreshAll=T;break;case 12:n.opts.CalcCount=T;break;case 16:n.opts.CalcDelta=T;break;case 17:n.opts.CalcIter=T;break;case 13:n.opts.CalcMode=T;break;case 14:n.opts.CalcPrecision=T;break;case 95:n.opts.CalcSaveRecalc=T;break;case 15:N.CalcRefMode=T;break;case 2211:n.opts.FullCalc=T;break;case 129:T.fDialog&&(i["!type"]="dialog"),T.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),T.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 67:case 579:case 1091:case 224:E.push(T);break;case 430:X.push([T]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(T);break;case 24:case 536:ke={Name:T.Name,Ref:Di(T.rgce,a,null,X,N)},T.itab>0&&(ke.Sheet=T.itab-1),X.names.push(ke),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(T),T.Name=="_xlnm._FilterDatabase"&&T.itab>0&&T.rgce&&T.rgce[0]&&T.rgce[0][0]&&T.rgce[0][0][0]=="PtgArea3d"&&(de[T.itab-1]={ref:Ct(T.rgce[0][0][1][2])});break;case 22:N.ExternCount=T;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(T),X.XTI=X.XTI.concat(T);break;case 2196:if(N.biff<8)break;ke!=null&&(ke.Comment=T[1]);break;case 18:i["!protect"]=T;break;case 19:T!==0&&N.WTF&&console.error("Password verifier: "+T);break;case 133:s[N.biff==4?N.snames.length:T.pos]=T,N.snames.push(T.name);break;case 10:{if(--te?!A:A)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Ct(a),t.sheetRows&&t.sheetRows<=a.e.r){var J=a.e.r;a.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ct(a),a.e.r=J}a.e.r++,a.e.c++}D.length>0&&(i["!merges"]=D),O.length>0&&(i["!objects"]=O),M.length>0&&(i["!cols"]=M),z.length>0&&(i["!rows"]=z),b.Sheets.push(S)}l===""?c=i:r[l]=i,i={},t.dense&&(i["!data"]=[])}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[j]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[T.BIFFVer]||8),N.biffguess=T.BIFFVer==0,T.BIFFVer==0&&T.dt==4096&&(N.biff=5,He=!0,zo(N.codepage=28591)),N.biff==4&&T.dt&256&&(A=!0),N.biff==8&&T.BIFFVer==0&&T.dt==16&&(N.biff=2),te++&&!A)break;if(i={},t.dense&&(i["!data"]=[]),N.biff<8&&!He&&(He=!0,zo(N.codepage=t.codepage||1252)),N.biff==4&&A)l=(s[N.snames.indexOf(l)+1]||{name:""}).name;else if(N.biff<5||T.BIFFVer==0&&T.dt==4096){l===""&&(l="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var Z={pos:e.l-G,name:l};s[Z.pos]=Z,N.snames.push(l)}else l=(s[B]||{name:""}).name;T.dt==32&&(i["!type"]="chart"),T.dt==64&&(i["!type"]="macro"),D=[],O=[],N.arrayf=y=[],M=[],z=[],K=!1,S={Hidden:(s[B]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i["!data"][T.r]||[])[T.c]:i[Ot(T.c)+Ut(T.r)])&&++T.c,v={ixfe:T.ixfe,XF:E[T.ixfe]||{},v:T.val,t:"n"},ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:T.c,r:T.r},v,t);break;case 5:case 517:v={ixfe:T.ixfe,XF:E[T.ixfe],v:T.val,t:T.t},ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:T.c,r:T.r},v,t);break;case 638:v={ixfe:T.ixfe,XF:E[T.ixfe],v:T.rknum,t:"n"},ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:T.c,r:T.r},v,t);break;case 189:for(var ee=T.c;ee<=T.C;++ee){var ne=T.rkrec[ee-T.c][0];v={ixfe:ne,XF:E[ne],v:T.rkrec[ee-T.c][1],t:"n"},ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:ee,r:T.r},v,t)}break;case 6:case 518:case 1030:{if(T.val=="String"){o=T;break}if(v=H2(T.val,T.cell.ixfe,T.tt),v.XF=E[v.ixfe],t.cellFormula){var ye=T.formula;if(ye&&ye[0]&&ye[0][0]&&ye[0][0][0]=="PtgExp"){var we=ye[0][0][1][0],Se=ye[0][0][1][1],Ee=It({r:we,c:Se});x[Ee]?v.f=""+Di(T.formula,a,T.cell,X,N):v.F=((t.dense?(i["!data"][we]||[])[Se]:i[Ee])||{}).F}else v.f=""+Di(T.formula,a,T.cell,X,N)}ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F(T.cell,v,t),o=T}break;case 7:case 519:if(o)o.val=T,v=H2(T,o.cell.ixfe,"s"),v.XF=E[v.ixfe],t.cellFormula&&(v.f=""+Di(o.formula,a,o.cell,X,N)),ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F(o.cell,v,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(T);var be=It(T[0].s);if(d=t.dense?(i["!data"][T[0].s.r]||[])[T[0].s.c]:i[be],t.cellFormula&&d){if(!o||!be||!d)break;d.f=""+Di(T[1],a,T[0],X,N),d.F=Ct(T[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[It(o.cell)]=T[0],d=t.dense?(i["!data"][o.cell.r]||[])[o.cell.c]:i[It(o.cell)],(d||{}).f=""+Di(T[0],a,f,X,N)}}break;case 253:v=H2(u[T.isst].t,T.ixfe,"s"),u[T.isst].h&&(v.h=u[T.isst].h),v.XF=E[v.ixfe],ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:T.c,r:T.r},v,t);break;case 513:t.sheetStubs&&(v={ixfe:T.ixfe,XF:E[T.ixfe],t:"z"},ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:T.c,r:T.r},v,t));break;case 190:if(t.sheetStubs)for(var Ce=T.c;Ce<=T.C;++Ce){var ce=T.ixfe[Ce-T.c];v={ixfe:ce,XF:E[ce],t:"z"},ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:Ce,r:T.r},v,t)}break;case 214:case 516:case 4:v=H2(T.val,T.ixfe,"s"),v.XF=E[v.ixfe],ue>0&&(v.z=v.XF&&v.XF.numFmtId&&le[v.XF.numFmtId]||le[v.ixfe>>8&63]),mu(v,t,n.opts.Date1904),F({c:T.c,r:T.r},v,t);break;case 0:case 512:te===1&&(a=T);break;case 252:u=T;break;case 1054:if(N.biff>=3&&N.biff<=4){le[ue++]=T[1];for(var et=0;et<ue+163&&ct[et]!=T[1];++et);et>=163&&Cf(T[1],ue+163)}else Cf(T[1],T[0]);break;case 30:{le[ue++]=T;for(var dt=0;dt<ue+163&&ct[dt]!=T;++dt);dt>=163&&Cf(T,ue+163)}break;case 229:D=D.concat(T);break;case 93:O[T.cmo[0]]=N.lastobj=T;break;case 438:N.lastobj.TxO=T;break;case 127:N.lastobj.ImData=T;break;case 440:for(m=T[0].s.r;m<=T[0].e.r;++m)for(g=T[0].s.c;g<=T[0].e.c;++g)d=t.dense?(i["!data"][m]||[])[g]:i[It({c:g,r:m})],d&&(d.l=T[1]);break;case 2048:for(m=T[0].s.r;m<=T[0].e.r;++m)for(g=T[0].s.c;g<=T[0].e.c;++g)d=t.dense?(i["!data"][m]||[])[g]:i[It({c:g,r:m})],d&&d.l&&(d.l.Tooltip=T[1]);break;case 28:{if(d=t.dense?(i["!data"][T[0].r]||[])[T[0].c]:i[It(T[0])],d||(t.dense?(i["!data"][T[0].r]||(i["!data"][T[0].r]=[]),d=i["!data"][T[0].r][T[0].c]={t:"z"}):d=i[It(T[0])]={t:"z"},a.e.r=Math.max(a.e.r,T[0].r),a.s.r=Math.min(a.s.r,T[0].r),a.e.c=Math.max(a.e.c,T[0].c),a.s.c=Math.min(a.s.c,T[0].c)),d.c||(d.c=[]),N.biff<=5&&N.biff>=2)p={a:"SheetJ5",t:T[1]};else{var ht=O[T[2]];p={a:T[1],t:ht.TxO.t},T[3]!=null&&!(T[3]&2)&&(d.c.hidden=!0)}d.c.push(p)}break;case 2173:Get(E[T.ixfe],T.ext);break;case 125:{if(!N.cellStyles)break;for(;T.e>=T.s;)M[T.e--]={width:T.w/256,level:T.level||0,hidden:!!(T.flags&1)},K||(K=!0,jR(T.w/256)),Kf(M[T.e+1])}break;case 520:{var Dt={};T.level!=null&&(z[T.r]=Dt,Dt.level=T.level),T.hidden&&(z[T.r]=Dt,Dt.hidden=!0),T.hpt&&(z[T.r]=Dt,Dt.hpt=T.hpt,Dt.hpx=n1(T.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Th(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[j]]=T;break;case 161:i["!margins"]||Th(i["!margins"]={}),i["!margins"].header=T.header,i["!margins"].footer=T.footer;break;case 574:T.RTL&&(b.Views[0].RTL=!0);break;case 146:w=T;break;case 2198:R=T;break;case 140:_=T;break;case 442:l?S.CodeName=T||S.name:b.WBProps.CodeName=T||"ThisWorkbook";break}}else W||console.error("Missing Info for XLS Record 0x"+j.toString(16)),e.l+=G}return n.SheetNames=Mn(s).sort(function(bn,Be){return Number(bn)-Number(Be)}).map(function(bn){return s[bn].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&c["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=c)):n.Preamble=c,n.Sheets&&de.forEach(function(bn,Be){n.Sheets[n.SheetNames[Be]]["!autofilter"]=bn}),n.Strings=u,n.SSF=Cn(ct),N.enc&&(n.Encryption=N.enc),R&&(n.Themes=R),n.Metadata={},_!==void 0&&(n.Metadata.Country=_),X.names.length>0&&(b.Names=X.names),n.Workbook=b,n}var Ix={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hat(e,t,n){var r=ft.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=DW(r,_N,Ix.DSI);for(var s in i)t[s]=i[s]}catch(l){if(n.WTF)throw l}var a=ft.find(e,"/!SummaryInformation");if(a&&a.size>0)try{var o=DW(a,EN,Ix.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(l){if(n.WTF)throw l}t.HeadingPairs&&t.TitlesOfParts&&(wae(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function dat(e,t){var n=[],r=[],i=[],s=0,a,o=uW(_N,"n"),u=uW(EN,"n");if(e.Props)for(a=Mn(e.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(u,a[s])?r:i).push([a[s],e.Props[a[s]]]);if(e.Custprops)for(a=Mn(e.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(u,a[s])?r:i).push([a[s],e.Custprops[a[s]]]);var l=[];for(s=0;s<i.length;++s)Tae.indexOf(i[s][0])>-1||bae.indexOf(i[s][0])>-1||i[s][1]!=null&&l.push(i[s]);r.length&&ft.utils.cfb_add(t,"/SummaryInformation",NW(r,Ix.SI,u,EN)),(n.length||l.length)&&ft.utils.cfb_add(t,"/DocumentSummaryInformation",NW(n,Ix.DSI,o,_N,l.length?l:null,Ix.UDI))}function _oe(e,t){t||(t={}),JR(t),bR(),t.codepage&&ER(t.codepage);var n,r;if(e.FullPaths){if(ft.find(e,"/encryption"))throw new Error("File is password-protected");n=ft.find(e,"!CompObj"),r=ft.find(e,"/Workbook")||ft.find(e,"/Book")}else{switch(t.type){case"base64":e=gs(Oa(e));break;case"binary":e=gs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}wr(e,0),r={content:e}}var i,s;if(n&&uat(n),t.bookProps&&!t.bookSheets)i={};else{var a=Nt?"buffer":"array";if(r&&r.content)i=fat(r.content,t);else if((s=ft.find(e,"PerfectOffice_MAIN"))&&s.content)i=Ch.to_workbook(s.content,(t.type=a,t));else if((s=ft.find(e,"NativeContent_MAIN"))&&s.content)i=Ch.to_workbook(s.content,(t.type=a,t));else throw(s=ft.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ft.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Ett(e))}var o={};return e.FullPaths&&hat(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}function pat(e,t){var n=t||{},r=ft.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return ft.utils.cfb_add(r,i,boe(e,n)),n.biff==8&&(e.Props||e.Custprops)&&dat(e,r),n.biff==8&&e.vbaraw&&btt(r,ft.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var Xv={0:{f:zrt},1:{f:Krt},2:{f:hit},3:{f:rit},4:{f:Qrt},5:{f:lit},6:{f:xit},7:{f:sit},8:{f:Ait},9:{f:wit},10:{f:Eit},11:{f:bit},12:{f:Jrt},13:{f:pit},14:{f:iit},15:{f:tit},16:{f:doe},17:{f:yit},18:{f:oit},19:{f:MR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_st},40:{},42:{},43:{f:get},44:{f:det},45:{f:vet},46:{f:_et},47:{f:yet},48:{},49:{f:FYe},50:{},51:{f:Ket},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zae},62:{f:mit},63:{f:stt},64:{f:Uit},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:es,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Mit},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:qrt},148:{f:Vrt,p:16},151:{f:Dit},152:{},153:{f:xst},154:{},155:{},156:{f:gst},157:{},158:{},159:{T:1,f:SQe},160:{T:-1},161:{T:1,f:qd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Sit},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qet},336:{T:-1},337:{f:Zet,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:yN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Uae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Nit},427:{f:Oit},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Iit},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Grt},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Tit},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:yN},551:{f:sk},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:xtt},633:{T:1},634:{T:-1},635:{T:1,f:gtt},636:{T:-1},637:{f:$Ye},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rst},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:zit},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},CN={6:{f:ZF},10:{f:Wc},12:{f:Jn},13:{f:Jn},14:{f:ar},15:{f:ar},16:{f:Ri},17:{f:ar},18:{f:ar},19:{f:Jn},20:{f:MW},21:{f:MW},23:{f:Uae},24:{f:PW},25:{f:ar},26:{},27:{},28:{f:$Ze},29:{},34:{f:ar},35:{f:LW},38:{f:Ri},39:{f:Ri},40:{f:Ri},41:{f:Ri},42:{f:ar},43:{f:ar},47:{f:GQe},49:{f:tZe},51:{f:Jn},60:{},61:{f:YJe},64:{f:ar},65:{f:eZe},66:{f:Jn},77:{},80:{},81:{},82:{},85:{f:Jn},89:{},90:{},91:{},92:{f:BJe},93:{f:MZe},94:{},95:{f:ar},96:{},97:{},99:{f:ar},125:{f:zae},128:{f:wZe},129:{f:zJe},130:{f:Jn},131:{f:ar},132:{f:ar},133:{f:WJe},134:{},140:{f:VZe},141:{f:Jn},144:{},146:{f:qZe},151:{},152:{},153:{},154:{},155:{},156:{f:Jn},157:{},158:{},160:{f:eQe},161:{f:YZe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:pZe},190:{f:gZe},193:{f:Wc},197:{},198:{},199:{},200:{},201:{},202:{f:ar},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Jn},220:{},221:{f:ar},222:{},224:{f:xZe},225:{f:PJe},226:{f:Wc},227:{},229:{f:IZe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:VJe},253:{f:rZe},255:{f:GJe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Fae},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ar},353:{f:Wc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:TZe},431:{f:ar},432:{},433:{},434:{},437:{},438:{f:BZe},439:{f:ar},440:{f:UZe},441:{},442:{f:p_},443:{},444:{f:Jn},445:{},446:{},448:{f:Wc},449:{f:KJe,r:2},450:{f:Wc},512:{f:IW},513:{f:QZe},515:{f:CZe},516:{f:sZe},517:{f:SZe},519:{f:tQe},520:{f:qJe},523:{},545:{f:UW},549:{f:$W},566:{},574:{f:ZJe},638:{f:dZe},659:{},1048:{},1054:{f:oZe},1084:{},1212:{f:DZe},2048:{f:WZe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:B2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:XZe,r:12},2173:{f:jet,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ar,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:FZe,r:12},2197:{},2198:{f:Bet,r:12},2199:{},2200:{},2201:{},2202:{f:NZe,r:12},2203:{f:Wc},2204:{},2205:{},2206:{},2207:{},2211:{f:XJe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Jn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:JZe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:GZe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:IW},1:{},2:{f:aQe},3:{f:iQe},4:{f:rQe},5:{f:lQe},7:{f:uQe},8:{},9:{f:B2},11:{},22:{f:Jn},30:{f:lZe},31:{},32:{},33:{f:UW},36:{},37:{f:$W},50:{f:cQe},62:{},52:{},67:{f:vZe},68:{f:Jn},69:{},86:{},126:{},127:{f:nQe},135:{},136:{},137:{},143:{f:hQe},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:fQe},223:{},234:{},354:{},421:{},518:{f:ZF},521:{f:B2},536:{f:PW},547:{f:LW},561:{},579:{f:EZe},1030:{f:ZF},1033:{f:B2},1091:{f:bZe},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},101:{},102:{},105:{},106:{},107:{},109:{},112:{},114:{},29282:{}};function Te(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&$R(n)&&e.push(n)}}function gat(e,t,n,r){var i=(n||[]).length||0;if(i<=8224)return Te(e,t,n,i);var s=t;if(!isNaN(s)){for(var a=n.parts||[],o=0,u=0,l=0;l+(a[o]||8224)<=8224;)l+=a[o]||8224,o++;var c=e.next(4);for(c.write_shift(2,s),c.write_shift(2,l),e.push(n.slice(u,u+l)),u+=l;u<i;){for(c=e.next(4),c.write_shift(2,60),l=0;l+(a[o]||8224)<=8224;)l+=a[o]||8224,o++;c.write_shift(2,l),e.push(n.slice(u,u+l)),u+=l}}}function r3(e,t,n,r){var i=ie(9);return g_(i,e,t),Nae(n,r||"b",i),i}function mat(e,t,n){var r=ie(8+2*n.length);return g_(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Eoe(e,t){t.forEach(function(n){var r=n[0].map(function(s){return s.t}).join("");if(r.length<=2048)return Te(e,28,KF(r,n[1],n[2]));Te(e,28,KF(r.slice(0,2048),n[1],n[2],r.length));for(var i=2048;i<r.length;i+=2048)Te(e,28,KF(r.slice(i,Math.min(i+2048,r.length)),-1,-1,Math.min(2048,r.length-i)))})}function xat(e,t,n,r,i,s){var a=0;t.z!=null&&(a=i._BIFF2FmtTable.indexOf(t.z),a==-1&&(i._BIFF2FmtTable.push(t.z),a=i._BIFF2FmtTable.length-1));var o=0;if(t.z!=null){for(;o<i.cellXfs.length&&i.cellXfs[o].numFmtId!=a;++o);o==i.cellXfs.length&&i.cellXfs.push({numFmtId:a})}if(t.v!=null)switch(t.t){case"d":case"n":var u=t.t=="d"?Yn(Vn(t.v,s),s):t.v;i.biff==2&&u==(u|0)&&u>=0&&u<65536?Te(e,2,oQe(n,r,u,o,a)):isNaN(u)?Te(e,5,r3(n,r,36,"e")):isFinite(u)?Te(e,3,sQe(n,r,u,o,a)):Te(e,5,r3(n,r,7,"e"));return;case"b":case"e":Te(e,5,r3(n,r,t.v,t.t));return;case"s":case"str":Te(e,4,mat(n,r,t.v==null?"":String(t.v).slice(0,255)));return}Te(e,1,g_(null,n,r))}function vat(e,t,n,r,i){var s=t["!data"]!=null,a=Qt(t["!ref"]||"A1"),o="",u=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.r,16383)}for(var l=(((i||{}).Workbook||{}).WBProps||{}).date1904,c=[],f=[],h=a.s.c;h<=a.e.c;++h)u[h]=Ot(h);for(var d=a.s.r;d<=a.e.r;++d)for(s&&(c=t["!data"][d]||[]),o=Ut(d),h=a.s.c;h<=a.e.c;++h){var p=s?c[h]:t[u[h]+o];p&&(xat(e,p,d,h,r,l),p.c&&f.push([p.c,d,h]))}Eoe(e,f)}function yat(e,t){for(var n=t||{},r=Yi(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);Te(r,n.biff==4?1033:n.biff==3?521:9,WR(e,16,n)),((e.Workbook||{}).WBProps||{}).date1904&&Te(r,34,Fi(!0)),n.cellXfs=[{numFmtId:0}],n._BIFF2FmtTable=["General"],n._Fonts=[];var a=Yi();return vat(a,e.Sheets[e.SheetNames[i]],i,n,e),n._BIFF2FmtTable.forEach(function(o){n.biff<=3?Te(r,30,cZe(o)):Te(r,1054,fZe(o))}),n.cellXfs.forEach(function(o){switch(n.biff){case 2:Te(r,67,yZe(o));break;case 3:Te(r,579,Bae(o));break;case 4:Te(r,1091,_Ze(o));break}}),delete n._BIFF2FmtTable,delete n.cellXfs,delete n._Fonts,r.push(a.end()),Te(r,10),r.end()}var Do=1,Va=[];function _at(){var e=ie(82+8*Va.length);e.write_shift(2,15),e.write_shift(2,61440),e.write_shift(4,74+8*Va.length);{e.write_shift(2,0),e.write_shift(2,61446),e.write_shift(4,16+8*Va.length);{e.write_shift(4,Do),e.write_shift(4,Va.length+1);for(var t=0,n=0;n<Va.length;++n)t+=Va[n]&&Va[n][1]||0;e.write_shift(4,t),e.write_shift(4,Va.length)}Va.forEach(function(r){e.write_shift(4,r[0]),e.write_shift(4,r[2])})}return e.write_shift(2,51),e.write_shift(2,61451),e.write_shift(4,18),e.write_shift(2,191),e.write_shift(4,524296),e.write_shift(2,385),e.write_shift(4,134217793),e.write_shift(2,448),e.write_shift(4,134217792),e.write_shift(2,64),e.write_shift(2,61726),e.write_shift(4,16),e.write_shift(4,134217741),e.write_shift(4,134217740),e.write_shift(4,134217751),e.write_shift(4,268435703),e}function Eat(e,t){var n=[],r=0,i=Yi(),s=Do,a;t.forEach(function(u,l){var c="",f=u[0].map(function(v){return v.a&&!c&&(c=v.a),v.t}).join("");++Do;{var h=ie(150);h.write_shift(2,15),h.write_shift(2,61444),h.write_shift(4,150),h.write_shift(2,3234),h.write_shift(2,61450),h.write_shift(4,8),h.write_shift(4,Do),h.write_shift(4,2560),h.write_shift(2,227),h.write_shift(2,61451),h.write_shift(4,84),h.write_shift(2,128),h.write_shift(4,0),h.write_shift(2,139),h.write_shift(4,2),h.write_shift(2,191),h.write_shift(4,524296),h.write_shift(2,344),h.l+=4,h.write_shift(2,385),h.write_shift(4,134217808),h.write_shift(2,387),h.write_shift(4,134217808),h.write_shift(2,389),h.write_shift(4,268435700),h.write_shift(2,447),h.write_shift(4,1048592),h.write_shift(2,448),h.write_shift(4,134217809),h.write_shift(2,451),h.write_shift(4,268435700),h.write_shift(2,513),h.write_shift(4,134217809),h.write_shift(2,515),h.write_shift(4,268435700),h.write_shift(2,575),h.write_shift(4,196609),h.write_shift(2,959),h.write_shift(4,131072|(u[0].hidden?2:0)),h.l+=2,h.write_shift(2,61456),h.write_shift(4,18),h.write_shift(2,3),h.write_shift(2,u[2]+2),h.l+=2,h.write_shift(2,u[1]+1),h.l+=2,h.write_shift(2,u[2]+4),h.l+=2,h.write_shift(2,u[1]+5),h.l+=2,h.l+=2,h.write_shift(2,61457),h.l+=4,h.l=150,l==0?a=h:Te(i,236,h)}r+=150;{var d=ie(52);d.write_shift(2,21),d.write_shift(2,18),d.write_shift(2,25),d.write_shift(2,Do),d.write_shift(2,0),d.l=22,d.write_shift(2,13),d.write_shift(2,22),d.write_shift(4,1651663474),d.write_shift(4,2503426821),d.write_shift(4,2150634280),d.write_shift(4,1768515844+Do*256),d.write_shift(2,0),d.write_shift(4,0),d.l+=4,Te(i,93,d)}{var p=ie(8);p.l+=2,p.write_shift(2,61453),p.l+=4,Te(i,236,p)}r+=8;{var g=ie(18);g.write_shift(2,18),g.l+=8,g.write_shift(2,f.length),g.write_shift(2,16),g.l+=4,Te(i,438,g);{var m=ie(1+f.length);m.write_shift(1,0),m.write_shift(f.length,f,"sbcs"),Te(i,60,m)}{var x=ie(16);x.l+=8,x.write_shift(2,f.length),x.l+=6,Te(i,60,x)}}{var y=ie(12+c.length);y.write_shift(2,u[1]),y.write_shift(2,u[2]),y.write_shift(2,0|(u[0].hidden?0:2)),y.write_shift(2,Do),y.write_shift(2,c.length),y.write_shift(1,0),y.write_shift(c.length,c,"sbcs"),y.l++,n.push(y)}});{var o=ie(80);o.write_shift(2,15),o.write_shift(2,61442),o.write_shift(4,r+o.length-8),o.write_shift(2,16),o.write_shift(2,61448),o.write_shift(4,8),o.write_shift(4,t.length+1),o.write_shift(4,Do),o.write_shift(2,15),o.write_shift(2,61443),o.write_shift(4,r+48),o.write_shift(2,15),o.write_shift(2,61444),o.write_shift(4,40),o.write_shift(2,1),o.write_shift(2,61449),o.write_shift(4,16),o.l+=16,o.write_shift(2,2),o.write_shift(2,61450),o.write_shift(4,8),o.write_shift(4,s),o.write_shift(4,5),Te(e,236,a?lr([o,a]):o)}e.push(i.end()),n.forEach(function(u){Te(e,28,u)}),Va.push([s,t.length+1,Do]),++Do}function bat(e,t,n){Te(e,49,nZe({sz:12,name:"Arial"},n))}function wat(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Te(e,1054,uZe(i,t[i],n))})}function Aat(e,t){var n=ie(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Te(e,2151,n),n=ie(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Mae(Qt(t["!ref"]||"A1"),n),n.write_shift(4,4),Te(e,2152,n)}function Sat(e,t){for(var n=0;n<16;++n)Te(e,224,RW({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Te(e,224,RW(r,0,t))})}function Cat(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Te(e,440,zZe(r)),r[1].Tooltip&&Te(e,2048,HZe(r))}delete t["!links"]}function kat(e,t){if(t){var n=0;t.forEach(function(r,i){++n<=256&&r&&Te(e,125,KZe(hk(i,r),i))})}}function Tat(e,t,n,r,i,s){var a=16+w0(i.cellXfs,t,i);if(t.v==null&&!t.bf){Te(e,513,gd(n,r,a));return}if(t.bf)Te(e,6,Xnt(t,n,r,i,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?Yn(Vn(t.v,s),s):t.v;isNaN(o)?Te(e,517,XF(n,r,36,a,i,"e")):isFinite(o)?Te(e,515,kZe(n,r,o,a)):Te(e,517,XF(n,r,7,a,i,"e"));break;case"b":case"e":Te(e,517,XF(n,r,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var u=XR(i.Strings,t.v==null?"":String(t.v),i.revStrings);Te(e,253,iZe(n,r,u,a))}else Te(e,516,aZe(n,r,(t.v==null?"":String(t.v)).slice(0,255),a,i));break;default:Te(e,513,gd(n,r,a))}}function Fat(e,t,n){var r=Yi(),i=n.SheetNames[e],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[e]||{},u=s["!data"]!=null,l=t.biff==8,c="",f=[],h=Qt(s["!ref"]||"A1"),d=l?65536:16384;if(h.e.c>255||h.e.r>=d){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV"+d);h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.r,d-1)}Te(r,2057,WR(n,16,t)),Te(r,13,ja(1)),Te(r,12,ja(100)),Te(r,15,Fi(!0)),Te(r,17,Fi(!1)),Te(r,16,dd(.001)),Te(r,95,Fi(!0)),Te(r,42,Fi(!1)),Te(r,43,Fi(!1)),Te(r,130,ja(1)),Te(r,128,AZe()),Te(r,131,Fi(!1)),Te(r,132,Fi(!1)),l&&kat(r,s["!cols"]),Te(r,512,hZe(h,t));var p=(((n||{}).Workbook||{}).WBProps||{}).date1904;l&&(s["!links"]=[]);for(var g=h.s.c;g<=h.e.c;++g)f[g]=Ot(g);for(var m=[],x=[],y=h.s.r;y<=h.e.r;++y)for(u&&(x=s["!data"][y]||[]),c=Ut(y),g=h.s.c;g<=h.e.c;++g){var v=u?x[g]:s[f[g]+c];v&&(Tat(r,v,y,g,t,p),l&&v.l&&s["!links"].push([f[g]+c,v.l]),v.c&&m.push([v.c,y,g]))}var _=o.CodeName||o.name||i;return l?Eat(r,m):Eoe(r,m),l&&Te(r,574,QJe((a.Views||[])[0])),l&&(s["!merges"]||[]).length&&Te(r,229,RZe(s["!merges"])),l&&Cat(r,s),Te(r,442,Oae(_)),l&&Aat(r,s),Te(r,10),r.end()}function Dat(e,t,n){var r=Yi(),i=(e||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,u=n.biff==5;if(Te(r,2057,WR(e,5,n)),n.bookType=="xla"&&Te(r,135),Te(r,225,o?ja(1200):null),Te(r,193,yJe(2)),u&&Te(r,191),u&&Te(r,192),Te(r,226),Te(r,92,UJe("SheetJS",n)),Te(r,66,ja(o?1200:1252)),o&&Te(r,353,ja(0)),o&&Te(r,448),Te(r,317,ZZe(e.SheetNames.length)),o&&e.vbaraw&&Te(r,211),o&&e.vbaraw){var l=a.CodeName||"ThisWorkbook";Te(r,442,Oae(l))}Te(r,156,ja(17)),Te(r,25,Fi(!1)),Te(r,18,Fi(!1)),Te(r,19,ja(0)),o&&Te(r,431,Fi(!1)),o&&Te(r,444,ja(0)),Te(r,61,JJe()),Te(r,64,Fi(!1)),Te(r,141,ja(0)),Te(r,34,Fi(ust(e)=="true")),Te(r,14,Fi(!0)),o&&Te(r,439,Fi(!1)),Te(r,218,ja(0)),bat(r,e,n),wat(r,e.SSF,n),Sat(r,n),o&&Te(r,352,Fi(!1));var c=r.end(),f=Yi();o&&Te(f,140,jZe()),o&&Va.length&&Te(f,235,_at()),o&&n.Strings&&gat(f,252,jJe(n.Strings)),Te(f,10);var h=f.end(),d=Yi(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var m=c.length+p+h.length;for(g=0;g<e.SheetNames.length;++g){var x=s[g]||{};Te(d,133,HJe({pos:m,hs:x.Hidden||0,dt:0,name:e.SheetNames[g]},n)),m+=t[g].length}var y=d.end();if(p!=y.length)throw new Error("BS8 "+p+" != "+y.length);var v=[];return c.length&&v.push(c),y.length&&v.push(y),h.length&&v.push(h),lr(v)}function Nat(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Cn(ct)),e&&e.SSF&&(L1(),ek(e.SSF),n.revssf=nk(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),Do=1,Va=[],n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,ZR(n),n.cellXfs=[],w0(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=Fat(i,n,e);return r.unshift(Dat(e,r,n)),lr(r)}function boe(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Yr(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost."),i.e.r>65535&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond row 65536.  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Nat(e,t);case 4:case 3:case 2:return yat(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function QW(e,t){var n=t||{},r=n.dense!=null?n.dense:uKe,i={};r&&(i["!data"]=[]),e=h_(e,"<!--","-->");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),o=s.index,u=a&&a.index||e.length,l=QKe(e.slice(o,u),/(:?<tr[^<>]*>)/i,"<tr>"),c=-1,f=0,h=0,d=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<l.length;++o){var m=l[o].trim(),x=m.slice(0,3).toLowerCase();if(x=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}f=0;continue}if(!(x!="<td"&&x!="<th")){var y=m.split(/<\/t[dh]>/i);for(u=0;u<y.length;++u){var v=y[u].trim();if(v.match(/<t[dh]/i)){for(var _=v,E=0;_.charAt(0)=="<"&&(E=_.indexOf(">"))>-1;)_=_.slice(E+1);for(var w=0;w<g.length;++w){var b=g[w];b.s.c==f&&b.s.r<c&&c<=b.e.r&&(f=b.e.c+1,w=-1)}var S=Qe(v.slice(0,v.indexOf(">")));d=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||d>1)&&g.push({s:{r:c,c:f},e:{r:c+(h||1)-1,c:f+d-1}});var A=S.t||S["data-t"]||"";if(!_.length){f+=d;continue}if(_=Jse(_),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>f&&(p.s.c=f),p.e.c<f&&(p.e.c=f),!_.length){f+=d;continue}var C={t:"s",v:_};n.raw||!_.trim().length||A=="s"||(_==="TRUE"?C={t:"b",v:!0}:_==="FALSE"?C={t:"b",v:!1}:isNaN(wa(_))?isNaN(Pv(_).getDate())?_.charCodeAt(0)==35&&Xr[_]!=null&&(C.t="e",C.w=_,C.v=Xr[_]):(C={t:"d",v:Vn(_)},n.UTC===!1&&(C.v=hd(C.v)),n.cellDates||(C={t:"n",v:Yn(C.v)}),C.z=n.dateNF||ct[14]):C={t:"n",v:wa(_)}),C.cellText!==!1&&(C.w=_),r?(i["!data"][c]||(i["!data"][c]=[]),i["!data"][c][f]=C):i[It({r:c,c:f})]=C,f+=d}}}}return i["!ref"]=Ct(p),g.length&&(i["!merges"]=g),i}function Oat(e,t,n,r){for(var i=e["!merges"]||[],s=[],a={},o=e["!data"]!=null,u=t.s.c;u<=t.e.c;++u){for(var l=0,c=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>u)&&!(i[f].e.r<n||i[f].e.c<u)){if(i[f].s.r<n||i[f].s.c<u){l=-1;break}l=i[f].e.r-i[f].s.r+1,c=i[f].e.c-i[f].s.c+1;break}if(!(l<0)){var h=Ot(u)+Ut(n),d=o?(e["!data"][n]||[])[u]:e[h];d&&d.t=="n"&&d.v!=null&&!isFinite(d.v)&&(isNaN(d.v)?d={t:"e",v:36,w:Rr[36]}:d={t:"e",v:7,w:Rr[7]});var p=d&&d.v!=null&&(d.h||Sx(d.w||(bc(d),d.w)||""))||"";a={},l>1&&(a.rowspan=l),c>1&&(a.colspan=c),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(a["data-t"]=d&&d.t||"z",d.v!=null&&(a["data-v"]=Sx(d.v instanceof Date?d.v.toISOString():d.v)),d.z!=null&&(a["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+Sx(d.l.Target)+'">'+p+"</a>")),a.id=(r.id||"sjs")+"-"+h,s.push(Le("td",p,a))}}var g="<tr>";return g+s.join("")+"</tr>"}var $at='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Iat="</body></html>";function Rat(e,t){var n=nYe(e,"table");if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1){var r=b0(QW(n[0],t),t);return r.bookType="html",r}var i=tM();return n.forEach(function(s,a){y_(i,QW(s,t),"Sheet"+(a+1))}),i.bookType="html",i}function Mat(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function woe(e,t){var n=t||{},r=n.header!=null?n.header:$at,i=n.footer!=null?n.footer:Iat,s=[r],a=Yr(e["!ref"]||"A1");if(s.push(Mat(e,a,n)),e["!ref"])for(var o=a.s.r;o<=a.e.r;++o)s.push(Oat(e,a,o,n));return s.push("</table>"+i),s.join("")}function Aoe(e,t,n){var r=t.rows;if(!r)throw"Unsupported origin when "+t.tagName+" is not a TABLE";var i=n||{},s=e["!data"]!=null,a=0,o=0;if(i.origin!=null)if(typeof i.origin=="number")a=i.origin;else{var u=typeof i.origin=="string"?pn(i.origin):i.origin;a=u.r,o=u.c}var l=Math.min(i.sheetRows||1e7,r.length),c={s:{r:0,c:0},e:{r:a,c:o}};if(e["!ref"]){var f=Yr(e["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),a==-1&&(c.e.r=a=f.e.r+1)}var h=[],d=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,x=0,y=0,v=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<r.length&&m<l;++g){var E=r[g];if(eH(E)){if(i.display)continue;p[m]={hidden:!0}}var w=E.cells;for(x=y=0;x<w.length;++x){var b=w[x];if(!(i.display&&eH(b))){var S=b.hasAttribute("data-v")?b.getAttribute("data-v"):b.hasAttribute("v")?b.getAttribute("v"):Jse(b.innerHTML),A=b.getAttribute("data-z")||b.getAttribute("z");for(d=0;d<h.length;++d){var C=h[d];C.s.c==y+o&&C.s.r<m+a&&m+a<=C.e.r&&(y=C.e.c+1-o,d=-1)}_=+b.getAttribute("colspan")||1,((v=+b.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:m+a,c:y+o},e:{r:m+a+(v||1)-1,c:y+o+(_||1)-1}});var k={t:"s",v:S},F=b.getAttribute("data-t")||b.getAttribute("t")||"";S!=null&&(S.length==0?k.t=F||"z":i.raw||S.trim().length==0||F=="s"||(F=="e"&&Rr[+S]?k={t:"e",v:+S,w:Rr[+S]}:S==="TRUE"?k={t:"b",v:!0}:S==="FALSE"?k={t:"b",v:!1}:isNaN(wa(S))?isNaN(Pv(S).getDate())?S.charCodeAt(0)==35&&Xr[S]!=null&&(k={t:"e",v:Xr[S],w:S}):(k={t:"d",v:Vn(S)},i.UTC&&(k.v=rk(k.v)),i.cellDates||(k={t:"n",v:Yn(k.v)}),k.z=i.dateNF||ct[14]):k={t:"n",v:wa(S)})),k.z===void 0&&A!=null&&(k.z=A);var N="",R=b.getElementsByTagName("A");if(R&&R.length)for(var D=0;D<R.length&&!(R[D].hasAttribute("href")&&(N=R[D].getAttribute("href"),N.charAt(0)!="#"));++D);N&&N.charAt(0)!="#"&&N.slice(0,11).toLowerCase()!="javascript:"&&(k.l={Target:N}),s?(e["!data"][m+a]||(e["!data"][m+a]=[]),e["!data"][m+a][y+o]=k):e[It({c:y+o,r:m+a})]=k,c.e.c<y+o&&(c.e.c=y+o),y+=_}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=Ct(c),m>=l&&(e["!fullref"]=Ct((c.e.r=r.length-g+m-1+a,c))),e}function Soe(e,t){var n=t||{},r={};return n.dense&&(r["!data"]=[]),Aoe(r,e,t)}function Lat(e,t){var n=b0(Soe(e,t),t);return n}function eH(e){var t="",n=Pat(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Pat(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Bat(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^<>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Wt(t.replace(/<[^<>]*>/g,""));return[n]}function Coe(e,t,n){var r=n||{},i=ik(e);vr.lastIndex=0,i=CR(h_(i,"<!--","-->"));for(var s,a,o="",u="",l,c=0,f=-1,h="";s=vr.exec(i);)switch(s[3]=s[3].replace(/_[\s\S]*$/,"")){case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":case"text-style":s[1]==="/"?(a["truncate-on-overflow"]=="false"&&(o.match(/h/)?o=o.replace(/h+/,"[$&]"):o.match(/m/)?o=o.replace(/m+/,"[$&]"):o.match(/s/)&&(o=o.replace(/s+/,"[$&]"))),r[a.name]=o,o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",a=Qe(s[0],!1));break;case"boolean-style":s[1]==="/"?(r[a.name]="General",o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",a=Qe(s[0],!1));break;case"boolean":o+="General";break;case"text":s[1]==="/"?(h=i.slice(f,vr.lastIndex-s[0].length),h=="%"&&a[0]=="<number:percentage-style"?o+="%":o+='"'+h.replace(/"/g,'""')+'"'):s[0].charAt(s[0].length-2)!=="/"&&(f=vr.lastIndex);break;case"day":switch(l=Qe(s[0],!1),l.style){case"short":o+="d";break;case"long":o+="dd";break;default:o+="dd";break}break;case"day-of-week":switch(l=Qe(s[0],!1),l.style){case"short":o+="ddd";break;case"long":o+="dddd";break;default:o+="ddd";break}break;case"era":switch(l=Qe(s[0],!1),l.style){case"short":o+="ee";break;case"long":o+="eeee";break;default:o+="eeee";break}break;case"hours":switch(l=Qe(s[0],!1),l.style){case"short":o+="h";break;case"long":o+="hh";break;default:o+="hh";break}break;case"minutes":switch(l=Qe(s[0],!1),l.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="mm";break}break;case"month":switch(l=Qe(s[0],!1),l.textual&&(o+="mm"),l.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="m";break}break;case"seconds":{switch(l=Qe(s[0],!1),l.style){case"short":o+="s";break;case"long":o+="ss";break;default:o+="ss";break}l["decimal-places"]&&(o+="."+qt("0",+l["decimal-places"]))}break;case"year":switch(l=Qe(s[0],!1),l.style){case"short":o+="yy";break;case"long":o+="yyyy";break;default:o+="yy";break}break;case"am-pm":o+="AM/PM";break;case"week-of-year":case"quarter":console.error("Excel does not support ODS format token "+s[3]);break;case"fill-character":s[1]==="/"?(h=i.slice(f,vr.lastIndex-s[0].length),o+='"'+h.replace(/"/g,'""')+'"*'):s[0].charAt(s[0].length-2)!=="/"&&(f=vr.lastIndex);break;case"scientific-number":l=Qe(s[0],!1),o+="0."+qt("0",+l["min-decimal-places"]||+l["decimal-places"]||2)+qt("?",+l["decimal-places"]-+l["min-decimal-places"]||0)+"E"+(cn(l["forced-exponent-sign"])?"+":"")+qt("0",+l["min-exponent-digits"]||2);break;case"fraction":l=Qe(s[0],!1),+l["min-integer-digits"]?o+=qt("0",+l["min-integer-digits"]):o+="#",o+=" ",o+=qt("?",+l["min-numerator-digits"]||1),o+="/",+l["denominator-value"]?o+=l["denominator-value"]:o+=qt("?",+l["min-denominator-digits"]||1);break;case"currency-symbol":s[1]==="/"?o+='"'+i.slice(f,vr.lastIndex-s[0].length).replace(/"/g,'""')+'"':s[0].charAt(s[0].length-2)!=="/"?f=vr.lastIndex:o+="$";break;case"text-properties":switch(l=Qe(s[0],!1),(l.color||"").toLowerCase().replace("#","")){case"ff0000":case"red":o="[Red]"+o;break}break;case"text-content":o+="@";break;case"map":l=Qe(s[0],!1),Wt(l.condition)=="value()>=0"?o=r[l["apply-style-name"]]+";"+o:console.error("ODS number format may be incorrect: "+l.condition);break;case"number":if(s[1]==="/")break;l=Qe(s[0],!1),u="",u+=qt("0",+l["min-integer-digits"]||1),cn(l.grouping)&&(u=Xl(qt("#",Math.max(0,4-u.length))+u)),(+l["min-decimal-places"]||+l["decimal-places"])&&(u+="."),+l["min-decimal-places"]&&(u+=qt("0",+l["min-decimal-places"]||1)),+l["decimal-places"]-(+l["min-decimal-places"]||0)&&(u+=qt("0",+l["decimal-places"]-(+l["min-decimal-places"]||0))),o+=u;break;case"embedded-text":s[1]==="/"?c==0?o+='"'+i.slice(f,vr.lastIndex-s[0].length).replace(/"/g,'""')+'"':o=o.slice(0,c)+'"'+i.slice(f,vr.lastIndex-s[0].length).replace(/"/g,'""')+'"'+o.slice(c):s[0].charAt(s[0].length-2)!=="/"&&(f=vr.lastIndex,c=-+Qe(s[0],!1).position||0);break}return r}function koe(e,t,n){var r=t||{},i=ik(e),s=[],a,o,u,l="",c=0,f,h,d={},p=[],g={};r.dense&&(g["!data"]=[]);var m,x,y={value:""},v={},_="",E=0,w="",b=0,S=[],A=[],C=-1,k=-1,F={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,R=n||{},D={},O=[],M={},z=0,K=0,X=[],ve=1,te=1,ue=[],le={Names:[],WBProps:{}},de={},ke=["",""],He=[],B={},j="",G=0,W=!1,Y=!1,T=0;for(vr.lastIndex=0,i=CR(h_(i,"<!--","-->"));m=vr.exec(i);)switch(m[3]=m[3].replace(/_[\s\S]*$/,"")){case"table":case"":m[1]==="/"?(F.e.c>=F.s.c&&F.e.r>=F.s.r?g["!ref"]=Ct(F):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=F.e.r&&(g["!fullref"]=g["!ref"],F.e.r=r.sheetRows-1,g["!ref"]=Ct(F)),O.length&&(g["!merges"]=O),X.length&&(g["!rows"]=X),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),p.push(f.name),d[f.name]=g,Y=!1):m[0].charAt(m[0].length-2)!=="/"&&(f=Qe(m[0],!1),C=k=-1,F.s.r=F.s.c=1e7,F.e.r=F.e.c=0,g={},r.dense&&(g["!data"]=[]),O=[],X=[],Y=!0);break;case"table-row-group":m[1]==="/"?--N:++N;break;case"table-row":case"":if(m[1]==="/"){C+=ve,ve=1;break}if(h=Qe(m[0],!1),h.?C=h.-1:C==-1&&(C=0),ve=+h["number-rows-repeated"]||1,ve<10)for(T=0;T<ve;++T)N>0&&(X[C+T]={level:N});k=-1;break;case"covered-table-cell":if(m[1]!=="/")if(++k,y=Qe(m[0],!1),te=parseInt(y["number-columns-repeated"]||"1",10)||1,r.sheetStubs){for(;te-- >0;)r.dense?(g["!data"][C]||(g["!data"][C]=[]),g["!data"][C][k]={t:"z"}):g[It({r:C,c:k})]={t:"z"},++k;--k}else k+=te-1;_="",S=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++k,y=Qe(m[0],!1),te=parseInt(y["number-columns-repeated"]||"1",10)||1,x={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(x.f=YW(Wt(y.formula))),y["style-name"]&&D[y["style-name"]]&&(x.z=D[y["style-name"]]),(y.||y["value-type"])=="string"&&(x.t="s",x.v=Wt(y["string-value"]||""),r.dense?(g["!data"][C]||(g["!data"][C]=[]),g["!data"][C][k]=x):g[Ot(k)+Ut(C)]=x),k+=te-1;else if(m[1]!=="/"){++k,_=w="",E=b=0,S=[],A=[],te=1;var L=ve?C+ve-1:C;if(k>F.e.c&&(F.e.c=k),k<F.s.c&&(F.s.c=k),C<F.s.r&&(F.s.r=C),L>F.e.r&&(F.e.r=L),y=Qe(m[0],!1),v=uYe(m[0]),He=[],B={},x={t:y.||y["value-type"],v:null},y["style-name"]&&D[y["style-name"]]&&(x.z=D[y["style-name"]]),r.cellFormula)if(y.formula&&(y.formula=Wt(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(z=parseInt(y["number-matrix-rows-spanned"],10)||0,K=parseInt(y["number-matrix-columns-spanned"],10)||0,M={s:{r:C,c:k},e:{r:C+z-1,c:k+K-1}},x.F=Ct(M),ue.push([M,x.F])),y.formula)x.f=YW(y.formula);else for(T=0;T<ue.length;++T)C>=ue[T][0].s.r&&C<=ue[T][0].e.r&&k>=ue[T][0].s.c&&k<=ue[T][0].e.c&&(x.F=ue[T][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(z=parseInt(y["number-rows-spanned"]||"1",10)||1,K=parseInt(y["number-columns-spanned"]||"1",10)||1,z*K>1&&(M={s:{r:C,c:k},e:{r:C+z-1,c:k+K-1}},O.push(M))),y["number-columns-repeated"]&&(te=parseInt(y["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=cn(y["boolean-value"])||+y["boolean-value"]>=1;break;case"float":x.t="n",x.v=parseFloat(y.value),r.cellDates&&x.z&&vo(x.z)&&(x.v=lc(x.v+(le.WBProps.date1904?1462:0)),x.t=typeof x.v=="number"?"n":"d");break;case"percentage":x.t="n",x.v=parseFloat(y.value);break;case"currency":x.t="n",x.v=parseFloat(y.value);break;case"date":x.t="d",x.v=Vn(y["date-value"],le.WBProps.date1904),r.cellDates||(x.t="n",x.v=Yn(x.v,le.WBProps.date1904)),x.z||(x.z="m/d/yy");break;case"time":x.t="n",x.v=HKe(y["time-value"])/86400,r.cellDates&&(x.v=lc(x.v),x.t=typeof x.v=="number"?"n":"d"),x.z||(x.z="HH:MM:SS");break;case"number":x.t="n",x.v=parseFloat(y.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",y["string-value"]!=null&&(_=Wt(y["string-value"]),S=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(W=!1,v["calcext:value-type"]=="error"&&Xr[_]!=null&&(x.t="e",x.w=_,x.v=Xr[_]),x.t==="s"&&(x.v=_||"",S.length&&(x.R=S),W=E==0),de.Target&&(x.l=de),He.length>0&&(x.c=He,He=[]),_&&r.cellText!==!1&&(x.w=_),W&&(x.t="z",delete x.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=C))for(var J=0;J<ve;++J){if(te=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g["!data"][C+J]||(g["!data"][C+J]=[]),g["!data"][C+J][k]=J==0?x:Cn(x);--te>0;)g["!data"][C+J][k+te]=Cn(x);else for(g[It({r:C+J,c:k})]=x;--te>0;)g[It({r:C+J,c:k+te})]=Cn(x);F.e.c<=k&&(F.e.c=k)}te=parseInt(y["number-columns-repeated"]||"1",10),k+=te-1,te=0,x={},_="",S=[]}de={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((a=s.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&s.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((a=s.pop())[0]!==m[3])throw"Bad state: "+a;B.t=_,S.length&&(B.R=S),B.a=j,He.push(B),_=w,E=b,S=A}else if(m[0].charAt(m[0].length-2)!=="/"){s.push([m[3],!1]);var Z=Qe(m[0],!0);Z.display&&cn(Z.display)||(He.hidden=!0),w=_,b=E,A=S,_="",E=0,S=[]}j="",G=0;break;case"creator":m[1]==="/"?j=i.slice(G,m.index):G=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((a=s.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&s.push([m[3],!1]);_="",E=0,S=[];break;case"scientific-number":case"currency-symbol":case"fill-character":break;case"text-style":case"boolean-style":case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){var ee=vr.lastIndex;Coe(i.slice(u,vr.lastIndex),t,R),vr.lastIndex=ee}else m[0].charAt(m[0].length-2)!=="/"&&(u=vr.lastIndex-m[0].length);break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":{var ne=Qe(m[0],!1);ne.family=="table-cell"&&R[ne["data-style-name"]]&&(D[ne.name]=R[ne["data-style-name"]])}break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":break;case"boolean":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":l+=i.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":o=Qe(m[0],!1),ke=QF(o["cell-range-address"]);var ye={Name:o.name,Ref:ke[0]+"!"+ke[1]};Y&&(ye.Sheet=p.length),le.Names.push(ye);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":switch(o=Qe(m[0],!1),o["date-value"]){case"1904-01-01":le.WBProps.date1904=!0;break}break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var we=Bat(i.slice(E,m.index));_=(_.length>0?_+`
`:"")+we[0]}else m[0].slice(-2)=="/>"?_+=`
`:(Qe(m[0],!1),E=m.index+m[0].length);break;case"s":break;case"database-range":if(m[1]==="/")break;try{ke=QF(Qe(m[0])["target-range-address"]),d[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"filter-set-item":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(de=Qe(m[0],!1),!de.href)break;de.Target=Wt(de.href),delete de.href,de.Target.charAt(0)=="#"&&de.Target.indexOf(".")>-1?(ke=QF(de.Target.slice(1)),de.Target="#"+ke[0]+"!"+ke[1]):de.Target.match(/^\.\.[\\\/]/)&&(de.Target=de.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var Se={Sheets:d,SheetNames:p,Workbook:le};return r.bookSheets&&delete Se.Sheets,Se}function tH(e,t){t=t||{},Ha(e,"META-INF/manifest.xml")&&QYe(xr(e,"META-INF/manifest.xml"),t);var n=xs(e,"styles.xml"),r=n&&Coe(dn(n)),i=xs(e,"content.xml");if(!i)throw new Error("Missing content.xml in ODS / UOF file");var s=koe(dn(i),t,r);return Ha(e,"meta.xml")&&(s.Props=_ae(xr(e,"meta.xml"))),s.bookType="ods",s}function nH(e,t){var n=koe(e,t);return n.bookType="fods",n}var Uat=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Bv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return gr+t}}();function zat(e,t){var n="number",r="",i={"style:name":t},s="",a=0;e=e.replace(/"[$]"/g,"$");e:{if(e.indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+e),e=e.slice(0,e.indexOf(";"))),e=="@"){n="text",r="<number:text-content/>";break e}if(e.indexOf(/\$/)>-1&&(n="currency"),e[a]=='"'){for(s="";e[++a]!='"'||e[++a]=='"';)s+=e[a];--a,e[a+1]=="*"?(a++,r+="<number:fill-character>"+kt(s.replace(/""/g,'"'))+"</number:fill-character>"):r+="<number:text>"+kt(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(a+1),a=0}var o=e.match(/# (\?+)\/(\?+)/);if(o){r+=Le("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:max-denominator-value":Math.max(+o[1].replace(/./g,"9"),+o[2].replace(/./g,"9"))});break e}if(o=e.match(/# (\?+)\/(\d+)/)){r+=Le("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:denominator-value":+o[2]});break e}if(o=e.match(/\b(\d+)(|\.\d+)%/)){n="percentage",r+=Le("number:number",null,{"number:decimal-places":o[2]&&o.length-1||0,"number:min-decimal-places":o[2]&&o.length-1||0,"number:min-integer-digits":o[1].length})+"<number:text>%</number:text>";break e}var u=!1;if(["y","m","d"].indexOf(e[0])>-1){n="date";t:for(;a<e.length;++a)switch(s=e[a].toLowerCase()){case"h":case"s":u=!0,--a;break t;case"m":n:for(var l=a+1;l<e.length;++l)switch(e[l]){case"y":case"d":break n;case"h":case"s":u=!0,--a;break t}case"y":case"d":for(;(e[++a]||"").toLowerCase()==s[0];)s+=s[0];switch(--a,s){case"y":case"yy":r+="<number:year/>";break;case"yyy":case"yyyy":r+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":r+='<number:month number:style="'+(s.length%2?"short":"long")+'" number:textual="'+(s.length>=3?"true":"false")+'"/>';break;case"d":case"dd":r+='<number:day number:style="'+(s.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":r+='<number:day-of-week number:style="'+(s.length%2?"short":"long")+'"/>';break}break;case'"':for(;e[++a]!='"'||e[++a]=='"';)s+=e[a];--a,r+="<number:text>"+kt(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":s=e[++a],r+="<number:text>"+kt(s)+"</number:text>";break;case"/":case":":r+="<number:text>"+kt(s)+"</number:text>";break;default:console.error("unrecognized character "+s+" in ODF format "+e)}if(!u)break e;e=e.slice(a+1),a=0}if(e.match(/^\[?[hms]/)){for(n=="number"&&(n="time"),e.match(/\[/)&&(e=e.replace(/[\[\]]/g,""),i["number:truncate-on-overflow"]="false");a<e.length;++a)switch(s=e[a].toLowerCase()){case"h":case"m":case"s":for(;(e[++a]||"").toLowerCase()==s[0];)s+=s[0];switch(--a,s){case"h":case"hh":r+='<number:hours number:style="'+(s.length%2?"short":"long")+'"/>';break;case"m":case"mm":r+='<number:minutes number:style="'+(s.length%2?"short":"long")+'"/>';break;case"s":case"ss":if(e[a+1]==".")do s+=e[a+1],++a;while(e[a+1]=="0");r+='<number:seconds number:style="'+(s.match("ss")?"long":"short")+'"'+(s.match(/\./)?' number:decimal-places="'+(s.match(/0+/)||[""])[0].length+'"':"")+"/>";break}break;case'"':for(;e[++a]!='"'||e[++a]=='"';)s+=e[a];--a,r+="<number:text>"+kt(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":r+="<number:text>"+kt(s)+"</number:text>";break;case"a":if(e.slice(a,a+3).toLowerCase()=="a/p"){r+="<number:am-pm/>",a+=2;break}if(e.slice(a,a+5).toLowerCase()=="am/pm"){r+="<number:am-pm/>",a+=4;break}default:console.error("unrecognized character "+s+" in ODF format "+e)}break e}if(e.indexOf(/\$/)>-1&&(n="currency"),e[0]=="$"&&(r+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',e=e.slice(1),a=0),a=0,e[a]=='"'){for(;e[++a]!='"'||e[++a]=='"';)s+=e[a];--a,e[a+1]=="*"?(a++,r+="<number:fill-character>"+kt(s.replace(/""/g,'"'))+"</number:fill-character>"):r+="<number:text>"+kt(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(a+1),a=0}var c=e.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(!c||!c[0])console.error("Could not find numeric part of "+e);else{var f=c[1].replace(/,/g,"");r+="<number:"+(c[3]?"scientific-":"")+'number number:min-integer-digits="'+(f.indexOf("0")==-1?"0":f.length-f.indexOf("0"))+'"'+(c[0].indexOf(",")>-1?' number:grouping="true"':"")+(c[2]&&' number:decimal-places="'+(c[2].length-1)+'"'||' number:decimal-places="0"')+(c[3]&&c[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(c[3]?' number:min-exponent-digits="'+c[3].match(/0+/)[0].length+'"':"")+"></number:"+(c[3]?"scientific-":"")+"number>",a=c.index+c[0].length}if(e[a]=='"'){for(s="";e[++a]!='"'||e[++a]=='"';)s+=e[a];--a,r+="<number:text>"+kt(s.replace(/""/g,'"'))+"</number:text>"}}return r?Le("number:"+n+"-style",r,i):(console.error("Could not generate ODS number format for |"+e+"|"),"")}function rH(e,t,n){for(var r=[],i=0;i<e.length;++i){var s=e[i];s&&s.Sheet==(n==-1?null:n)&&r.push(s)}return r.length?`      <table:named-expressions>
`+r.map(function(a){var o=(n==-1?"$":"")+coe(a.Ref);return"        "+Le("table:named-range",null,{"table:name":a.Name,"table:cell-range-address":o,"table:base-cell-address":o.replace(/[\.][^\.]*$/,".$A$1")})}).join(`
`)+`
      </table:named-expressions>
`:""}var iH=function(){var e=function(i,s){return kt(i).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=function(i,s,a,o,u,l){var c=[];c.push('      <table:table table:name="'+kt(s.SheetNames[a])+`" table:style-name="ta1">
`);var f=0,h=0,d=Yr(i["!ref"]||"A1"),p=i["!merges"]||[],g=0,m=i["!data"]!=null;if(i["!cols"])for(h=0;h<=d.e.c;++h)c.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var x="",y=i["!rows"]||[];for(f=0;f<d.s.r;++f)x=y[f]?' table:style-name="ro'+y[f].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;f<=d.e.r;++f){for(x=y[f]?' table:style-name="ro'+y[f].ods+'"':"",c.push("        <table:table-row"+x+`>
`),h=0;h<d.s.c;++h)c.push(t);for(;h<=d.e.c;++h){var v=!1,_={},E="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>h)&&!(p[g].s.r>f)&&!(p[g].e.c<h)&&!(p[g].e.r<f)){(p[g].s.c!=h||p[g].s.r!=f)&&(v=!0),_["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,_["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(v){c.push(`          <table:covered-table-cell/>
`);continue}var w=It({r:f,c:h}),b=m?(i["!data"][f]||[])[h]:i[w];if(b&&b.f&&(_["table:formula"]=kt(frt(b.f)),b.F&&b.F.slice(0,w.length)==w)){var S=Yr(b.F);_["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,_["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!b){c.push(t);continue}switch(b.t){case"b":E=b.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=b.v?"true":"false";break;case"n":isFinite(b.v)?(E=b.w||String(b.v||0),_["office:value-type"]="float",_["office:value"]=b.v||0):(isNaN(b.v)?(E="#NUM!",_["table:formula"]="of:=#NUM!"):(E="#DIV/0!",_["table:formula"]="of:="+(b.v<0?"-":"")+"1/0"),_["office:string-value"]="",_["office:value-type"]="string",_["calcext:value-type"]="error");break;case"s":case"str":E=b.v==null?"":b.v,_["office:value-type"]="string";break;case"d":E=b.w||Vn(b.v,l).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Vn(b.v,l).toISOString(),_["table:style-name"]="ce1";break;default:c.push(t);continue}var A=e(E);if(b.l&&b.l.Target){var C=b.l.Target;C=C.charAt(0)=="#"?"#"+coe(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),A=Le("text:a",A,{"xlink:href":C.replace(/&/g,"&amp;")})}u[b.z]&&(_["table:style-name"]="ce"+u[b.z].slice(1));var k=Le("text:p",A,{});if(b.c){for(var F="",N="",R={},D=0;D<b.c.length;++D)!F&&b.c[D].a&&(F=b.c[D].a),N+="<text:p>"+e(b.c[D].t)+"</text:p>";b.c.hidden||(R["office:display"]=!0),k=Le("office:annotation",N,R)+k}c.push("          "+Le("table:table-cell",k,_)+`
`)}c.push(`        </table:table-row>
`)}return(s.Workbook||{}).Names&&c.push(rH(s.Workbook.Names,s.SheetNames,a)),c.push(`      </table:table>
`),c.join("")},r=function(i,s){i.push(` <office:automatic-styles>
`);var a=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var h=c["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Kf(h),h.ods=a;var d=c["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),i.push(`  </style:style>
`),++a}}});var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=o;var h=c["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+o+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var u={},l=69;return s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c){var f=c["!data"]!=null;if(c["!ref"])for(var h=Yr(c["!ref"]),d=0;d<=h.e.r;++d)for(var p=0;p<=h.e.c;++p){var g=f?(c["!data"][d]||[])[p]:c[It({r:d,c:p})];if(!(!g||!g.z||g.z.toLowerCase()=="general")&&!u[g.z]){var m=zat(g.z,"N"+l);m&&(u[g.z]="N"+l,++l,i.push(m+`
`))}}}}),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),Mn(u).forEach(function(c){i.push('<style:style style:name="ce'+u[c].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+u[c]+`"/>
`)}),i.push(` </office:automatic-styles>
`),u};return function(s,a){var o=[gr],u=Bv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),l=Bv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(o.push("<office:document"+u+l+`>
`),o.push(yae().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+`
`)):o.push("<office:document-content"+u+`>
`);var c=r(o,s);o.push(`  <office:body>
`),o.push(`    <office:spreadsheet>
`),((s.Workbook||{}).WBProps||{}).date1904&&o.push(`      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">
        <table:null-date table:date-value="1904-01-01"/>
      </table:calculation-settings>
`);for(var f=0;f!=s.SheetNames.length;++f)o.push(n(s.Sheets[s.SheetNames[f]],s,f,a,c,((s.Workbook||{}).WBProps||{}).date1904));return(s.Workbook||{}).Names&&o.push(rH(s.Workbook.Names,s.SheetNames,-1)),o.push(`    </office:spreadsheet>
`),o.push(`  </office:body>
`),a.bookType=="fods"?o.push("</office:document>"):o.push("</office:document-content>"),o.join("")}}();function Toe(e,t){if(t.bookType=="fods")return iH(e,t);var n=FR(),r="",i=[],s=[];return r="mimetype",At(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",At(n,r,iH(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",At(n,r,Uat(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",At(n,r,gr+yae()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",At(n,r,nJe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",At(n,r,eJe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */var fr=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function wc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Xo(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):dn(tl(e))}function os(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):gs(Iu(e))}function Jf(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].length;var r=new Uint8Array(t),i=0;for(n=0;n<e.length;++n){var s=e[n],a=s.length;if(a<250)for(var o=0;o<a;++o)r[i++]=s[o];else r.set(s,i),i+=a}return r}function Rx(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Wat(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Hat(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-16,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=n>=0?0:128}function Kv(e,t){var n=t.l,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t.l=n,r}function tt(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t[fr](0,n)}function Foe(e){for(var t={l:0},n=[];t.l<e.length;)n.push(Kv(e,t));return n}function Doe(e){return Jf(e.map(function(t){return tt(t)}))}function St(e){var t=0,n=e[t]&127;return e[t++]<128||(n|=(e[t]&127)<<7,e[t++]<128)||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128)||(n|=(e[t]&15)<<28),n}function Pe(e){for(var t=[],n={l:0};n.l<e.length;){var r=n.l,i=Kv(e,n),s=i&7;i=i/8|0;var a,o=n.l;switch(s){case 0:{for(;e[o++]>=128;);a=e[fr](n.l,o),n.l=o}break;case 1:a=e[fr](o,o+8),n.l=o+8;break;case 2:{var u=Kv(e,n);a=e[fr](n.l,n.l+u),n.l+=u}break;case 5:a=e[fr](o,o+4),n.l=o+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var l={data:a,type:s};t[i]==null&&(t[i]=[]),t[i].push(l)}return t}function at(e){var t=[];return e.forEach(function(n,r){r!=0&&n.forEach(function(i){i.data&&(t.push(tt(r*8+i.type)),i.type==2&&t.push(tt(i.data.length)),t.push(i.data))})}),Jf(t)}function Zf(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function Yv(e){for(var t,n=[],r={l:0};r.l<e.length;){var i=Kv(e,r),s=Pe(e[fr](r.l,r.l+i));r.l+=i;var a={id:St(s[1][0].data),messages:[]};s[2].forEach(function(o){var u=Pe(o.data),l=St(u[3][0].data);a.messages.push({meta:u,data:e[fr](r.l,r.l+l)}),r.l+=l}),(t=s[3])!=null&&t[0]&&(a.merge=St(s[3][0].data)>>>0>0),n.push(a)}return n}function Qp(e){var t=[];return e.forEach(function(n){var r=[[],[{data:tt(n.id),type:0}],[]];n.merge!=null&&(r[3]=[{data:tt(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:tt(a.data.length)}],r[2].push({data:at(a.meta),type:2})});var s=at(r);t.push(tt(s.length)),t.push(s),i.forEach(function(a){return t.push(a)})}),Jf(t)}function Vat(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n={l:0},r=Kv(t,n),i=[],s=n.l;s<t.length;){var a=t[s]&3;if(a==0){var o=t[s++]>>2;if(o<60)++o;else{var u=o-59;o=t[s],u>1&&(o|=t[s+1]<<8),u>2&&(o|=t[s+2]<<16),u>3&&(o|=t[s+3]<<24),o>>>=0,o++,s+=u}i.push(t[fr](s,s+o)),s+=o;continue}else{var l=0,c=0;if(a==1?(c=(t[s]>>2&7)+4,l=(t[s++]&224)<<3,l|=t[s++]):(c=(t[s++]>>2)+1,a==2?(l=t[s]|t[s+1]<<8,s+=2):(l=(t[s]|t[s+1]<<8|t[s+2]<<16|t[s+3]<<24)>>>0,s+=4)),l==0)throw new Error("Invalid offset 0");for(var f=i.length-1,h=l;f>=0&&h>=i[f].length;)h-=i[f].length,--f;if(f<0)if(h==0)h=i[f=0].length;else throw new Error("Invalid offset beyond length");if(c<h)i.push(i[f][fr](i[f].length-h,i[f].length-h+c));else{for(h>0&&(i.push(i[f][fr](i[f].length-h)),c-=h),++f;c>=i[f].length;)i.push(i[f]),c-=i[f].length,++f;c&&i.push(i[f][fr](0,c))}i.length>25&&(i=[Jf(i)])}}for(var d=0,p=0;p<i.length;++p)d+=i[p].length;if(d!=r)throw new Error("Unexpected length: ".concat(d," != ").concat(r));return i}function Jv(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push.apply(t,Vat(r,e[fr](n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return t.length==1?t[0]:Jf(t)}function eg(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var s=tt(r),a=s.length;t.push(s),r<=60?(a++,t.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e[fr](n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return Jf(t)}var jat=function(){return{sst:[],rsst:[],ofmt:[],nfmt:[],fmla:[],ferr:[],cmnt:[]}};function Noe(e,t,n,r,i){var s,a,o,u,l=t&255,c=t>>8,f=c>=5?i:r;e:if(n&(c>4?8:4)&&e.t=="n"&&l==7){var h=(s=f[7])!=null&&s[0]?St(f[7][0].data):-1;if(h==-1)break e;var d=(a=f[15])!=null&&a[0]?St(f[15][0].data):-1,p=(o=f[16])!=null&&o[0]?St(f[16][0].data):-1,g=(u=f[40])!=null&&u[0]?St(f[40][0].data):-1,m=e.v,x=m;t:if(g){if(m==0){d=p=2;break t}m>=604800?d=1:m>=86400?d=2:m>=3600?d=4:m>=60?d=8:m>=1?d=16:d=32,Math.floor(m)!=m?p=32:m%60?p=16:m%3600?p=8:m%86400?p=4:m%604800&&(p=2),p<d&&(p=d)}if(d==-1||p==-1)break e;var y=[],v=[];d==1&&(x=m/604800,p==1?v.push('d"d"'):(x|=0,m-=604800*x),y.push(x+(h==2?" week"+(x==1?"":"s"):h==1?"w":""))),d<=2&&p>=2&&(x=m/86400,p>2&&(x|=0,m-=86400*x),v.push('d"d"'),y.push(x+(h==2?" day"+(x==1?"":"s"):h==1?"d":""))),d<=4&&p>=4&&(x=m/3600,p>4&&(x|=0,m-=3600*x),v.push((d>=4?"[h]":"h")+'"h"'),y.push(x+(h==2?" hour"+(x==1?"":"s"):h==1?"h":""))),d<=8&&p>=8&&(x=m/60,p>8&&(x|=0,m-=60*x),v.push((d>=8?"[m]":"m")+'"m"'),h==0?y.push((d==8&&p==8||x>=10?"":"0")+x):y.push(x+(h==2?" minute"+(x==1?"":"s"):h==1?"m":""))),d<=16&&p>=16&&(x=m,p>16&&(x|=0,m-=x),v.push((d>=16?"[s]":"s")+'"s"'),h==0?y.push((p==16&&d==16||x>=10?"":"0")+x):y.push(x+(h==2?" second"+(x==1?"":"s"):h==1?"s":""))),p>=32&&(x=Math.round(1e3*m),d<32&&v.push('.000"ms"'),h==0?y.push((x>=100?"":x>=10?"0":"00")+x):y.push(x+(h==2?" millisecond"+(x==1?"":"s"):h==1?"ms":""))),e.w=y.join(h==0?":":" "),e.z=v.join(h==0?'":"':" "),h==0&&(e.w=e.w.replace(/:(\d\d\d)$/,".$1"))}}function Gat(e,t,n,r){var i=wc(e),s=i.getUint32(4,!0),a=-1,o=-1,u=-1,l=NaN,c=0,f=new Date(Date.UTC(2001,0,1)),h=n>1?12:8;s&2&&(u=i.getUint32(h,!0),h+=4),h+=Rx(s&(n>1?3468:396))*4,s&512&&(a=i.getUint32(h,!0),h+=4),h+=Rx(s&(n>1?12288:4096))*4,s&16&&(o=i.getUint32(h,!0),h+=4),s&32&&(l=i.getFloat64(h,!0),h+=8),s&64&&(f.setTime(f.getTime()+(c=i.getFloat64(h,!0))*1e3),h+=8),n>1&&(s=i.getUint32(8,!0)>>>16,s&255&&(u==-1&&(u=i.getUint32(h,!0)),h+=4));var d,p=e[n>=4?1:2];switch(p){case 0:return;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t.sst[o]};break;case 5:r!=null&&r.cellDates?d={t:"d",v:f}:d={t:"n",v:c/86400+35430,z:ct[14]};break;case 6:d={t:"b",v:l>0};break;case 7:d={t:"n",v:l};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1){var g=t.rsst[a];d={t:"s",v:g.v},g.l&&(d.l={Target:g.l})}else throw new Error("Unsupported cell type ".concat(e[fr](0,4)));break;default:throw new Error("Unsupported cell type ".concat(e[fr](0,4)))}return u>-1&&Noe(d,p|n<<8,s,t.ofmt[u],t.nfmt[u]),p==7&&(d.v/=86400),d}function qat(e,t,n){var r=wc(e);r.getUint32(4,!0);var i=r.getUint32(8,!0),s=12,a=-1,o=-1,u=-1,l=NaN,c=NaN,f=0,h=new Date(Date.UTC(2001,0,1));i&1&&(l=Wat(e,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+(f=r.getFloat64(s,!0))*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4),s+=Rx(i&480)*4,i&512&&(r.getUint32(s,!0),s+=4),s+=Rx(i&1024)*4,i&2048&&(r.getUint32(s,!0),s+=4);var d,p=e[1];switch(p){case 0:d={t:"z"};break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t.sst[o]};break;case 5:n!=null&&n.cellDates?d={t:"d",v:h}:d={t:"n",v:f/86400+35430,z:ct[14]};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1){var g=t.rsst[a];d={t:"s",v:g.v},g.l&&(d.l={Target:g.l})}else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e[fr](0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e[fr](0,4)))}if(s+=Rx(i&4096)*4,i&516096&&(u==-1&&(u=r.getUint32(s,!0)),s+=4),i&524288){var m=r.getUint32(s,!0);s+=4,t.cmnt[m]&&(d.c=Jat(t.cmnt[m]))}return u>-1&&Noe(d,p|1280,i>>13,t.ofmt[u],t.nfmt[u]),p==7&&(d.v/=86400),d}function i3(e,t){var n=new Uint8Array(32),r=wc(n),i=12,s=0;switch(n[0]=5,e.t){case"n":if(e.z&&vo(e.z)){n[1]=5,r.setFloat64(i,(lc(e.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,i+=8;break}else n[1]=2,Hat(n,i,e.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":{var a=e.v==null?"":String(e.v);if(e.l){var o=t.rsst.findIndex(function(l){var c;return l.v==a&&l.l==((c=e.l)==null?void 0:c.Target)});o==-1&&(t.rsst[o=t.rsst.length]={v:a,l:e.l.Target}),n[1]=9,r.setUint32(i,o,!0),s|=16,i+=4}else{var u=t.sst.indexOf(a);u==-1&&(t.sst[u=t.sst.length]=a),n[1]=3,r.setUint32(i,u,!0),s|=8,i+=4}}break;case"d":n[1]=5,r.setFloat64(i,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,i+=8;break;case"z":n[1]=0;break;default:throw"unsupported cell type "+e.t}return e.c&&(t.cmnt.push(Zat(e.c)),r.setUint32(i,t.cmnt.length-1,!0),s|=524288,i+=4),r.setUint32(8,s,!0),n[fr](0,i)}function s3(e,t){var n=new Uint8Array(32),r=wc(n),i=12,s=0,a="";switch(n[0]=4,e.t){case"n":break;case"b":break;case"s":if(a=e.v==null?"":String(e.v),e.l){var o=t.rsst.findIndex(function(l){var c;return l.v==a&&l.l==((c=e.l)==null?void 0:c.Target)});o==-1&&(t.rsst[o=t.rsst.length]={v:a,l:e.l.Target}),n[1]=9,r.setUint32(i,o,!0),s|=512,i+=4}break;case"d":break;case"e":break;case"z":break;default:throw"unsupported cell type "+e.t}switch(e.c&&(r.setUint32(i,t.cmnt.length-1,!0),s|=4096,i+=4),e.t){case"n":n[1]=2,r.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(a=e.v==null?"":String(e.v),!e.l){var u=t.sst.indexOf(a);u==-1&&(t.sst[u=t.sst.length]=a),n[1]=3,r.setUint32(i,u,!0),s|=16,i+=4}break;case"d":n[1]=5,r.setFloat64(i,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=64,i+=8;break;case"z":n[1]=0;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n[fr](0,i)}function Xat(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:case 4:return Gat(e,t,e[0],n);case 5:return qat(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Lt(e){var t=Pe(e);return St(t[1][0].data)}function Ti(e){return at([[],[{type:0,data:tt(e)}]])}function Si(e,t){var n,r=(n=e.messages[0].meta[5])!=null&&n[0]?Foe(e.messages[0].meta[5][0].data):[],i=r.indexOf(t);i==-1&&(r.push(t),e.messages[0].meta[5]=[{type:2,data:Doe(r)}])}function Fl(e,t){var n,r=(n=e.messages[0].meta[5])!=null&&n[0]?Foe(e.messages[0].meta[5][0].data):[];e.messages[0].meta[5]=[{type:2,data:Doe(r.filter(function(i){return i!=t}))}]}function B0(e,t){var n=Pe(t.data),r=St(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o,u,l=Pe(a.data);if(l[1]){var c=St(l[1][0].data)>>>0;switch(r){case 1:s[c]=Xo(l[3][0].data);break;case 8:{var f=e[Lt(l[9][0].data)][0],h=Pe(f.data),d=e[Lt(h[1][0].data)][0],p=St(d.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=Pe(d.data),m={v:g[3].map(function(v){return Xo(v.data)}).join("")};s[c]=m;e:if((o=g==null?void 0:g[11])!=null&&o[0]){var x=(u=Pe(g[11][0].data))==null?void 0:u[1];if(!x)break e;x.forEach(function(v){var _,E,w,b=Pe(v.data);if((_=b[2])!=null&&_[0]){var S=e[Lt((E=b[2])==null?void 0:E[0].data)][0],A=St(S.meta[1][0].data);switch(A){case 2032:var C=Pe(S.data);(w=C==null?void 0:C[2])!=null&&w[0]&&!m.l&&(m.l=Xo(C[2][0].data));break;case 2039:break;default:console.log("unrecognized ObjectAttribute type ".concat(A))}}})}}break;case 2:s[c]=Pe(l[6][0].data);break;case 3:s[c]=Pe(l[5][0].data);break;case 10:{var y=e[Lt(l[10][0].data)][0];s[c]=Ooe(e,y.data)}break;default:throw r}}}),s}function Kat(e,t){var n,r,i,s,a,o,u,l,c,f,h,d,p,g,m=Pe(e),x=St(m[1][0].data)>>>0,y=St(m[2][0].data)>>>0,v=((r=(n=m[8])==null?void 0:n[0])==null?void 0:r.data)&&St(m[8][0].data)>0||!1,_,E;if((s=(i=m[7])==null?void 0:i[0])!=null&&s.data&&t!=0)_=(o=(a=m[7])==null?void 0:a[0])==null?void 0:o.data,E=(l=(u=m[6])==null?void 0:u[0])==null?void 0:l.data;else if((f=(c=m[4])==null?void 0:c[0])!=null&&f.data&&t!=1)_=(d=(h=m[4])==null?void 0:h[0])==null?void 0:d.data,E=(g=(p=m[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var w=v?4:1,b=wc(_),S=[],A=0;A<_.length/2;++A){var C=b.getUint16(A*2,!0);C<65535&&S.push([A,C])}if(S.length!=y)throw"Expected ".concat(y," cells, found ").concat(S.length);var k=[];for(A=0;A<S.length-1;++A)k[S[A][0]]=E[fr](S[A][1]*w,S[A+1][1]*w);return S.length>=1&&(k[S[S.length-1][0]]=E[fr](S[S.length-1][1]*w)),{R:x,cells:k}}function Yat(e,t){var n,r=Pe(t.data),i=-1;(n=r==null?void 0:r[7])!=null&&n[0]&&(St(r[7][0].data)>>>0?i=1:i=0);var s=Zf(r[5],function(a){return Kat(a,i)});return{nrows:St(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(u,l){if(a[o.R][l])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(l));a[o.R][l]=u}),a},[])}}function Ooe(e,t){var n,r,i,s,a,o,u,l,c,f,h={t:"",a:""},d=Pe(t);if((r=(n=d==null?void 0:d[1])==null?void 0:n[0])!=null&&r.data&&(h.t=Xo((s=(i=d==null?void 0:d[1])==null?void 0:i[0])==null?void 0:s.data)||""),(o=(a=d==null?void 0:d[3])==null?void 0:a[0])!=null&&o.data){var p=e[Lt((l=(u=d==null?void 0:d[3])==null?void 0:u[0])==null?void 0:l.data)][0],g=Pe(p.data);(f=(c=g[1])==null?void 0:c[0])!=null&&f.data&&(h.a=Xo(g[1][0].data))}return d!=null&&d[4]&&(h.replies=[],d[4].forEach(function(m){var x=e[Lt(m.data)][0];h.replies.push(Ooe(e,x.data))})),h}function Jat(e){var t=[];return t.push({t:e.t||"",a:e.a,T:e.replies&&e.replies.length>0}),e.replies&&e.replies.forEach(function(n){t.push({t:n.t||"",a:n.a,T:!0})}),t}function Zat(e){for(var t={a:"",t:"",replies:[]},n=0;n<e.length;++n)n==0?(t.a=e[n].a,t.t=e[n].t):t.replies.push({a:e[n].a,t:e[n].t});return t}function Qat(e,t,n,r){var i,s,a,o,u,l,c,f,h,d,p,g,m,x,y=Pe(t.data),v={s:{r:0,c:0},e:{r:0,c:0}};if(v.e.r=(St(y[6][0].data)>>>0)-1,v.e.r<0)throw new Error("Invalid row varint ".concat(y[6][0].data));if(v.e.c=(St(y[7][0].data)>>>0)-1,v.e.c<0)throw new Error("Invalid col varint ".concat(y[7][0].data));n["!ref"]=Ct(v);var _=n["!data"]!=null,E=n,w=Pe(y[4][0].data),b=jat();(i=w[4])!=null&&i[0]&&(b.sst=B0(e,e[Lt(w[4][0].data)][0])),(s=w[6])!=null&&s[0]&&(b.fmla=B0(e,e[Lt(w[6][0].data)][0])),(a=w[11])!=null&&a[0]&&(b.ofmt=B0(e,e[Lt(w[11][0].data)][0])),(o=w[12])!=null&&o[0]&&(b.ferr=B0(e,e[Lt(w[12][0].data)][0])),(u=w[17])!=null&&u[0]&&(b.rsst=B0(e,e[Lt(w[17][0].data)][0])),(l=w[19])!=null&&l[0]&&(b.cmnt=B0(e,e[Lt(w[19][0].data)][0])),(c=w[22])!=null&&c[0]&&(b.nfmt=B0(e,e[Lt(w[22][0].data)][0]));var S=Pe(w[3][0].data),A=0;if(!((f=w[9])!=null&&f[0]))throw"NUMBERS file missing row tree";var C=Pe(w[9][0].data)[1].map(function(D){return Pe(D.data)});if(C.forEach(function(D){A=St(D[1][0].data);var O=St(D[2][0].data),M=S[1][O];if(!M)throw"NUMBERS missing tile "+O;var z=Pe(M.data),K=e[Lt(z[2][0].data)][0],X=St(K.meta[1][0].data);if(X!=6002)throw new Error("6001 unexpected reference to ".concat(X));var ve=Yat(e,K);ve.data.forEach(function(te,ue){te.forEach(function(le,de){var ke=Xat(le,b,r);ke&&(_?(E["!data"][A+ue]||(E["!data"][A+ue]=[]),E["!data"][A+ue][de]=ke):n[Ot(de)+Ut(A+ue)]=ke)})}),A+=ve.nrows}),(h=w[13])!=null&&h[0]){var k=e[Lt(w[13][0].data)][0],F=St(k.meta[1][0].data);if(F!=6144)throw new Error("Expected merge type 6144, found ".concat(F));n["!merges"]=(d=Pe(k.data))==null?void 0:d[1].map(function(D){var O=Pe(D.data),M=wc(Pe(O[1][0].data)[1][0].data),z=wc(Pe(O[2][0].data)[1][0].data);return{s:{r:M.getUint16(0,!0),c:M.getUint16(2,!0)},e:{r:M.getUint16(0,!0)+z.getUint16(0,!0)-1,c:M.getUint16(2,!0)+z.getUint16(2,!0)-1}}})}if(!((p=n["!merges"])!=null&&p.length)&&((g=y[47])!=null&&g[0])){var N=Pe(y[47][0].data);if((m=N[2])!=null&&m[0]){var R=Pe(N[2][0].data);(x=R[3])!=null&&x[0]&&(n["!merges"]=Zf(R[3],function(D){var O,M,z,K,X,ve=Pe(D),te=Pe(ve[2][0].data),ue=Pe(te[1][0].data);if((O=ue[1])!=null&&O[0]){var le=Pe(ue[1][0].data),de=St(le[1][0].data);if(de==67){var ke=Pe(le[40][0].data);if(!(!((M=ke[3])!=null&&M[0])||!((z=ke[4])!=null&&z[0]))){var He=Pe(ke[3][0].data),B=Pe(ke[4][0].data),j=St(He[1][0].data),G=(K=He[2])!=null&&K[0]?St(He[2][0].data):j,W=St(B[1][0].data),Y=(X=B[2])!=null&&X[0]?St(B[2][0].data):W;return{s:{r:W,c:j},e:{r:Y,c:G}}}}}}).filter(function(D){return D!=null}))}}}function eot(e,t,n){var r=Pe(t.data),i={"!ref":"A1"};n!=null&&n.dense&&(i["!data"]=[]);var s=e[Lt(r[2][0].data)],a=St(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Qat(e,s[0],i,n),i}function tot(e,t,n){var r,i=Pe(t.data),s={name:(r=i[1])!=null&&r[0]?Xo(i[1][0].data):"",sheets:[]},a=Zf(i[2],Lt);return a.forEach(function(o){e[o].forEach(function(u){var l=St(u.meta[1][0].data);l==6e3&&s.sheets.push(eot(e,u,n))})}),s}function not(e,t,n){var r,i=tM();i.Workbook={WBProps:{date1904:!0}};var s=Pe(t.data);if((r=s[2])!=null&&r[0])throw new Error("Keynote presentations are not supported");var a=Zf(s[1],Lt);if(a.forEach(function(o){e[o].forEach(function(u){var l=St(u.meta[1][0].data);if(l==2){var c=tot(e,u,n);c.sheets.forEach(function(f,h){y_(i,f,h==0?c.name:c.name+"_"+h,!0)})}})}),i.SheetNames.length==0)throw new Error("Empty NUMBERS file");return i.bookType="numbers",i}function a3(e,t){var n,r,i,s,a,o,u,l={},c=[];if(e.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)&&h.content[0]==0){var d;try{d=Jv(h.content)}catch(g){return console.log("?? "+h.content.length+" "+(g.message||g))}var p;try{p=Yv(d)}catch(g){return console.log("## "+(g.message||g))}p.forEach(function(g){l[g.id]=g.messages,c.push(g.id)})}}),!c.length)throw new Error("File has no messages");if((i=(r=(n=l==null?void 0:l[1])==null?void 0:n[0].meta)==null?void 0:r[1])!=null&&i[0].data&&St(l[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var f=((u=(o=(a=(s=l==null?void 0:l[1])==null?void 0:s[0])==null?void 0:a.meta)==null?void 0:o[1])==null?void 0:u[0].data)&&St(l[1][0].meta[1][0].data)==1&&l[1][0];if(f||c.forEach(function(h){l[h].forEach(function(d){var p=St(d.meta[1][0].data)>>>0;if(p==1)if(!f)f=d;else throw new Error("Document has multiple roots")})}),!f)throw new Error("Cannot find Document root");return not(l,f,t)}function rot(e,t,n){var r,i,s,a=[[],[{type:0,data:tt(0)}],[{type:0,data:tt(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:tt(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:tt(1)}]];if(!((r=a[6])!=null&&r[0])||!((i=a[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=0;if(a[7][0].data.length<2*e.length){var u=new Uint8Array(2*e.length);u.set(a[7][0].data),a[7][0].data=u}if(a[4][0].data.length<2*e.length){var l=new Uint8Array(2*e.length);l.set(a[4][0].data),a[4][0].data=l}for(var c=wc(a[7][0].data),f=0,h=[],d=wc(a[4][0].data),p=0,g=[],m=4,x=0;x<e.length;++x){if(e[x]==null||e[x].t=="z"&&!((s=e[x].c)!=null&&s.length)||e[x].t=="e"){c.setUint16(x*2,65535,!0),d.setUint16(x*2,65535);continue}c.setUint16(x*2,f/m,!0),d.setUint16(x*2,p/m,!0);var y,v;switch(e[x].t){case"d":if(e[x].v instanceof Date){y=i3(e[x],t),v=s3(e[x],t);break}y=i3(e[x],t),v=s3(e[x],t);break;case"s":case"n":case"b":case"z":y=i3(e[x],t),v=s3(e[x],t);break;default:throw new Error("Unsupported value "+e[x])}h.push(y),f+=y.length,g.push(v),p+=v.length,++o}for(a[2][0].data=tt(o),a[5][0].data=tt(5);x<a[7][0].data.length/2;++x)c.setUint16(x*2,65535,!0),d.setUint16(x*2,65535,!0);return a[6][0].data=Jf(h),a[3][0].data=Jf(g),a[8]=[{type:0,data:tt(1)}],a}function kN(e,t){return{meta:[[],[{type:0,data:tt(e)}]],data:t}}function ku(e,t){t.last||(t.last=927262);for(var n=t.last;n<2e6;++n)if(!t[n])return t[t.last=n]=e,n;throw new Error("Too many messages")}function iot(e){var t={},n=[];return e.FileIndex.map(function(r,i){return[r,e.FullPaths[i]]}).forEach(function(r){var i=r[0],s=r[1];i.type==2&&i.name.match(/\.iwa/)&&i.content[0]==0&&Yv(Jv(i.content)).forEach(function(a){n.push(a.id),t[a.id]={deps:[],location:s,type:St(a.messages[0].meta[1][0].data)}})}),e.FileIndex.forEach(function(r){r.name.match(/\.iwa/)&&r.content[0]==0&&Yv(Jv(r.content)).forEach(function(i){i.messages.forEach(function(s){[5,6].forEach(function(a){s.meta[a]&&s.meta[a].forEach(function(o){t[i.id].deps.push(St(o.data))})})})})}),t}function V2(e,t,n){return at([[],[{type:0,data:tt(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([n/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:tt(1)}]])}function sH(e){switch(e){case 0:return V2(99,222,171);case 1:return V2(162,197,240);case 2:return V2(255,189,189)}return V2(Math.random()*255,Math.random()*255,Math.random()*255)}function sot(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=ft.read(t.numbers,{type:"base64"}),r=iot(n),i=Tu(n,r,1);if(i==null)throw"Could not find message ".concat(1," in Numbers template");var s=Zf(Pe(i.messages[0].data)[1],Lt);if(s.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return e.SheetNames.forEach(function(a,o){o>=1&&(oot(n,r,o+1),i=Tu(n,r,1),s=Zf(Pe(i.messages[0].data)[1],Lt)),uot(n,r,e.Sheets[a],a,o,s[o])}),n}function gn(e,t,n,r){var i=ft.find(e,t[n].location);if(!i)throw"Could not find ".concat(t[n].location," in Numbers template");var s=Yv(Jv(i.content)),a=s.find(function(o){return o.id==n});r(a,s),i.content=eg(Qp(s)),i.size=i.content.length}function Tu(e,t,n){var r=ft.find(e,t[n].location);if(!r)throw"Could not find ".concat(t[n].location," in Numbers template");var i=Yv(Jv(r.content)),s=i.find(function(a){return a.id==n});return s}function TN(e,t,n){e[3].push({type:2,data:at([[],[{type:0,data:tt(t)}],[{type:2,data:os(n.replace(/-[\s\S]*$/,""))}],[{type:2,data:os(n)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:tt(0)}],[],[{type:0,data:tt(0)}]])}),e[1]=[{type:0,data:tt(Math.max(t+1,St(e[1][0].data)))}]}function U0(e,t,n,r,i,s){s||(s=ku({deps:[],location:"",type:t},i));var a="".concat(r,"-").concat(s,".iwa");i[s].location="Root Entry"+a,ft.utils.cfb_add(e,a,eg(Qp([{id:s,messages:[kN(t,at(n))]}])));var o=a.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return gn(e,i,2,function(u){var l=Pe(u.messages[0].data);TN(l,s||0,o),u.messages[0].data=at(l)}),s}function $s(e,t,n,r){var i=t[n].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(o){var u,l,c=Pe(o.data);return(u=c[3])!=null&&u[0]?Xo(c[3][0].data)==i:!!((l=c[2])!=null&&l[0]&&Xo(c[2][0].data)==i)}),a=Pe(e[3][s].data);a[6]||(a[6]=[]),(Array.isArray(r)?r:[r]).forEach(function(o){a[6].push({type:2,data:at([[],[{type:0,data:tt(o)}]])})}),e[3][s].data=at(a)}function aot(e,t,n,r){var i=t[n].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(o){var u,l,c=Pe(o.data);return(u=c[3])!=null&&u[0]?Xo(c[3][0].data)==i:!!((l=c[2])!=null&&l[0]&&Xo(c[2][0].data)==i)}),a=Pe(e[3][s].data);a[6]||(a[6]=[]),a[6]=a[6].filter(function(o){return St(Pe(o.data)[1][0].data)!=r}),e[3][s].data=at(a)}function oot(e,t,n){var r=-1,i=-1,s={};gn(e,t,1,function(u,l){var c=Pe(u.messages[0].data);r=Lt(Pe(u.messages[0].data)[1][0].data),i=ku({deps:[1],location:t[r].location,type:2},t),s[r]=i,Si(u,i),c[1].push({type:2,data:Ti(i)});var f=Tu(e,t,r);f.id=i,t[1].location==t[i].location?l.push(f):gn(e,t,i,function(h,d){return d.push(f)}),u.messages[0].data=at(c)});var a=-1;gn(e,t,i,function(u,l){for(var c=Pe(u.messages[0].data),f=3;f<=69;++f)delete c[f];var h=Zf(c[2],Lt);h.forEach(function(p){return Fl(u,p)}),a=ku({deps:[i],location:t[h[0]].location,type:t[h[0]].type},t),Si(u,a),s[h[0]]=a,c[2]=[{type:2,data:Ti(a)}];var d=Tu(e,t,h[0]);d.id=a,t[h[0]].location==t[i].location?l.push(d):(gn(e,t,2,function(p){var g=Pe(p.messages[0].data);$s(g,t,i,a),p.messages[0].data=at(g)}),gn(e,t,a,function(p,g){return g.push(d)})),u.messages[0].data=at(c)});var o=-1;gn(e,t,a,function(u,l){for(var c=Pe(u.messages[0].data),f=Pe(c[1][0].data),h=3;h<=69;++h)delete f[h];var d=Lt(f[2][0].data);f[2][0].data=Ti(s[d]),c[1][0].data=at(f);var p=Lt(c[2][0].data);Fl(u,p),o=ku({deps:[a],location:t[p].location,type:t[p].type},t),Si(u,o),s[p]=o,c[2][0].data=Ti(o);var g=Tu(e,t,p);g.id=o,t[a].location==t[o].location?l.push(g):gn(e,t,o,function(m,x){return x.push(g)}),u.messages[0].data=at(c)}),gn(e,t,o,function(u,l){var c,f,h=Pe(u.messages[0].data),d=Xo(h[1][0].data),p=d.replace(/-[A-Z0-9]*/,"-".concat(("0000"+n.toString(16)).slice(-4)));if(h[1][0].data=os(p),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(E){return delete h[E]}),h[45]){var g=Pe(h[45][0].data),m=Lt(g[1][0].data);Fl(u,m),delete h[45]}if(h[70]){var x=Pe(h[70][0].data);(c=x[2])==null||c.forEach(function(E){var w=Pe(E.data);[2,3].map(function(b){return w[b][0]}).forEach(function(b){var S=Pe(b.data);if(S[8]){var A=Lt(S[8][0].data);Fl(u,A)}})}),delete h[70]}[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(E){if(h[E]){var w=Lt(h[E][0].data);delete h[E],Fl(u,w)}});var y=Pe(h[4][0].data);{[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(E){var w;if((w=y[E])!=null&&w[0]){var b=Lt(y[E][0].data),S=ku({deps:[o],location:t[b].location,type:t[b].type},t);Fl(u,b),Si(u,S),s[b]=S;var A=Tu(e,t,b);if(A.id=S,t[b].location==t[o].location)l.push(A);else{t[S].location=t[b].location.replace(b.toString(),S.toString()),t[S].location==t[b].location&&(t[S].location=t[S].location.replace(/\.iwa/,"-".concat(S,".iwa"))),ft.utils.cfb_add(e,t[S].location,eg(Qp([A])));var C=t[S].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");gn(e,t,2,function(k){var F=Pe(k.messages[0].data);TN(F,S,C),$s(F,t,o,S),k.messages[0].data=at(F)})}y[E][0].data=Ti(S)}});var v=Pe(y[1][0].data);(f=v[2])==null||f.forEach(function(E){var w=Lt(E.data),b=ku({deps:[o],location:t[w].location,type:t[w].type},t);Fl(u,w),Si(u,b),s[w]=b;var S=Tu(e,t,w);if(S.id=b,t[w].location==t[o].location)l.push(S);else{t[b].location=t[w].location.replace(w.toString(),b.toString()),t[b].location==t[w].location&&(t[b].location=t[b].location.replace(/\.iwa/,"-".concat(b,".iwa"))),ft.utils.cfb_add(e,t[b].location,eg(Qp([S])));var A=t[b].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");gn(e,t,2,function(C){var k=Pe(C.messages[0].data);TN(k,b,A),$s(k,t,o,b),C.messages[0].data=at(k)})}E.data=Ti(b)}),y[1][0].data=at(v);var _=Pe(y[3][0].data);_[1].forEach(function(E){var w=Pe(E.data),b=Lt(w[2][0].data),S=s[b];if(!s[b]){S=ku({deps:[o],location:"",type:t[b].type},t),t[S].location="Root Entry/Index/Tables/Tile-".concat(S,".iwa"),s[b]=S;var A=Tu(e,t,b);A.id=S,Fl(u,b),Si(u,S),ft.utils.cfb_add(e,"/Index/Tables/Tile-".concat(S,".iwa"),eg(Qp([A]))),gn(e,t,2,function(C){var k=Pe(C.messages[0].data);k[3].push({type:2,data:at([[],[{type:0,data:tt(S)}],[{type:2,data:os("Tables/Tile")}],[{type:2,data:os("Tables/Tile-".concat(S))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:tt(0)}],[],[{type:0,data:tt(0)}]])}),k[1]=[{type:0,data:tt(Math.max(S+1,St(k[1][0].data)))}],$s(k,t,o,S),C.messages[0].data=at(k)})}w[2][0].data=Ti(S),E.data=at(w)}),y[3][0].data=at(_)}h[4][0].data=at(y),u.messages[0].data=at(h)})}function uot(e,t,n,r,i,s){var a=[];gn(e,t,s,function(l){var c=Pe(l.messages[0].data);c[1]=[{type:2,data:os(r)}],a=Zf(c[2],Lt),l.messages[0].data=at(c)});var o=Tu(e,t,a[0]),u=Lt(Pe(o.messages[0].data)[2][0].data);gn(e,t,u,function(l,c){return lot(e,t,n,l,c,u)})}function lot(e,t,n,r,i,s){if(!n["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var a=Yr(n["!ref"]);a.s.r=a.s.c=0;var o=!1;a.e.c>999&&(o=!0,a.e.c=999),a.e.r>999999&&(o=!0,a.e.r=999999),o&&console.error("Truncating to ".concat(Ct(a)));var u=[];if(n["!data"])u=n["!data"];else{for(var l=[],c=0;c<=a.e.c;++c)l[c]=Ot(c);for(var f=0;f<=a.e.r;++f){u[f]=[];var h=""+(f+1);for(c=0;c<=a.e.c;++c){var d=n[l[c]+h];d&&(u[f][c]=d)}}}var p={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},g=Pe(r.messages[0].data);{g[6][0].data=tt(a.e.r+1),g[7][0].data=tt(a.e.c+1),delete g[46];var m=Pe(g[4][0].data);{var x=Lt(Pe(m[1][0].data)[2][0].data);gn(e,t,x,function(te,ue){var le,de=Pe(te.messages[0].data);if((le=de==null?void 0:de[2])!=null&&le[0])for(var ke=0;ke<u.length;++ke){var He=Pe(de[2][0].data);He[1][0].data=tt(ke),He[4][0].data=tt(u[ke].length),de[2][ke]={type:de[2][0].type,data:at(He)}}te.messages[0].data=at(de)});var y=Lt(m[2][0].data);gn(e,t,y,function(te,ue){for(var le=Pe(te.messages[0].data),de=0;de<=a.e.c;++de){var ke=Pe(le[2][0].data);ke[1][0].data=tt(de),ke[4][0].data=tt(a.e.r+1),le[2][de]={type:le[2][0].type,data:at(ke)}}te.messages[0].data=at(le)});var v=Pe(m[9][0].data);v[1]=[];var _=Pe(m[3][0].data);{var E=256;_[2]=[{type:0,data:tt(E)}];var w=Lt(Pe(_[1][0].data)[2][0].data),b=function(){var te=Tu(e,t,2),ue=Pe(te.messages[0].data),le=ue[3].filter(function(de){return St(Pe(de.data)[1][0].data)==w});return le!=null&&le.length?St(Pe(le[0].data)[12][0].data):0}();ft.utils.cfb_del(e,t[w].location),gn(e,t,2,function(te){var ue=Pe(te.messages[0].data);ue[3]=ue[3].filter(function(le){return St(Pe(le.data)[1][0].data)!=w}),aot(ue,t,s,w),te.messages[0].data=at(ue)}),Fl(r,w),_[1]=[];for(var S=Math.ceil((a.e.r+1)/E),A=0;A<S;++A){var C=ku({deps:[],location:"",type:6002},t);t[C].location="Root Entry/Index/Tables/Tile-".concat(C,".iwa");for(var k=[[],[{type:0,data:tt(0)}],[{type:0,data:tt(Math.min(a.e.r+1,(A+1)*E))}],[{type:0,data:tt(0)}],[{type:0,data:tt(Math.min((A+1)*E,a.e.r+1)-A*E)}],[],[{type:0,data:tt(5)}],[{type:0,data:tt(1)}],[{type:0,data:tt(1)}]],F=A*E;F<=Math.min(a.e.r,(A+1)*E-1);++F){var N=rot(u[F],p);N[1][0].data=tt(F-A*E),k[5].push({data:at(N),type:2})}_[1].push({type:2,data:at([[],[{type:0,data:tt(A)}],[{type:2,data:Ti(C)}]])});var R={id:C,messages:[kN(6002,at(k))]},D=eg(Qp([R]));ft.utils.cfb_add(e,"/Index/Tables/Tile-".concat(C,".iwa"),D),gn(e,t,2,function(te){var ue=Pe(te.messages[0].data);ue[3].push({type:2,data:at([[],[{type:0,data:tt(C)}],[{type:2,data:os("Tables/Tile")}],[{type:2,data:os("Tables/Tile-".concat(C))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:tt(0)}],[],[{type:0,data:tt(b)}]])}),ue[1]=[{type:0,data:tt(Math.max(C+1,St(ue[1][0].data)))}],$s(ue,t,s,C),te.messages[0].data=at(ue)}),Si(r,C),v[1].push({type:2,data:at([[],[{type:0,data:tt(A*E)}],[{type:0,data:tt(A)}]])})}}if(m[3][0].data=at(_),m[9][0].data=at(v),m[10]=[{type:2,data:new Uint8Array([])}],n["!merges"]){var O=ku({type:6144,deps:[s],location:t[s].location},t);i.push({id:O,messages:[kN(6144,at([[],n["!merges"].map(function(te){return{type:2,data:at([[],[{type:2,data:at([[],[{type:5,data:new Uint8Array(new Uint16Array([te.s.r,te.s.c]).buffer)}]])}],[{type:2,data:at([[],[{type:5,data:new Uint8Array(new Uint16Array([te.e.r-te.s.r+1,te.e.c-te.s.c+1]).buffer)}]])}]])}})]))]}),m[13]=[{type:2,data:Ti(O)}],gn(e,t,2,function(te){var ue=Pe(te.messages[0].data);$s(ue,t,s,O),te.messages[0].data=at(ue)}),Si(r,O)}else delete m[13];var M=Lt(m[4][0].data);gn(e,t,M,function(te){var ue=Pe(te.messages[0].data);ue[3]=[],p.sst.forEach(function(le,de){de!=0&&ue[3].push({type:2,data:at([[],[{type:0,data:tt(de)}],[{type:0,data:tt(1)}],[{type:2,data:os(le)}]])})}),te.messages[0].data=at(ue)});var z=Lt(m[17][0].data);if(gn(e,t,z,function(te){var ue=Pe(te.messages[0].data);ue[3]=[];var le=[904980,903835,903815,903845];p.rsst.forEach(function(de,ke){if(ke!=0){var He=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:os(de.v)}]];He[10]=[{type:0,data:new Uint8Array([1])}],He[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],He[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],He[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],He[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],He[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],He[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],He[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],He[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var B=ku({deps:[],location:"",type:2001},t),j=[];if(de.l){var G=U0(e,2032,[[],[],[{type:2,data:os(de.l)}]],"/Index/Tables/DataList",t);He[11]=[];var W=[[],[]];W[1]||(W[1]=[]),W[1].push({type:2,data:at([[],[{type:0,data:tt(0)}],[{type:2,data:Ti(G)}]])}),He[11][0]={type:2,data:at(W)},j.push(G)}U0(e,2001,He,"/Index/Tables/DataList",t,B),gn(e,t,B,function(T){le.forEach(function(L){return Si(T,L)}),j.forEach(function(L){return Si(T,L)})});var Y=U0(e,6218,[[],[{type:2,data:Ti(B)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",t);gn(e,t,Y,function(T){return Si(T,B)}),ue[3].push({type:2,data:at([[],[{type:0,data:tt(ke)}],[{type:0,data:tt(1)}],[],[],[],[],[],[],[{type:2,data:Ti(Y)}]])}),Si(te,Y),gn(e,t,2,function(T){var L=Pe(T.messages[0].data);$s(L,t,z,Y),$s(L,t,Y,B),$s(L,t,B,j),$s(L,t,B,le),T.messages[0].data=at(L)})}}),te.messages[0].data=at(ue)}),p.cmnt.length>1){var K=Lt(m[19][0].data),X={},ve=0;gn(e,t,K,function(te){var ue=Pe(te.messages[0].data);ue[3]=[],p.cmnt.forEach(function(le,de){if(de!=0){var ke=[];le.replies&&le.replies.forEach(function(j){X[j.a||""]||(X[j.a||""]=U0(e,212,[[],[{type:2,data:os(j.a||"")}],[{type:2,data:sH(++ve)}],[],[{type:0,data:tt(0)}]],"/Index/Tables/DataList",t));var G=X[j.a||""],W=U0(e,3056,[[],[{type:2,data:os(j.t||"")}],[{type:2,data:at([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Ti(G)}]],"/Index/Tables/DataList",t);gn(e,t,W,function(Y){return Si(Y,G)}),ke.push(W),gn(e,t,2,function(Y){var T=Pe(Y.messages[0].data);$s(T,t,W,G),Y.messages[0].data=at(T)})}),X[le.a||""]||(X[le.a||""]=U0(e,212,[[],[{type:2,data:os(le.a||"")}],[{type:2,data:sH(++ve)}],[],[{type:0,data:tt(0)}]],"/Index/Tables/DataList",t));var He=X[le.a||""],B=U0(e,3056,[[],[{type:2,data:os(le.t||"")}],[{type:2,data:at([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Ti(He)}],ke.map(function(j){return{type:2,data:Ti(j)}}),[{type:2,data:at([[],[{type:0,data:tt(de)}],[{type:0,data:tt(0)}]])}]],"/Index/Tables/DataList",t);gn(e,t,B,function(j){Si(j,He),ke.forEach(function(G){return Si(j,G)})}),ue[3].push({type:2,data:at([[],[{type:0,data:tt(de)}],[{type:0,data:tt(1)}],[],[],[],[],[],[],[],[{type:2,data:Ti(B)}]])}),Si(te,B),gn(e,t,2,function(j){var G=Pe(j.messages[0].data);$s(G,t,K,B),$s(G,t,B,He),ke.length&&$s(G,t,B,ke),j.messages[0].data=at(G)})}}),ue[2][0].data=tt(p.cmnt.length+1),te.messages[0].data=at(ue)})}}g[4][0].data=at(m)}r.messages[0].data=at(g)}function $oe(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function JR(e){$oe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function ZR(e){$oe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function cot(e){return $t.WS.indexOf(e)>-1?"sheet":e==$t.CS?"chart":e==$t.DS?"dialog":e==$t.MS?"macro":e&&e.length?e:"sheet"}function fot(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,cot(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function hot(e,t,n,r,i,s,a,o){if(!(!e||!e["!legdrawel"])){var u=$p(e["!legdrawel"].Target,r),l=xs(n,u,!0);l&&ltt(dn(l),e,o||[])}}function dot(e,t,n,r,i,s,a,o,u,l,c,f){try{s[r]=Fx(xs(e,n,!0),t);var h=xr(e,t),d;switch(o){case"sheet":d=Ost(h,t,i,u,s[r],l,c,f);break;case"chart":if(d=$st(h,t,i,u,s[r],l,c,f),!d||!d["!drawel"])break;var p=$p(d["!drawel"].Target,t),g=Hv(p),m=utt(xs(e,p,!0),Fx(xs(e,g,!0),p)),x=$p(m,p),y=Hv(x);d=tst(xs(e,x,!0),x,u,Fx(xs(e,y,!0),x),l,d);break;case"macro":d=Ist(h,t,i,u,s[r],l,c,f);break;case"dialog":d=Rst(h,t,i,u,s[r],l,c,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=d;var v=[],_=[];s&&s[r]&&Mn(s[r]).forEach(function(E){var w="";if(s[r][E].Type==$t.CMNT){if(w=$p(s[r][E].Target,t),v=Pst(xr(e,w,!0),w,u),!v||!v.length)return;WW(d,v,!1)}s[r][E].Type==$t.TCMNT&&(w=$p(s[r][E].Target,t),_=_.concat(dtt(xr(e,w,!0),u)))}),_&&_.length&&WW(d,_,!0,u.people||[]),hot(d,o,e,t,i,u,l,v)}catch(E){if(u.WTF)throw E}}function za(e){return e.charAt(0)=="/"?e.slice(1):e}function pot(e,t){if(L1(),t=t||{},JR(t),Ha(e,"META-INF/manifest.xml")||Ha(e,"objectdata.xml"))return tH(e,t);if(Ha(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof a3<"u"){if(e.FileIndex)return a3(e,t);var n=ft.utils.cfb_new();return lW(e).forEach(function(D){At(n,D,iYe(e,D))}),a3(n,t)}throw new Error("Unsupported NUMBERS file")}if(!Ha(e,"[Content_Types].xml")){if(Ha(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(Ha(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");var r=ft.find(e,"Index.zip");if(r)return t=Cn(t),delete t.type,typeof r.content=="string"&&(t.type="binary"),typeof Bun<"u"&&Buffer.isBuffer(r.content)?tg(new Uint8Array(r.content),t):tg(r.content,t);throw new Error("Unsupported ZIP file")}var i=lW(e),s=JYe(xs(e,"[Content_Types].xml")),a=!1,o,u;if(s.workbooks.length===0&&(u="xl/workbook.xml",xr(e,u,!0)&&s.workbooks.push(u)),s.workbooks.length===0){if(u="xl/workbook.bin",!xr(e,u,!0))throw new Error("Could not find workbook");s.workbooks.push(u),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Nx=[],s.sst)try{Nx=Lst(xr(e,za(s.sst)),s.sst,t)}catch(D){if(t.WTF)throw D}t.cellStyles&&s.themes.length&&(l=Zae(xs(e,s.themes[0].replace(/^\//,""),!0)||"",t)),s.style&&(c=Mst(xr(e,za(s.style)),s.style,l,t))}s.links.map(function(D){try{var O=Fx(xs(e,Hv(za(D))),D);return Ust(xr(e,za(D)),O,D,t)}catch{}});var f=Nst(xr(e,za(s.workbooks[0])),s.workbooks[0],t),h={},d="";s.coreprops.length&&(d=xr(e,za(s.coreprops[0]),!0),d&&(h=_ae(d)),s.extprops.length!==0&&(d=xr(e,za(s.extprops[0]),!0),d&&rJe(d,h,t)));var p={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(d=xs(e,za(s.custprops[0]),!0),d&&(p=sJe(d,t)));var g={};if((t.bookSheets||t.bookProps)&&(f.Sheets?o=f.Sheets.map(function(O){return O.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(g.Props=h,g.Custprops=p),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var m={};t.bookDeps&&s.calcchain&&(m=Bst(xr(e,za(s.calcchain)),s.calcchain));var x=0,y={},v,_;{var E=f.Sheets;h.Worksheets=E.length,h.SheetNames=[];for(var w=0;w!=E.length;++w)h.SheetNames[w]=E[w].name}var b=a?"bin":"xml",S=s.workbooks[0].lastIndexOf("/"),A=(s.workbooks[0].slice(0,S+1)+"_rels/"+s.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Ha(e,A)||(A="xl/_rels/workbook."+b+".rels");var C=Fx(xs(e,A,!0),A.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=zst(xr(e,za(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=ptt(xr(e,za(s.people[0])),t)),C&&(C=fot(C,f.Sheets));var k=xr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=h.Worksheets;++x){var F="sheet";if(C&&C[x]?(v="xl/"+C[x][1].replace(/[\/]?xl\//,""),Ha(e,v)||(v=C[x][1]),Ha(e,v)||(v=A.replace(/_rels\/[\S\s]*$/,"")+C[x][1]),F=C[x][2]):(v="xl/worksheets/sheet"+(x+1-k)+"."+b,v=v.replace(/sheet0\./,"sheet.")),_=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(h.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,R=0;R!=t.sheets.length;++R)typeof t.sheets[R]=="number"&&t.sheets[R]==x&&(N=1),typeof t.sheets[R]=="string"&&t.sheets[R].toLowerCase()==h.SheetNames[x].toLowerCase()&&(N=1);if(!N)continue e}}dot(e,v,_,h.SheetNames[x],x,y,o,F,t,f,l,c)}return g={Directory:s,Workbook:f,Props:h,Custprops:p,Deps:m,Sheets:o,SheetNames:h.SheetNames,Strings:Nx,Styles:c,Themes:l,SSF:Cn(ct)},t&&t.bookFiles&&(e.files?(g.keys=i,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(D,O){D=D.replace(/^Root Entry[\/]/,""),g.keys.push(D),g.files[D]=e.FileIndex[O]}))),t&&t.bookVBA&&(s.vba.length>0?g.vbaraw=xr(e,za(s.vba[0]),!0):s.defaults&&s.defaults.bin===_tt&&(g.vbaraw=xr(e,"xl/vbaProject.bin",!0))),g.bookType=a?"xlsb":"xlsx",g}function got(e,t){var n=t||{},r="Workbook",i=ft.find(e,r);try{if(r="/!DataSpaces/Version",i=ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(DQe(i.content),r="/!DataSpaces/DataSpaceMap",i=ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=OQe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=$Qe(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);RQe(i.content)}catch{}if(r="/EncryptionInfo",i=ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=MQe(i.content);if(r="/EncryptedPackage",i=ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function mot(e,t){e&&!e.SSF&&(e.SSF=Cn(ct)),e&&e.SSF&&(L1(),ek(e.SSF),t.revssf=nk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ox?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="bin",r=!0,i=UR();ZR(t=t||{});var s=FR(),a="",o=0;if(t.cellXfs=[],w0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",At(s,a,Eae(e.Props,t)),i.coreprops.push(a),un(t.rels,2,a,$t.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],l=0;l<e.SheetNames.length;++l)(e.Workbook.Sheets[l]||{}).Hidden!=2&&u.push(e.SheetNames[l]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,At(s,a,Aae(e.Props)),i.extprops.push(a),un(t.rels,3,a,$t.EXT_PROPS),e.Custprops!==e.Props&&Mn(e.Custprops||{}).length>0&&(a="docProps/custom.xml",At(s,a,Sae(e.Custprops)),i.custprops.push(a),un(t.rels,4,a,$t.CUST_PROPS));var c=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,At(s,a,Qit(o-1,t,e,f)),i.sheets.push(a),un(t.wbrels,-1,"worksheets/sheet"+o+"."+n,$t.WS[0])}if(h){var p=h["!comments"],g=!1,m="";if(p&&p.length>0){var x=!1;p.forEach(function(v){v[1].forEach(function(_){_.T==!0&&(x=!0)})}),x&&(m="xl/threadedComments/threadedComment"+o+".xml",At(s,m,eoe(p,c,t)),i.threadedcomments.push(m),un(f,-1,"../threadedComments/threadedComment"+o+".xml",$t.TCMNT)),m="xl/comments"+o+"."+n,At(s,m,ytt(p)),i.comments.push(m),un(f,-1,"../comments"+o+"."+n,$t.CMNT),g=!0}h["!legacy"]&&g&&At(s,"xl/drawings/vmlDrawing"+o+".vml",Qae(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&At(s,Hv(a),Jp(f))}t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+n,At(s,a,FQe(t.Strings)),i.strs.push(a),un(t.wbrels,-1,"sharedStrings."+n,$t.SST)),a="xl/workbook."+n,At(s,a,Dst(e)),i.workbooks.push(a),un(t.rels,1,a,$t.WB),a="xl/theme/theme1.xml";var y=GR(e.Themes,t);return At(s,a,y),i.themes.push(a),un(t.wbrels,-1,"theme/theme1.xml",$t.THEME),a="xl/styles."+n,At(s,a,Ret(e,t)),i.styles.push(a),un(t.wbrels,-1,"styles."+n,$t.STY),e.vbaraw&&r&&(a="xl/vbaProject.bin",At(s,a,e.vbaraw),i.vba.push(a),un(t.wbrels,-1,"vbaProject.bin",$t.VBA)),a="xl/metadata."+n,At(s,a,ttt()),i.metadata.push(a),un(t.wbrels,-1,"metadata."+n,$t.XLMETA),c.length>1&&(a="xl/persons/person.xml",At(s,a,toe(c)),i.people.push(a),un(t.wbrels,-1,"persons/person.xml",$t.PEOPLE)),At(s,"[Content_Types].xml",vae(i,t)),At(s,"_rels/.rels",Jp(t.rels)),At(s,"xl/_rels/workbook."+n+".rels",Jp(t.wbrels)),delete t.revssf,delete t.ssf,s}function xot(e,t){e&&!e.SSF&&(e.SSF=Cn(ct)),e&&e.SSF&&(L1(),ek(e.SSF),t.revssf=nk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ox?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=wtt.indexOf(t.bookType)>-1,i=UR();ZR(t=t||{});var s=FR(),a="",o=0;if(t.cellXfs=[],w0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",At(s,a,Eae(e.Props,t)),i.coreprops.push(a),un(t.rels,2,a,$t.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],l=0;l<e.SheetNames.length;++l)(e.Workbook.Sheets[l]||{}).Hidden!=2&&u.push(e.SheetNames[l]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,At(s,a,Aae(e.Props)),i.extprops.push(a),un(t.rels,3,a,$t.EXT_PROPS),e.Custprops!==e.Props&&Mn(e.Custprops||{}).length>0&&(a="docProps/custom.xml",At(s,a,Sae(e.Custprops)),i.custprops.push(a),un(t.rels,4,a,$t.CUST_PROPS));var c=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,At(s,a,Urt(o-1,t,e,f)),i.sheets.push(a),un(t.wbrels,-1,"worksheets/sheet"+o+"."+n,$t.WS[0])}if(h){var p=h["!comments"],g=!1,m="";if(p&&p.length>0){var x=!1;p.forEach(function(y){y[1].forEach(function(v){v.T==!0&&(x=!0)})}),x&&(m="xl/threadedComments/threadedComment"+o+".xml",At(s,m,eoe(p,c,t)),i.threadedcomments.push(m),un(f,-1,"../threadedComments/threadedComment"+o+".xml",$t.TCMNT)),m="xl/comments"+o+"."+n,At(s,m,htt(p)),i.comments.push(m),un(f,-1,"../comments"+o+"."+n,$t.CMNT),g=!0}h["!legacy"]&&g&&At(s,"xl/drawings/vmlDrawing"+o+".vml",Qae(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&At(s,Hv(a),Jp(f))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+n,At(s,a,AQe(t.Strings,t)),i.strs.push(a),un(t.wbrels,-1,"sharedStrings."+n,$t.SST)),a="xl/workbook."+n,At(s,a,pst(e)),i.workbooks.push(a),un(t.rels,1,a,$t.WB),a="xl/theme/theme1.xml",At(s,a,GR(e.Themes,t)),i.themes.push(a),un(t.wbrels,-1,"theme/theme1.xml",$t.THEME),a="xl/styles."+n,At(s,a,het(e,t)),i.styles.push(a),un(t.wbrels,-1,"styles."+n,$t.STY),e.vbaraw&&r&&(a="xl/vbaProject.bin",At(s,a,e.vbaraw),i.vba.push(a),un(t.wbrels,-1,"vbaProject.bin",$t.VBA)),a="xl/metadata."+n,At(s,a,rtt()),i.metadata.push(a),un(t.wbrels,-1,"metadata."+n,$t.XLMETA),c.length>1&&(a="xl/persons/person.xml",At(s,a,toe(c)),i.people.push(a),un(t.wbrels,-1,"persons/person.xml",$t.PEOPLE)),At(s,"[Content_Types].xml",vae(i,t)),At(s,"_rels/.rels",Jp(t.rels)),At(s,"xl/_rels/workbook."+n+".rels",Jp(t.wbrels)),delete t.revssf,delete t.ssf,s}function QR(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Oa(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function vot(e,t){return ft.find(e,"EncryptedPackage")?got(e,t):_oe(e,t)}function yot(e,t){var n,r=e,i=t||{};return i.type||(i.type=Nt&&Buffer.isBuffer(e)?"buffer":"base64"),n=qse(r,i),pot(n,i)}function Ioe(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return SN(e.slice(n),t);default:break e}return t1.to_workbook(e,t)}function _ot(e,t){var n="",r=QR(e,t);switch(t.type){case"base64":n=Oa(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=fd(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=dn(n)),t.type="binary",Ioe(n,t)}function Eot(e,t){var n=e;return t.type=="base64"&&(n=Oa(n)),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer&&(n=new Uint8Array(e)),n=Nt&&Buffer.isBuffer(e)?e.slice(2).toString("utf16le"):typeof Uint8Array<"u"&&n instanceof Uint8Array?typeof TextDecoder<"u"?new TextDecoder("utf-16le").decode(n.slice(2)):oKe(n.slice(2)):Nse(n.slice(2)),t.type="binary",Ioe(n,t)}function bot(e){return e.match(/[^\x00-\x7F]/)?Iu(e):e}function o3(e,t,n,r){return r?(n.type="string",t1.to_workbook(e,n)):t1.to_workbook(t,n)}function tg(e,t){bR();var n=t||{};if(n.codepage&&console.error("Codepage tables are not loaded.  Non-ASCII characters may not give expected results"),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return tg(new Uint8Array(e),(n=Cn(n),n.type="array",n));if(typeof Int8Array<"u"&&e instanceof Int8Array)return tg(new Uint8Array(e.buffer,e.byteOffset,e.length),n);typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Zp={},n.dateNF&&(Zp.dateNF=n.dateNF),n.type||(n.type=Nt&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=Nt?"buffer":"binary",r=BKe(e),typeof Uint8Array<"u"&&!Nt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=bot(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=Cn(n),n.type="array",tg(wR(r),n)}switch((i=QR(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return vot(ft.read(r,n),n);break;case 9:if(i[1]<=8)return _oe(r,n);break;case 60:return SN(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return pQe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Hae.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?yot(r,n):o3(e,r,n,s);case 239:return i[3]===60?SN(r,n):o3(e,r,n,s);case 255:if(i[1]===254)return Eot(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Ch.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Ch.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return AN.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return XQe(r,n);break;case 10:case 13:case 32:return _ot(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break;case 8:if(i[1]===231)throw new Error("Unsupported Multiplan 1.x file!");break;case 12:if(i[1]===236)throw new Error("Unsupported Multiplan 2.x file!");if(i[1]===237)throw new Error("Unsupported Multiplan 3.x file!");break}return dQe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?AN.to_workbook(r,n):o3(e,r,n,s)}function Roe(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return f_(t.file,ft.write(e,{type:Nt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ft.write(e,t)}function wot(e,t){switch(t.bookType){case"ods":return Toe(e,t);case"numbers":return sot(e,t);case"xlsb":return mot(e,t);default:return xot(e,t)}}function Aot(e,t){var n=Cn(t||{}),r=wot(e,n);return Sot(r,n)}function Sot(e,t){var n={},r=Nt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?ft.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(QC(i))}return t.password&&typeof encrypt_agile<"u"?Roe(encrypt_agile(i,t.password),t):t.type==="file"?f_(t.file,i):t.type=="string"?dn(i):i}function Cot(e,t){var n=t||{},r=pat(e,n);return Roe(r,n)}function _u(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Gw(Iu(r));case"binary":return Iu(r);case"string":return e;case"file":return f_(t.file,r,"utf8");case"buffer":return Nt?yl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):_u(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function kot(e,t){switch(t.type){case"base64":return lKe(e);case"binary":return e;case"string":return e;case"file":return f_(t.file,e,"binary");case"buffer":return Nt?yl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function j2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?Gw(n):t.type=="string"?dn(n):n;case"file":return f_(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Moe(e,t){bR(),fst(e);var n=Cn(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=Moe(e,n);return n.type="array",QC(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return _u(oat(e,n),n);case"slk":case"sylk":return _u(Wae.from_sheet(e.Sheets[e.SheetNames[i]],n,e),n);case"htm":case"html":return _u(woe(e.Sheets[e.SheetNames[i]],n),n);case"txt":return kot(Loe(e.Sheets[e.SheetNames[i]],n),n);case"csv":return _u(eM(e.Sheets[e.SheetNames[i]],n),n,"\uFEFF");case"dif":return _u(Hae.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return j2(AN.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return _u(t1.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return _u(KQe(e.Sheets[e.SheetNames[i]]),n);case"eth":return _u(Vae.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return _u(Toe(e,n),n);case"wk1":return j2(Ch.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return j2(Ch.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),j2(boe(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Cot(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Aot(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Tot(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Fot(e,t,n){var r=n||{};return r.type="file",r.file=t,Tot(r),Moe(e,r)}function Dot(e,t,n,r,i,s,a){var o=Ut(n),u=a.defval,l=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),c=!0,f=e["!data"]!=null,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!f||e["!data"][n])for(var d=t.s.c;d<=t.e.c;++d){var p=f?(e["!data"][n]||[])[d]:e[r[d]+o];if(p==null||p.t===void 0){if(u===void 0)continue;s[d]!=null&&(h[s[d]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"b":case"n":if(!p.z||!vo(p.z)||(g=lc(g),typeof g=="number"))break;case"d":a&&(a.UTC||a.raw===!1)||(g=hd(new Date(g)));break;default:throw new Error("unrecognized type "+p.t)}if(s[d]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[d]]=null;else if(u!==void 0)h[s[d]]=u;else if(l&&g===null)h[s[d]]=null;else continue;else h[s[d]]=(p.t==="n"&&typeof a.rawNumbers=="boolean"?a.rawNumbers:l)?g:bc(p,g,a);g!=null&&(c=!1)}}return{row:h,isempty:c}}function FN(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},c=l.range!=null?l.range:e["!ref"];switch(l.header===1?r=1:l.header==="A"?r=2:Array.isArray(l.header)?r=3:l.header==null&&(r=0),typeof c){case"string":u=Qt(c);break;case"number":u=Qt(e["!ref"]),u.s.r=c;break;default:u=c}r>0&&(i=0);var f=Ut(u.s.r),h=[],d=[],p=0,g=0,m=e["!data"]!=null,x=u.s.r,y=0,v={};m&&!e["!data"][x]&&(e["!data"][x]=[]);var _=l.skipHidden&&e["!cols"]||[],E=l.skipHidden&&e["!rows"]||[];for(y=u.s.c;y<=u.e.c;++y)if(!(_[y]||{}).hidden)switch(h[y]=Ot(y),n=m?e["!data"][x][y]:e[h[y]+f],r){case 1:s[y]=y-u.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=l.header[y-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=bc(n,null,l),g=v[a]||0,!g)v[a]=1;else{do o=a+"_"+g++;while(v[o]);v[a]=g,v[o]=1}s[y]=o}for(x=u.s.r+i;x<=u.e.r;++x)if(!(E[x]||{}).hidden){var w=Dot(e,u,x,h,r,s,l);(w.isempty===!1||(r===1?l.blankrows!==!1:l.blankrows))&&(d[p++]=w.row)}return d.length=p,d}var aH=/"/g;function Not(e,t,n,r,i,s,a,o,u){for(var l=!0,c=[],f="",h=Ut(n),d=e["!data"]!=null,p=d&&e["!data"][n]||[],g=t.s.c;g<=t.e.c;++g)if(r[g]){var m=d?p[g]:e[r[g]+h];if(m==null)f="";else if(m.v!=null){l=!1,f=""+(u.rawNumbers&&m.t=="n"?m.v:bc(m,null,u));for(var x=0,y=0;x!==f.length;++x)if((y=f.charCodeAt(x))===i||y===s||y===34||u.forceQuotes){f='"'+f.replace(aH,'""')+'"';break}f=="ID"&&o==0&&c.length==0&&(f='"ID"')}else m.f!=null&&!m.F?(l=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(aH,'""')+'"')):f="";c.push(f)}if(u.strip)for(;c[c.length-1]==="";)--c.length;return u.blankrows===!1&&l?null:c.join(a)}function eM(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";for(var i=Qt(e["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,u=o.charCodeAt(0),l="",c=[],f=r.skipHidden&&e["!cols"]||[],h=r.skipHidden&&e["!rows"]||[],d=i.s.c;d<=i.e.c;++d)(f[d]||{}).hidden||(c[d]=Ot(d));for(var p=0,g=i.s.r;g<=i.e.r;++g)(h[g]||{}).hidden||(l=Not(e,i,g,c,a,u,s,p,r),l!=null&&(l||r.blankrows!==!1)&&n.push((p++?o:"")+l));return n.join("")}function Loe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=eM(e,t);return n}function Oot(e,t){var n="",r,i="";if(e==null||e["!ref"]==null)return[];var s=Qt(e["!ref"]),a="",o=[],u,l=[],c=e["!data"]!=null;for(u=s.s.c;u<=s.e.c;++u)o[u]=Ot(u);for(var f=s.s.r;f<=s.e.r;++f)for(a=Ut(f),u=s.s.c;u<=s.e.c;++u)if(n=o[u]+a,r=c?(e["!data"][f]||[])[u]:e[n],i="",r!==void 0){if(r.F!=null){if(n=r.F,!r.f)continue;i=r.f,n.indexOf(":")==-1&&(n=n+":"+n)}if(r.f!=null)i=r.f;else{if(t&&t.values===!1)continue;if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)i=""+r.v;else if(r.t=="b")i=r.v?"TRUE":"FALSE";else if(r.w!==void 0)i="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?i="'"+r.v:i=""+r.v}}l[l.length]=n+"="+i}return l}function Poe(e,t,n){var r=n||{},i=e?e["!data"]!=null:r.dense,s=+!r.skipHeader,a=e||{};!e&&i&&(a["!data"]=[]);var o=0,u=0;if(a&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?pn(r.origin):r.origin;o=l.r,u=l.c}var c={s:{c:0,r:0},e:{c:u,r:o+t.length-1+s}};if(a["!ref"]){var f=Qt(a["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),o==-1&&(o=f.e.r+1,c.e.r=o+t.length-1+s)}else o==-1&&(o=0,c.e.r=t.length-1+s);var h=r.header||[],d=0,p=[];t.forEach(function(m,x){i&&!a["!data"][o+x+s]&&(a["!data"][o+x+s]=[]),i&&(p=a["!data"][o+x+s]),Mn(m).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var v=m[y],_="z",E="",w=i?"":Ot(u+d)+Ut(o+x+s),b=i?p[u+d]:a[w];v&&typeof v=="object"&&!(v instanceof Date)?i?p[u+d]=v:a[w]=v:(typeof v=="number"?_="n":typeof v=="boolean"?_="b":typeof v=="string"?_="s":v instanceof Date?(_="d",r.UTC||(v=rk(v)),r.cellDates||(_="n",v=Yn(v)),E=b!=null&&b.z&&vo(b.z)?b.z:r.dateNF||ct[14]):v===null&&r.nullError&&(_="e",v=0),b?(b.t=_,b.v=v,delete b.w,delete b.R,E&&(b.z=E)):i?p[u+d]=b={t:_,v}:a[w]=b={t:_,v},E&&(b.z=E))})}),c.e.c=Math.max(c.e.c,u+h.length-1);var g=Ut(o);if(i&&!a["!data"][o]&&(a["!data"][o]=[]),s)for(d=0;d<h.length;++d)i?a["!data"][o][d+u]={t:"s",v:h[d]}:a[Ot(d+u)+g]={t:"s",v:h[d]};return a["!ref"]=Ct(c),a}function $ot(e,t){return Poe(null,e,t)}function Zv(e,t,n){if(typeof t=="string"){if(e["!data"]!=null){var r=pn(t);return e["!data"][r.r]||(e["!data"][r.r]=[]),e["!data"][r.r][r.c]||(e["!data"][r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Zv(e,It(t)):Zv(e,Ot(n||0)+Ut(t))}function Iot(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function tM(e,t){var n={SheetNames:[],Sheets:{}};return e&&y_(n,e,t||"Sheet1"),n}function y_(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0&&n.length<32){var s=n.match(/\d+$/);i=s&&+s[0]||0;var a=s&&n.slice(0,s.index)||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=a+i)!=-1;++i);}if(moe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function Rot(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=Iot(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function Mot(e,t){return e.z=t,e}function Boe(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function Lot(e,t,n){return Boe(e,"#"+t,n)}function Pot(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function Bot(e,t,n,r){for(var i=typeof t!="string"?t:Qt(t),s=typeof t=="string"?t:Ct(t),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var u=Zv(e,a,o);u.t="n",u.F=s,delete u.v,a==i.s.r&&o==i.s.c&&(u.f=n,r&&(u.D=!0))}var l=Yr(e["!ref"]);return l.s.r>i.s.r&&(l.s.r=i.s.r),l.s.c>i.s.c&&(l.s.c=i.s.c),l.e.r<i.e.r&&(l.e.r=i.e.r),l.e.c<i.e.c&&(l.e.c=i.e.c),e["!ref"]=Ct(l),e}var ME={encode_col:Ot,encode_row:Ut,encode_cell:It,encode_range:Ct,decode_col:RR,decode_row:IR,split_cell:kYe,decode_cell:pn,decode_range:Yr,format_cell:bc,sheet_new:TYe,sheet_add_aoa:hae,sheet_add_json:Poe,sheet_add_dom:Aoe,aoa_to_sheet:P1,json_to_sheet:$ot,table_to_sheet:Soe,table_to_book:Lat,sheet_to_csv:eM,sheet_to_txt:Loe,sheet_to_json:FN,sheet_to_html:woe,sheet_to_formulae:Oot,sheet_to_row_object_array:FN,sheet_get_cell:Zv,book_new:tM,book_append_sheet:y_,book_set_sheet_visibility:Rot,cell_set_number_format:Mot,cell_set_hyperlink:Boe,cell_set_internal_link:Lot,cell_add_comment:Pot,sheet_set_array_formula:Bot,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};async function Uot(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsArrayBuffer(e),r.onload=()=>t(r.result),r.onerror=i=>n(i)})}function zot(e){let t=Date.now().toString();const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;let i=t.length;for(;i<e;)t+=n.charAt(Math.floor(Math.random()*r)),i+=1;return t}function u3(e,t,n){return e.map(r=>Object.keys(r).reduce((i,s)=>(i[s===t?n:s]=r[s],i),{}))}function Wot(e,t,n){return e.map(r=>r.hasOwnProperty(t)?r:{...r,[t]:n})}function oH(e,t,n="number"){return e.map(r=>Object.keys(r).reduce((i,s)=>(t.includes(s)?i[s]=r[s]:n==="number"&&(typeof r[s]=="number"||!isNaN(parseFloat(r[s])))&&(i[s]=parseFloat(r[s])),i),{}))}function Hot(e,t){return e.map(n=>{const r={...n};return delete r[t],r})}function Vot(e,t){return e.map(n=>[...t,...Object.keys(n).filter(i=>!t.includes(i))].reduce((i,s)=>(s in n?i[s]=n[s]:i[s]=null,i),{}))}function jot(e,t,n){return e.map(r=>{const i=t.find(s=>s[n]===r[n]);return i?{...r,...i}:r})}function Uoe(e){const t=[];for(let n=0;n<e.items.length;n++){t[n]={};for(let r=0;r<e.fields.length;r++)if(e.fields[r].show||e.fields[r].name==="ColorGroup"){const i=e.fields[r].unit?e.fields[r].name+" ("+e.fields[r].unit+")":e.fields[r].name;t[n][i]=e.items[n][e.fields[r].label]}}return t}function Got(e){return e.features?e.features.map(t=>{const{properties:n,...r}=t;return n||[]}):[]}function uH(e){const t=e.match(/\(([^)]+)\)$/),n=t?t[1].trim():"";return[e.replace("("+n+")","").trim(),n]}async function qot(e,t=!1){const n=Uoe(e),r=sme(n);if(!t)return r;const i=new Blob([r],{type:"text/csv"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download="data.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a)}async function Xot(e){const t=Uoe(e),n=ME.json_to_sheet(t),r=ME.book_new();ME.book_append_sheet(r,n,"Sheet1"),Fot(r,"data.xlsx")}class Mx{static get(t,n=null,r=null,i=!0){return new Promise(function(s,a){const o=new XMLHttpRequest;o.onreadystatechange=function(){if(this.readyState==4)if(this.status==200)try{s(i?JSON.parse(this.responseText):this.response)}catch(u){console.log(u),console.log(this.responseText),a(Error("Unable to parse output."))}else this.status==429?a(Error("Too many requests within specify time. Please try again later.")):(console.log(t),a(Error("Unable to fetch data from the server.")))},r!==null&&(o.onprogress=r),o.ontimeout=function(u){console.log(u),a(Error("The request has timed out."))},n!==null&&(o.timeout=n),o.open("GET",t,!0),o.send()})}static post(t,n,r={},i=18e4){return new Promise(function(s,a){const o=new XMLHttpRequest;o.onreadystatechange=function(){if(this.readyState==4)if(this.status==200)try{s(JSON.parse(this.responseText))}catch(u){console.log(u),console.log(this.responseText),a(Error("Unable to parse output."))}else if(this.status==429)a(Error("Too many requests within specify time. Please try again later."));else try{const u=JSON.parse(this.responseText),l=u.error?u.error:"Unable to fetch data from the server.";a(Error(l))}catch(u){console.error(u),console.log(this.responseText);const l=this.responseText.replace(/<\/?[^>]+(>|$)/g,"");a(Error(l))}},o.ontimeout=function(u){console.log(u),a(Error("The request has timed out."))},o.open("POST",t,!0),o.timeout=i,Object.keys(r).forEach(function(u){o.setRequestHeader(u,r[u])}),o.send(n)})}static serializePostVariables(t){let n="",r=!0;return Object.keys(t).forEach(function(i){n+=(r?"":"&")+i+"="+encodeURIComponent(t[i]),r=!1}),n}static generateMIMEBoundary(){let t="---------";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<25;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}}const Kot={class:"p-2 text-bg-light"},Yot={key:0,class:"p-2"},Jot=["value"],Zot={key:1},Qot={class:"p-2"},eut=["value"],tut={class:"p-2"},nut={class:"invalid-feedback"},rut={key:0,class:"d-flex justify-content-center"},iut={key:1,class:"p-2"},sut=Zr({__name:"CFormGeojson",props:{mapDBKey:{},maps:{},geoUrl:{}},emits:["changed"],setup(e,{emit:t}){const n=e,r=t,i=oi();let s={};const a=sa({isLoading:!1,error:"",handler:"",geojsonUniqueProperties:[],geojsonRegionCol:""});async function o(){if(i.value.value=null,s={},a.geojsonUniqueProperties=[],!a.handler)return;const l="/static/cartdata/"+a.handler;Mx.get(l+"/Geographic Area.json").then(function(c){a.geojsonRegionCol="Region",r("changed",a.handler,c,a.geojsonRegionCol,l+"/data.csv")})}async function u(l){s={},a.geojsonUniqueProperties=[];const c=l.target.files;if(!c||c.length==0)return;a.isLoading=!0;const f=new FormData;f.append("file",c[0]);const h=await new Promise(function(g,m){Mx.post("/api/v1/cartogram/preprocess/"+n.mapDBKey,f).then(function(x){g(x)},function(x){m(x)})}).catch(function(g){console.log(g),a.error="Unable to processs your geospatial file(s)",a.isLoading=!1});if(!h||!h.geojson)return;const d=h.geojson;if(!d||!d.features){a.error="Invalid geospatial file",a.isLoading=!1;return}a.error="",s=d,a.geojsonUniqueProperties=h.unique,a.geojsonRegionCol="",a.handler="custom",a.isLoading=!1;const p=a.geojsonUniqueProperties[0];r("changed",a.handler,s,p,"",!1)}return(l,c)=>(je(),Ye("div",Kot,[c[8]||(c[8]=Q("div",{class:"badge text-bg-secondary"},"1. Define a map",-1)),n.geoUrl?(je(),Ye("div",Yot,[Q("input",{type:"text",value:n.geoUrl,disabled:""},null,8,Jot)])):(je(),Ye("div",Zot,[Q("div",Qot,[c[4]||(c[4]=nr(" Select an appropriate map for your data. ")),zs(Q("select",{class:"form-select","onUpdate:modelValue":c[0]||(c[0]=f=>a.handler=f),onChange:o},[c[3]||(c[3]=Q("option",null,null,-1)),(je(!0),Ye(Mt,null,Mi(n.maps,(f,h)=>(je(),Ye("option",{value:h,key:h},yr(f.name),9,eut))),128))],544),[[$h,a.handler]])]),Q("div",tut,[c[5]||(c[5]=nr(" OR upload your GeoJSONs or Shapefiles (.shp, .shx, and .dbf in zip). ")),Q("input",{ref_key:"fileEl",ref:i,class:no(["form-control",{"is-invalid":a.error}]),type:"file",accept:".geojson,.json,.zip",onChange:u},null,34),Q("div",nut,yr(a.error),1)]),a.isLoading?(je(),Ye("div",rut,c[6]||(c[6]=[Q("div",{class:"p-2 spinner-border",role:"status"},[Q("span",{class:"visually-hidden"},"Loading...")],-1)]))):Ar("",!0),a.geojsonUniqueProperties.length>0?(je(),Ye("div",iut,[c[7]||(c[7]=nr(" Which property contain unique region names (e.g., country names)? ")),zs(Q("select",{class:"form-select","onUpdate:modelValue":c[1]||(c[1]=f=>a.geojsonRegionCol=f),onChange:c[2]||(c[2]=f=>r("changed",a.handler,tr(s),a.geojsonRegionCol))},[(je(!0),Ye(Mt,null,Mi(a.geojsonUniqueProperties,(f,h)=>(je(),Ye("option",{key:h},yr(f),1))),128))],544),[[$h,a.geojsonRegionCol]])])):Ar("",!0)]))]))}}),aut={class:"p-2 text-bg-light"},out={class:"p-2"},uut=["disabled"],lut={key:0},cut=Zr({__name:"CFormCsv",props:{disabled:{type:Boolean,default:!1}},emits:["changed"],setup(e,{emit:t}){const n=oi(""),r=e,i=t;async function s(a){var d;const o=a.target,u=o.files;if(!u||u.length===0)return;const l=u[0];n.value=l.name;const c=await Uot(l),f=(d=l.name.split(".").pop())==null?void 0:d.toLowerCase();let h=[{}];if(f==="xls"||f==="xlsx"){const p=tg(c,{type:"array"}),g=p.Sheets[p.SheetNames[0]];h=ME.sheet_to_json(g)}else{const p=new TextDecoder("utf-8").decode(c);h=hq(p)}if(!(!h||h.length<1)){if(!("Region"in h[0])){const p=Object.keys(h[0])[0];h=h.map(g=>{const m={...g};return m.Region=m[p],delete m[p],m})}h.sort((p,g)=>{const m=(p.Region||"").toString(),x=(g.Region||"").toString();return m.localeCompare(x)}),o.value="",i("changed",h)}}return(a,o)=>(je(),Ye("div",aut,[o[7]||(o[7]=Q("div",{class:"badge text-bg-secondary"},"4. Input your data",-1)),o[8]||(o[8]=Q("div",{class:"p-2"},"Input your data to the table on the right panel.",-1)),Q("div",out,[o[1]||(o[1]=nr(" Alternatively, upload your data in CSV or Excel format. ")),o[2]||(o[2]=Q("br",null,null,-1)),o[3]||(o[3]=Q("label",{for:"csvInput",class:"custom-file-upload"}," Choose file ",-1)),Q("input",{id:"csvInput",type:"file",accept:"text/csv,.csv,.xlsx,.xls",disabled:r.disabled,onChange:s},null,40,uut),n.value?(je(),Ye("div",lut,[o[0]||(o[0]=Q("strong",null,"Selected file:",-1)),nr(" "+yr(n.value),1)])):Ar("",!0),o[4]||(o[4]=Q("br",null,null,-1)),o[5]||(o[5]=Q("br",null,null,-1)),o[6]||(o[6]=Q("em",null," Note: Please ensure the first column contains the same region names you chose in step 1. ",-1))])]))}}),fut=g1(cut,[["__scopeId","data-v-01335607"]]),hut={class:"dropdown"},dut=["disabled"],put={class:"dropdown-menu"},gut=["onClick"],mut={class:"d-inline swatch"},xut=["title"],vut=Zr({__name:"CSelectColor",props:{disabled:{type:Boolean},scheme:{}},emits:["changed"],setup(e,{emit:t}){const n=["accent","category10","category20","category20b","category20c","dark2","paired","pastel1","pastel2","set1","set2","set3","tableau10","tableau20","observable10"],r=n.reduce((u,l)=>(u[l]=mS(l),u),{}),i=e,s=sa({scheme:i.scheme}),a=t;function o(u){s.scheme=u,a("changed",s.scheme)}return(u,l)=>(je(),Ye(Mt,null,[l[1]||(l[1]=nr(" Color ")),Q("div",hut,[Q("button",{class:"btn btn-outline-secondary dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:i.disabled},yr(s.scheme),9,dut),Q("ul",put,[Q("li",null,[Q("a",{class:no(["dropdown-item",{"bg-secondary text-white":s.scheme==="custom"}]),onClick:l[0]||(l[0]=c=>o("custom"))},"Custom",2)]),(je(),Ye(Mt,null,Mi(n,c=>Q("li",{key:c,class:no({"bg-secondary":c===s.scheme})},[Q("a",{class:"dropdown-item",onClick:f=>o(c)},[Q("div",mut,[(je(!0),Ye(Mt,null,Mi(tr(r)[c],f=>(je(),Ye("div",{title:f,style:Qf("background: "+f),key:f},null,12,xut))),128))]),Q("span",{class:no(["ms-2",{"text-white":c===s.scheme}])},yr(c),3)],8,gut)],2)),64))])])],64))}}),yut=g1(vut,[["__scopeId","data-v-aaa7045e"]]),_ut={class:"card w-75 m-2 border-0"},Eut={key:0,class:"p-2"},but={key:1,class:"d-table p-2"},wut={class:"table table-bordered"},Aut={class:"table-light"},Sut={key:0},Cut={key:1},kut=["onClick","title"],Tut=["onUpdate:modelValue","type"],Fut=["onUpdate:modelValue","type"],Dut={key:2,class:"tooltip"},Nut={key:0},Out=["onUpdate:modelValue"],$ut=["value"],Iut=["type","value","onChange"],Rut={key:3,class:"tooltip"},Mut=Zr({__name:"CDataTable",props:{mapColorScheme:{},useInset:{type:Boolean}},setup(e,{expose:t}){const n=JSON.parse(JSON.stringify(Die));let r;const i=e,s=sa({dataTable:{fields:[],items:[]},displayTable:!1});t({initDataTableWGeojson:o,updateDataTable:c,getCSV:h,getExcel:d,validateCSV:l}),Gs(()=>i.mapColorScheme,(g,m)=>{f(g,m)}),Gs(()=>i.useInset,()=>{s.dataTable.fields[iT].show=i.useInset});function a(){s.dataTable.items=[],s.dataTable.fields=[{label:"Region",name:"Region",type:"text",editable:!1,show:!0,headerError:!1,errorMessage:""},{label:"RegionLabel",name:"RegionLabel",type:"text",editable:!0,show:!0},{label:"Color",name:"Color",type:"color",editable:!0,show:!1},{label:"ColorGroup",name:"ColorGroup",type:"number",editable:!1,show:!1},{label:"Inset",name:"Inset",type:"select",options:L2e,editable:!0,show:!1},{label:"Geographic Area",name:"Geographic Area",unit:"sq. km",type:"text",editable:!0,editableHead:!0,show:!1}],s.displayTable=!1}function o(g,m,x=!0){a(),document.getElementById("map-vis").innerHTML="",s.dataTable.fields.splice(ZP),s.dataTable.items=[],s.displayTable=x;let y=Got(g);if(y.length===0)return;y=Hot(y,"cartogram_id"),Object.keys(y[0]).some(_=>_.startsWith("Population"))||(y=Wot(y,"Population (people)",0));const v=Object.keys(y[0]).find(_=>_.startsWith("Geographic Area"));v&&(y=u3(y,v,"Geographic Area")),y=u3(y,m,"Region"),y=Vot(y,[...kp,"Population (people)"]),y.sort((_,E)=>_.Region.localeCompare(E.Region)),n.data[1].values=g,n.data[2].transform[2].fields=["properties."+m],u(y)}async function u(g,m=!0){g=oH(g,kp),m?s.dataTable.items=g:s.dataTable.items=jot(s.dataTable.items,g,"Region");const x=Object.keys(s.dataTable.items[0]);for(let v=0;v<x.length;v++)if(!kp.includes(x[v])){const[_,E]=uH(x[v]);s.dataTable.fields.push({label:x[v],name:_,unit:E,type:"number",editable:!0,editableHead:!0,show:!0})}n.data[0].values=s.dataTable.items,n.data[0].format="json",r=(await cN("#map-vis",n,{renderer:"svg",actions:!1,tooltip:C4})).view,i.mapColorScheme!=="custom"&&r.signal("colorScheme",i.mapColorScheme).runAsync()}function l(g){if(g.length===0)return!1;if(g[0].hasOwnProperty("Region")){const v=s.dataTable.fields.find(_=>_.label==="Region");v&&(v.errorMessage="",v.headerError=!1)}else{const v=s.dataTable.fields.find(_=>_.label==="Region");return v&&(v.errorMessage="Region column not found in the uploaded CSV",v.headerError=!0),!1}const m=g.map(v=>v.Region),x=s.dataTable.items.map(v=>v.Region);let y=!0;if(m.length!==x.length){const v=s.dataTable.fields.find(_=>_.label==="Region");v&&(v.errorMessage=`Row count mismatch: CSV has ${m.length} rows, but expected ${x.length}`,v.headerError=!0),y=!1}for(let v=0;v<Math.min(m.length,x.length);v++)m[v]!==x[v]?(s.dataTable.items[v].regionError=`Region mismatch at row ${v+1}: CSV has "${m[v]}", expected "${x[v]}"`,y=!1):delete s.dataTable.items[v].regionError;return y}function c(g){if(g.length===0)return;const m=Object.keys(g[0]).find(x=>x.startsWith("Geographic Area"));if(m){const[,x]=uH(m);s.dataTable.fields[sT].unit=x,g=u3(g,m,"Geographic Area")}return s.dataTable.items=oH(s.dataTable.items,kp,null),s.dataTable.fields.splice(ZP),s.dataTable.fields[Z_].show=g[0].hasOwnProperty("Color"),s.dataTable.fields[iT].show=g[0].hasOwnProperty("Inset"),u(g,!1),{customColor:s.dataTable.fields[Z_].show,useInset:s.dataTable.fields[iT].show}}function f(g,m){if(g==="custom"){if(m!=="custom"){const x=r.scale("color_group");for(let y=0;y<s.dataTable.items.length;y++)s.dataTable.items[y].Color=x(s.dataTable.items[y].ColorGroup)}else for(let x=0;x<s.dataTable.items.length;x++)s.dataTable.items[x].Color=s.dataTable.items[x].Color?s.dataTable.items[x].Color:"#ffffff";s.dataTable.fields[Z_].show=!0}else{for(let x=0;x<s.dataTable.items.length;x++)delete s.dataTable.items[x].Color;s.dataTable.fields[Z_].show=!1,r.signal("colorScheme",g).runAsync()}}async function h(g=!1){g||(s.dataTable.fields[sT].show=!0);const m=await qot(s.dataTable,g);return s.dataTable.fields[sT].show=!1,m}async function d(){return await Xot(s.dataTable)}function p(g,m,x){const y=x.target;s.dataTable.items[g][m]=y.value;const v=r.changeset().modify(_=>_.Region===s.dataTable.items[g].Region,m,y.value);r.change("source_csv",v).run()}return(g,m)=>(je(),Ye("div",_ut,[m[2]||(m[2]=Q("div",{class:"p-2"},[Q("span",{class:"badge text-bg-secondary"},"Input Overview")],-1)),s.dataTable.items.length<1?(je(),Ye("div",Eut,m[0]||(m[0]=[Q("p",null,"Please follow steps on the left panel.",-1),Q("p",null,[nr(" Don't know where to start? You may try editing one of our "),Q("a",{href:"/cartogram"},"examples"),nr(". If you have any questions or issues about cartogram generation, refer to the "),Q("a",{href:"/faq"},"Frequently Asked Questions"),nr(" or "),Q("a",{href:"/contact"},"Contact us"),nr(". ")],-1)]))):Ar("",!0),m[3]||(m[3]=Q("div",{id:"map-vis",class:"vis-area p-2"},null,-1)),s.displayTable&&s.dataTable.items.length>0?(je(),Ye("div",but,[m[1]||(m[1]=nr(" Please remove unrelated columns by clicking the minus icon. ")),Q("table",wut,[Q("thead",null,[Q("tr",Aut,[(je(!0),Ye(Mt,null,Mi(s.dataTable.fields,(x,y)=>zs((je(),Ye("th",{key:y},[Q("div",{class:no(["header-cell",{"header-error":x.label==="Region"&&x.headerError}])},[x.editableHead?(je(),Ye("div",Cut,[s.dataTable.fields[y].name!=="Geographic Area"?(je(),Ye("i",{key:0,class:"position-absolute top-0 end-0 btn-icon text-secondary fas fa-minus-circle",onClick:v=>s.dataTable.fields[y].show=!1,title:"Remove "+s.dataTable.fields[y].name+" column"},null,8,kut)):Ar("",!0),zs(Q("input",{class:"form-control","onUpdate:modelValue":v=>s.dataTable.fields[y].name=v,type:x.name,placeholder:"Data name"},null,8,Tut),[[ZE,s.dataTable.fields[y].name]]),zs(Q("input",{class:"form-control","onUpdate:modelValue":v=>s.dataTable.fields[y].unit=v,type:x.unit,placeholder:"Unit"},null,8,Fut),[[ZE,s.dataTable.fields[y].unit]])])):(je(),Ye("span",Sut,yr(x.label),1)),x.label==="Region"&&x.headerError?(je(),Ye("div",Dut,yr(x.errorMessage),1)):Ar("",!0)],2)])),[[KE,x.show]])),128))])]),(je(!0),Ye(Mt,null,Mi(s.dataTable.items,(x,y)=>(je(),Ye("tr",{key:y},[(je(!0),Ye(Mt,null,Mi(s.dataTable.fields,(v,_)=>zs((je(),Ye("td",{key:_},[Q("div",{class:no(["cell-content",{"error-cell":v.label==="Region"&&x.regionError}])},[v.editable?v.type==="select"?zs((je(),Ye("select",{key:1,class:"form-control","onUpdate:modelValue":E=>s.dataTable.items[y][v.label]=E},[(je(!0),Ye(Mt,null,Mi(v.options,E=>(je(),Ye("option",{value:E.value,key:E.value},yr(E.text),9,$ut))),128))],8,Out)),[[$h,s.dataTable.items[y][v.label]]]):v.show?(je(),Ye("input",{key:2,class:"form-control",type:v.type,value:s.dataTable.items[y][v.label],onChange:E=>p(y,v.label,E)},null,40,Iut)):Ar("",!0):(je(),Ye("span",Nut,yr(x[v.label]),1)),v.label==="Region"&&x.regionError?(je(),Ye("div",Rut,yr(x.regionError),1)):Ar("",!0)],2)])),[[KE,v.show]])),128))]))),128))])])):Ar("",!0)]))}}),Lut=g1(Mut,[["__scopeId","data-v-67a0e891"]]),Put={class:"d-flex flex-fill"},But={class:"card w-25 m-2"},Uut={class:"p-2"},zut={class:"p-2"},Wut={class:"p-2"},Hut={class:"p-2"},Vut={class:"form-check"},jut=["disabled"],Gut={class:"p-2"},qut={class:"p-2"},Xut=["disabled"],Kut=["disabled"],Yut={id:"errorToast",class:"toast toast position-fixed end-0 bottom-0 m-3 text-bg-danger",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false"},Jut={class:"d-flex"},Zut={class:"toast-body"},Qut={class:"modal",id:"progressBackdrop",tabindex:"-1","aria-hidden":"true"},elt={class:"modal-dialog"},tlt={class:"modal-content"},nlt={class:"modal-body"},rlt={class:"progress",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"},ilt=Zr({__name:"CartogramMaker",props:{maps:{},mapName:{},mapTitle:{},mapColorScheme:{},geoUrl:{},csvUrl:{}},setup(e){const t=zot(32),n=oi(),r=e,i=sa({loadingProgress:0,error:"",title:r.mapTitle?r.mapTitle:"",handler:r.mapName?r.mapName:"",geojsonData:{},geojsonRegionCol:"",csvFile:"",colorScheme:r.mapColorScheme?r.mapColorScheme:"pastel1",useInset:!1});Sc(()=>{if(!r.mapName||!r.geoUrl||!r.csvUrl)return;const c=r.geoUrl.replace("/Input.json","/Geographic Area.json");Mx.get(c).then(function(f){s(r.mapName,f,"Region",r.csvUrl)})});function s(c,f,h,d="",p=!0){i.handler=c,i.geojsonData=f,i.geojsonRegionCol=h,i.csvFile=d,n.value.initDataTableWGeojson(f,h,p),d&&dq(d).then(g=>{if(!g||!Array.isArray(g)){console.error("Invalid CSV data");return}u(g)}).catch(g=>{console.error("Error loading CSV:",g)})}async function a(){await n.value.getCSV(!0)}async function o(){await n.value.getExcel()}function u(c){const f=n.value.updateDataTable(c);i.colorScheme=f.customColor?"custom":i.colorScheme,i.useInset=f.useInset}async function l(){const c=new ld("#progressBackdrop",{backdrop:"static",keyboard:!1});c.show();const f=await n.value.getCSV();await new Promise(function(h,d){const p=JSON.stringify({title:i.title,scheme:i.colorScheme,handler:i.handler,csv:f,geojsonRegionCol:i.geojsonRegionCol,mapDBKey:t,persist:!0,editedFrom:r.geoUrl}),g=window.setInterval(function(m){return function(){Mx.get("/api/v1/getprogress?key="+encodeURIComponent(m)+"&time="+Date.now()).then(function(x){if(x.progress===null){i.loadingProgress=8;return}i.loadingProgress=Math.floor(x.progress*100),console.log(x.stderr)})}}(t),500);Mx.post("/api/v1/cartogram",p,{"Content-type":"application/json"}).then(function(m){i.loadingProgress=100,window.clearInterval(g),h(m),window.location.href="/cartogram/key/"+m.mapDBKey+"/preview"},function(m){i.loadingProgress=100,window.clearInterval(g),d(m)})}).catch(function(h){i.error=h,c.hide(),c_.getOrCreateInstance(document.getElementById("errorToast")).show()})}return(c,f)=>(je(),Ye(Mt,null,[Q("div",Put,[Q("div",But,[Ht(sut,{mapDBKey:tr(t),maps:r.maps,geoUrl:r.geoUrl,onChanged:s},null,8,["mapDBKey","maps","geoUrl"]),Q("div",Uut,[f[5]||(f[5]=Q("div",{class:"badge text-bg-secondary"},"2. Specify visualization",-1)),Q("div",zut,[f[3]||(f[3]=nr(" Title ")),zs(Q("input",{class:"form-control",type:"text","onUpdate:modelValue":f[0]||(f[0]=h=>i.title=h),maxlength:"100"},null,512),[[sg,i.title]])]),Q("div",Wut,[(je(),Nh(yut,{key:i.colorScheme,disabled:!("features"in i.geojsonData),scheme:i.colorScheme,onChanged:f[1]||(f[1]=h=>i.colorScheme=h)},null,8,["disabled","scheme"]))]),Q("div",Hut,[Q("div",Vut,[zs(Q("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":f[2]||(f[2]=h=>i.useInset=h),disabled:!("features"in i.geojsonData),id:"chk-inset"},null,8,jut),[[ny,i.useInset]]),f[4]||(f[4]=Q("label",{class:"form-check-label",for:"chk-inset"}," Define inset ",-1))])])]),Q("div",Gut,[f[8]||(f[8]=Q("div",{class:"badge text-bg-secondary"},"3. Download data (optional)",-1)),Q("div",qut,[Q("button",{class:"btn btn-outline-secondary",disabled:!("features"in i.geojsonData),onClick:a}," CSV ",8,Xut),f[6]||(f[6]=nr(" or ")),Q("button",{class:"btn btn-outline-secondary",disabled:!("features"in i.geojsonData),onClick:o}," Excel ",8,Kut),f[7]||(f[7]=nr(" for editing on your device. "))])]),Ht(fut,{disabled:!("features"in i.geojsonData),onChanged:u},null,8,["disabled"]),Q("div",{class:"p-2"},[f[10]||(f[10]=Q("div",{class:"badge text-bg-secondary"},"5. Generate cartogram",-1)),Q("div",{class:"row p-2"},[Q("div",{class:"col-auto p-2"},[f[9]||(f[9]=Q("p",{class:"bg-warning-subtle p-1 rounded"},[Q("span",{class:"badge text-bg-warning"},"Important"),nr(" The data will be pruned from our server within 1-2 days, unless you share and access a non-preview link. We strongly advise you to back up your original data in a safe place so you can regenerate the cartogram if needed. ")],-1)),Q("button",{class:"btn btn-primary",onClick:l},"Generate")])])])]),Ht(Lut,{ref_key:"dataTableEl",ref:n,mapColorScheme:i.colorScheme,useInset:i.useInset},null,8,["mapColorScheme","useInset"])]),Q("div",Yut,[Q("div",Jut,[Q("div",Zut,yr(i.error),1),f[11]||(f[11]=Q("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast"},null,-1))])]),Q("div",Qut,[Q("div",elt,[Q("div",tlt,[Q("div",nlt,[Q("div",rlt,[Q("div",{class:"progress-bar bg-primary",style:Qf({width:i.loadingProgress+"%"})},null,4)])])])])])],64))}});if(document.getElementById("cartogram-app")){const e=Gx(iVe,{maps,mapName,mapTitle,mapDBKey,mode});e.provide("colorScheme",mapColorScheme),e.use(rG()),e.mount("#cartogram-app")}if(document.getElementById("cartogram-maker")){const e=Gx(ilt,{maps,mapName,mapTitle,mapColorScheme,geoUrl,csvUrl});e.use(rG()),e.mount("#cartogram-maker")}
