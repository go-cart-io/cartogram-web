var Mne=Object.defineProperty;var Lne=(e,t,n)=>t in e?Mne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dv=(e,t,n)=>Lne(e,typeof t!="symbol"?t+"":t,n);var NQe=Pne((vet,_R)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Is(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Dt={},t0=[],Xn=()=>{},Py=()=>!1,Wh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),a3=e=>e.startsWith("onUpdate:"),Bt=Object.assign,o3=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Bne=Object.prototype.hasOwnProperty,Mt=(e,t)=>Bne.call(e,t),ze=Array.isArray,n0=e=>Ep(e)==="[object Map]",jh=e=>Ep(e)==="[object Set]",gI=e=>Ep(e)==="[object Date]",Une=e=>Ep(e)==="[object RegExp]",rt=e=>typeof e=="function",ut=e=>typeof e=="string",As=e=>typeof e=="symbol",Yt=e=>e!==null&&typeof e=="object",l3=e=>(Yt(e)||rt(e))&&rt(e.then)&&rt(e.catch),P7=Object.prototype.toString,Ep=e=>P7.call(e),zne=e=>Ep(e).slice(8,-1),B7=e=>Ep(e)==="[object Object]",c3=e=>ut(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yc=Is(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hne=Is("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Wb=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Vne=/-(\w)/g,hn=Wb(e=>e.replace(Vne,(t,n)=>n?n.toUpperCase():"")),Wne=/\B([A-Z])/g,Hi=Wb(e=>e.replace(Wne,"-$1").toLowerCase()),Gh=Wb(e=>e.charAt(0).toUpperCase()+e.slice(1)),r0=Wb(e=>e?`on${Gh(e)}`:""),gi=(e,t)=>!Object.is(e,t),i0=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},U7=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},A_=e=>{const t=parseFloat(e);return isNaN(t)?e:t},T_=e=>{const t=ut(e)?Number(e):NaN;return isNaN(t)?e:t};let mI;const z7=()=>mI||(mI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),jne="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",Gne=Is(jne);function Iu(e){if(ze(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=ut(r)?H7(r):Iu(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(ut(e)||Yt(e))return e}const qne=/;(?![^(]*\))/g,Xne=/:([^]+)/,Yne=/\/\*[^]*?\*\//g;function H7(e){const t={};return e.replace(Yne,"").split(qne).forEach(n=>{if(n){const r=n.split(Xne);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function To(e){let t="";if(ut(e))t=e;else if(ze(e))for(let n=0;n<e.length;n++){const r=To(e[n]);r&&(t+=r+" ")}else if(Yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Kne(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ut(t)&&(e.class=To(t)),n&&(e.style=Iu(n)),e}const Jne="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Zne="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Qne="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",ere="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",tre=Is(Jne),nre=Is(Zne),rre=Is(Qne),ire=Is(ere),sre="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",are=Is(sre);function V7(e){return!!e||e===""}function ore(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ou(e[r],t[r]);return n}function ou(e,t){if(e===t)return!0;let n=gI(e),r=gI(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=As(e),r=As(t),n||r)return e===t;if(n=ze(e),r=ze(t),n||r)return n&&r?ore(e,t):!1;if(n=Yt(e),r=Yt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!ou(e[a],t[a]))return!1}}return String(e)===String(t)}function jb(e,t){return e.findIndex(n=>ou(n,t))}const W7=e=>!!(e&&e.__v_isRef===!0),lr=e=>ut(e)?e:e==null?"":ze(e)||Yt(e)&&(e.toString===P7||!rt(e.toString))?W7(e)?lr(e.value):JSON.stringify(e,j7,2):String(e),j7=(e,t)=>W7(t)?j7(e,t.value):n0(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[zS(r,s)+" =>"]=i,n),{})}:jh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>zS(n))}:As(t)?zS(t):Yt(t)&&!ze(t)&&!B7(t)?String(t):t,zS=(e,t="")=>{var n;return As(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let us;class u3{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=us,!t&&us&&(this.index=(us.scopes||(us.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=us;try{return us=this,t()}finally{us=n}}}on(){us=this}off(){us=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function f3(e){return new u3(e)}function G7(e,t=us){t&&t.active&&t.effects.push(e)}function h3(){return us}function q7(e){us&&us.cleanups.push(e)}let zf;class E0{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,G7(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Mu();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(lre(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Lu()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Kc,n=zf;try{return Kc=!0,zf=this,this._runnings++,xI(this),this.fn()}finally{vI(this),this._runnings--,zf=n,Kc=t}}stop(){this.active&&(xI(this),vI(this),this.onStop&&this.onStop(),this.active=!1)}}function lre(e){return e.value}function xI(e){e._trackId++,e._depsLength=0}function vI(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)X7(e.deps[t],e);e.deps.length=e._depsLength}}function X7(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}function cre(e,t){e.effect instanceof E0&&(e=e.effect.fn);const n=new E0(e,Xn,()=>{n.dirty&&n.run()});t&&(Bt(n,t),t.scope&&G7(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function ure(e){e.effect.stop()}let Kc=!0,ZT=0;const Y7=[];function Mu(){Y7.push(Kc),Kc=!1}function Lu(){const e=Y7.pop();Kc=e===void 0?!0:e}function d3(){ZT++}function p3(){for(ZT--;!ZT&&QT.length;)QT.shift()()}function K7(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&X7(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const QT=[];function J7(e,t,n){d3();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&QT.push(r.scheduler)))}p3()}const Z7=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},k_=new WeakMap,Hf=Symbol(""),ek=Symbol("");function Ji(e,t,n){if(Kc&&zf){let r=k_.get(e);r||k_.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Z7(()=>r.delete(n))),K7(zf,i)}}function Ol(e,t,n,r,i,s){const a=k_.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(n==="length"&&ze(e)){const l=Number(r);a.forEach((c,u)=>{(u==="length"||!As(u)&&u>=l)&&o.push(c)})}else switch(n!==void 0&&o.push(a.get(n)),t){case"add":ze(e)?c3(n)&&o.push(a.get("length")):(o.push(a.get(Hf)),n0(e)&&o.push(a.get(ek)));break;case"delete":ze(e)||(o.push(a.get(Hf)),n0(e)&&o.push(a.get(ek)));break;case"set":n0(e)&&o.push(a.get(Hf));break}d3();for(const l of o)l&&J7(l,4);p3()}function fre(e,t){const n=k_.get(e);return n&&n.get(t)}const hre=Is("__proto__,__v_isRef,__isVue"),Q7=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(As)),yI=dre();function dre(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=kt(this);for(let s=0,a=this.length;s<a;s++)Ji(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(kt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Mu(),d3();const r=kt(this)[t].apply(this,n);return p3(),Lu(),r}}),e}function pre(e){As(e)||(e=String(e));const t=kt(this);return Ji(t,"has",e),t.hasOwnProperty(e)}class eB{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?aB:sB:s?iB:rB).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=ze(t);if(!i){if(a&&Mt(yI,n))return Reflect.get(yI,n,r);if(n==="hasOwnProperty")return pre}const o=Reflect.get(t,n,r);return(As(n)?Q7.has(n):hre(n))||(i||Ji(t,"get",n),s)?o:On(o)?a&&c3(n)?o:o.value:Yt(o)?i?m3(o):Ms(o):o}}class tB extends eB{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=lu(s);if(!ch(r)&&!lu(r)&&(s=kt(s),r=kt(r)),!ze(t)&&On(s)&&!On(r))return l?!1:(s.value=r,!0)}const a=ze(t)&&c3(n)?Number(n)<t.length:Mt(t,n),o=Reflect.set(t,n,r,i);return t===kt(i)&&(a?gi(r,s)&&Ol(t,"set",n,r):Ol(t,"add",n,r)),o}deleteProperty(t,n){const r=Mt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Ol(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!As(n)||!Q7.has(n))&&Ji(t,"has",n),r}ownKeys(t){return Ji(t,"iterate",ze(t)?"length":Hf),Reflect.ownKeys(t)}}class nB extends eB{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const gre=new tB,mre=new nB,xre=new tB(!0),vre=new nB(!0),g3=e=>e,Gb=e=>Reflect.getPrototypeOf(e);function pv(e,t,n=!1,r=!1){e=e.__v_raw;const i=kt(e),s=kt(t);n||(gi(t,s)&&Ji(i,"get",t),Ji(i,"get",s));const{has:a}=Gb(i),o=r?g3:n?v3:Gm;if(a.call(i,t))return o(e.get(t));if(a.call(i,s))return o(e.get(s));e!==i&&e.get(t)}function gv(e,t=!1){const n=this.__v_raw,r=kt(n),i=kt(e);return t||(gi(e,i)&&Ji(r,"has",e),Ji(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function mv(e,t=!1){return e=e.__v_raw,!t&&Ji(kt(e),"iterate",Hf),Reflect.get(e,"size",e)}function _I(e,t=!1){!t&&!ch(e)&&!lu(e)&&(e=kt(e));const n=kt(this);return Gb(n).has.call(n,e)||(n.add(e),Ol(n,"add",e,e)),this}function bI(e,t,n=!1){!n&&!ch(t)&&!lu(t)&&(t=kt(t));const r=kt(this),{has:i,get:s}=Gb(r);let a=i.call(r,e);a||(e=kt(e),a=i.call(r,e));const o=s.call(r,e);return r.set(e,t),a?gi(t,o)&&Ol(r,"set",e,t):Ol(r,"add",e,t),this}function EI(e){const t=kt(this),{has:n,get:r}=Gb(t);let i=n.call(t,e);i||(e=kt(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&Ol(t,"delete",e,void 0),s}function wI(){const e=kt(this),t=e.size!==0,n=e.clear();return t&&Ol(e,"clear",void 0,void 0),n}function xv(e,t){return function(r,i){const s=this,a=s.__v_raw,o=kt(a),l=t?g3:e?v3:Gm;return!e&&Ji(o,"iterate",Hf),a.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function vv(e,t,n){return function(...r){const i=this.__v_raw,s=kt(i),a=n0(s),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,c=i[e](...r),u=n?g3:t?v3:Gm;return!t&&Ji(s,"iterate",l?ek:Hf),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:o?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function pc(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yre(){const e={get(s){return pv(this,s)},get size(){return mv(this)},has:gv,add:_I,set:bI,delete:EI,clear:wI,forEach:xv(!1,!1)},t={get(s){return pv(this,s,!1,!0)},get size(){return mv(this)},has:gv,add(s){return _I.call(this,s,!0)},set(s,a){return bI.call(this,s,a,!0)},delete:EI,clear:wI,forEach:xv(!1,!0)},n={get(s){return pv(this,s,!0)},get size(){return mv(this,!0)},has(s){return gv.call(this,s,!0)},add:pc("add"),set:pc("set"),delete:pc("delete"),clear:pc("clear"),forEach:xv(!0,!1)},r={get(s){return pv(this,s,!0,!0)},get size(){return mv(this,!0)},has(s){return gv.call(this,s,!0)},add:pc("add"),set:pc("set"),delete:pc("delete"),clear:pc("clear"),forEach:xv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=vv(s,!1,!1),n[s]=vv(s,!0,!1),t[s]=vv(s,!1,!0),r[s]=vv(s,!0,!0)}),[e,n,t,r]}const[_re,bre,Ere,wre]=yre();function qb(e,t){const n=t?e?wre:Ere:e?bre:_re;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Mt(n,i)&&i in r?n:r,i,s)}const Sre={get:qb(!1,!1)},Are={get:qb(!1,!0)},Tre={get:qb(!0,!1)},kre={get:qb(!0,!0)},rB=new WeakMap,iB=new WeakMap,sB=new WeakMap,aB=new WeakMap;function Cre(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fre(e){return e.__v_skip||!Object.isExtensible(e)?0:Cre(zne(e))}function Ms(e){return lu(e)?e:Xb(e,!1,gre,Sre,rB)}function oB(e){return Xb(e,!1,xre,Are,iB)}function m3(e){return Xb(e,!0,mre,Tre,sB)}function Ore(e){return Xb(e,!0,vre,kre,aB)}function Xb(e,t,n,r,i){if(!Yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=Fre(e);if(a===0)return e;const o=new Proxy(e,a===2?r:n);return i.set(e,o),o}function Nl(e){return lu(e)?Nl(e.__v_raw):!!(e&&e.__v_isReactive)}function lu(e){return!!(e&&e.__v_isReadonly)}function ch(e){return!!(e&&e.__v_isShallow)}function x3(e){return e?!!e.__v_raw:!1}function kt(e){const t=e&&e.__v_raw;return t?kt(t):e}function Yb(e){return Object.isExtensible(e)&&U7(e,"__v_skip",!0),e}const Gm=e=>Yt(e)?Ms(e):e,v3=e=>Yt(e)?m3(e):e;class lB{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new E0(()=>t(this._value),()=>s0(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=kt(this);return(!t._cacheable||t.effect.dirty)&&gi(t._value,t._value=t.effect.run())&&s0(t,4),y3(t),t.effect._dirtyLevel>=2&&s0(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Nre(e,t,n=!1){let r,i;const s=rt(e);return s?(r=e,i=Xn):(r=e.get,i=e.set),new lB(r,i,s||!i,n)}function y3(e){var t;Kc&&zf&&(e=kt(e),K7(zf,(t=e.dep)!=null?t:e.dep=Z7(()=>e.dep=void 0,e instanceof lB?e:void 0)))}function s0(e,t=4,n,r){e=kt(e);const i=e.dep;i&&J7(i,t)}function On(e){return!!(e&&e.__v_isRef===!0)}function Ei(e){return cB(e,!1)}function Dre(e){return cB(e,!0)}function cB(e,t){return On(e)?e:new $re(e,t)}class $re{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:kt(t),this._value=n?t:Gm(t)}get value(){return y3(this),this._value}set value(t){const n=this.__v_isShallow||ch(t)||lu(t);t=n?t:kt(t),gi(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:Gm(t),s0(this,4))}}function Rre(e){s0(e,4)}function vn(e){return On(e)?e.value:e}function Ire(e){return rt(e)?e():vn(e)}const Mre={get:(e,t,n)=>vn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return On(i)&&!On(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function _3(e){return Nl(e)?e:new Proxy(e,Mre)}class Lre{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>y3(this),()=>s0(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function uB(e){return new Lre(e)}function fB(e){const t=ze(e)?new Array(e.length):{};for(const n in e)t[n]=hB(e,n);return t}class Pre{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fre(kt(this._object),this._key)}}class Bre{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ure(e,t,n){return On(e)?e:rt(e)?new Bre(e):Yt(e)&&arguments.length>1?hB(e,t,n):Ei(e)}function hB(e,t,n){const r=e[t];return On(r)?r:new Pre(e,t,n)}const zre={GET:"get",HAS:"has",ITERATE:"iterate"},Hre={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vre(e,t){}const Wre={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE"},jre={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update"};function Dl(e,t,n,r){try{return r?e(...r):e()}catch(i){qh(i,t,n)}}function _s(e,t,n,r){if(rt(e)){const i=Dl(e,t,n,r);return i&&l3(i)&&i.catch(s=>{qh(s,t,n)}),i}if(ze(e)){const i=[];for(let s=0;s<e.length;s++)i.push(_s(e[s],t,n,r));return i}}function qh(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,a,o)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Mu(),Dl(l,null,10,[e,a,o]),Lu();return}}Gre(e,n,i,r)}function Gre(e,t,n,r=!0){console.error(e)}let qm=!1,tk=!1;const Vr=[];let _o=0;const a0=[];let Tc=null,Tf=0;const dB=Promise.resolve();let b3=null;function uh(e){const t=b3||dB;return e?t.then(this?e.bind(this):e):t}function qre(e){let t=_o+1,n=Vr.length;for(;t<n;){const r=t+n>>>1,i=Vr[r],s=Xm(i);s<e||s===e&&i.pre?t=r+1:n=r}return t}function Kb(e){(!Vr.length||!Vr.includes(e,qm&&e.allowRecurse?_o+1:_o))&&(e.id==null?Vr.push(e):Vr.splice(qre(e.id),0,e),pB())}function pB(){!qm&&!tk&&(tk=!0,b3=dB.then(gB))}function Xre(e){const t=Vr.indexOf(e);t>_o&&Vr.splice(t,1)}function C_(e){ze(e)?a0.push(...e):(!Tc||!Tc.includes(e,e.allowRecurse?Tf+1:Tf))&&a0.push(e),pB()}function SI(e,t,n=qm?_o+1:0){for(;n<Vr.length;n++){const r=Vr[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Vr.splice(n,1),n--,r()}}}function F_(e){if(a0.length){const t=[...new Set(a0)].sort((n,r)=>Xm(n)-Xm(r));if(a0.length=0,Tc){Tc.push(...t);return}for(Tc=t,Tf=0;Tf<Tc.length;Tf++){const n=Tc[Tf];n.active!==!1&&n()}Tc=null,Tf=0}}const Xm=e=>e.id==null?1/0:e.id,Yre=(e,t)=>{const n=Xm(e)-Xm(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function gB(e){tk=!1,qm=!0,Vr.sort(Yre);try{for(_o=0;_o<Vr.length;_o++){const t=Vr[_o];t&&t.active!==!1&&Dl(t,t.i,t.i?15:14)}}finally{_o=0,Vr.length=0,F_(),qm=!1,b3=null,(Vr.length||a0.length)&&gB()}}let Ld,yv=[];function mB(e,t){var n,r;Ld=e,Ld?(Ld.enabled=!0,yv.forEach(({event:i,args:s})=>Ld.emit(i,...s)),yv=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{mB(s,t)}),setTimeout(()=>{Ld||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,yv=[])},3e3)):yv=[]}let Yn=null,Jb=null;function Ym(e){const t=Yn;return Yn=e,Jb=e&&e.type.__scopeId||null,t}function q1(e){Jb=e}function X1(){Jb=null}const Kre=e=>Zb;function Zb(e,t=Yn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&uk(-1);const s=Ym(t);let a;try{a=e(...i)}finally{Ym(s),r._d&&uk(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function hi(e,t){if(Yn===null)return e;const n=ex(Yn),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,o,l=Dt]=t[i];s&&(rt(s)&&(s={mounted:s,updated:s}),s.deep&&Ic(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function mo(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Mu(),_s(l,n,8,[e.el,o,e,t]),Lu())}}const kc=Symbol("_leaveCb"),_v=Symbol("_enterCb");function E3(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ec(()=>{e.isMounted=!0}),nE(()=>{e.isUnmounting=!0}),e}const Bs=[Function,Array],w3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bs,onEnter:Bs,onAfterEnter:Bs,onEnterCancelled:Bs,onBeforeLeave:Bs,onLeave:Bs,onAfterLeave:Bs,onLeaveCancelled:Bs,onBeforeAppear:Bs,onAppear:Bs,onAfterAppear:Bs,onAppearCancelled:Bs},xB=e=>{const t=e.subTree;return t.component?xB(t.component):t},Jre={name:"BaseTransition",props:w3,setup(e,{slots:t}){const n=tc(),r=E3();return()=>{const i=t.default&&Qb(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==jn){s=h;break}}const a=kt(e),{mode:o}=a;if(r.isLeaving)return HS(s);const l=AI(s);if(!l)return HS(s);let c=w0(l,a,r,n,h=>c=h);cu(l,c);const u=n.subTree,f=u&&AI(u);if(f&&f.type!==jn&&!Oa(l,f)&&xB(n).type!==jn){const h=w0(f,a,r,n);if(cu(f,h),o==="out-in"&&l.type!==jn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},HS(s);o==="in-out"&&l.type!==jn&&(h.delayLeave=(d,p,g)=>{const m=yB(r,f);m[String(f.key)]=f,d[kc]=()=>{p(),d[kc]=void 0,delete c.delayedLeave},c.delayedLeave=g})}return s}}},vB=Jre;function yB(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function w0(e,t,n,r,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:x,onAfterAppear:y,onAppearCancelled:v}=t,_=String(e.key),b=yB(n,e),w=(S,T)=>{S&&_s(S,r,9,T)},E=(S,T)=>{const C=T[1];w(S,T),ze(S)?S.every(O=>O.length<=1)&&C():S.length<=1&&C()},A={mode:a,persisted:o,beforeEnter(S){let T=l;if(!n.isMounted)if(s)T=m||l;else return;S[kc]&&S[kc](!0);const C=b[_];C&&Oa(e,C)&&C.el[kc]&&C.el[kc](),w(T,[S])},enter(S){let T=c,C=u,O=f;if(!n.isMounted)if(s)T=x||c,C=y||u,O=v||f;else return;let F=!1;const I=S[_v]=D=>{F||(F=!0,D?w(O,[S]):w(C,[S]),A.delayedLeave&&A.delayedLeave(),S[_v]=void 0)};T?E(T,[S,I]):I()},leave(S,T){const C=String(e.key);if(S[_v]&&S[_v](!0),n.isUnmounting)return T();w(h,[S]);let O=!1;const F=S[kc]=I=>{O||(O=!0,T(),I?w(g,[S]):w(p,[S]),S[kc]=void 0,b[C]===e&&delete b[C])};b[C]=e,d?E(d,[S,F]):F()},clone(S){const T=w0(S,t,n,r,i);return i&&i(T),T}};return A}function HS(e){if(Y1(e))return e=Ro(e),e.children=null,e}function AI(e){if(!Y1(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&rt(n.default))return n.default()}}function cu(e,t){e.shapeFlag&6&&e.component?cu(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qb(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===xt?(a.patchFlag&128&&i++,r=r.concat(Qb(a.children,t,o))):(t||a.type!==jn)&&r.push(o!=null?Ro(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Fr(e,t){return rt(e)?Bt({name:e.name},t,{setup:e}):e}const Vf=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Zre(e){rt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:a=!0,onError:o}=e;let l=null,c,u=0;const f=()=>(u++,l=null,h()),h=()=>{let d;return l||(d=l=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),o)return new Promise((g,m)=>{o(p,()=>g(f()),()=>m(p),u+1)});throw p}).then(p=>d!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Fr({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const d=Gn;if(c)return()=>VS(c,d);const p=y=>{l=null,qh(y,d,13,!r)};if(a&&d.suspense||Q1)return h().then(y=>()=>VS(y,d)).catch(y=>(p(y),()=>r?Et(r,{error:y}):null));const g=Ei(!1),m=Ei(),x=Ei(!!i);return i&&setTimeout(()=>{x.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!m.value){const y=new Error(`Async component timed out after ${s}ms.`);p(y),m.value=y}},s),h().then(()=>{g.value=!0,d.parent&&Y1(d.parent.vnode)&&(d.parent.effect.dirty=!0,Kb(d.parent.update))}).catch(y=>{p(y),m.value=y}),()=>{if(g.value&&c)return VS(c,d);if(m.value&&r)return Et(r,{error:m.value});if(n&&!x.value)return Et(n)}}})}function VS(e,t){const{ref:n,props:r,children:i,ce:s}=t.vnode,a=Et(e,r,i);return a.ref=n,a.ce=s,delete t.vnode.ce,a}const Y1=e=>e.type.__isKeepAlive,Qre={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=tc(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const i=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=r,h=f("div");r.activate=(y,v,_,b,w)=>{const E=y.component;c(y,v,_,0,o),l(E.vnode,y,v,_,E,o,b,y.slotScopeIds,w),nr(()=>{E.isDeactivated=!1,E.a&&i0(E.a);const A=y.props&&y.props.onVnodeMounted;A&&Li(A,E.parent,y)},o)},r.deactivate=y=>{const v=y.component;D_(v.m),D_(v.a),c(y,h,null,1,o),nr(()=>{v.da&&i0(v.da);const _=y.props&&y.props.onVnodeUnmounted;_&&Li(_,v.parent,y),v.isDeactivated=!0},o)};function d(y){WS(y),u(y,n,o,!0)}function p(y){i.forEach((v,_)=>{const b=gk(v.type);b&&(!y||!y(b))&&g(_)})}function g(y){const v=i.get(y);v&&(!a||!Oa(v,a))?d(v):a&&WS(a),i.delete(y),s.delete(y)}$a(()=>[e.include,e.exclude],([y,v])=>{y&&p(_=>Rg(y,_)),v&&p(_=>!Rg(v,_))},{flush:"post",deep:!0});let m=null;const x=()=>{m!=null&&(lk(n.subTree.type)?nr(()=>{i.set(m,bv(n.subTree))},n.subTree.suspense):i.set(m,bv(n.subTree)))};return ec(x),tE(x),nE(()=>{i.forEach(y=>{const{subTree:v,suspense:_}=n,b=bv(v);if(y.type===b.type&&y.key===b.key){WS(b);const w=b.component.da;w&&nr(w,_);return}d(y)})}),()=>{if(m=null,!t.default)return null;const y=t.default(),v=y[0];if(y.length>1)return a=null,y;if(!uu(v)||!(v.shapeFlag&4)&&!(v.shapeFlag&128))return a=null,v;let _=bv(v);if(_.type===jn)return a=null,_;const b=_.type,w=gk(Vf(_)?_.type.__asyncResolved||{}:b),{include:E,exclude:A,max:S}=e;if(E&&(!w||!Rg(E,w))||A&&w&&Rg(A,w))return a=_,v;const T=_.key==null?b:_.key,C=i.get(T);return _.el&&(_=Ro(_),v.shapeFlag&128&&(v.ssContent=_)),m=T,C?(_.el=C.el,_.component=C.component,_.transition&&cu(_,_.transition),_.shapeFlag|=512,s.delete(T),s.add(T)):(s.add(T),S&&s.size>parseInt(S,10)&&g(s.values().next().value)),_.shapeFlag|=256,a=_,lk(v.type)?v:_}}},eie=Qre;function Rg(e,t){return ze(e)?e.some(n=>Rg(n,t)):ut(e)?e.split(",").includes(t):Une(e)?e.test(t):!1}function _B(e,t){EB(e,"a",t)}function bB(e,t){EB(e,"da",t)}function EB(e,t,n=Gn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(eE(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Y1(i.parent.vnode)&&tie(r,t,n,i),i=i.parent}}function tie(e,t,n,r){const i=eE(t,e,r,!0);rE(()=>{o3(r[t],i)},n)}function WS(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function bv(e){return e.shapeFlag&128?e.ssContent:e}function eE(e,t,n=Gn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{Mu();const o=hh(n),l=_s(t,n,e,a);return o(),Lu(),l});return r?i.unshift(s):i.push(s),s}}const Ql=e=>(t,n=Gn)=>{(!Q1||e==="sp")&&eE(e,(...r)=>t(...r),n)},K1=Ql("bm"),ec=Ql("m"),wB=Ql("bu"),tE=Ql("u"),nE=Ql("bum"),rE=Ql("um"),SB=Ql("sp"),AB=Ql("rtg"),TB=Ql("rtc");function kB(e,t=Gn){eE("ec",e,t)}const S3="components",nie="directives";function rie(e,t){return A3(S3,e,!0,t)||e}const CB=Symbol.for("v-ndc");function iie(e){return ut(e)?A3(S3,e,!1)||e:e||CB}function sie(e){return A3(nie,e)}function A3(e,t,n=!0,r=!1){const i=Yn||Gn;if(i){const s=i.type;if(e===S3){const o=gk(s,!1);if(o&&(o===t||o===hn(t)||o===Gh(hn(t))))return s}const a=TI(i[e]||s[e],t)||TI(i.appContext[e],t);return!a&&r?s:a}}function TI(e,t){return e&&(e[t]||e[hn(t)]||e[Gh(hn(t))])}function Gr(e,t,n,r){let i;const s=n&&n[r];if(ze(e)||ut(e)){i=new Array(e.length);for(let a=0,o=e.length;a<o;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(Yt(e))if(e[Symbol.iterator])i=Array.from(e,(a,o)=>t(a,o,void 0,s&&s[o]));else{const a=Object.keys(e);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const c=a[o];i[o]=t(e[c],c,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function aie(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(ze(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function FB(e,t,n={},r,i){if(Yn.isCE||Yn.parent&&Vf(Yn.parent)&&Yn.parent.isCE)return t!=="default"&&(n.name=t),Et("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),Be();const a=s&&T3(s(n)),o=Z1(xt,{key:(n.key||a&&a.key||`_${t}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&e._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function T3(e){return e.some(t=>uu(t)?!(t.type===jn||t.type===xt&&!T3(t.children)):!0)?e:null}function oie(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:r0(r)]=e[r];return n}const nk=e=>e?dU(e)?ex(e):nk(e.parent):null,fm=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>nk(e.parent),$root:e=>nk(e.root),$emit:e=>e.emit,$options:e=>k3(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Kb(e.update)}),$nextTick:e=>e.n||(e.n=uh.bind(e.proxy)),$watch:e=>Wie.bind(e)}),jS=(e,t)=>e!==Dt&&!e.__isScriptSetup&&Mt(e,t),rk={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=e;let c;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(jS(r,t))return a[t]=1,r[t];if(i!==Dt&&Mt(i,t))return a[t]=2,i[t];if((c=e.propsOptions[0])&&Mt(c,t))return a[t]=3,s[t];if(n!==Dt&&Mt(n,t))return a[t]=4,n[t];ik&&(a[t]=0)}}const u=fm[t];let f,h;if(u)return t==="$attrs"&&Ji(e.attrs,"get",""),u(e);if((f=o.__cssModules)&&(f=f[t]))return f;if(n!==Dt&&Mt(n,t))return a[t]=4,n[t];if(h=l.config.globalProperties,Mt(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return jS(i,t)?(i[t]=n,!0):r!==Dt&&Mt(r,t)?(r[t]=n,!0):Mt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||e!==Dt&&Mt(e,a)||jS(t,a)||(o=s[0])&&Mt(o,a)||Mt(r,a)||Mt(fm,a)||Mt(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Mt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},lie=Bt({},rk,{get(e,t){if(t!==Symbol.unscopables)return rk.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Gne(t)}});function cie(){return null}function uie(){return null}function fie(e){}function hie(e){}function die(){return null}function pie(){}function gie(e,t){return null}function mie(){return OB().slots}function xie(){return OB().attrs}function OB(){const e=tc();return e.setupContext||(e.setupContext=xU(e))}function Km(e){return ze(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function vie(e,t){const n=Km(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?ze(i)||rt(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function yie(e,t){return!e||!t?e||t:ze(e)&&ze(t)?e.concat(t):Bt({},Km(e),Km(t))}function _ie(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function bie(e){const t=tc();let n=e();return hk(),l3(n)&&(n=n.catch(r=>{throw hh(t),r})),[n,()=>hh(t)]}let ik=!0;function Eie(e){const t=k3(e),n=e.proxy,r=e.ctx;ik=!1,t.beforeCreate&&kI(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:x,beforeUnmount:y,destroyed:v,unmounted:_,render:b,renderTracked:w,renderTriggered:E,errorCaptured:A,serverPrefetch:S,expose:T,inheritAttrs:C,components:O,directives:F,filters:I}=t;if(c&&wie(c,r,null),a)for(const M in a){const U=a[M];rt(U)&&(r[M]=U.bind(n))}if(i){const M=i.call(n,n);Yt(M)&&(e.data=Ms(M))}if(ik=!0,s)for(const M in s){const U=s[M],J=rt(U)?U.bind(n,n):rt(U.get)?U.get.bind(n,n):Xn,X=!rt(U)&&rt(U.set)?U.set.bind(n):Xn,ce=Zc({get:J,set:X});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>ce.value,set:ve=>ce.value=ve})}if(o)for(const M in o)NB(o[M],r,n,M);if(l){const M=rt(l)?l.call(n):l;Reflect.ownKeys(M).forEach(U=>{$B(U,M[U])})}u&&kI(u,e,"c");function N(M,U){ze(U)?U.forEach(J=>M(J.bind(n))):U&&M(U.bind(n))}if(N(K1,f),N(ec,h),N(wB,d),N(tE,p),N(_B,g),N(bB,m),N(kB,A),N(TB,w),N(AB,E),N(nE,y),N(rE,_),N(SB,S),ze(T))if(T.length){const M=e.exposed||(e.exposed={});T.forEach(U=>{Object.defineProperty(M,U,{get:()=>n[U],set:J=>n[U]=J})})}else e.exposed||(e.exposed={});b&&e.render===Xn&&(e.render=b),C!=null&&(e.inheritAttrs=C),O&&(e.components=O),F&&(e.directives=F)}function wie(e,t,n=Xn){ze(e)&&(e=sk(e));for(const r in e){const i=e[r];let s;Yt(i)?"default"in i?s=jf(i.from||r,i.default,!0):s=jf(i.from||r):s=jf(i),On(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function kI(e,t,n){_s(ze(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function NB(e,t,n,r){const i=r.includes(".")?nU(n,r):()=>n[r];if(ut(e)){const s=t[e];rt(s)&&$a(i,s)}else if(rt(e))$a(i,e.bind(n));else if(Yt(e))if(ze(e))e.forEach(s=>NB(s,t,n,r));else{const s=rt(e.handler)?e.handler.bind(n):t[e.handler];rt(s)&&$a(i,s,e)}}function k3(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let l;return o?l=o:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>O_(l,c,a,!0)),O_(l,t,a)),Yt(t)&&s.set(t,l),l}function O_(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&O_(e,s,n,!0),i&&i.forEach(a=>O_(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const o=Sie[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const Sie={data:CI,props:FI,emits:FI,methods:Ig,computed:Ig,beforeCreate:ui,created:ui,beforeMount:ui,mounted:ui,beforeUpdate:ui,updated:ui,beforeDestroy:ui,beforeUnmount:ui,destroyed:ui,unmounted:ui,activated:ui,deactivated:ui,errorCaptured:ui,serverPrefetch:ui,components:Ig,directives:Ig,watch:Tie,provide:CI,inject:Aie};function CI(e,t){return t?e?function(){return Bt(rt(e)?e.call(this,this):e,rt(t)?t.call(this,this):t)}:t:e}function Aie(e,t){return Ig(sk(e),sk(t))}function sk(e){if(ze(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ui(e,t){return e?[...new Set([].concat(e,t))]:t}function Ig(e,t){return e?Bt(Object.create(null),e,t):t}function FI(e,t){return e?ze(e)&&ze(t)?[...new Set([...e,...t])]:Bt(Object.create(null),Km(e),Km(t??{})):t}function Tie(e,t){if(!e)return t;if(!t)return e;const n=Bt(Object.create(null),e);for(const r in t)n[r]=ui(e[r],t[r]);return n}function DB(){return{app:null,config:{isNativeTag:Py,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kie=0;function Cie(e,t){return function(r,i=null){rt(r)||(r=Bt({},r)),i!=null&&!Yt(i)&&(i=null);const s=DB(),a=new WeakSet;let o=!1;const l=s.app={_uid:kie++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:_U,get config(){return s.config},set config(c){},use(c,...u){return a.has(c)||(c&&rt(c.install)?(a.add(c),c.install(l,...u)):rt(c)&&(a.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,f){if(!o){const h=Et(r,i);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(h,c):e(h,c,f),o=!0,l._container=c,c.__vue_app__=l,ex(h.component)}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){const u=Wf;Wf=l;try{return c()}finally{Wf=u}}};return l}}let Wf=null;function $B(e,t){if(Gn){let n=Gn.provides;const r=Gn.parent&&Gn.parent.provides;r===n&&(n=Gn.provides=Object.create(r)),n[e]=t}}function jf(e,t,n=!1){const r=Gn||Yn;if(r||Wf){const i=Wf?Wf._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&rt(t)?t.call(r&&r.proxy):t}}function RB(){return!!(Gn||Yn||Wf)}const IB={},MB=()=>Object.create(IB),LB=e=>Object.getPrototypeOf(e)===IB;function Fie(e,t,n,r=!1){const i={},s=MB();e.propsDefaults=Object.create(null),PB(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:oB(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function Oie(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,o=kt(i),[l]=e.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(iE(e.emitsOptions,h))continue;const d=t[h];if(l)if(Mt(s,h))d!==s[h]&&(s[h]=d,c=!0);else{const p=hn(h);i[p]=ak(l,o,p,d,e,!1)}else d!==s[h]&&(s[h]=d,c=!0)}}}else{PB(e,t,i,s)&&(c=!0);let u;for(const f in o)(!t||!Mt(t,f)&&((u=Hi(f))===f||!Mt(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=ak(l,o,f,void 0,e,!0)):delete i[f]);if(s!==o)for(const f in s)(!t||!Mt(t,f))&&(delete s[f],c=!0)}c&&Ol(e.attrs,"set","")}function PB(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(Yc(l))continue;const c=t[l];let u;i&&Mt(i,u=hn(l))?!s||!s.includes(u)?n[u]=c:(o||(o={}))[u]=c:iE(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(s){const l=kt(n),c=o||Dt;for(let u=0;u<s.length;u++){const f=s[u];n[f]=ak(i,l,f,c[f],e,!Mt(c,f))}}return a}function ak(e,t,n,r,i,s){const a=e[n];if(a!=null){const o=Mt(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&rt(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=hh(i);r=c[n]=l.call(null,t),u()}}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Hi(n))&&(r=!0))}return r}const Nie=new WeakMap;function BB(e,t,n=!1){const r=n?Nie:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},o=[];let l=!1;if(!rt(e)){const u=f=>{l=!0;const[h,d]=BB(f,t,!0);Bt(a,h),d&&o.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return Yt(e)&&r.set(e,t0),t0;if(ze(s))for(let u=0;u<s.length;u++){const f=hn(s[u]);OI(f)&&(a[f]=Dt)}else if(s)for(const u in s){const f=hn(u);if(OI(f)){const h=s[u],d=a[f]=ze(h)||rt(h)?{type:h}:Bt({},h),p=d.type;let g=!1,m=!0;if(ze(p))for(let x=0;x<p.length;++x){const y=p[x],v=rt(y)&&y.name;if(v==="Boolean"){g=!0;break}else v==="String"&&(m=!1)}else g=rt(p)&&p.name==="Boolean";d[0]=g,d[1]=m,(g||Mt(d,"default"))&&o.push(f)}}const c=[a,o];return Yt(e)&&r.set(e,c),c}function OI(e){return e[0]!=="$"&&!Yc(e)}const UB=e=>e[0]==="_"||e==="$stable",C3=e=>ze(e)?e.map(Ui):[Ui(e)],Die=(e,t,n)=>{if(t._n)return t;const r=Zb((...i)=>C3(t(...i)),n);return r._c=!1,r},zB=(e,t,n)=>{const r=e._ctx;for(const i in e){if(UB(i))continue;const s=e[i];if(rt(s))t[i]=Die(i,s,r);else if(s!=null){const a=C3(s);t[i]=()=>a}}},HB=(e,t)=>{const n=C3(t);e.slots.default=()=>n},VB=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},$ie=(e,t,n)=>{const r=e.slots=MB();if(e.vnode.shapeFlag&32){const i=t._;i?(VB(r,t,n),n&&U7(r,"_",i,!0)):zB(t,r)}else t&&HB(e,t)},Rie=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=Dt;if(r.shapeFlag&32){const o=t._;o?n&&o===1?s=!1:VB(i,t,n):(s=!t.$stable,zB(t,i)),a=t}else t&&(HB(e,t),a={default:1});if(s)for(const o in i)!UB(o)&&a[o]==null&&delete i[o]};function N_(e,t,n,r,i=!1){if(ze(e)){e.forEach((h,d)=>N_(h,t&&(ze(t)?t[d]:t),n,r,i));return}if(Vf(r)&&!i)return;const s=r.shapeFlag&4?ex(r.component):r.el,a=i?null:s,{i:o,r:l}=e,c=t&&t.r,u=o.refs===Dt?o.refs={}:o.refs,f=o.setupState;if(c!=null&&c!==l&&(ut(c)?(u[c]=null,Mt(f,c)&&(f[c]=null)):On(c)&&(c.value=null)),rt(l))Dl(l,o,12,[a,u]);else{const h=ut(l),d=On(l);if(h||d){const p=()=>{if(e.f){const g=h?Mt(f,l)?f[l]:u[l]:l.value;i?ze(g)&&o3(g,s):ze(g)?g.includes(s)||g.push(s):h?(u[l]=[s],Mt(f,l)&&(f[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else h?(u[l]=a,Mt(f,l)&&(f[l]=a)):d&&(l.value=a,e.k&&(u[e.k]=a))};a?(p.id=-1,nr(p,n)):p()}}}const WB=Symbol("_vte"),Iie=e=>e.__isTeleport,hm=e=>e&&(e.disabled||e.disabled===""),NI=e=>typeof SVGElement<"u"&&e instanceof SVGElement,DI=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ok=(e,t)=>{const n=e&&e.to;return ut(n)?t?t(n):null:n},Mie={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,a,o,l,c){const{mc:u,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:m}}=c,x=hm(t.props);let{shapeFlag:y,children:v,dynamicChildren:_}=t;if(e==null){const b=t.el=g(""),w=t.anchor=g("");d(b,n,r),d(w,n,r);const E=t.target=ok(t.props,p),A=GB(E,t,g,d);E&&(a==="svg"||NI(E)?a="svg":(a==="mathml"||DI(E))&&(a="mathml"));const S=(T,C)=>{y&16&&u(v,T,C,i,s,a,o,l)};x?S(n,w):E&&S(E,A)}else{t.el=e.el,t.targetStart=e.targetStart;const b=t.anchor=e.anchor,w=t.target=e.target,E=t.targetAnchor=e.targetAnchor,A=hm(e.props),S=A?n:w,T=A?b:E;if(a==="svg"||NI(w)?a="svg":(a==="mathml"||DI(w))&&(a="mathml"),_?(h(e.dynamicChildren,_,S,i,s,a,o),F3(e,t,!0)):l||f(e,t,S,T,i,s,a,o,!1),x)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ev(t,n,b,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=ok(t.props,p);C&&Ev(t,C,null,c,0)}else A&&Ev(t,w,E,c,1)}jB(t)},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:c,targetAnchor:u,target:f,props:h}=e;if(f&&(i(c),i(u)),s&&i(l),a&16){const d=s||!hm(h);for(let p=0;p<o.length;p++){const g=o[p];r(g,t,n,d,!!g.dynamicChildren)}}},move:Ev,hydrate:Lie};function Ev(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=e,f=s===2;if(f&&r(a,t,n),(!f||hm(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],t,n,2);f&&r(o,t,n)}function Lie(e,t,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:c,createText:u}},f){const h=t.target=ok(t.props,l);if(h){const d=h._lpa||h.firstChild;if(t.shapeFlag&16)if(hm(t.props))t.anchor=f(a(e),t,o(e),n,r,i,s),t.targetStart=d,t.targetAnchor=d&&a(d);else{t.anchor=a(e);let p=d;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}p=a(p)}t.targetAnchor||GB(h,t,u,c),f(d&&a(d),t,h,n,r,i,s)}jB(t)}return t.anchor&&a(t.anchor)}const Pie=Mie;function jB(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function GB(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[WB]=s,e&&(r(i,e),r(s,e)),s}let $I=!1;const vd=()=>{$I||(console.error("Hydration completed but contains mismatches."),$I=!0)},Bie=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Uie=e=>e.namespaceURI.includes("MathML"),wv=e=>{if(Bie(e))return"svg";if(Uie(e))return"mathml"},Sv=e=>e.nodeType===8;function zie(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:c}}=e,u=(v,_)=>{if(!_.hasChildNodes()){n(null,v,_),F_(),_._vnode=v;return}f(_.firstChild,v,null,null,null),F_(),_._vnode=v},f=(v,_,b,w,E,A=!1)=>{A=A||!!_.dynamicChildren;const S=Sv(v)&&v.data==="[",T=()=>g(v,_,b,w,E,S),{type:C,ref:O,shapeFlag:F,patchFlag:I}=_;let D=v.nodeType;_.el=v,I===-2&&(A=!1,_.dynamicChildren=null);let N=null;switch(C){case Jc:D!==3?_.children===""?(l(_.el=i(""),a(v),v),N=v):N=T():(v.data!==_.children&&(vd(),v.data=_.children),N=s(v));break;case jn:y(v)?(N=s(v),x(_.el=v.content.firstChild,v,b)):D!==8||S?N=T():N=s(v);break;case Gf:if(S&&(v=s(v),D=v.nodeType),D===1||D===3){N=v;const M=!_.children.length;for(let U=0;U<_.staticCount;U++)M&&(_.children+=N.nodeType===1?N.outerHTML:N.data),U===_.staticCount-1&&(_.anchor=N),N=s(N);return S?s(N):N}else T();break;case xt:S?N=p(v,_,b,w,E,A):N=T();break;default:if(F&1)(D!==1||_.type.toLowerCase()!==v.tagName.toLowerCase())&&!y(v)?N=T():N=h(v,_,b,w,E,A);else if(F&6){_.slotScopeIds=E;const M=a(v);if(S?N=m(v):Sv(v)&&v.data==="teleport start"?N=m(v,v.data,"teleport end"):N=s(v),t(_,M,null,b,w,wv(M),A),Vf(_)){let U;S?(U=Et(xt),U.anchor=N?N.previousSibling:M.lastChild):U=v.nodeType===3?Si(""):Et("div"),U.el=v,_.component.subTree=U}}else F&64?D!==8?N=T():N=_.type.hydrate(v,_,b,w,E,A,e,d):F&128&&(N=_.type.hydrate(v,_,b,w,wv(a(v)),E,A,e,f))}return O!=null&&N_(O,null,w,_),N},h=(v,_,b,w,E,A)=>{A=A||!!_.dynamicChildren;const{type:S,props:T,patchFlag:C,shapeFlag:O,dirs:F,transition:I}=_,D=S==="input"||S==="option";if(D||C!==-1){F&&mo(_,null,b,"created");let N=!1;if(y(v)){N=KB(w,I)&&b&&b.vnode.props&&b.vnode.props.appear;const U=v.content.firstChild;N&&I.beforeEnter(U),x(U,v,b),_.el=v=U}if(O&16&&!(T&&(T.innerHTML||T.textContent))){let U=d(v.firstChild,_,v,b,w,E,A);for(;U;){vd();const J=U;U=U.nextSibling,o(J)}}else O&8&&v.textContent!==_.children&&(vd(),v.textContent=_.children);if(T){if(D||!A||C&48){const U=v.tagName.includes("-");for(const J in T)(D&&(J.endsWith("value")||J==="indeterminate")||Wh(J)&&!Yc(J)||J[0]==="."||U)&&r(v,J,null,T[J],void 0,b)}else if(T.onClick)r(v,"onClick",null,T.onClick,void 0,b);else if(C&4&&Nl(T.style))for(const U in T.style)T.style[U]}let M;(M=T&&T.onVnodeBeforeMount)&&Li(M,b,_),F&&mo(_,null,b,"beforeMount"),((M=T&&T.onVnodeMounted)||F||N)&&aU(()=>{M&&Li(M,b,_),N&&I.enter(v),F&&mo(_,null,b,"mounted")},w)}return v.nextSibling},d=(v,_,b,w,E,A,S)=>{S=S||!!_.dynamicChildren;const T=_.children,C=T.length;for(let O=0;O<C;O++){const F=S?T[O]:T[O]=Ui(T[O]),I=F.type===Jc;if(v){if(I&&!S){let D=T[O+1];D&&(D=Ui(D)).type===Jc&&(l(i(v.data.slice(F.children.length)),b,s(v)),v.data=F.children)}v=f(v,F,w,E,A,S)}else I&&!F.children?l(F.el=i(""),b):(vd(),n(null,F,b,null,w,E,wv(b),A))}return v},p=(v,_,b,w,E,A)=>{const{slotScopeIds:S}=_;S&&(E=E?E.concat(S):S);const T=a(v),C=d(s(v),_,T,b,w,E,A);return C&&Sv(C)&&C.data==="]"?s(_.anchor=C):(vd(),l(_.anchor=c("]"),T,C),C)},g=(v,_,b,w,E,A)=>{if(vd(),_.el=null,A){const C=m(v);for(;;){const O=s(v);if(O&&O!==C)o(O);else break}}const S=s(v),T=a(v);return o(v),n(null,_,T,S,b,w,wv(T),E),S},m=(v,_="[",b="]")=>{let w=0;for(;v;)if(v=s(v),v&&Sv(v)&&(v.data===_&&w++,v.data===b)){if(w===0)return s(v);w--}return v},x=(v,_,b)=>{const w=_.parentNode;w&&w.replaceChild(v,_);let E=b;for(;E;)E.vnode.el===_&&(E.vnode.el=E.subTree.el=v),E=E.parent},y=v=>v.nodeType===1&&v.tagName.toLowerCase()==="template";return[u,f]}const nr=aU;function qB(e){return YB(e)}function XB(e){return YB(e,zie)}function YB(e,t){const n=z7();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Xn,insertStaticContent:p}=e,g=(k,P,Y,Z=null,ee=null,ne=null,pe=void 0,xe=null,ye=!!P.dynamicChildren)=>{if(k===P)return;k&&!Oa(k,P)&&(Z=je(k),ve(k,ee,ne,!0),k=null),P.patchFlag===-2&&(ye=!1,P.dynamicChildren=null);const{type:ge,ref:le,shapeFlag:Se}=P;switch(ge){case Jc:m(k,P,Y,Z);break;case jn:x(k,P,Y,Z);break;case Gf:k==null&&y(P,Y,Z,pe);break;case xt:O(k,P,Y,Z,ee,ne,pe,xe,ye);break;default:Se&1?b(k,P,Y,Z,ee,ne,pe,xe,ye):Se&6?F(k,P,Y,Z,ee,ne,pe,xe,ye):(Se&64||Se&128)&&ge.process(k,P,Y,Z,ee,ne,pe,xe,ye,G)}le!=null&&ee&&N_(le,k&&k.ref,ne,P||k,!P)},m=(k,P,Y,Z)=>{if(k==null)r(P.el=o(P.children),Y,Z);else{const ee=P.el=k.el;P.children!==k.children&&c(ee,P.children)}},x=(k,P,Y,Z)=>{k==null?r(P.el=l(P.children||""),Y,Z):P.el=k.el},y=(k,P,Y,Z)=>{[k.el,k.anchor]=p(k.children,P,Y,Z,k.el,k.anchor)},v=({el:k,anchor:P},Y,Z)=>{let ee;for(;k&&k!==P;)ee=h(k),r(k,Y,Z),k=ee;r(P,Y,Z)},_=({el:k,anchor:P})=>{let Y;for(;k&&k!==P;)Y=h(k),i(k),k=Y;i(P)},b=(k,P,Y,Z,ee,ne,pe,xe,ye)=>{P.type==="svg"?pe="svg":P.type==="math"&&(pe="mathml"),k==null?w(P,Y,Z,ee,ne,pe,xe,ye):S(k,P,ee,ne,pe,xe,ye)},w=(k,P,Y,Z,ee,ne,pe,xe)=>{let ye,ge;const{props:le,shapeFlag:Se,transition:ae,dirs:qe}=k;if(ye=k.el=a(k.type,ne,le&&le.is,le),Se&8?u(ye,k.children):Se&16&&A(k.children,ye,null,Z,ee,GS(k,ne),pe,xe),qe&&mo(k,null,Z,"created"),E(ye,k,k.scopeId,pe,Z),le){for(const et in le)et!=="value"&&!Yc(et)&&s(ye,et,null,le[et],ne,Z);"value"in le&&s(ye,"value",null,le.value,ne),(ge=le.onVnodeBeforeMount)&&Li(ge,Z,k)}qe&&mo(k,null,Z,"beforeMount");const Xe=KB(ee,ae);Xe&&ae.beforeEnter(ye),r(ye,P,Y),((ge=le&&le.onVnodeMounted)||Xe||qe)&&nr(()=>{ge&&Li(ge,Z,k),Xe&&ae.enter(ye),qe&&mo(k,null,Z,"mounted")},ee)},E=(k,P,Y,Z,ee)=>{if(Y&&d(k,Y),Z)for(let ne=0;ne<Z.length;ne++)d(k,Z[ne]);if(ee){let ne=ee.subTree;if(P===ne){const pe=ee.vnode;E(k,pe,pe.scopeId,pe.slotScopeIds,ee.parent)}}},A=(k,P,Y,Z,ee,ne,pe,xe,ye=0)=>{for(let ge=ye;ge<k.length;ge++){const le=k[ge]=xe?Cc(k[ge]):Ui(k[ge]);g(null,le,P,Y,Z,ee,ne,pe,xe)}},S=(k,P,Y,Z,ee,ne,pe)=>{const xe=P.el=k.el;let{patchFlag:ye,dynamicChildren:ge,dirs:le}=P;ye|=k.patchFlag&16;const Se=k.props||Dt,ae=P.props||Dt;let qe;if(Y&&af(Y,!1),(qe=ae.onVnodeBeforeUpdate)&&Li(qe,Y,P,k),le&&mo(P,k,Y,"beforeUpdate"),Y&&af(Y,!0),(Se.innerHTML&&ae.innerHTML==null||Se.textContent&&ae.textContent==null)&&u(xe,""),ge?T(k.dynamicChildren,ge,xe,Y,Z,GS(P,ee),ne):pe||U(k,P,xe,null,Y,Z,GS(P,ee),ne,!1),ye>0){if(ye&16)C(xe,Se,ae,Y,ee);else if(ye&2&&Se.class!==ae.class&&s(xe,"class",null,ae.class,ee),ye&4&&s(xe,"style",Se.style,ae.style,ee),ye&8){const Xe=P.dynamicProps;for(let et=0;et<Xe.length;et++){const lt=Xe[et],It=Se[lt],De=ae[lt];(De!==It||lt==="value")&&s(xe,lt,It,De,ee,Y)}}ye&1&&k.children!==P.children&&u(xe,P.children)}else!pe&&ge==null&&C(xe,Se,ae,Y,ee);((qe=ae.onVnodeUpdated)||le)&&nr(()=>{qe&&Li(qe,Y,P,k),le&&mo(P,k,Y,"updated")},Z)},T=(k,P,Y,Z,ee,ne,pe)=>{for(let xe=0;xe<P.length;xe++){const ye=k[xe],ge=P[xe],le=ye.el&&(ye.type===xt||!Oa(ye,ge)||ye.shapeFlag&70)?f(ye.el):Y;g(ye,ge,le,null,Z,ee,ne,pe,!0)}},C=(k,P,Y,Z,ee)=>{if(P!==Y){if(P!==Dt)for(const ne in P)!Yc(ne)&&!(ne in Y)&&s(k,ne,P[ne],null,ee,Z);for(const ne in Y){if(Yc(ne))continue;const pe=Y[ne],xe=P[ne];pe!==xe&&ne!=="value"&&s(k,ne,xe,pe,ee,Z)}"value"in Y&&s(k,"value",P.value,Y.value,ee)}},O=(k,P,Y,Z,ee,ne,pe,xe,ye)=>{const ge=P.el=k?k.el:o(""),le=P.anchor=k?k.anchor:o("");let{patchFlag:Se,dynamicChildren:ae,slotScopeIds:qe}=P;qe&&(xe=xe?xe.concat(qe):qe),k==null?(r(ge,Y,Z),r(le,Y,Z),A(P.children||[],Y,le,ee,ne,pe,xe,ye)):Se>0&&Se&64&&ae&&k.dynamicChildren?(T(k.dynamicChildren,ae,Y,ee,ne,pe,xe),(P.key!=null||ee&&P===ee.subTree)&&F3(k,P,!0)):U(k,P,Y,le,ee,ne,pe,xe,ye)},F=(k,P,Y,Z,ee,ne,pe,xe,ye)=>{P.slotScopeIds=xe,k==null?P.shapeFlag&512?ee.ctx.activate(P,Y,Z,pe,ye):I(P,Y,Z,ee,ne,pe,ye):D(k,P,ye)},I=(k,P,Y,Z,ee,ne,pe)=>{const xe=k.component=hU(k,Z,ee);if(Y1(k)&&(xe.ctx.renderer=G),pU(xe,!1,pe),xe.asyncDep){if(ee&&ee.registerDep(xe,N,pe),!k.el){const ye=xe.subTree=Et(jn);x(null,ye,P,Y)}}else N(xe,k,P,Y,ee,ne,pe)},D=(k,P,Y)=>{const Z=P.component=k.component;if(Kie(k,P,Y))if(Z.asyncDep&&!Z.asyncResolved){M(Z,P,Y);return}else Z.next=P,Xre(Z.update),Z.effect.dirty=!0,Z.update();else P.el=k.el,Z.vnode=P},N=(k,P,Y,Z,ee,ne,pe)=>{const xe=()=>{if(k.isMounted){let{next:le,bu:Se,u:ae,parent:qe,vnode:Xe}=k;{const pt=JB(k);if(pt){le&&(le.el=Xe.el,M(k,le,pe)),pt.asyncDep.then(()=>{k.isUnmounted||xe()});return}}let et=le,lt;af(k,!1),le?(le.el=Xe.el,M(k,le,pe)):le=Xe,Se&&i0(Se),(lt=le.props&&le.props.onVnodeBeforeUpdate)&&Li(lt,qe,le,Xe),af(k,!0);const It=By(k),De=k.subTree;k.subTree=It,g(De,It,f(De.el),je(De),k,ee,ne),le.el=It.el,et===null&&O3(k,It.el),ae&&nr(ae,ee),(lt=le.props&&le.props.onVnodeUpdated)&&nr(()=>Li(lt,qe,le,Xe),ee)}else{let le;const{el:Se,props:ae}=P,{bm:qe,m:Xe,parent:et}=k,lt=Vf(P);if(af(k,!1),qe&&i0(qe),!lt&&(le=ae&&ae.onVnodeBeforeMount)&&Li(le,et,P),af(k,!0),Se&&K){const It=()=>{k.subTree=By(k),K(Se,k.subTree,k,ee,null)};lt?P.type.__asyncLoader().then(()=>!k.isUnmounted&&It()):It()}else{const It=k.subTree=By(k);g(null,It,Y,Z,k,ee,ne),P.el=It.el}if(Xe&&nr(Xe,ee),!lt&&(le=ae&&ae.onVnodeMounted)){const It=P;nr(()=>Li(le,et,It),ee)}(P.shapeFlag&256||et&&Vf(et.vnode)&&et.vnode.shapeFlag&256)&&k.a&&nr(k.a,ee),k.isMounted=!0,P=Y=Z=null}},ye=k.effect=new E0(xe,Xn,()=>Kb(ge),k.scope),ge=k.update=()=>{ye.dirty&&ye.run()};ge.i=k,ge.id=k.uid,af(k,!0),ge()},M=(k,P,Y)=>{P.component=k;const Z=k.vnode.props;k.vnode=P,k.next=null,Oie(k,P.props,Z,Y),Rie(k,P.children,Y),Mu(),SI(k),Lu()},U=(k,P,Y,Z,ee,ne,pe,xe,ye=!1)=>{const ge=k&&k.children,le=k?k.shapeFlag:0,Se=P.children,{patchFlag:ae,shapeFlag:qe}=P;if(ae>0){if(ae&128){X(ge,Se,Y,Z,ee,ne,pe,xe,ye);return}else if(ae&256){J(ge,Se,Y,Z,ee,ne,pe,xe,ye);return}}qe&8?(le&16&&Ne(ge,ee,ne),Se!==ge&&u(Y,Se)):le&16?qe&16?X(ge,Se,Y,Z,ee,ne,pe,xe,ye):Ne(ge,ee,ne,!0):(le&8&&u(Y,""),qe&16&&A(Se,Y,Z,ee,ne,pe,xe,ye))},J=(k,P,Y,Z,ee,ne,pe,xe,ye)=>{k=k||t0,P=P||t0;const ge=k.length,le=P.length,Se=Math.min(ge,le);let ae;for(ae=0;ae<Se;ae++){const qe=P[ae]=ye?Cc(P[ae]):Ui(P[ae]);g(k[ae],qe,Y,null,ee,ne,pe,xe,ye)}ge>le?Ne(k,ee,ne,!0,!1,Se):A(P,Y,Z,ee,ne,pe,xe,ye,Se)},X=(k,P,Y,Z,ee,ne,pe,xe,ye)=>{let ge=0;const le=P.length;let Se=k.length-1,ae=le-1;for(;ge<=Se&&ge<=ae;){const qe=k[ge],Xe=P[ge]=ye?Cc(P[ge]):Ui(P[ge]);if(Oa(qe,Xe))g(qe,Xe,Y,null,ee,ne,pe,xe,ye);else break;ge++}for(;ge<=Se&&ge<=ae;){const qe=k[Se],Xe=P[ae]=ye?Cc(P[ae]):Ui(P[ae]);if(Oa(qe,Xe))g(qe,Xe,Y,null,ee,ne,pe,xe,ye);else break;Se--,ae--}if(ge>Se){if(ge<=ae){const qe=ae+1,Xe=qe<le?P[qe].el:Z;for(;ge<=ae;)g(null,P[ge]=ye?Cc(P[ge]):Ui(P[ge]),Y,Xe,ee,ne,pe,xe,ye),ge++}}else if(ge>ae)for(;ge<=Se;)ve(k[ge],ee,ne,!0),ge++;else{const qe=ge,Xe=ge,et=new Map;for(ge=Xe;ge<=ae;ge++){const Tn=P[ge]=ye?Cc(P[ge]):Ui(P[ge]);Tn.key!=null&&et.set(Tn.key,ge)}let lt,It=0;const De=ae-Xe+1;let pt=!1,pn=0;const nn=new Array(De);for(ge=0;ge<De;ge++)nn[ge]=0;for(ge=qe;ge<=Se;ge++){const Tn=k[ge];if(It>=De){ve(Tn,ee,ne,!0);continue}let oi;if(Tn.key!=null)oi=et.get(Tn.key);else for(lt=Xe;lt<=ae;lt++)if(nn[lt-Xe]===0&&Oa(Tn,P[lt])){oi=lt;break}oi===void 0?ve(Tn,ee,ne,!0):(nn[oi-Xe]=ge+1,oi>=pn?pn=oi:pt=!0,g(Tn,P[oi],Y,null,ee,ne,pe,xe,ye),It++)}const Ps=pt?Hie(nn):t0;for(lt=Ps.length-1,ge=De-1;ge>=0;ge--){const Tn=Xe+ge,oi=P[Tn],eg=Tn+1<le?P[Tn+1].el:Z;nn[ge]===0?g(null,oi,Y,eg,ee,ne,pe,xe,ye):pt&&(lt<0||ge!==Ps[lt]?ce(oi,Y,eg,2):lt--)}}},ce=(k,P,Y,Z,ee=null)=>{const{el:ne,type:pe,transition:xe,children:ye,shapeFlag:ge}=k;if(ge&6){ce(k.component.subTree,P,Y,Z);return}if(ge&128){k.suspense.move(P,Y,Z);return}if(ge&64){pe.move(k,P,Y,G);return}if(pe===xt){r(ne,P,Y);for(let Se=0;Se<ye.length;Se++)ce(ye[Se],P,Y,Z);r(k.anchor,P,Y);return}if(pe===Gf){v(k,P,Y);return}if(Z!==2&&ge&1&&xe)if(Z===0)xe.beforeEnter(ne),r(ne,P,Y),nr(()=>xe.enter(ne),ee);else{const{leave:Se,delayLeave:ae,afterLeave:qe}=xe,Xe=()=>r(ne,P,Y),et=()=>{Se(ne,()=>{Xe(),qe&&qe()})};ae?ae(ne,Xe,et):et()}else r(ne,P,Y)},ve=(k,P,Y,Z=!1,ee=!1)=>{const{type:ne,props:pe,ref:xe,children:ye,dynamicChildren:ge,shapeFlag:le,patchFlag:Se,dirs:ae,cacheIndex:qe}=k;if(Se===-2&&(ee=!1),xe!=null&&N_(xe,null,Y,k,!0),qe!=null&&(P.renderCache[qe]=void 0),le&256){P.ctx.deactivate(k);return}const Xe=le&1&&ae,et=!Vf(k);let lt;if(et&&(lt=pe&&pe.onVnodeBeforeUnmount)&&Li(lt,P,k),le&6)Fe(k.component,Y,Z);else{if(le&128){k.suspense.unmount(Y,Z);return}Xe&&mo(k,null,P,"beforeUnmount"),le&64?k.type.remove(k,P,Y,G,Z):ge&&!ge.hasOnce&&(ne!==xt||Se>0&&Se&64)?Ne(ge,P,Y,!1,!0):(ne===xt&&Se&384||!ee&&le&16)&&Ne(ye,P,Y),Z&&_e(k)}(et&&(lt=pe&&pe.onVnodeUnmounted)||Xe)&&nr(()=>{lt&&Li(lt,P,k),Xe&&mo(k,null,P,"unmounted")},Y)},_e=k=>{const{type:P,el:Y,anchor:Z,transition:ee}=k;if(P===xt){de(Y,Z);return}if(P===Gf){_(k);return}const ne=()=>{i(Y),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(k.shapeFlag&1&&ee&&!ee.persisted){const{leave:pe,delayLeave:xe}=ee,ye=()=>pe(Y,ne);xe?xe(k.el,ne,ye):ye()}else ne()},de=(k,P)=>{let Y;for(;k!==P;)Y=h(k),i(k),k=Y;i(P)},Fe=(k,P,Y)=>{const{bum:Z,scope:ee,update:ne,subTree:pe,um:xe,m:ye,a:ge}=k;D_(ye),D_(ge),Z&&i0(Z),ee.stop(),ne&&(ne.active=!1,ve(pe,k,P,Y)),xe&&nr(xe,P),nr(()=>{k.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Ne=(k,P,Y,Z=!1,ee=!1,ne=0)=>{for(let pe=ne;pe<k.length;pe++)ve(k[pe],P,Y,Z,ee)},je=k=>{if(k.shapeFlag&6)return je(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const P=h(k.anchor||k.el),Y=P&&P[WB];return Y?h(Y):P};let z=!1;const q=(k,P,Y)=>{k==null?P._vnode&&ve(P._vnode,null,null,!0):g(P._vnode||null,k,P,null,null,null,Y),P._vnode=k,z||(z=!0,SI(),F_(),z=!1)},G={p:g,um:ve,m:ce,r:_e,mt:I,mc:A,pc:U,pbc:T,n:je,o:e};let H,K;return t&&([H,K]=t(G)),{render:q,hydrate:H,createApp:Cie(q,H)}}function GS({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function af({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function KB(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function F3(e,t,n=!1){const r=e.children,i=t.children;if(ze(r)&&ze(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Cc(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&F3(a,o)),o.type===Jc&&(o.el=a.el)}}function Hie(e){const t=e.slice(),n=[0];let r,i,s,a,o;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,e[n[o]]<c?s=o+1:a=o;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function JB(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:JB(t)}function D_(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const ZB=Symbol.for("v-scx"),QB=()=>jf(ZB);function Vie(e,t){return J1(e,null,t)}function eU(e,t){return J1(e,null,{flush:"post"})}function tU(e,t){return J1(e,null,{flush:"sync"})}const Av={};function $a(e,t,n){return J1(e,t,n)}function J1(e,t,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:o}=Dt){if(t&&s){const w=t;t=(...E)=>{w(...E),b()}}const l=Gn,c=w=>r===!0?w:Ic(w,r===!1?1:void 0);let u,f=!1,h=!1;if(On(e)?(u=()=>e.value,f=ch(e)):Nl(e)?(u=()=>c(e),f=!0):ze(e)?(h=!0,f=e.some(w=>Nl(w)||ch(w)),u=()=>e.map(w=>{if(On(w))return w.value;if(Nl(w))return c(w);if(rt(w))return Dl(w,l,2)})):rt(e)?t?u=()=>Dl(e,l,2):u=()=>(d&&d(),_s(e,l,3,[p])):u=Xn,t&&r){const w=u;u=()=>Ic(w())}let d,p=w=>{d=v.onStop=()=>{Dl(w,l,4),d=v.onStop=void 0}},g;if(Q1)if(p=Xn,t?n&&_s(t,l,3,[u(),h?[]:void 0,p]):u(),i==="sync"){const w=QB();g=w.__watcherHandles||(w.__watcherHandles=[])}else return Xn;let m=h?new Array(e.length).fill(Av):Av;const x=()=>{if(!(!v.active||!v.dirty))if(t){const w=v.run();(r||f||(h?w.some((E,A)=>gi(E,m[A])):gi(w,m)))&&(d&&d(),_s(t,l,3,[w,m===Av?void 0:h&&m[0]===Av?[]:m,p]),m=w)}else v.run()};x.allowRecurse=!!t;let y;i==="sync"?y=x:i==="post"?y=()=>nr(x,l&&l.suspense):(x.pre=!0,l&&(x.id=l.uid),y=()=>Kb(x));const v=new E0(u,Xn,y),_=h3(),b=()=>{v.stop(),_&&o3(_.effects,v)};return t?n?x():m=v.run():i==="post"?nr(v.run.bind(v),l&&l.suspense):v.run(),g&&g.push(b),b}function Wie(e,t,n){const r=this.proxy,i=ut(e)?e.includes(".")?nU(r,e):()=>r[e]:e.bind(r,r);let s;rt(t)?s=t:(s=t.handler,n=t);const a=hh(this),o=J1(i,s.bind(r),n);return a(),o}function nU(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ic(e,t=1/0,n){if(t<=0||!Yt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,On(e))Ic(e.value,t,n);else if(ze(e))for(let r=0;r<e.length;r++)Ic(e[r],t,n);else if(jh(e)||n0(e))e.forEach(r=>{Ic(r,t,n)});else if(B7(e)){for(const r in e)Ic(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ic(e[r],t,n)}return e}function jie(e,t,n=Dt){const r=tc(),i=hn(t),s=Hi(t),a=rU(e,t),o=uB((l,c)=>{let u,f=Dt,h;return tU(()=>{const d=e[t];gi(u,d)&&(u=d,c())}),{get(){return l(),n.get?n.get(u):u},set(d){const p=n.set?n.set(d):d;if(!gi(p,u)&&!(f!==Dt&&gi(d,f)))return;const g=r.vnode.props;g&&(t in g||i in g||s in g)&&(`onUpdate:${t}`in g||`onUpdate:${i}`in g||`onUpdate:${s}`in g)||(u=d,c()),r.emit(`update:${t}`,p),gi(d,p)&&gi(d,f)&&!gi(p,h)&&c(),f=d,h=p}}});return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||Dt:o,done:!1}:{done:!0}}}},o}const rU=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hn(t)}Modifiers`]||e[`${Hi(t)}Modifiers`];function Gie(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Dt;let i=n;const s=t.startsWith("update:"),a=s&&rU(r,t.slice(7));a&&(a.trim&&(i=n.map(u=>ut(u)?u.trim():u)),a.number&&(i=n.map(A_)));let o,l=r[o=r0(t)]||r[o=r0(hn(t))];!l&&s&&(l=r[o=r0(Hi(t))]),l&&_s(l,e,6,i);const c=r[o+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,_s(c,e,6,i)}}function iU(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},o=!1;if(!rt(e)){const l=c=>{const u=iU(c,t,!0);u&&(o=!0,Bt(a,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!o?(Yt(e)&&r.set(e,null),null):(ze(s)?s.forEach(l=>a[l]=null):Bt(a,s),Yt(e)&&r.set(e,a),a)}function iE(e,t){return!e||!Wh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Mt(e,t[0].toLowerCase()+t.slice(1))||Mt(e,Hi(t))||Mt(e,t))}function By(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:c,renderCache:u,props:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=e,m=Ym(e);let x,y;try{if(n.shapeFlag&4){const _=i||r,b=_;x=Ui(c.call(b,_,u,f,d,h,p)),y=o}else{const _=t;x=Ui(_.length>1?_(f,{attrs:o,slots:a,emit:l}):_(f,null)),y=t.props?o:Xie(o)}}catch(_){dm.length=0,qh(_,e,1),x=Et(jn)}let v=x;if(y&&g!==!1){const _=Object.keys(y),{shapeFlag:b}=v;_.length&&b&7&&(s&&_.some(a3)&&(y=Yie(y,s)),v=Ro(v,y,!1,!0))}return n.dirs&&(v=Ro(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),x=v,Ym(m),x}function qie(e,t=!0){let n;for(let r=0;r<e.length;r++){const i=e[r];if(uu(i)){if(i.type!==jn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const Xie=e=>{let t;for(const n in e)(n==="class"||n==="style"||Wh(n))&&((t||(t={}))[n]=e[n]);return t},Yie=(e,t)=>{const n={};for(const r in e)(!a3(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Kie(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:o,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?RI(r,a,c):!!a;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(a[h]!==r[h]&&!iE(c,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?RI(r,a,c):!0:!!a;return!1}function RI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!iE(n,s))return!0}return!1}function O3({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const lk=e=>e.__isSuspense;let ck=0;const Jie={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,s,a,o,l,c){if(e==null)Qie(t,n,r,i,s,a,o,l,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}ese(e,t,n,r,i,a,o,l,c)}},hydrate:tse,normalize:nse},Zie=Jie;function Jm(e,t){const n=e.props&&e.props[t];rt(n)&&n()}function Qie(e,t,n,r,i,s,a,o,l){const{p:c,o:{createElement:u}}=l,f=u("div"),h=e.suspense=sU(e,i,r,t,f,n,s,a,o,l);c(null,h.pendingBranch=e.ssContent,f,null,r,h,s,a),h.deps>0?(Jm(e,"onPending"),Jm(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,s,a),o0(h,e.ssFallback)):h.resolve(!1,!0)}function ese(e,t,n,r,i,s,a,o,{p:l,um:c,o:{createElement:u}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const h=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:x}=f;if(g)f.pendingBranch=h,Oa(h,g)?(l(g,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0?f.resolve():m&&(x||(l(p,d,n,r,i,null,s,a,o),o0(f,d)))):(f.pendingId=ck++,x?(f.isHydrating=!1,f.activeBranch=g):c(g,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),m?(l(null,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0?f.resolve():(l(p,d,n,r,i,null,s,a,o),o0(f,d))):p&&Oa(h,p)?(l(p,h,n,r,i,f,s,a,o),f.resolve(!0)):(l(null,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0&&f.resolve()));else if(p&&Oa(h,p))l(p,h,n,r,i,f,s,a,o),o0(f,h);else if(Jm(t,"onPending"),f.pendingBranch=h,h.shapeFlag&512?f.pendingId=h.component.suspenseId:f.pendingId=ck++,l(null,h,f.hiddenContainer,null,i,f,s,a,o),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:v}=f;y>0?setTimeout(()=>{f.pendingId===v&&f.fallback(d)},y):y===0&&f.fallback(d)}}function sU(e,t,n,r,i,s,a,o,l,c,u=!1){const{p:f,m:h,um:d,n:p,o:{parentNode:g,remove:m}}=c;let x;const y=rse(e);y&&t&&t.pendingBranch&&(x=t.pendingId,t.deps++);const v=e.props?T_(e.props.timeout):void 0,_=s,b={vnode:e,parent:t,parentComponent:n,namespace:a,container:r,hiddenContainer:i,deps:0,pendingId:ck++,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(w=!1,E=!1){const{vnode:A,activeBranch:S,pendingBranch:T,pendingId:C,effects:O,parentComponent:F,container:I}=b;let D=!1;b.isHydrating?b.isHydrating=!1:w||(D=S&&T.transition&&T.transition.mode==="out-in",D&&(S.transition.afterLeave=()=>{C===b.pendingId&&(h(T,I,s===_?p(S):s,0),C_(O))}),S&&(g(S.el)!==b.hiddenContainer&&(s=p(S)),d(S,F,b,!0)),D||h(T,I,s,0)),o0(b,T),b.pendingBranch=null,b.isInFallback=!1;let N=b.parent,M=!1;for(;N;){if(N.pendingBranch){N.effects.push(...O),M=!0;break}N=N.parent}!M&&!D&&C_(O),b.effects=[],y&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!E&&t.resolve()),Jm(A,"onResolve")},fallback(w){if(!b.pendingBranch)return;const{vnode:E,activeBranch:A,parentComponent:S,container:T,namespace:C}=b;Jm(E,"onFallback");const O=p(A),F=()=>{b.isInFallback&&(f(null,w,T,O,S,null,C,o,l),o0(b,w))},I=w.transition&&w.transition.mode==="out-in";I&&(A.transition.afterLeave=F),b.isInFallback=!0,d(A,S,null,!0),I||F()},move(w,E,A){b.activeBranch&&h(b.activeBranch,w,E,A),b.container=w},next(){return b.activeBranch&&p(b.activeBranch)},registerDep(w,E,A){const S=!!b.pendingBranch;S&&b.deps++;const T=w.vnode.el;w.asyncDep.catch(C=>{qh(C,w,0)}).then(C=>{if(w.isUnmounted||b.isUnmounted||b.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:O}=w;dk(w,C,!1),T&&(O.el=T);const F=!T&&w.subTree.el;E(w,O,g(T||w.subTree.el),T?null:p(w.subTree),b,a,A),F&&m(F),O3(w,O.el),S&&--b.deps===0&&b.resolve()})},unmount(w,E){b.isUnmounted=!0,b.activeBranch&&d(b.activeBranch,n,w,E),b.pendingBranch&&d(b.pendingBranch,n,w,E)}};return b}function tse(e,t,n,r,i,s,a,o,l){const c=t.suspense=sU(t,r,n,e.parentNode,document.createElement("div"),null,i,s,a,o,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,s,a);return c.deps===0&&c.resolve(!1,!0),u}function nse(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=II(r?n.default:n),e.ssFallback=r?II(n.fallback):Et(jn)}function II(e){let t;if(rt(e)){const n=fh&&e._c;n&&(e._d=!1,Be()),e=e(),n&&(e._d=!0,t=qr,oU())}return ze(e)&&(e=qie(e)),e=Ui(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function aU(e,t){t&&t.pendingBranch?ze(e)?t.effects.push(...e):t.effects.push(e):C_(e)}function o0(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,O3(r,i))}function rse(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const xt=Symbol.for("v-fgt"),Jc=Symbol.for("v-txt"),jn=Symbol.for("v-cmt"),Gf=Symbol.for("v-stc"),dm=[];let qr=null;function Be(e=!1){dm.push(qr=e?null:[])}function oU(){dm.pop(),qr=dm[dm.length-1]||null}let fh=1;function uk(e){fh+=e,e<0&&qr&&(qr.hasOnce=!0)}function lU(e){return e.dynamicChildren=fh>0?qr||t0:null,oU(),fh>0&&qr&&qr.push(e),e}function Ue(e,t,n,r,i,s){return lU(Q(e,t,n,r,i,s,!0))}function Z1(e,t,n,r,i){return lU(Et(e,t,n,r,i,!0))}function uu(e){return e?e.__v_isVNode===!0:!1}function Oa(e,t){return e.type===t.type&&e.key===t.key}function ise(e){}const cU=({key:e})=>e??null,Uy=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ut(e)||On(e)||rt(e)?{i:Yn,r:e,k:t,f:!!n}:e:null);function Q(e,t=null,n=null,r=0,i=null,s=e===xt?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cU(t),ref:t&&Uy(t),scopeId:Jb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Yn};return o?(N3(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=ut(n)?8:16),fh>0&&!a&&qr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&qr.push(l),l}const Et=sse;function sse(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===CB)&&(e=jn),uu(e)){const o=Ro(e,t,!0);return n&&N3(o,n),fh>0&&!s&&qr&&(o.shapeFlag&6?qr[qr.indexOf(e)]=o:qr.push(o)),o.patchFlag=-2,o}if(hse(e)&&(e=e.__vccOpts),t){t=uU(t);let{class:o,style:l}=t;o&&!ut(o)&&(t.class=To(o)),Yt(l)&&(x3(l)&&!ze(l)&&(l=Bt({},l)),t.style=Iu(l))}const a=ut(e)?1:lk(e)?128:Iie(e)?64:Yt(e)?4:rt(e)?2:0;return Q(e,t,n,r,i,a,s,!0)}function uU(e){return e?x3(e)||LB(e)?Bt({},e):e:null}function Ro(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=e,c=t?fU(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&cU(c),ref:t&&t.ref?n&&s?ze(s)?s.concat(Uy(t)):[s,Uy(t)]:Uy(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ro(e.ssContent),ssFallback:e.ssFallback&&Ro(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&cu(u,l.clone(u)),u}function Si(e=" ",t=0){return Et(Jc,null,e,t)}function ase(e,t){const n=Et(Gf,null,e);return n.staticCount=t,n}function qi(e="",t=!1){return t?(Be(),Z1(jn,null,e)):Et(jn,null,e)}function Ui(e){return e==null||typeof e=="boolean"?Et(jn):ze(e)?Et(xt,null,e.slice()):typeof e=="object"?Cc(e):Et(Jc,null,String(e))}function Cc(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ro(e)}function N3(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ze(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),N3(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!LB(t)?t._ctx=Yn:i===3&&Yn&&(Yn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:Yn},n=32):(t=String(t),r&64?(n=16,t=[Si(t)]):n=8);e.children=t,e.shapeFlag|=n}function fU(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=To([t.class,r.class]));else if(i==="style")t.style=Iu([t.style,r.style]);else if(Wh(i)){const s=t[i],a=r[i];a&&s!==a&&!(ze(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Li(e,t,n,r=null){_s(e,t,7,[n,r])}const ose=DB();let lse=0;function hU(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||ose,s={uid:lse++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new u3(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:BB(r,i),emitsOptions:iU(r,i),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:r.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Gie.bind(null,s),e.ce&&e.ce(s),s}let Gn=null;const tc=()=>Gn||Yn;let $_,fk;{const e=z7(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};$_=t("__VUE_INSTANCE_SETTERS__",n=>Gn=n),fk=t("__VUE_SSR_SETTERS__",n=>Q1=n)}const hh=e=>{const t=Gn;return $_(e),e.scope.on(),()=>{e.scope.off(),$_(t)}},hk=()=>{Gn&&Gn.scope.off(),$_(null)};function dU(e){return e.vnode.shapeFlag&4}let Q1=!1;function pU(e,t=!1,n=!1){t&&fk(t);const{props:r,children:i}=e.vnode,s=dU(e);Fie(e,r,s,t),$ie(e,i,n);const a=s?cse(e,t):void 0;return t&&fk(!1),a}function cse(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,rk);const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?xU(e):null,s=hh(e);Mu();const a=Dl(r,e,0,[e.props,i]);if(Lu(),s(),l3(a)){if(a.then(hk,hk),t)return a.then(o=>{dk(e,o,t)}).catch(o=>{qh(o,e,0)});e.asyncDep=a}else dk(e,a,t)}else mU(e,t)}function dk(e,t,n){rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Yt(t)&&(e.setupState=_3(t)),mU(e,n)}let R_,pk;function gU(e){R_=e,pk=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,lie))}}const use=()=>!R_;function mU(e,t,n){const r=e.type;if(!e.render){if(!t&&R_&&!r.render){const i=r.template||k3(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=r,c=Bt(Bt({isCustomElement:s,delimiters:o},a),l);r.render=R_(i,c)}}e.render=r.render||Xn,pk&&pk(e)}{const i=hh(e);Mu();try{Eie(e)}finally{Lu(),i()}}}const fse={get(e,t){return Ji(e,"get",""),e[t]}};function xU(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,fse),slots:e.slots,emit:e.emit,expose:t}}function ex(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_3(Yb(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in fm)return fm[n](e)},has(t,n){return n in t||n in fm}})):e.proxy}function gk(e,t=!0){return rt(e)?e.displayName||e.name:e.name||t&&e.__name}function hse(e){return rt(e)&&"__vccOpts"in e}const Zc=(e,t)=>Nre(e,t,Q1);function vU(e,t,n){const r=arguments.length;return r===2?Yt(t)&&!ze(t)?uu(t)?Et(e,null,[t]):Et(e,t):Et(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&uu(n)&&(n=[n]),Et(e,t,n))}function dse(){}function pse(e,t,n,r){const i=n[r];if(i&&yU(i,e))return i;const s=t();return s.memo=e.slice(),s.cacheIndex=r,n[r]=s}function yU(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(gi(n[r],t[r]))return!1;return fh>0&&qr&&qr.push(e),!0}const _U="3.4.37",gse=Xn,mse=jre,xse=Ld,vse=mB,yse={createComponentInstance:hU,setupComponent:pU,renderComponentRoot:By,setCurrentRenderingInstance:Ym,isVNode:uu,normalizeVNode:Ui,getComponentPublicInstance:ex,ensureValidVNode:T3},_se=yse,bse=null,Ese=null,wse=null;/**
* @vue/runtime-dom v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Sse="http://www.w3.org/2000/svg",Ase="http://www.w3.org/1998/Math/MathML",pl=typeof document<"u"?document:null,MI=pl&&pl.createElement("template"),Tse={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?pl.createElementNS(Sse,e):t==="mathml"?pl.createElementNS(Ase,e):n?pl.createElement(e,{is:n}):pl.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>pl.createTextNode(e),createComment:e=>pl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{MI.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const o=MI.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},gc="transition",ig="animation",S0=Symbol("_vtc"),D3=(e,{slots:t})=>vU(vB,EU(e),t);D3.displayName="Transition";const bU={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kse=D3.props=Bt({},w3,bU),of=(e,t=[])=>{ze(e)?e.forEach(n=>n(...t)):e&&e(...t)},LI=e=>e?ze(e)?e.some(t=>t.length>1):e.length>1:!1;function EU(e){const t={};for(const O in e)O in bU||(t[O]=e[O]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=Cse(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:x,onEnter:y,onEnterCancelled:v,onLeave:_,onLeaveCancelled:b,onBeforeAppear:w=x,onAppear:E=y,onAppearCancelled:A=v}=t,S=(O,F,I)=>{bc(O,F?u:o),bc(O,F?c:a),I&&I()},T=(O,F)=>{O._isLeaving=!1,bc(O,f),bc(O,d),bc(O,h),F&&F()},C=O=>(F,I)=>{const D=O?E:y,N=()=>S(F,O,I);of(D,[F,N]),PI(()=>{bc(F,O?l:s),hl(F,O?u:o),LI(D)||BI(F,r,g,N)})};return Bt(t,{onBeforeEnter(O){of(x,[O]),hl(O,s),hl(O,a)},onBeforeAppear(O){of(w,[O]),hl(O,l),hl(O,c)},onEnter:C(!1),onAppear:C(!0),onLeave(O,F){O._isLeaving=!0;const I=()=>T(O,F);hl(O,f),hl(O,h),SU(),PI(()=>{O._isLeaving&&(bc(O,f),hl(O,d),LI(_)||BI(O,r,m,I))}),of(_,[O,I])},onEnterCancelled(O){S(O,!1),of(v,[O])},onAppearCancelled(O){S(O,!0),of(A,[O])},onLeaveCancelled(O){T(O),of(b,[O])}})}function Cse(e){if(e==null)return null;if(Yt(e))return[qS(e.enter),qS(e.leave)];{const t=qS(e);return[t,t]}}function qS(e){return T_(e)}function hl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[S0]||(e[S0]=new Set)).add(t)}function bc(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[S0];n&&(n.delete(t),n.size||(e[S0]=void 0))}function PI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Fse=0;function BI(e,t,n,r){const i=e._endId=++Fse,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=wU(e,t);if(!a)return r();const c=a+"end";let u=0;const f=()=>{e.removeEventListener(c,h),s()},h=d=>{d.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},o+1),e.addEventListener(c,h)}function wU(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${gc}Delay`),s=r(`${gc}Duration`),a=UI(i,s),o=r(`${ig}Delay`),l=r(`${ig}Duration`),c=UI(o,l);let u=null,f=0,h=0;t===gc?a>0&&(u=gc,f=a,h=s.length):t===ig?c>0&&(u=ig,f=c,h=l.length):(f=Math.max(a,c),u=f>0?a>c?gc:ig:null,h=u?u===gc?s.length:l.length:0);const d=u===gc&&/\b(transform|all)(,|$)/.test(r(`${gc}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function UI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>zI(n)+zI(e[r])))}function zI(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function SU(){return document.body.offsetHeight}function Ose(e,t,n){const r=e[S0];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const I_=Symbol("_vod"),AU=Symbol("_vsh"),M_={beforeMount(e,{value:t},{transition:n}){e[I_]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):sg(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),sg(e,!0),r.enter(e)):r.leave(e,()=>{sg(e,!1)}):sg(e,t))},beforeUnmount(e,{value:t}){sg(e,t)}};function sg(e,t){e.style.display=t?e[I_]:"none",e[AU]=!t}function Nse(){M_.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const TU=Symbol("");function Dse(e){const t=tc();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>xk(s,i))},r=()=>{const i=e(t.proxy);mk(t.subTree,i),n(i)};K1(()=>{eU(r)}),ec(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),rE(()=>i.disconnect())})}function mk(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{mk(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)xk(e.el,t);else if(e.type===xt)e.children.forEach(n=>mk(n,t));else if(e.type===Gf){let{el:n,anchor:r}=e;for(;n&&(xk(n,t),n!==r);)n=n.nextSibling}}function xk(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const i in t)n.setProperty(`--${i}`,t[i]),r+=`--${i}: ${t[i]};`;n[TU]=r}}const $se=/(^|;)\s*display\s*:/;function Rse(e,t,n){const r=e.style,i=ut(n);let s=!1;if(n&&!i){if(t)if(ut(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&zy(r,o,"")}else for(const a in t)n[a]==null&&zy(r,a,"");for(const a in n)a==="display"&&(s=!0),zy(r,a,n[a])}else if(i){if(t!==n){const a=r[TU];a&&(n+=";"+a),r.cssText=n,s=$se.test(n)}}else t&&e.removeAttribute("style");I_ in e&&(e[I_]=s?r.display:"",e[AU]&&(r.display="none"))}const HI=/\s*!important$/;function zy(e,t,n){if(ze(n))n.forEach(r=>zy(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ise(e,t);HI.test(n)?e.setProperty(Hi(r),n.replace(HI,""),"important"):e[r]=n}}const VI=["Webkit","Moz","ms"],XS={};function Ise(e,t){const n=XS[t];if(n)return n;let r=hn(t);if(r!=="filter"&&r in e)return XS[t]=r;r=Gh(r);for(let i=0;i<VI.length;i++){const s=VI[i]+r;if(s in e)return XS[t]=s}return t}const WI="http://www.w3.org/1999/xlink";function jI(e,t,n,r,i,s=are(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(WI,t.slice(6,t.length)):e.setAttributeNS(WI,t,n):n==null||s&&!V7(n)?e.removeAttribute(t):e.setAttribute(t,s?"":As(n)?String(n):n)}function Mse(e,t,n,r){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,o=n==null?"":String(n);(a!==o||!("_value"in e))&&(e.value=o),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=V7(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function yl(e,t,n,r){e.addEventListener(t,n,r)}function Lse(e,t,n,r){e.removeEventListener(t,n,r)}const GI=Symbol("_vei");function Pse(e,t,n,r,i=null){const s=e[GI]||(e[GI]={}),a=s[t];if(r&&a)a.value=r;else{const[o,l]=Bse(t);if(r){const c=s[t]=Hse(r,i);yl(e,o,c,l)}else a&&(Lse(e,o,a,l),s[t]=void 0)}}const qI=/(?:Once|Passive|Capture)$/;function Bse(e){let t;if(qI.test(e)){t={};let r;for(;r=e.match(qI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hi(e.slice(2)),t]}let YS=0;const Use=Promise.resolve(),zse=()=>YS||(Use.then(()=>YS=0),YS=Date.now());function Hse(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_s(Vse(r,n.value),t,5,[r])};return n.value=e,n.attached=zse(),n}function Vse(e,t){if(ze(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const XI=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Wse=(e,t,n,r,i,s)=>{const a=i==="svg";t==="class"?Ose(e,r,a):t==="style"?Rse(e,n,r):Wh(t)?a3(t)||Pse(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jse(e,t,r,a))?(Mse(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jI(e,t,r,a,s,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),jI(e,t,r,a))};function jse(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&XI(t)&&rt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return XI(t)&&ut(n)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function kU(e,t,n){const r=Fr(e,t);class i extends sE{constructor(a){super(r,a,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const Gse=(e,t)=>kU(e,t,MU),qse=typeof HTMLElement<"u"?HTMLElement:class{};class sE extends qse{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,uh(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),vk(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:s,styles:a}=r;let o;if(s&&!ze(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=T_(this._props[l])),(o||(o=Object.create(null)))[hn(l)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=ze(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(hn))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(t){let n=this.hasAttribute(t)?this.getAttribute(t):void 0;const r=hn(t);this._numberProps&&this._numberProps[r]&&(n=T_(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Hi(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Hi(t),n+""):n||this.removeAttribute(Hi(t))))}_update(){vk(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Et(this._def,Bt({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};n.emit=(s,...a)=>{r(s,a),Hi(s)!==s&&r(Hi(s),a)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof sE){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function Xse(e="$style"){{const t=tc();if(!t)return Dt;const n=t.type.__cssModules;if(!n)return Dt;const r=n[e];return r||Dt}}const CU=new WeakMap,FU=new WeakMap,L_=Symbol("_moveCb"),YI=Symbol("_enterCb"),OU={name:"TransitionGroup",props:Bt({},kse,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=tc(),r=E3();let i,s;return tE(()=>{if(!i.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!eae(i[0].el,n.vnode.el,a))return;i.forEach(Jse),i.forEach(Zse);const o=i.filter(Qse);SU(),o.forEach(l=>{const c=l.el,u=c.style;hl(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[L_]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c[L_]=null,bc(c,a))};c.addEventListener("transitionend",f)})}),()=>{const a=kt(e),o=EU(a);let l=a.tag||xt;if(i=[],s)for(let c=0;c<s.length;c++){const u=s[c];u.el&&u.el instanceof Element&&(i.push(u),cu(u,w0(u,o,r,n)),CU.set(u,u.el.getBoundingClientRect()))}s=t.default?Qb(t.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&cu(u,w0(u,o,r,n))}return Et(l,null,s)}}},Yse=e=>delete e.mode;OU.props;const Kse=OU;function Jse(e){const t=e.el;t[L_]&&t[L_](),t[YI]&&t[YI]()}function Zse(e){FU.set(e,e.el.getBoundingClientRect())}function Qse(e){const t=CU.get(e),n=FU.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function eae(e,t,n){const r=e.cloneNode(),i=e[S0];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:a}=wU(r);return s.removeChild(r),a}const fu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ze(t)?n=>i0(t,n):t};function tae(e){e.target.composing=!0}function KI(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ra=Symbol("_assign"),Zm={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[ra]=fu(i);const s=r||i.props&&i.props.type==="number";yl(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;n&&(o=o.trim()),s&&(o=A_(o)),e[ra](o)}),n&&yl(e,"change",()=>{e.value=e.value.trim()}),t||(yl(e,"compositionstart",tae),yl(e,"compositionend",KI),yl(e,"change",KI))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(e[ra]=fu(a),e.composing)return;const o=(s||e.type==="number")&&!/^0\d/.test(e.value)?A_(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},A0={deep:!0,created(e,t,n){e[ra]=fu(n),yl(e,"change",()=>{const r=e._modelValue,i=T0(e),s=e.checked,a=e[ra];if(ze(r)){const o=jb(r,i),l=o!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const c=[...r];c.splice(o,1),a(c)}}else if(jh(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(NU(e,s))})},mounted:JI,beforeUpdate(e,t,n){e[ra]=fu(n),JI(e,t,n)}};function JI(e,{value:t,oldValue:n},r){e._modelValue=t,ze(t)?e.checked=jb(t,r.props.value)>-1:jh(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=ou(t,NU(e,!0)))}const $3={created(e,{value:t},n){e.checked=ou(t,n.props.value),e[ra]=fu(n),yl(e,"change",()=>{e[ra](T0(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[ra]=fu(r),t!==n&&(e.checked=ou(t,r.props.value))}},dh={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=jh(t);yl(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?A_(T0(a)):T0(a));e[ra](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,uh(()=>{e._assigning=!1})}),e[ra]=fu(r)},mounted(e,{value:t,modifiers:{number:n}}){ZI(e,t)},beforeUpdate(e,t,n){e[ra]=fu(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||ZI(e,t)}};function ZI(e,t,n){const r=e.multiple,i=ze(t);if(!(r&&!i&&!jh(t))){for(let s=0,a=e.options.length;s<a;s++){const o=e.options[s],l=T0(o);if(r)if(i){const c=typeof l;c==="string"||c==="number"?o.selected=t.some(u=>String(u)===String(l)):o.selected=jb(t,l)>-1}else o.selected=t.has(l);else if(ou(T0(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function T0(e){return"_value"in e?e._value:e.value}function NU(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const pm={created(e,t,n){Tv(e,t,n,null,"created")},mounted(e,t,n){Tv(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Tv(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Tv(e,t,n,r,"updated")}};function DU(e,t){switch(e){case"SELECT":return dh;case"TEXTAREA":return Zm;default:switch(t){case"checkbox":return A0;case"radio":return $3;default:return Zm}}}function Tv(e,t,n,r,i){const a=DU(e.tagName,n.props&&n.props.type)[i];a&&a(e,t,n,r)}function nae(){Zm.getSSRProps=({value:e})=>({value:e}),$3.getSSRProps=({value:e},t)=>{if(t.props&&ou(t.props.value,e))return{checked:!0}},A0.getSSRProps=({value:e},t)=>{if(ze(e)){if(t.props&&jb(e,t.props.value)>-1)return{checked:!0}}else if(jh(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},pm.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=DU(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const rae=["ctrl","shift","alt","meta"],iae={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rae.some(n=>e[`${n}Key`]&&!t.includes(n))},Pc=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<t.length;a++){const o=iae[t[a]];if(o&&o(i,t))return}return e(i,...s)})},sae={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},aae=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Hi(i.key);if(t.some(a=>a===s||sae[a]===s))return e(i)})},$U=Bt({patchProp:Wse},Tse);let gm,QI=!1;function RU(){return gm||(gm=qB($U))}function IU(){return gm=QI?gm:XB($U),QI=!0,gm}const vk=(...e)=>{RU().render(...e)},MU=(...e)=>{IU().hydrate(...e)},R3=(...e)=>{const t=RU().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=PU(r);if(!i)return;const s=t._component;!rt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,LU(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t},oae=(...e)=>{const t=IU().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=PU(r);if(i)return n(i,!0,LU(i))},t};function LU(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function PU(e){return ut(e)?document.querySelector(e):e}let eM=!1;const lae=()=>{eM||(eM=!0,nae(),Nse())},cae=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:vB,BaseTransitionPropsValidators:w3,Comment:jn,DeprecationTypes:wse,EffectScope:u3,ErrorCodes:Wre,ErrorTypeStrings:mse,Fragment:xt,KeepAlive:eie,ReactiveEffect:E0,Static:Gf,Suspense:Zie,Teleport:Pie,Text:Jc,TrackOpTypes:zre,Transition:D3,TransitionGroup:Kse,TriggerOpTypes:Hre,VueElement:sE,assertNumber:Vre,callWithAsyncErrorHandling:_s,callWithErrorHandling:Dl,camelize:hn,capitalize:Gh,cloneVNode:Ro,compatUtils:Ese,computed:Zc,createApp:R3,createBlock:Z1,createCommentVNode:qi,createElementBlock:Ue,createElementVNode:Q,createHydrationRenderer:XB,createPropsRestProxy:_ie,createRenderer:qB,createSSRApp:oae,createSlots:aie,createStaticVNode:ase,createTextVNode:Si,createVNode:Et,customRef:uB,defineAsyncComponent:Zre,defineComponent:Fr,defineCustomElement:kU,defineEmits:uie,defineExpose:fie,defineModel:pie,defineOptions:hie,defineProps:cie,defineSSRCustomElement:Gse,defineSlots:die,devtools:xse,effect:cre,effectScope:f3,getCurrentInstance:tc,getCurrentScope:h3,getTransitionRawChildren:Qb,guardReactiveProps:uU,h:vU,handleError:qh,hasInjectionContext:RB,hydrate:MU,initCustomFormatter:dse,initDirectivesForSSR:lae,inject:jf,isMemoSame:yU,isProxy:x3,isReactive:Nl,isReadonly:lu,isRef:On,isRuntimeOnly:use,isShallow:ch,isVNode:uu,markRaw:Yb,mergeDefaults:vie,mergeModels:yie,mergeProps:fU,nextTick:uh,normalizeClass:To,normalizeProps:Kne,normalizeStyle:Iu,onActivated:_B,onBeforeMount:K1,onBeforeUnmount:nE,onBeforeUpdate:wB,onDeactivated:bB,onErrorCaptured:kB,onMounted:ec,onRenderTracked:TB,onRenderTriggered:AB,onScopeDispose:q7,onServerPrefetch:SB,onUnmounted:rE,onUpdated:tE,openBlock:Be,popScopeId:X1,provide:$B,proxyRefs:_3,pushScopeId:q1,queuePostFlushCb:C_,reactive:Ms,readonly:m3,ref:Ei,registerRuntimeCompiler:gU,render:vk,renderList:Gr,renderSlot:FB,resolveComponent:rie,resolveDirective:sie,resolveDynamicComponent:iie,resolveFilter:bse,resolveTransitionHooks:w0,setBlockTracking:uk,setDevtoolsHook:vse,setTransitionHooks:cu,shallowReactive:oB,shallowReadonly:Ore,shallowRef:Dre,ssrContextKey:ZB,ssrUtils:_se,stop:ure,toDisplayString:lr,toHandlerKey:r0,toHandlers:oie,toRaw:kt,toRef:Ure,toRefs:fB,toValue:Ire,transformVNodeArgs:ise,triggerRef:Rre,unref:vn,useAttrs:xie,useCssModule:Xse,useCssVars:Dse,useModel:jie,useSSRContext:QB,useSlots:mie,useTransitionState:E3,vModelCheckbox:A0,vModelDynamic:pm,vModelRadio:$3,vModelSelect:dh,vModelText:Zm,vShow:M_,version:_U,warn:gse,watch:$a,watchEffect:Vie,watchPostEffect:eU,watchSyncEffect:tU,withAsyncContext:bie,withCtx:Zb,withDefaults:gie,withDirectives:hi,withKeys:aae,withMemo:pse,withModifiers:Pc,withScopeId:Kre},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Qm=Symbol(""),mm=Symbol(""),I3=Symbol(""),P_=Symbol(""),BU=Symbol(""),ph=Symbol(""),UU=Symbol(""),zU=Symbol(""),M3=Symbol(""),L3=Symbol(""),tx=Symbol(""),P3=Symbol(""),HU=Symbol(""),B3=Symbol(""),U3=Symbol(""),z3=Symbol(""),H3=Symbol(""),V3=Symbol(""),W3=Symbol(""),VU=Symbol(""),WU=Symbol(""),aE=Symbol(""),B_=Symbol(""),j3=Symbol(""),G3=Symbol(""),e1=Symbol(""),nx=Symbol(""),q3=Symbol(""),yk=Symbol(""),uae=Symbol(""),_k=Symbol(""),U_=Symbol(""),fae=Symbol(""),hae=Symbol(""),X3=Symbol(""),dae=Symbol(""),pae=Symbol(""),Y3=Symbol(""),jU=Symbol(""),k0={[Qm]:"Fragment",[mm]:"Teleport",[I3]:"Suspense",[P_]:"KeepAlive",[BU]:"BaseTransition",[ph]:"openBlock",[UU]:"createBlock",[zU]:"createElementBlock",[M3]:"createVNode",[L3]:"createElementVNode",[tx]:"createCommentVNode",[P3]:"createTextVNode",[HU]:"createStaticVNode",[B3]:"resolveComponent",[U3]:"resolveDynamicComponent",[z3]:"resolveDirective",[H3]:"resolveFilter",[V3]:"withDirectives",[W3]:"renderList",[VU]:"renderSlot",[WU]:"createSlots",[aE]:"toDisplayString",[B_]:"mergeProps",[j3]:"normalizeClass",[G3]:"normalizeStyle",[e1]:"normalizeProps",[nx]:"guardReactiveProps",[q3]:"toHandlers",[yk]:"camelize",[uae]:"capitalize",[_k]:"toHandlerKey",[U_]:"setBlockTracking",[fae]:"pushScopeId",[hae]:"popScopeId",[X3]:"withCtx",[dae]:"unref",[pae]:"isRef",[Y3]:"withMemo",[jU]:"isMemoSame"};function gae(e){Object.getOwnPropertySymbols(e).forEach(t=>{k0[t]=e[t]})}const Ls={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function mae(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:Ls}}function t1(e,t,n,r,i,s,a,o=!1,l=!1,c=!1,u=Ls){return e&&(o?(e.helper(ph),e.helper(O0(e.inSSR,c))):e.helper(F0(e.inSSR,c)),a&&e.helper(V3)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:s,directives:a,isBlock:o,disableTracking:l,isComponent:c,loc:u}}function rx(e,t=Ls){return{type:17,loc:t,elements:e}}function Ks(e,t=Ls){return{type:15,loc:t,properties:e}}function Fn(e,t){return{type:16,loc:Ls,key:ut(e)?ht(e,!0):e,value:t}}function ht(e,t=!1,n=Ls,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function Ua(e,t=Ls){return{type:8,loc:t,children:e}}function Vn(e,t=[],n=Ls){return{type:14,loc:n,callee:e,arguments:t}}function C0(e,t=void 0,n=!1,r=!1,i=Ls){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function bk(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:Ls}}function xae(e,t,n=!1){return{type:20,index:e,value:t,isVOnce:n,loc:Ls}}function vae(e){return{type:21,body:e,loc:Ls}}function F0(e,t){return e||t?M3:L3}function O0(e,t){return e||t?UU:zU}function K3(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(F0(r,e.isComponent)),t(ph),t(O0(r,e.isComponent)))}const tM=new Uint8Array([123,123]),nM=new Uint8Array([125,125]);function rM(e){return e>=97&&e<=122||e>=65&&e<=90}function fs(e){return e===32||e===10||e===9||e===12||e===13}function mc(e){return e===47||e===62||fs(e)}function z_(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const $r={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class yae{constructor(t,n){this.stack=t,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=tM,this.delimiterClose=nM,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=tM,this.delimiterClose=nM}getPos(t){let n=1,r=t+1;for(let i=this.newlines.length-1;i>=0;i--){const s=this.newlines[i];if(t>s){n=i+2,r=t-s;break}}return{column:r,line:n,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?mc(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||fs(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===$r.TitleEnd||this.currentSequence===$r.TextareaEnd&&!this.inSFCRoot?t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===$r.Cdata[this.sequenceIndex]?++this.sequenceIndex===$r.Cdata.length&&(this.state=28,this.currentSequence=$r.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===$r.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,n){this.enterRCDATA(t,n),this.state=31}enterRCDATA(t,n){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=n}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):rM(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){mc(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(mc(t)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(z_("</"+n),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){fs(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=rM(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||fs(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):fs(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):fs(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||mc(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||mc(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||mc(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||mc(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||mc(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):fs(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):fs(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,n){(t===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){fs(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=$r.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===$r.ScriptEnd[3]?this.startSpecial($r.ScriptEnd,4):t===$r.StyleEnd[3]?this.startSpecial($r.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===$r.TitleEnd[3]?this.startSpecial($r.TitleEnd,4):t===$r.TextareaEnd[3]?this.startSpecial($r.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===$r.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){}}function iM(e,{compatConfig:t}){const n=t&&t[e];return e==="MODE"?n||3:n}function qf(e,t){const n=iM("MODE",t),r=iM(e,t);return n===3?r===!0:r!==!1}function n1(e,t,n,...r){return qf(e,t)}function J3(e){throw e}function GU(e){}function un(e,t,n,r){const i=`https://vuejs.org/error-reference/#compiler-${e}`,s=new SyntaxError(String(i));return s.code=e,s.loc=t,s}const ji=e=>e.type===4&&e.isStatic;function qU(e){switch(e){case"Teleport":case"teleport":return mm;case"Suspense":case"suspense":return I3;case"KeepAlive":case"keep-alive":return P_;case"BaseTransition":case"base-transition":return BU}}const _ae=/^\d|[^\$\w\xA0-\uFFFF]/,Z3=e=>!_ae.test(e),bae=/[A-Za-z_$\xA0-\uFFFF]/,Eae=/[\.\?\w$\xA0-\uFFFF]/,wae=/\s+[.[]\s*|\s*[.[]\s+/g,Sae=e=>{e=e.trim().replace(wae,a=>a.trim());let t=0,n=[],r=0,i=0,s=null;for(let a=0;a<e.length;a++){const o=e.charAt(a);switch(t){case 0:if(o==="[")n.push(t),t=1,r++;else if(o==="(")n.push(t),t=2,i++;else if(!(a===0?bae:Eae).test(o))return!1;break;case 1:o==="'"||o==='"'||o==="`"?(n.push(t),t=3,s=o):o==="["?r++:o==="]"&&(--r||(t=n.pop()));break;case 2:if(o==="'"||o==='"'||o==="`")n.push(t),t=3,s=o;else if(o==="(")i++;else if(o===")"){if(a===e.length-1)return!1;--i||(t=n.pop())}break;case 3:o===s&&(t=n.pop(),s=null);break}}return!r&&!i},XU=Sae;function Ca(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(ut(t)?i.name===t:t.test(i.name)))return i}}function oE(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const s=e.props[i];if(s.type===6){if(n)continue;if(s.name===t&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&$f(s.arg,t))return s}}function $f(e,t){return!!(e&&ji(e)&&e.content===t)}function Aae(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function KS(e){return e.type===5||e.type===2}function Tae(e){return e.type===7&&e.name==="slot"}function H_(e){return e.type===1&&e.tagType===3}function V_(e){return e.type===1&&e.tagType===2}const kae=new Set([e1,nx]);function YU(e,t=[]){if(e&&!ut(e)&&e.type===14){const n=e.callee;if(!ut(n)&&kae.has(n))return YU(e.arguments[0],t.concat(e))}return[e,t]}function W_(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],s=[],a;if(i&&!ut(i)&&i.type===14){const o=YU(i);i=o[0],s=o[1],a=s[s.length-1]}if(i==null||ut(i))r=Ks([t]);else if(i.type===14){const o=i.arguments[0];!ut(o)&&o.type===15?sM(t,o)||o.properties.unshift(t):i.callee===q3?r=Vn(n.helper(B_),[Ks([t]),i]):i.arguments.unshift(Ks([t])),!r&&(r=i)}else i.type===15?(sM(t,i)||i.properties.unshift(t),r=i):(r=Vn(n.helper(B_),[Ks([t]),i]),a&&a.callee===nx&&(a=s[s.length-2]));e.type===13?a?a.arguments[0]=r:e.props=r:a?a.arguments[0]=r:e.arguments[2]=r}function sM(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function r1(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function Cae(e){return e.type===14&&e.callee===Y3?e.arguments[1].returns:e}const Fae=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,KU={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Py,isPreTag:Py,isCustomElement:Py,onError:J3,onWarn:GU,comments:!1,prefixIdentifiers:!1};let Ht=KU,i1=null,$l="",Br=null,Ft=null,Ii="",dl=-1,bf=-1,j_=0,Fc=!1,Ek=null;const ln=[],En=new yae(ln,{onerr:al,ontext(e,t){kv(vr(e,t),e,t)},ontextentity(e,t,n){kv(e,t,n)},oninterpolation(e,t){if(Fc)return kv(vr(e,t),e,t);let n=e+En.delimiterOpen.length,r=t-En.delimiterClose.length;for(;fs($l.charCodeAt(n));)n++;for(;fs($l.charCodeAt(r-1));)r--;let i=vr(n,r);i.includes("&")&&(i=Ht.decodeEntities(i,!1)),wk({type:5,content:Vy(i,!1,zn(n,r)),loc:zn(e,t)})},onopentagname(e,t){const n=vr(e,t);Br={type:1,tag:n,ns:Ht.getNamespace(n,ln[0],Ht.ns),tagType:0,props:[],children:[],loc:zn(e-1,t),codegenNode:void 0}},onopentagend(e){oM(e)},onclosetag(e,t){const n=vr(e,t);if(!Ht.isVoidTag(n)){let r=!1;for(let i=0;i<ln.length;i++)if(ln[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&al(24,ln[0].loc.start.offset);for(let a=0;a<=i;a++){const o=ln.shift();Hy(o,t,a<i)}break}r||al(23,JU(e,60))}},onselfclosingtag(e){const t=Br.tag;Br.isSelfClosing=!0,oM(e),ln[0]&&ln[0].tag===t&&Hy(ln.shift(),e)},onattribname(e,t){Ft={type:6,name:vr(e,t),nameLoc:zn(e,t),value:void 0,loc:zn(e)}},ondirname(e,t){const n=vr(e,t),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Fc&&r===""&&al(26,e),Fc||r==="")Ft={type:6,name:n,nameLoc:zn(e,t),value:void 0,loc:zn(e)};else if(Ft={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?["prop"]:[],loc:zn(e)},r==="pre"){Fc=En.inVPre=!0,Ek=Br;const i=Br.props;for(let s=0;s<i.length;s++)i[s].type===7&&(i[s]=Bae(i[s]))}},ondirarg(e,t){if(e===t)return;const n=vr(e,t);if(Fc)Ft.name+=n,Rf(Ft.nameLoc,t);else{const r=n[0]!=="[";Ft.arg=Vy(r?n:n.slice(1,-1),r,zn(e,t),r?3:0)}},ondirmodifier(e,t){const n=vr(e,t);if(Fc)Ft.name+="."+n,Rf(Ft.nameLoc,t);else if(Ft.name==="slot"){const r=Ft.arg;r&&(r.content+="."+n,Rf(r.loc,t))}else Ft.modifiers.push(n)},onattribdata(e,t){Ii+=vr(e,t),dl<0&&(dl=e),bf=t},onattribentity(e,t,n){Ii+=e,dl<0&&(dl=t),bf=n},onattribnameend(e){const t=Ft.loc.start.offset,n=vr(t,e);Ft.type===7&&(Ft.rawName=n),Br.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&al(2,t)},onattribend(e,t){if(Br&&Ft){if(Rf(Ft.loc,t),e!==0)if(Ii.includes("&")&&(Ii=Ht.decodeEntities(Ii,!0)),Ft.type===6)Ft.name==="class"&&(Ii=QU(Ii).trim()),e===1&&!Ii&&al(13,t),Ft.value={type:2,content:Ii,loc:e===1?zn(dl,bf):zn(dl-1,bf+1)},En.inSFCRoot&&Br.tag==="template"&&Ft.name==="lang"&&Ii&&Ii!=="html"&&En.enterRCDATA(z_("</template"),0);else{let n=0;Ft.exp=Vy(Ii,!1,zn(dl,bf),0,n),Ft.name==="for"&&(Ft.forParseResult=Nae(Ft.exp));let r=-1;Ft.name==="bind"&&(r=Ft.modifiers.indexOf("sync"))>-1&&n1("COMPILER_V_BIND_SYNC",Ht,Ft.loc,Ft.rawName)&&(Ft.name="model",Ft.modifiers.splice(r,1))}(Ft.type!==7||Ft.name!=="pre")&&Br.props.push(Ft)}Ii="",dl=bf=-1},oncomment(e,t){Ht.comments&&wk({type:3,content:vr(e,t),loc:zn(e-4,t+3)})},onend(){const e=$l.length;for(let t=0;t<ln.length;t++)Hy(ln[t],e-1),al(24,ln[t].loc.start.offset)},oncdata(e,t){ln[0].ns!==0?kv(vr(e,t),e,t):al(1,e-9)},onprocessinginstruction(e){(ln[0]?ln[0].ns:Ht.ns)===0&&al(21,e-1)}}),aM=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Oae=/^\(|\)$/g;function Nae(e){const t=e.loc,n=e.content,r=n.match(Fae);if(!r)return;const[,i,s]=r,a=(f,h,d=!1)=>{const p=t.start.offset+h,g=p+f.length;return Vy(f,!1,zn(p,g),0,d?1:0)},o={source:a(s.trim(),n.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(Oae,"").trim();const c=i.indexOf(l),u=l.match(aM);if(u){l=l.replace(aM,"").trim();const f=u[1].trim();let h;if(f&&(h=n.indexOf(f,c+l.length),o.key=a(f,h,!0)),u[2]){const d=u[2].trim();d&&(o.index=a(d,n.indexOf(d,o.key?h+f.length:c+l.length),!0))}}return l&&(o.value=a(l,c,!0)),o}function vr(e,t){return $l.slice(e,t)}function oM(e){En.inSFCRoot&&(Br.innerLoc=zn(e+1,e+1)),wk(Br);const{tag:t,ns:n}=Br;n===0&&Ht.isPreTag(t)&&j_++,Ht.isVoidTag(t)?Hy(Br,e):(ln.unshift(Br),(n===1||n===2)&&(En.inXML=!0)),Br=null}function kv(e,t,n){{const s=ln[0]&&ln[0].tag;s!=="script"&&s!=="style"&&e.includes("&")&&(e=Ht.decodeEntities(e,!1))}const r=ln[0]||i1,i=r.children[r.children.length-1];i&&i.type===2?(i.content+=e,Rf(i.loc,n)):r.children.push({type:2,content:e,loc:zn(t,n)})}function Hy(e,t,n=!1){n?Rf(e.loc,JU(t,60)):Rf(e.loc,Dae(t,62)+1),En.inSFCRoot&&(e.children.length?e.innerLoc.end=Bt({},e.children[e.children.length-1].loc.end):e.innerLoc.end=Bt({},e.innerLoc.start),e.innerLoc.source=vr(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:i}=e;Fc||(r==="slot"?e.tagType=2:lM(e)?e.tagType=3:Rae(e)&&(e.tagType=1)),En.inRCDATA||(e.children=ZU(e.children,e.tag)),i===0&&Ht.isPreTag(r)&&j_--,Ek===e&&(Fc=En.inVPre=!1,Ek=null),En.inXML&&(ln[0]?ln[0].ns:Ht.ns)===0&&(En.inXML=!1);{const s=e.props;if(!En.inSFCRoot&&qf("COMPILER_NATIVE_TEMPLATE",Ht)&&e.tag==="template"&&!lM(e)){const o=ln[0]||i1,l=o.children.indexOf(e);o.children.splice(l,1,...e.children)}const a=s.find(o=>o.type===6&&o.name==="inline-template");a&&n1("COMPILER_INLINE_TEMPLATE",Ht,a.loc)&&e.children.length&&(a.value={type:2,content:vr(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function Dae(e,t){let n=e;for(;$l.charCodeAt(n)!==t&&n<$l.length-1;)n++;return n}function JU(e,t){let n=e;for(;$l.charCodeAt(n)!==t&&n>=0;)n--;return n}const $ae=new Set(["if","else","else-if","for","slot"]);function lM({tag:e,props:t}){if(e==="template"){for(let n=0;n<t.length;n++)if(t[n].type===7&&$ae.has(t[n].name))return!0}return!1}function Rae({tag:e,props:t}){if(Ht.isCustomElement(e))return!1;if(e==="component"||Iae(e.charCodeAt(0))||qU(e)||Ht.isBuiltInComponent&&Ht.isBuiltInComponent(e)||Ht.isNativeTag&&!Ht.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const r=t[n];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(n1("COMPILER_IS_ON_ELEMENT",Ht,r.loc))return!0}}else if(r.name==="bind"&&$f(r.arg,"is")&&n1("COMPILER_IS_ON_ELEMENT",Ht,r.loc))return!0}return!1}function Iae(e){return e>64&&e<91}const Mae=/\r\n/g;function ZU(e,t){const n=Ht.whitespace!=="preserve";let r=!1;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===2)if(j_)s.content=s.content.replace(Mae,`
`);else if(Lae(s.content)){const a=e[i-1]&&e[i-1].type,o=e[i+1]&&e[i+1].type;!a||!o||n&&(a===3&&(o===3||o===1)||a===1&&(o===3||o===1&&Pae(s.content)))?(r=!0,e[i]=null):s.content=" "}else n&&(s.content=QU(s.content))}if(j_&&t&&Ht.isPreTag(t)){const i=e[0];i&&i.type===2&&(i.content=i.content.replace(/^\r?\n/,""))}return r?e.filter(Boolean):e}function Lae(e){for(let t=0;t<e.length;t++)if(!fs(e.charCodeAt(t)))return!1;return!0}function Pae(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n===10||n===13)return!0}return!1}function QU(e){let t="",n=!1;for(let r=0;r<e.length;r++)fs(e.charCodeAt(r))?n||(t+=" ",n=!0):(t+=e[r],n=!1);return t}function wk(e){(ln[0]||i1).children.push(e)}function zn(e,t){return{start:En.getPos(e),end:t==null?t:En.getPos(t),source:t==null?t:vr(e,t)}}function Rf(e,t){e.end=En.getPos(t),e.source=vr(e.start.offset,t)}function Bae(e){const t={type:6,name:e.rawName,nameLoc:zn(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function Vy(e,t=!1,n,r=0,i=0){return ht(e,t,n,r)}function al(e,t,n){Ht.onError(un(e,zn(t,t)))}function Uae(){En.reset(),Br=null,Ft=null,Ii="",dl=-1,bf=-1,ln.length=0}function zae(e,t){if(Uae(),$l=e,Ht=Bt({},KU),t){let i;for(i in t)t[i]!=null&&(Ht[i]=t[i])}En.mode=Ht.parseMode==="html"?1:Ht.parseMode==="sfc"?2:0,En.inXML=Ht.ns===1||Ht.ns===2;const n=t&&t.delimiters;n&&(En.delimiterOpen=z_(n[0]),En.delimiterClose=z_(n[1]));const r=i1=mae([],e);return En.parse($l),r.loc=zn(0,e.length),r.children=ZU(r.children),i1=null,r}function Hae(e,t){Wy(e,t,ez(e,e.children[0]))}function ez(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!V_(t)}function Wy(e,t,n=!1){const{children:r}=e,i=r.length;let s=0;for(let a=0;a<r.length;a++){const o=r[a];if(o.type===1&&o.tagType===0){const l=n?0:Js(o,t);if(l>0){if(l>=2){o.codegenNode.patchFlag=-1,o.codegenNode=t.hoist(o.codegenNode),s++;continue}}else{const c=o.codegenNode;if(c.type===13){const u=c.patchFlag;if((u===void 0||u===512||u===1)&&nz(o,t)>=2){const f=rz(o);f&&(c.props=t.hoist(f))}c.dynamicProps&&(c.dynamicProps=t.hoist(c.dynamicProps))}}}if(o.type===1){const l=o.tagType===1;l&&t.scopes.vSlot++,Wy(o,t),l&&t.scopes.vSlot--}else if(o.type===11)Wy(o,t,o.children.length===1);else if(o.type===9)for(let l=0;l<o.branches.length;l++)Wy(o.branches[l],t,o.branches[l].children.length===1)}if(s&&t.transformHoist&&t.transformHoist(r,t,e),s&&s===i&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&ze(e.codegenNode.children)){const a=t.hoist(rx(e.codegenNode.children));t.hmr&&(a.content=`[...${a.content}]`),e.codegenNode.children=a}}function Js(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(i.patchFlag===void 0){let a=3;const o=nz(e,t);if(o===0)return n.set(e,0),0;o<a&&(a=o);for(let l=0;l<e.children.length;l++){const c=Js(e.children[l],t);if(c===0)return n.set(e,0),0;c<a&&(a=c)}if(a>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=Js(c.exp,t);if(u===0)return n.set(e,0),0;u<a&&(a=u)}}if(i.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return n.set(e,0),0;t.removeHelper(ph),t.removeHelper(O0(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(F0(t.inSSR,i.isComponent))}return n.set(e,a),a}else return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Js(e.content,t);case 4:return e.constType;case 8:let s=3;for(let a=0;a<e.children.length;a++){const o=e.children[a];if(ut(o)||As(o))continue;const l=Js(o,t);if(l===0)return 0;l<s&&(s=l)}return s;default:return 0}}const Vae=new Set([j3,G3,e1,nx]);function tz(e,t){if(e.type===14&&!ut(e.callee)&&Vae.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Js(n,t);if(n.type===14)return tz(n,t)}return 0}function nz(e,t){let n=3;const r=rz(e);if(r&&r.type===15){const{properties:i}=r;for(let s=0;s<i.length;s++){const{key:a,value:o}=i[s],l=Js(a,t);if(l===0)return l;l<n&&(n=l);let c;if(o.type===4?c=Js(o,t):o.type===14?c=tz(o,t):c=0,c===0)return c;c<n&&(n=c)}}return n}function rz(e){const t=e.codegenNode;if(t.type===13)return t.props}function Wae(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:s=!1,nodeTransforms:a=[],directiveTransforms:o={},transformHoist:l=null,isBuiltInComponent:c=Xn,isCustomElement:u=Xn,expressionPlugins:f=[],scopeId:h=null,slotted:d=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:m="",bindingMetadata:x=Dt,inline:y=!1,isTS:v=!1,onError:_=J3,onWarn:b=GU,compatConfig:w}){const E=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),A={filename:t,selfName:E&&Gh(hn(E[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:s,nodeTransforms:a,directiveTransforms:o,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:f,scopeId:h,slotted:d,ssr:p,inSSR:g,ssrCssVars:m,bindingMetadata:x,inline:y,isTS:v,onError:_,onWarn:b,compatConfig:w,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(S){const T=A.helpers.get(S)||0;return A.helpers.set(S,T+1),S},removeHelper(S){const T=A.helpers.get(S);if(T){const C=T-1;C?A.helpers.set(S,C):A.helpers.delete(S)}},helperString(S){return`_${k0[A.helper(S)]}`},replaceNode(S){A.parent.children[A.childIndex]=A.currentNode=S},removeNode(S){const T=A.parent.children,C=S?T.indexOf(S):A.currentNode?A.childIndex:-1;!S||S===A.currentNode?(A.currentNode=null,A.onNodeRemoved()):A.childIndex>C&&(A.childIndex--,A.onNodeRemoved()),A.parent.children.splice(C,1)},onNodeRemoved:Xn,addIdentifiers(S){},removeIdentifiers(S){},hoist(S){ut(S)&&(S=ht(S)),A.hoists.push(S);const T=ht(`_hoisted_${A.hoists.length}`,!1,S.loc,2);return T.hoisted=S,T},cache(S,T=!1){return xae(A.cached++,S,T)}};return A.filters=new Set,A}function jae(e,t){const n=Wae(e,t);lE(e,n),t.hoistStatic&&Hae(e,n),t.ssr||Gae(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function Gae(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(ez(e,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&K3(s,t),e.codegenNode=s}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=t1(t,n(Qm),void 0,e.children,i,void 0,void 0,!0,void 0,!1)}}function qae(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];ut(i)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=r,lE(i,t))}}function lE(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let s=0;s<n.length;s++){const a=n[s](e,t);if(a&&(ze(a)?r.push(...a):r.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(tx);break;case 5:t.ssr||t.helper(aE);break;case 9:for(let s=0;s<e.branches.length;s++)lE(e.branches[s],t);break;case 10:case 11:case 1:case 0:qae(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function iz(e,t){const n=ut(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(Tae))return;const a=[];for(let o=0;o<s.length;o++){const l=s[o];if(l.type===7&&n(l.name)){s.splice(o,1),o--;const c=t(r,l,i);c&&a.push(c)}}return a}}}const cE="/*#__PURE__*/",sz=e=>`${k0[e]}: _${k0[e]}`;function Xae(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:a=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:f=!1,inSSR:h=!1}){const d={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:s,optimizeImports:a,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:f,inSSR:h,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${k0[g]}`},push(g,m=-2,x){d.code+=g},indent(){p(++d.indentLevel)},deindent(g=!1){g?--d.indentLevel:p(--d.indentLevel)},newline(){p(d.indentLevel)}};function p(g){d.push(`
`+"  ".repeat(g),0)}return d}function Yae(e,t={}){const n=Xae(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:s,indent:a,deindent:o,newline:l,scopeId:c,ssr:u}=n,f=Array.from(e.helpers),h=f.length>0,d=!s&&r!=="module";Kae(e,n);const g=u?"ssrRender":"render",x=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${g}(${x}) {`),a(),d&&(i("with (_ctx) {"),a(),h&&(i(`const { ${f.map(sz).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(JS(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(JS(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),JS(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let y=0;y<e.temps;y++)i(`${y>0?", ":""}_temp${y}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`,0),l()),u||i("return "),e.codegenNode?Zr(e.codegenNode,n):i("null"),d&&(o(),i("}")),o(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function Kae(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:s,runtimeModuleName:a,runtimeGlobalName:o,ssrRuntimeModuleName:l}=t,c=o,u=Array.from(e.helpers);if(u.length>0&&(i(`const _Vue = ${c}
`,-1),e.hoists.length)){const f=[M3,L3,tx,P3,HU].filter(h=>u.includes(h)).map(sz).join(", ");i(`const { ${f} } = _Vue
`,-1)}Jae(e.hoists,t),s(),i("return ")}function JS(e,t,{helper:n,push:r,newline:i,isTS:s}){const a=n(t==="filter"?H3:t==="component"?B3:z3);for(let o=0;o<e.length;o++){let l=e[o];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${r1(l,t)} = ${a}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),o<e.length-1&&i()}}function Jae(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:i,scopeId:s,mode:a}=t;r();for(let o=0;o<e.length;o++){const l=e[o];l&&(n(`const _hoisted_${o+1} = `),Zr(l,t),r())}t.pure=!1}function Q3(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),ix(e,t,n),n&&t.deindent(),t.push("]")}function ix(e,t,n=!1,r=!0){const{push:i,newline:s}=t;for(let a=0;a<e.length;a++){const o=e[a];ut(o)?i(o,-3):ze(o)?Q3(o,t):Zr(o,t),a<e.length-1&&(n?(r&&i(","),s()):r&&i(", "))}}function Zr(e,t){if(ut(e)){t.push(e,-3);return}if(As(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Zr(e.codegenNode,t);break;case 2:Zae(e,t);break;case 4:az(e,t);break;case 5:Qae(e,t);break;case 12:Zr(e.codegenNode,t);break;case 8:oz(e,t);break;case 3:toe(e,t);break;case 13:noe(e,t);break;case 14:ioe(e,t);break;case 15:soe(e,t);break;case 17:aoe(e,t);break;case 18:ooe(e,t);break;case 19:loe(e,t);break;case 20:coe(e,t);break;case 21:ix(e.body,t,!0,!1);break}}function Zae(e,t){t.push(JSON.stringify(e.content),-3,e)}function az(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,-3,e)}function Qae(e,t){const{push:n,helper:r,pure:i}=t;i&&n(cE),n(`${r(aE)}(`),Zr(e.content,t),n(")")}function oz(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];ut(r)?t.push(r,-3):Zr(r,t)}}function eoe(e,t){const{push:n}=t;if(e.type===8)n("["),oz(e,t),n("]");else if(e.isStatic){const r=Z3(e.content)?e.content:JSON.stringify(e.content);n(r,-2,e)}else n(`[${e.content}]`,-3,e)}function toe(e,t){const{push:n,helper:r,pure:i}=t;i&&n(cE),n(`${r(tx)}(${JSON.stringify(e.content)})`,-3,e)}function noe(e,t){const{push:n,helper:r,pure:i}=t,{tag:s,props:a,children:o,patchFlag:l,dynamicProps:c,directives:u,isBlock:f,disableTracking:h,isComponent:d}=e;let p;l&&(p=String(l)),u&&n(r(V3)+"("),f&&n(`(${r(ph)}(${h?"true":""}), `),i&&n(cE);const g=f?O0(t.inSSR,d):F0(t.inSSR,d);n(r(g)+"(",-2,e),ix(roe([s,a,o,p,c]),t),n(")"),f&&n(")"),u&&(n(", "),Zr(u,t),n(")"))}function roe(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function ioe(e,t){const{push:n,helper:r,pure:i}=t,s=ut(e.callee)?e.callee:r(e.callee);i&&n(cE),n(s+"(",-2,e),ix(e.arguments,t),n(")")}function soe(e,t){const{push:n,indent:r,deindent:i,newline:s}=t,{properties:a}=e;if(!a.length){n("{}",-2,e);return}const o=a.length>1||!1;n(o?"{":"{ "),o&&r();for(let l=0;l<a.length;l++){const{key:c,value:u}=a[l];eoe(c,t),n(": "),Zr(u,t),l<a.length-1&&(n(","),s())}o&&i(),n(o?"}":" }")}function aoe(e,t){Q3(e.elements,t)}function ooe(e,t){const{push:n,indent:r,deindent:i}=t,{params:s,returns:a,body:o,newline:l,isSlot:c}=e;c&&n(`_${k0[X3]}(`),n("(",-2,e),ze(s)?ix(s,t):s&&Zr(s,t),n(") => "),(l||o)&&(n("{"),r()),a?(l&&n("return "),ze(a)?Q3(a,t):Zr(a,t)):o&&Zr(o,t),(l||o)&&(i(),n("}")),c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function loe(e,t){const{test:n,consequent:r,alternate:i,newline:s}=e,{push:a,indent:o,deindent:l,newline:c}=t;if(n.type===4){const f=!Z3(n.content);f&&a("("),az(n,t),f&&a(")")}else a("("),Zr(n,t),a(")");s&&o(),t.indentLevel++,s||a(" "),a("? "),Zr(r,t),t.indentLevel--,s&&c(),s||a(" "),a(": ");const u=i.type===19;u||t.indentLevel++,Zr(i,t),u||t.indentLevel--,s&&l(!0)}function coe(e,t){const{push:n,helper:r,indent:i,deindent:s,newline:a}=t;n(`_cache[${e.index}] || (`),e.isVOnce&&(i(),n(`${r(U_)}(-1),`),a(),n("(")),n(`_cache[${e.index}] = `),Zr(e.value,t),e.isVOnce&&(n(`).cacheIndex = ${e.index},`),a(),n(`${r(U_)}(1),`),a(),n(`_cache[${e.index}]`),s()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const uoe=iz(/^(if|else|else-if)$/,(e,t,n)=>foe(e,t,n,(r,i,s)=>{const a=n.parent.children;let o=a.indexOf(r),l=0;for(;o-->=0;){const c=a[o];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)r.codegenNode=uM(i,l,n);else{const c=hoe(r.codegenNode);c.alternate=uM(i,l+r.branches.length-1,n)}}}));function foe(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(un(28,t.loc)),t.exp=ht("true",!1,i)}if(t.name==="if"){const i=cM(e,t),s={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(s),r)return r(s,i,!0)}else{const i=n.parent.children;let s=i.indexOf(e);for(;s-->=-1;){const a=i[s];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(un(30,e.loc)),n.removeNode();const o=cM(e,t);a.branches.push(o);const l=r&&r(a,o,!1);lE(o,n),l&&l(),n.currentNode=null}else n.onError(un(30,e.loc));break}}}function cM(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!Ca(e,"for")?e.children:[e],userKey:oE(e,"key"),isTemplateIf:n}}function uM(e,t,n){return e.condition?bk(e.condition,fM(e,t,n),Vn(n.helper(tx),['""',"true"])):fM(e,t,n)}function fM(e,t,n){const{helper:r}=n,i=Fn("key",ht(`${t}`,!1,Ls,2)),{children:s}=e,a=s[0];if(s.length!==1||a.type!==1)if(s.length===1&&a.type===11){const l=a.codegenNode;return W_(l,i,n),l}else return t1(n,r(Qm),Ks([i]),s,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=a.codegenNode,c=Cae(l);return c.type===13&&K3(c,n),W_(c,i,n),l}}function hoe(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const doe=(e,t,n)=>{const{modifiers:r,loc:i}=e,s=e.arg;let{exp:a}=e;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(s.type!==4||!s.isStatic)return n.onError(un(52,s.loc)),{props:[Fn(s,ht("",!0,i))]};lz(e),a=e.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.includes("camel")&&(s.type===4?s.isStatic?s.content=hn(s.content):s.content=`${n.helperString(yk)}(${s.content})`:(s.children.unshift(`${n.helperString(yk)}(`),s.children.push(")"))),n.inSSR||(r.includes("prop")&&hM(s,"."),r.includes("attr")&&hM(s,"^")),{props:[Fn(s,a)]}},lz=(e,t)=>{const n=e.arg,r=hn(n.content);e.exp=ht(r,!1,n.loc)},hM=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},poe=iz("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return goe(e,t,n,s=>{const a=Vn(r(W3),[s.source]),o=H_(e),l=Ca(e,"memo"),c=oE(e,"key",!1,!0);c&&c.type===7&&!c.exp&&lz(c);const u=c&&(c.type===6?c.value?ht(c.value.content,!0):void 0:c.exp),f=c&&u?Fn("key",u):null,h=s.source.type===4&&s.source.constType>0,d=h?64:c?128:256;return s.codegenNode=t1(n,r(Qm),void 0,a,d,void 0,void 0,!0,!h,!1,e.loc),()=>{let p;const{children:g}=s,m=g.length!==1||g[0].type!==1,x=V_(e)?e:o&&e.children.length===1&&V_(e.children[0])?e.children[0]:null;if(x?(p=x.codegenNode,o&&f&&W_(p,f,n)):m?p=t1(n,r(Qm),f?Ks([f]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(p=g[0].codegenNode,o&&f&&W_(p,f,n),p.isBlock!==!h&&(p.isBlock?(i(ph),i(O0(n.inSSR,p.isComponent))):i(F0(n.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(r(ph),r(O0(n.inSSR,p.isComponent))):r(F0(n.inSSR,p.isComponent))),l){const y=C0(Sk(s.parseResult,[ht("_cached")]));y.body=vae([Ua(["const _memo = (",l.exp,")"]),Ua(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString(jU)}(_cached, _memo)) return _cached`]),Ua(["const _item = ",p]),ht("_item.memo = _memo"),ht("return _item")]),a.arguments.push(y,ht("_cache"),ht(String(n.cached++)))}else a.arguments.push(C0(Sk(s.parseResult),p,!0))}})});function goe(e,t,n,r){if(!t.exp){n.onError(un(31,t.loc));return}const i=t.forParseResult;if(!i){n.onError(un(32,t.loc));return}cz(i);const{addIdentifiers:s,removeIdentifiers:a,scopes:o}=n,{source:l,value:c,key:u,index:f}=i,h={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:f,parseResult:i,children:H_(e)?e.children:[e]};n.replaceNode(h),o.vFor++;const d=r&&r(h);return()=>{o.vFor--,d&&d()}}function cz(e,t){e.finalized||(e.finalized=!0)}function Sk({value:e,key:t,index:n},r=[]){return moe([e,t,n,...r])}function moe(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||ht("_".repeat(r+1),!1))}const dM=ht("undefined",!1),xoe=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=Ca(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},voe=(e,t,n,r)=>C0(e,n,!1,!0,n.length?n[0].loc:r);function yoe(e,t,n=voe){t.helper(X3);const{children:r,loc:i}=e,s=[],a=[];let o=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Ca(e,"slot",!0);if(l){const{arg:m,exp:x}=l;m&&!ji(m)&&(o=!0),s.push(Fn(m||ht("default",!0),n(x,void 0,r,i)))}let c=!1,u=!1;const f=[],h=new Set;let d=0;for(let m=0;m<r.length;m++){const x=r[m];let y;if(!H_(x)||!(y=Ca(x,"slot",!0))){x.type!==3&&f.push(x);continue}if(l){t.onError(un(37,y.loc));break}c=!0;const{children:v,loc:_}=x,{arg:b=ht("default",!0),exp:w,loc:E}=y;let A;ji(b)?A=b?b.content:"default":o=!0;const S=Ca(x,"for"),T=n(w,S,v,_);let C,O;if(C=Ca(x,"if"))o=!0,a.push(bk(C.exp,Cv(b,T,d++),dM));else if(O=Ca(x,/^else(-if)?$/,!0)){let F=m,I;for(;F--&&(I=r[F],I.type===3););if(I&&H_(I)&&Ca(I,/^(else-)?if$/)){let D=a[a.length-1];for(;D.alternate.type===19;)D=D.alternate;D.alternate=O.exp?bk(O.exp,Cv(b,T,d++),dM):Cv(b,T,d++)}else t.onError(un(30,O.loc))}else if(S){o=!0;const F=S.forParseResult;F?(cz(F),a.push(Vn(t.helper(W3),[F.source,C0(Sk(F),Cv(b,T),!0)]))):t.onError(un(32,S.loc))}else{if(A){if(h.has(A)){t.onError(un(38,E));continue}h.add(A),A==="default"&&(u=!0)}s.push(Fn(b,T))}}if(!l){const m=(x,y)=>{const v=n(x,void 0,y,i);return t.compatConfig&&(v.isNonScopedSlot=!0),Fn("default",v)};c?f.length&&f.some(x=>uz(x))&&(u?t.onError(un(39,f[0].loc)):s.push(m(void 0,f))):s.push(m(void 0,r))}const p=o?2:jy(e.children)?3:1;let g=Ks(s.concat(Fn("_",ht(p+"",!1))),i);return a.length&&(g=Vn(t.helper(WU),[g,rx(a)])),{slots:g,hasDynamicSlots:o}}function Cv(e,t,n){const r=[Fn("name",e),Fn("fn",t)];return n!=null&&r.push(Fn("key",ht(String(n),!0))),Ks(r)}function jy(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||jy(n.children))return!0;break;case 9:if(jy(n.branches))return!0;break;case 10:case 11:if(jy(n.children))return!0;break}}return!1}function uz(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():uz(e.content)}const fz=new WeakMap,_oe=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:i}=e,s=e.tagType===1;let a=s?boe(e,t):`"${r}"`;const o=Yt(a)&&a.callee===U3;let l,c,u=0,f,h,d,p=o||a===mm||a===I3||!s&&(r==="svg"||r==="foreignObject"||r==="math");if(i.length>0){const g=hz(e,t,void 0,s,o);l=g.props,u=g.patchFlag,h=g.dynamicPropNames;const m=g.directives;d=m&&m.length?rx(m.map(x=>woe(x,t))):void 0,g.shouldUseBlock&&(p=!0)}if(e.children.length>0)if(a===P_&&(p=!0,u|=1024),s&&a!==mm&&a!==P_){const{slots:m,hasDynamicSlots:x}=yoe(e,t);c=m,x&&(u|=1024)}else if(e.children.length===1&&a!==mm){const m=e.children[0],x=m.type,y=x===5||x===8;y&&Js(m,t)===0&&(u|=1),y||x===2?c=m:c=e.children}else c=e.children;h&&h.length&&(f=Soe(h)),e.codegenNode=t1(t,a,l,c,u===0?void 0:u,f,d,!!p,!1,s,e.loc)};function boe(e,t,n=!1){let{tag:r}=e;const i=Ak(r),s=oE(e,"is",!1,!0);if(s)if(i||qf("COMPILER_IS_ON_ELEMENT",t)){let o;if(s.type===6?o=s.value&&ht(s.value.content,!0):(o=s.exp,o||(o=ht("is",!1,s.arg.loc))),o)return Vn(t.helper(U3),[o])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const a=qU(r)||t.isBuiltInComponent(r);return a?(n||t.helper(a),a):(t.helper(B3),t.components.add(r),r1(r,"component"))}function hz(e,t,n=e.props,r,i,s=!1){const{tag:a,loc:o,children:l}=e;let c=[];const u=[],f=[],h=l.length>0;let d=!1,p=0,g=!1,m=!1,x=!1,y=!1,v=!1,_=!1;const b=[],w=T=>{c.length&&(u.push(Ks(pM(c),o)),c=[]),T&&u.push(T)},E=()=>{t.scopes.vFor>0&&c.push(Fn(ht("ref_for",!0),ht("true")))},A=({key:T,value:C})=>{if(ji(T)){const O=T.content,F=Wh(O);if(F&&(!r||i)&&O.toLowerCase()!=="onclick"&&O!=="onUpdate:modelValue"&&!Yc(O)&&(y=!0),F&&Yc(O)&&(_=!0),F&&C.type===14&&(C=C.arguments[0]),C.type===20||(C.type===4||C.type===8)&&Js(C,t)>0)return;O==="ref"?g=!0:O==="class"?m=!0:O==="style"?x=!0:O!=="key"&&!b.includes(O)&&b.push(O),r&&(O==="class"||O==="style")&&!b.includes(O)&&b.push(O)}else v=!0};for(let T=0;T<n.length;T++){const C=n[T];if(C.type===6){const{loc:O,name:F,nameLoc:I,value:D}=C;let N=!0;if(F==="ref"&&(g=!0,E()),F==="is"&&(Ak(a)||D&&D.content.startsWith("vue:")||qf("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Fn(ht(F,!0,I),ht(D?D.content:"",N,D?D.loc:O)))}else{const{name:O,arg:F,exp:I,loc:D,modifiers:N}=C,M=O==="bind",U=O==="on";if(O==="slot"){r||t.onError(un(40,D));continue}if(O==="once"||O==="memo"||O==="is"||M&&$f(F,"is")&&(Ak(a)||qf("COMPILER_IS_ON_ELEMENT",t))||U&&s)continue;if((M&&$f(F,"key")||U&&h&&$f(F,"vue:before-update"))&&(d=!0),M&&$f(F,"ref")&&E(),!F&&(M||U)){if(v=!0,I)if(M){if(E(),w(),qf("COMPILER_V_BIND_OBJECT_ORDER",t)){u.unshift(I);continue}u.push(I)}else w({type:14,loc:D,callee:t.helper(q3),arguments:r?[I]:[I,"true"]});else t.onError(un(M?34:35,D));continue}M&&N.includes("prop")&&(p|=32);const J=t.directiveTransforms[O];if(J){const{props:X,needRuntime:ce}=J(C,e,t);!s&&X.forEach(A),U&&F&&!ji(F)?w(Ks(X,o)):c.push(...X),ce&&(f.push(C),As(ce)&&fz.set(C,ce))}else Hne(O)||(f.push(C),h&&(d=!0))}}let S;if(u.length?(w(),u.length>1?S=Vn(t.helper(B_),u,o):S=u[0]):c.length&&(S=Ks(pM(c),o)),v?p|=16:(m&&!r&&(p|=2),x&&!r&&(p|=4),b.length&&(p|=8),y&&(p|=32)),!d&&(p===0||p===32)&&(g||_||f.length>0)&&(p|=512),!t.inSSR&&S)switch(S.type){case 15:let T=-1,C=-1,O=!1;for(let D=0;D<S.properties.length;D++){const N=S.properties[D].key;ji(N)?N.content==="class"?T=D:N.content==="style"&&(C=D):N.isHandlerKey||(O=!0)}const F=S.properties[T],I=S.properties[C];O?S=Vn(t.helper(e1),[S]):(F&&!ji(F.value)&&(F.value=Vn(t.helper(j3),[F.value])),I&&(x||I.value.type===4&&I.value.content.trim()[0]==="["||I.value.type===17)&&(I.value=Vn(t.helper(G3),[I.value])));break;case 14:break;default:S=Vn(t.helper(e1),[Vn(t.helper(nx),[S])]);break}return{props:S,directives:f,patchFlag:p,dynamicPropNames:b,shouldUseBlock:d}}function pM(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const s=i.key.content,a=t.get(s);a?(s==="style"||s==="class"||Wh(s))&&Eoe(a,i):(t.set(s,i),n.push(i))}return n}function Eoe(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=rx([e.value,t.value],e.loc)}function woe(e,t){const n=[],r=fz.get(e);r?n.push(t.helperString(r)):(t.helper(z3),t.directives.add(e.name),n.push(r1(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const s=ht("true",!1,i);n.push(Ks(e.modifiers.map(a=>Fn(a,s)),i))}return rx(n,e.loc)}function Soe(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function Ak(e){return e==="component"||e==="Component"}const Aoe=(e,t)=>{if(V_(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:s}=Toe(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let o=2;s&&(a[2]=s,o=3),n.length&&(a[3]=C0([],n,!1,!1,r),o=4),t.scopeId&&!t.slotted&&(o=5),a.splice(o),e.codegenNode=Vn(t.helper(VU),a,r)}};function Toe(e,t){let n='"default"',r;const i=[];for(let s=0;s<e.props.length;s++){const a=e.props[s];if(a.type===6)a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=hn(a.name),i.push(a)));else if(a.name==="bind"&&$f(a.arg,"name")){if(a.exp)n=a.exp;else if(a.arg&&a.arg.type===4){const o=hn(a.arg.content);n=a.exp=ht(o,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&ji(a.arg)&&(a.arg.content=hn(a.arg.content)),i.push(a)}if(i.length>0){const{props:s,directives:a}=hz(e,t,i,!1,!1);r=s,a.length&&t.onError(un(36,a[0].loc))}return{slotName:n,slotProps:r}}const koe=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,dz=(e,t,n,r)=>{const{loc:i,modifiers:s,arg:a}=e;!e.exp&&!s.length&&n.onError(un(35,i));let o;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const h=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?r0(hn(f)):`on:${f}`;o=ht(h,!0,a.loc)}else o=Ua([`${n.helperString(_k)}(`,a,")"]);else o=a,o.children.unshift(`${n.helperString(_k)}(`),o.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const f=XU(l.content),h=!(f||koe.test(l.content)),d=l.content.includes(";");(h||c&&f)&&(l=Ua([`${h?"$event":"(...args)"} => ${d?"{":"("}`,l,d?"}":")"]))}let u={props:[Fn(o,l||ht("() => {}",!1,i))]};return r&&(u=r(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(f=>f.key.isHandlerKey=!0),u},Coe=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let s=0;s<n.length;s++){const a=n[s];if(KS(a)){i=!0;for(let o=s+1;o<n.length;o++){const l=n[o];if(KS(l))r||(r=n[s]=Ua([a],a.loc)),r.children.push(" + ",l),n.splice(o,1),o--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(s=>s.type===7&&!t.directiveTransforms[s.name])&&e.tag!=="template")))for(let s=0;s<n.length;s++){const a=n[s];if(KS(a)||a.type===8){const o=[];(a.type!==2||a.content!==" ")&&o.push(a),!t.ssr&&Js(a,t)===0&&o.push("1"),n[s]={type:12,content:a,loc:a.loc,codegenNode:Vn(t.helper(P3),o)}}}}},gM=new WeakSet,Foe=(e,t)=>{if(e.type===1&&Ca(e,"once",!0))return gM.has(e)||t.inVOnce||t.inSSR?void 0:(gM.add(e),t.inVOnce=!0,t.helper(U_),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},pz=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(un(41,e.loc)),Fv();const s=r.loc.source,a=r.type===4?r.content:s,o=n.bindingMetadata[s];if(o==="props"||o==="props-aliased")return n.onError(un(44,r.loc)),Fv();if(!a.trim()||!XU(a)&&!!1)return n.onError(un(42,r.loc)),Fv();const c=i||ht("modelValue",!0),u=i?ji(i)?`onUpdate:${hn(i.content)}`:Ua(['"onUpdate:" + ',i]):"onUpdate:modelValue";let f;const h=n.isTS?"($event: any)":"$event";f=Ua([`${h} => ((`,r,") = $event)"]);const d=[Fn(c,e.exp),Fn(u,f)];if(e.modifiers.length&&t.tagType===1){const p=e.modifiers.map(m=>(Z3(m)?m:JSON.stringify(m))+": true").join(", "),g=i?ji(i)?`${i.content}Modifiers`:Ua([i,' + "Modifiers"']):"modelModifiers";d.push(Fn(g,ht(`{ ${p} }`,!1,e.loc,2)))}return Fv(d)};function Fv(e=[]){return{props:e}}const Ooe=/[\w).+\-_$\]]/,Noe=(e,t)=>{qf("COMPILER_FILTERS",t)&&(e.type===5?G_(e.content,t):e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&G_(n.exp,t)}))};function G_(e,t){if(e.type===4)mM(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?mM(r,t):r.type===8?G_(e,t):r.type===5&&G_(r.content,t))}}function mM(e,t){const n=e.content;let r=!1,i=!1,s=!1,a=!1,o=0,l=0,c=0,u=0,f,h,d,p,g=[];for(d=0;d<n.length;d++)if(h=f,f=n.charCodeAt(d),r)f===39&&h!==92&&(r=!1);else if(i)f===34&&h!==92&&(i=!1);else if(s)f===96&&h!==92&&(s=!1);else if(a)f===47&&h!==92&&(a=!1);else if(f===124&&n.charCodeAt(d+1)!==124&&n.charCodeAt(d-1)!==124&&!o&&!l&&!c)p===void 0?(u=d+1,p=n.slice(0,d).trim()):m();else{switch(f){case 34:i=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(f===47){let x=d-1,y;for(;x>=0&&(y=n.charAt(x),y===" ");x--);(!y||!Ooe.test(y))&&(a=!0)}}p===void 0?p=n.slice(0,d).trim():u!==0&&m();function m(){g.push(n.slice(u,d).trim()),u=d+1}if(g.length){for(d=0;d<g.length;d++)p=Doe(p,g[d],t);e.content=p,e.ast=void 0}}function Doe(e,t,n){n.helper(H3);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${r1(t,"filter")}(${e})`;{const i=t.slice(0,r),s=t.slice(r+1);return n.filters.add(i),`${r1(i,"filter")}(${e}${s!==")"?","+s:s}`}}const xM=new WeakSet,$oe=(e,t)=>{if(e.type===1){const n=Ca(e,"memo");return!n||xM.has(e)?void 0:(xM.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&K3(r,t),e.codegenNode=Vn(t.helper(Y3),[n.exp,C0(void 0,r),"_cache",String(t.cached++)]))})}};function Roe(e){return[[Foe,uoe,$oe,poe,Noe,Aoe,_oe,xoe,Coe],{on:dz,bind:doe,model:pz}]}function Ioe(e,t={}){const n=t.onError||J3,r=t.mode==="module";t.prefixIdentifiers===!0?n(un(47)):r&&n(un(48));const i=!1;t.cacheHandlers&&n(un(49)),t.scopeId&&!r&&n(un(50));const s=Bt({},t,{prefixIdentifiers:i}),a=ut(e)?zae(e,s):e,[o,l]=Roe();return jae(a,Bt({},s,{nodeTransforms:[...o,...t.nodeTransforms||[]],directiveTransforms:Bt({},l,t.directiveTransforms||{})})),Yae(a,s)}const Moe=()=>({props:[]});/**
* @vue/compiler-dom v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const gz=Symbol(""),mz=Symbol(""),xz=Symbol(""),vz=Symbol(""),Tk=Symbol(""),yz=Symbol(""),_z=Symbol(""),bz=Symbol(""),Ez=Symbol(""),wz=Symbol("");gae({[gz]:"vModelRadio",[mz]:"vModelCheckbox",[xz]:"vModelText",[vz]:"vModelSelect",[Tk]:"vModelDynamic",[yz]:"withModifiers",[_z]:"withKeys",[bz]:"vShow",[Ez]:"Transition",[wz]:"TransitionGroup"});let yd;function Loe(e,t=!1){return yd||(yd=document.createElement("div")),t?(yd.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,yd.children[0].getAttribute("foo")):(yd.innerHTML=e,yd.textContent)}const Poe={parseMode:"html",isVoidTag:ire,isNativeTag:e=>tre(e)||nre(e)||rre(e),isPreTag:e=>e==="pre",decodeEntities:Loe,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Ez;if(e==="TransitionGroup"||e==="transition-group")return wz},getNamespace(e,t,n){let r=t?t.ns:n;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},Boe=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:ht("style",!0,t.loc),exp:Uoe(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Uoe=(e,t)=>{const n=H7(e);return ht(JSON.stringify(n),!1,t,3)};function Qc(e,t){return un(e,t)}const zoe=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Qc(53,i)),t.children.length&&(n.onError(Qc(54,i)),t.children.length=0),{props:[Fn(ht("innerHTML",!0,i),r||ht("",!0))]}},Hoe=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Qc(55,i)),t.children.length&&(n.onError(Qc(56,i)),t.children.length=0),{props:[Fn(ht("textContent",!0),r?Js(r,n)>0?r:Vn(n.helperString(aE),[r],i):ht("",!0))]}},Voe=(e,t,n)=>{const r=pz(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(Qc(58,e.arg.loc));const{tag:i}=t,s=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let a=xz,o=!1;if(i==="input"||s){const l=oE(t,"type");if(l){if(l.type===7)a=Tk;else if(l.value)switch(l.value.content){case"radio":a=gz;break;case"checkbox":a=mz;break;case"file":o=!0,n.onError(Qc(59,e.loc));break}}else Aae(t)&&(a=Tk)}else i==="select"&&(a=vz);o||(r.needRuntime=n.helper(a))}else n.onError(Qc(57,e.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},Woe=Is("passive,once,capture"),joe=Is("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Goe=Is("left,right"),Sz=Is("onkeyup,onkeydown,onkeypress",!0),qoe=(e,t,n,r)=>{const i=[],s=[],a=[];for(let o=0;o<t.length;o++){const l=t[o];l==="native"&&n1("COMPILER_V_ON_NATIVE",n)||Woe(l)?a.push(l):Goe(l)?ji(e)?Sz(e.content)?i.push(l):s.push(l):(i.push(l),s.push(l)):joe(l)?s.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:a}},vM=(e,t)=>ji(e)&&e.content.toLowerCase()==="onclick"?ht(t,!0):e.type!==4?Ua(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Xoe=(e,t,n)=>dz(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:s,value:a}=r.props[0];const{keyModifiers:o,nonKeyModifiers:l,eventOptionModifiers:c}=qoe(s,i,n,e.loc);if(l.includes("right")&&(s=vM(s,"onContextmenu")),l.includes("middle")&&(s=vM(s,"onMouseup")),l.length&&(a=Vn(n.helper(yz),[a,JSON.stringify(l)])),o.length&&(!ji(s)||Sz(s.content))&&(a=Vn(n.helper(_z),[a,JSON.stringify(o)])),c.length){const u=c.map(Gh).join("");s=ji(s)?ht(`${s.content}${u}`,!0):Ua(["(",s,`) + "${u}"`])}return{props:[Fn(s,a)]}}),Yoe=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Qc(61,i)),{props:[],needRuntime:n.helper(bz)}},Koe=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},Joe=[Boe],Zoe={cloak:Moe,html:zoe,text:Hoe,model:Voe,on:Xoe,show:Yoe};function Qoe(e,t={}){return Ioe(e,Bt({},Poe,t,{nodeTransforms:[Koe,...Joe,...t.nodeTransforms||[]],directiveTransforms:Bt({},Zoe,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yM=new WeakMap;function ele(e){let t=yM.get(e??Dt);return t||(t=Object.create(null),yM.set(e??Dt,t)),t}function tle(e,t){if(!ut(e))if(e.nodeType)e=e.innerHTML;else return Xn;const n=e,r=ele(t),i=r[n];if(i)return i;if(e[0]==="#"){const l=document.querySelector(e);e=l?l.innerHTML:""}const s=Bt({hoistStatic:!0,onError:void 0,onWarn:Xn},t);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=l=>!!customElements.get(l));const{code:a}=Qoe(e,s),o=new Function("Vue",a)(cae);return o._rc=!0,r[n]=o}gU(tle);var nle=!1;/*!
 * pinia v2.2.1
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Az;const uE=e=>Az=e,Tz=Symbol();function kk(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var xm;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(xm||(xm={}));function kz(){const e=f3(!0),t=e.run(()=>Ei({}));let n=[],r=[];const i=Yb({install(s){uE(i),i._a=s,s.provide(Tz,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!nle?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Cz=()=>{};function _M(e,t,n,r=Cz){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&h3()&&q7(i),i}function _d(e,...t){e.slice().forEach(n=>{n(...t)})}const rle=e=>e(),bM=Symbol(),ZS=Symbol();function Ck(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];kk(i)&&kk(r)&&e.hasOwnProperty(n)&&!On(r)&&!Nl(r)?e[n]=Ck(i,r):e[n]=r}return e}const ile=Symbol();function sle(e){return!kk(e)||!e.hasOwnProperty(ile)}const{assign:Ec}=Object;function ale(e){return!!(On(e)&&e.effect)}function ole(e,t,n,r){const{state:i,actions:s,getters:a}=t,o=n.state.value[e];let l;function c(){o||(n.state.value[e]=i?i():{});const u=fB(n.state.value[e]);return Ec(u,s,Object.keys(a||{}).reduce((f,h)=>(f[h]=Yb(Zc(()=>{uE(n);const d=n._s.get(e);return a[h].call(d,d)})),f),{}))}return l=Fz(e,c,t,n,r,!0),l}function Fz(e,t,n={},r,i,s){let a;const o=Ec({actions:{}},n),l={deep:!0};let c,u,f=[],h=[],d;const p=r.state.value[e];!s&&!p&&(r.state.value[e]={}),Ei({});let g;function m(A){let S;c=u=!1,typeof A=="function"?(A(r.state.value[e]),S={type:xm.patchFunction,storeId:e,events:d}):(Ck(r.state.value[e],A),S={type:xm.patchObject,payload:A,storeId:e,events:d});const T=g=Symbol();uh().then(()=>{g===T&&(c=!0)}),u=!0,_d(f,S,r.state.value[e])}const x=s?function(){const{state:S}=n,T=S?S():{};this.$patch(C=>{Ec(C,T)})}:Cz;function y(){a.stop(),f=[],h=[],r._s.delete(e)}const v=(A,S="")=>{if(bM in A)return A[ZS]=S,A;const T=function(){uE(r);const C=Array.from(arguments),O=[],F=[];function I(M){O.push(M)}function D(M){F.push(M)}_d(h,{args:C,name:T[ZS],store:b,after:I,onError:D});let N;try{N=A.apply(this&&this.$id===e?this:b,C)}catch(M){throw _d(F,M),M}return N instanceof Promise?N.then(M=>(_d(O,M),M)).catch(M=>(_d(F,M),Promise.reject(M))):(_d(O,N),N)};return T[bM]=!0,T[ZS]=S,T},_={_p:r,$id:e,$onAction:_M.bind(null,h),$patch:m,$reset:x,$subscribe(A,S={}){const T=_M(f,A,S.detached,()=>C()),C=a.run(()=>$a(()=>r.state.value[e],O=>{(S.flush==="sync"?u:c)&&A({storeId:e,type:xm.direct,events:d},O)},Ec({},l,S)));return T},$dispose:y},b=Ms(_);r._s.set(e,b);const E=(r._a&&r._a.runWithContext||rle)(()=>r._e.run(()=>(a=f3()).run(()=>t({action:v}))));for(const A in E){const S=E[A];if(On(S)&&!ale(S)||Nl(S))s||(p&&sle(S)&&(On(S)?S.value=p[A]:Ck(S,p[A])),r.state.value[e][A]=S);else if(typeof S=="function"){const T=v(S,A);E[A]=T,o.actions[A]=S}}return Ec(b,E),Ec(kt(b),E),Object.defineProperty(b,"$state",{get:()=>r.state.value[e],set:A=>{m(S=>{Ec(S,A)})}}),r._p.forEach(A=>{Ec(b,a.run(()=>A({store:b,app:r._a,pinia:r,options:o})))}),p&&s&&n.hydrate&&n.hydrate(b.$state,p),c=!0,u=!0,b}function lle(e,t,n){let r,i;const s=typeof t=="function";r=e,i=s?n:t;function a(o,l){const c=RB();return o=o||(c?jf(Tz,null):null),o&&uE(o),o=Az,o._s.has(r)||(s?Fz(r,t,i,o):ole(r,i,o)),o._s.get(r)}return a.$id=r,a}function Rl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cle(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wp(e){let t,n,r;e.length!==2?(t=Rl,n=(o,l)=>Rl(e(o),l),r=(o,l)=>e(o)-l):(t=e===Rl||e===cle?e:ule,n=e,r=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function ule(){return 0}function Oz(e){return e===null?NaN:+e}function*fle(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Nz=wp(Rl),hu=Nz.right,hle=Nz.left;wp(Oz).center;function dle(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i))}if(n>1)return s/(n-1)}function ple(e,t){const n=dle(e,t);return n&&Math.sqrt(n)}class Ai{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=t+s,o=Math.abs(t)<Math.abs(s)?t-(a-s):s-(a-t);o&&(n[r++]=o),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}class EM extends Map{constructor(t,n=Rz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Fk(this,t))}has(t){return super.has(Fk(this,t))}set(t,n){return super.set(Dz(this,t),n)}delete(t){return super.delete($z(this,t))}}class q_ extends Set{constructor(t,n=Rz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Fk(this,t))}add(t){return super.add(Dz(this,t))}delete(t){return super.delete($z(this,t))}}function Fk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Dz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $z({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Rz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gle(e,t){return Array.from(t,n=>e[n])}function mle(e=Rl){if(e===Rl)return Iz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Iz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xle=Math.sqrt(50),vle=Math.sqrt(10),yle=Math.sqrt(2);function X_(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=xle?10:s>=vle?5:s>=yle?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?X_(e,t,n*2):[o,l,c]}function Ok(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?X_(t,e,n):X_(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function Nk(e,t,n){return t=+t,e=+e,n=+n,X_(e,t,n)[2]}function du(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Nk(t,e,n):Nk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xf(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Dk(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Mz(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Iz:mle(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));Mz(e,t,d,p,i)}const s=e[t];let a=n,o=r;for(ag(e,n,t),i(e[r],s)>0&&ag(e,n,r);a<o;){for(ag(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[n],s)===0?ag(e,n,o):(++o,ag(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function ag(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $k(e,t,n){if(e=Float64Array.from(fle(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Dk(e);if(t>=1)return Xf(e);var r,i=(r-1)*t,s=Math.floor(i),a=Xf(Mz(e,s).subarray(0,s+1)),o=Dk(e.subarray(s+1));return a+(o-a)*(i-s)}}function Lz(e,t,n=Oz){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),o=+n(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function Ef(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function Pz(e,t){return $k(e,.5,t)}function*_le(e){for(const t of e)yield*t}function Bz(e){return Array.from(_le(e))}function xs(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Uz(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function ble(e,...t){e=new q_(e),t=t.map(Ele);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Ele(e){return e instanceof q_?e:new q_(e)}function wle(...e){const t=new q_;for(const n of e)for(const r of n)t.add(r);return t}var Sle={value:()=>{}};function e4(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gy(n)}function Gy(e){this._=e}function Ale(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gy.prototype=e4.prototype={constructor:Gy,on:function(e,t){var n=this._,r=Ale(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=Tle(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=wM(n[i],e.name,t);else if(t==null)for(i in n)n[i]=wM(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gy(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Tle(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function wM(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Sle,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Rk="http://www.w3.org/1999/xhtml";const SM={svg:"http://www.w3.org/2000/svg",xhtml:Rk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fE(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),SM.hasOwnProperty(t)?{space:SM[t],local:e}:e}function kle(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Rk&&t.documentElement.namespaceURI===Rk?t.createElement(e):t.createElementNS(n,e)}}function Cle(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function zz(e){var t=fE(e);return(t.local?Cle:kle)(t)}function Fle(){}function t4(e){return e==null?Fle:function(){return this.querySelector(e)}}function Ole(e){typeof e!="function"&&(e=t4(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new Fi(r,this._parents)}function Hz(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Nle(){return[]}function Vz(e){return e==null?Nle:function(){return this.querySelectorAll(e)}}function Dle(e){return function(){return Hz(e.apply(this,arguments))}}function $le(e){typeof e=="function"?e=Dle(e):e=Vz(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(r.push(e.call(l,l.__data__,c,a)),i.push(l));return new Fi(r,i)}function Wz(e){return function(){return this.matches(e)}}function jz(e){return function(t){return t.matches(e)}}var Rle=Array.prototype.find;function Ile(e){return function(){return Rle.call(this.children,e)}}function Mle(){return this.firstElementChild}function Lle(e){return this.select(e==null?Mle:Ile(typeof e=="function"?e:jz(e)))}var Ple=Array.prototype.filter;function Ble(){return Array.from(this.children)}function Ule(e){return function(){return Ple.call(this.children,e)}}function zle(e){return this.selectAll(e==null?Ble:Ule(typeof e=="function"?e:jz(e)))}function Hle(e){typeof e!="function"&&(e=Wz(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new Fi(r,this._parents)}function Gz(e){return new Array(e.length)}function Vle(){return new Fi(this._enter||this._groups.map(Gz),this._parents)}function Y_(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Y_.prototype={constructor:Y_,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Wle(e){return function(){return e}}function jle(e,t,n,r,i,s){for(var a=0,o,l=t.length,c=s.length;a<c;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new Y_(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function Gle(e,t,n,r,i,s,a){var o,l,c=new Map,u=t.length,f=s.length,h=new Array(u),d;for(o=0;o<u;++o)(l=t[o])&&(h[o]=d=a.call(l,l.__data__,o,t)+"",c.has(d)?i[o]=l:c.set(d,l));for(o=0;o<f;++o)d=a.call(e,s[o],o,s)+"",(l=c.get(d))?(r[o]=l,l.__data__=s[o],c.delete(d)):n[o]=new Y_(e,s[o]);for(o=0;o<u;++o)(l=t[o])&&c.get(h[o])===l&&(i[o]=l)}function qle(e){return e.__data__}function Xle(e,t){if(!arguments.length)return Array.from(this,qle);var n=t?Gle:jle,r=this._parents,i=this._groups;typeof e!="function"&&(e=Wle(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],f=i[c],h=f.length,d=Yle(e.call(u,u&&u.__data__,c,r)),p=d.length,g=o[c]=new Array(p),m=a[c]=new Array(p),x=l[c]=new Array(h);n(u,f,g,m,x,d,t);for(var y=0,v=0,_,b;y<p;++y)if(_=g[y]){for(y>=v&&(v=y+1);!(b=m[v])&&++v<p;);_._next=b||null}}return a=new Fi(a,r),a._enter=o,a._exit=l,a}function Yle(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kle(){return new Fi(this._exit||this._groups.map(Gz),this._parents)}function Jle(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Zle(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=n[l],u=r[l],f=c.length,h=o[l]=new Array(f),d,p=0;p<f;++p)(d=c[p]||u[p])&&(h[p]=d);for(;l<i;++l)o[l]=n[l];return new Fi(o,this._parents)}function Qle(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function ece(e){e||(e=tce);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),c,u=0;u<o;++u)(c=a[u])&&(l[u]=c);l.sort(t)}return new Fi(i,this._parents).order()}function tce(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nce(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rce(){return Array.from(this)}function ice(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function sce(){let e=0;for(const t of this)++e;return e}function ace(){return!this.node()}function oce(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function lce(e){return function(){this.removeAttribute(e)}}function cce(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uce(e,t){return function(){this.setAttribute(e,t)}}function fce(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hce(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function dce(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pce(e,t){var n=fE(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?cce:lce:typeof t=="function"?n.local?dce:hce:n.local?fce:uce)(n,t))}function qz(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gce(e){return function(){this.style.removeProperty(e)}}function mce(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xce(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function vce(e,t,n){return arguments.length>1?this.each((t==null?gce:typeof t=="function"?xce:mce)(e,t,n??"")):N0(this.node(),e)}function N0(e,t){return e.style.getPropertyValue(t)||qz(e).getComputedStyle(e,null).getPropertyValue(t)}function yce(e){return function(){delete this[e]}}function _ce(e,t){return function(){this[e]=t}}function bce(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ece(e,t){return arguments.length>1?this.each((t==null?yce:typeof t=="function"?bce:_ce)(e,t)):this.node()[e]}function Xz(e){return e.trim().split(/^|\s+/)}function n4(e){return e.classList||new Yz(e)}function Yz(e){this._node=e,this._names=Xz(e.getAttribute("class")||"")}Yz.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Kz(e,t){for(var n=n4(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Jz(e,t){for(var n=n4(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function wce(e){return function(){Kz(this,e)}}function Sce(e){return function(){Jz(this,e)}}function Ace(e,t){return function(){(t.apply(this,arguments)?Kz:Jz)(this,e)}}function Tce(e,t){var n=Xz(e+"");if(arguments.length<2){for(var r=n4(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ace:t?wce:Sce)(n,t))}function kce(){this.textContent=""}function Cce(e){return function(){this.textContent=e}}function Fce(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Oce(e){return arguments.length?this.each(e==null?kce:(typeof e=="function"?Fce:Cce)(e)):this.node().textContent}function Nce(){this.innerHTML=""}function Dce(e){return function(){this.innerHTML=e}}function $ce(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Rce(e){return arguments.length?this.each(e==null?Nce:(typeof e=="function"?$ce:Dce)(e)):this.node().innerHTML}function Ice(){this.nextSibling&&this.parentNode.appendChild(this)}function Mce(){return this.each(Ice)}function Lce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pce(){return this.each(Lce)}function Bce(e){var t=typeof e=="function"?e:zz(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Uce(){return null}function zce(e,t){var n=typeof e=="function"?e:zz(e),r=t==null?Uce:typeof t=="function"?t:t4(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hce(){var e=this.parentNode;e&&e.removeChild(this)}function Vce(){return this.each(Hce)}function Wce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jce(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gce(e){return this.select(e?jce:Wce)}function qce(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Xce(e){return function(t){e.call(this,t,this.__data__)}}function Yce(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Kce(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Jce(e,t,n){return function(){var r=this.__on,i,s=Xce(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Zce(e,t,n){var r=Yce(e+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<s;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(o=t?Jce:Kce,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function Zz(e,t,n){var r=qz(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Qce(e,t){return function(){return Zz(this,e,t)}}function eue(e,t){return function(){return Zz(this,e,t.apply(this,arguments))}}function tue(e,t){return this.each((typeof t=="function"?eue:Qce)(e,t))}function*nue(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var r4=[null];function Fi(e,t){this._groups=e,this._parents=t}function sx(){return new Fi([[document.documentElement]],r4)}function rue(){return this}Fi.prototype=sx.prototype={constructor:Fi,select:Ole,selectAll:$le,selectChild:Lle,selectChildren:zle,filter:Hle,data:Xle,enter:Vle,exit:Kle,join:Jle,merge:Zle,selection:rue,order:Qle,sort:ece,call:nce,nodes:rce,node:ice,size:sce,empty:ace,each:oce,attr:pce,style:vce,property:Ece,classed:Tce,text:Oce,html:Rce,raise:Mce,lower:Pce,append:Bce,insert:zce,remove:Vce,clone:Gce,datum:qce,on:Zce,dispatch:tue,[Symbol.iterator]:nue};function lf(e){return typeof e=="string"?new Fi([[document.querySelector(e)]],[document.documentElement]):new Fi([[e]],r4)}function iue(e){return typeof e=="string"?new Fi([document.querySelectorAll(e)],[document.documentElement]):new Fi([Hz(e)],r4)}function Sp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ax(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pu(){}var gh=.7,D0=1/gh,l0="\\s*([+-]?\\d+)\\s*",s1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sue=/^#([0-9a-f]{3,8})$/,aue=new RegExp(`^rgb\\(${l0},${l0},${l0}\\)$`),oue=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),lue=new RegExp(`^rgba\\(${l0},${l0},${l0},${s1}\\)$`),cue=new RegExp(`^rgba\\(${ko},${ko},${ko},${s1}\\)$`),uue=new RegExp(`^hsl\\(${s1},${ko},${ko}\\)$`),fue=new RegExp(`^hsla\\(${s1},${ko},${ko},${s1}\\)$`),AM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sp(Pu,mh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TM,formatHex:TM,formatHex8:hue,formatHsl:due,formatRgb:kM,toString:kM});function TM(){return this.rgb().formatHex()}function hue(){return this.rgb().formatHex8()}function due(){return Qz(this).formatHsl()}function kM(){return this.rgb().formatRgb()}function mh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sue.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?CM(t):n===3?new cr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ov(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ov(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aue.exec(e))?new cr(t[1],t[2],t[3],1):(t=oue.exec(e))?new cr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lue.exec(e))?Ov(t[1],t[2],t[3],t[4]):(t=cue.exec(e))?Ov(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uue.exec(e))?NM(t[1],t[2]/100,t[3]/100,1):(t=fue.exec(e))?NM(t[1],t[2]/100,t[3]/100,t[4]):AM.hasOwnProperty(e)?CM(AM[e]):e==="transparent"?new cr(NaN,NaN,NaN,0):null}function CM(e){return new cr(e>>16&255,e>>8&255,e&255,1)}function Ov(e,t,n,r){return r<=0&&(e=t=n=NaN),new cr(e,t,n,r)}function i4(e){return e instanceof Pu||(e=mh(e)),e?(e=e.rgb(),new cr(e.r,e.g,e.b,e.opacity)):new cr}function pu(e,t,n,r){return arguments.length===1?i4(e):new cr(e,t,n,r??1)}function cr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Sp(cr,pu,ax(Pu,{brighter(e){return e=e==null?D0:Math.pow(D0,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cr(Yf(this.r),Yf(this.g),Yf(this.b),K_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FM,formatHex:FM,formatHex8:pue,formatRgb:OM,toString:OM}));function FM(){return`#${If(this.r)}${If(this.g)}${If(this.b)}`}function pue(){return`#${If(this.r)}${If(this.g)}${If(this.b)}${If((isNaN(this.opacity)?1:this.opacity)*255)}`}function OM(){const e=K_(this.opacity);return`${e===1?"rgb(":"rgba("}${Yf(this.r)}, ${Yf(this.g)}, ${Yf(this.b)}${e===1?")":`, ${e})`}`}function K_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function If(e){return e=Yf(e),(e<16?"0":"")+e.toString(16)}function NM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,n,r)}function Qz(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof Pu||(e=mh(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Na(a,o,l,e.opacity)}function J_(e,t,n,r){return arguments.length===1?Qz(e):new Na(e,t,n,r??1)}function Na(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Sp(Na,J_,ax(Pu,{brighter(e){return e=e==null?D0:Math.pow(D0,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new cr(QS(e>=240?e-240:e+120,i,r),QS(e,i,r),QS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Na(DM(this.h),Nv(this.s),Nv(this.l),K_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=K_(this.opacity);return`${e===1?"hsl(":"hsla("}${DM(this.h)}, ${Nv(this.s)*100}%, ${Nv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DM(e){return e=(e||0)%360,e<0?e+360:e}function Nv(e){return Math.max(0,Math.min(1,e||0))}function QS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const eH=Math.PI/180,tH=180/Math.PI,Z_=18,nH=.96422,rH=1,iH=.82521,sH=4/29,c0=6/29,aH=3*c0*c0,gue=c0*c0*c0;function oH(e){if(e instanceof Co)return new Co(e.l,e.a,e.b,e.opacity);if(e instanceof El)return lH(e);e instanceof cr||(e=i4(e));var t=rA(e.r),n=rA(e.g),r=rA(e.b),i=eA((.2225045*t+.7168786*n+.0606169*r)/rH),s,a;return t===n&&n===r?s=a=i:(s=eA((.4360747*t+.3850649*n+.1430804*r)/nH),a=eA((.0139322*t+.0971045*n+.7141733*r)/iH)),new Co(116*i-16,500*(s-i),200*(i-a),e.opacity)}function Q_(e,t,n,r){return arguments.length===1?oH(e):new Co(e,t,n,r??1)}function Co(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Sp(Co,Q_,ax(Pu,{brighter(e){return new Co(this.l+Z_*(e??1),this.a,this.b,this.opacity)},darker(e){return new Co(this.l-Z_*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=nH*tA(t),e=rH*tA(e),n=iH*tA(n),new cr(nA(3.1338561*t-1.6168667*e-.4906146*n),nA(-.9787684*t+1.9161415*e+.033454*n),nA(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function eA(e){return e>gue?Math.pow(e,1/3):e/aH+sH}function tA(e){return e>c0?e*e*e:aH*(e-sH)}function nA(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rA(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function mue(e){if(e instanceof El)return new El(e.h,e.c,e.l,e.opacity);if(e instanceof Co||(e=oH(e)),e.a===0&&e.b===0)return new El(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*tH;return new El(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function e2(e,t,n,r){return arguments.length===1?mue(e):new El(e,t,n,r??1)}function El(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function lH(e){if(isNaN(e.h))return new Co(e.l,0,0,e.opacity);var t=e.h*eH;return new Co(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Sp(El,e2,ax(Pu,{brighter(e){return new El(this.h,this.c,this.l+Z_*(e??1),this.opacity)},darker(e){return new El(this.h,this.c,this.l-Z_*(e??1),this.opacity)},rgb(){return lH(this).rgb()}}));var cH=-.14861,s4=1.78277,a4=-.29227,hE=-.90649,a1=1.97294,$M=a1*hE,RM=a1*s4,IM=s4*a4-hE*cH;function xue(e){if(e instanceof Kf)return new Kf(e.h,e.s,e.l,e.opacity);e instanceof cr||(e=i4(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(IM*r+$M*t-RM*n)/(IM+$M-RM),s=r-i,a=(a1*(n-i)-a4*s)/hE,o=Math.sqrt(a*a+s*s)/(a1*i*(1-i)),l=o?Math.atan2(a,s)*tH-120:NaN;return new Kf(l<0?l+360:l,o,i,e.opacity)}function Ik(e,t,n,r){return arguments.length===1?xue(e):new Kf(e,t,n,r??1)}function Kf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Sp(Kf,Ik,ax(Pu,{brighter(e){return e=e==null?D0:Math.pow(D0,e),new Kf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new Kf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*eH,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new cr(255*(t+n*(cH*r+s4*i)),255*(t+n*(a4*r+hE*i)),255*(t+n*(a1*r)),this.opacity)}}));function uH(e,t,n,r,i){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*n+(1+3*e+3*s-3*a)*r+a*i)/6}function fH(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],a=r>0?e[r-1]:2*i-s,o=r<t-1?e[r+2]:2*s-i;return uH((n-r/t)*t,a,i,s,o)}}function hH(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],a=e[(r+1)%t],o=e[(r+2)%t];return uH((n-r/t)*t,i,s,a,o)}}const dE=e=>()=>e;function dH(e,t){return function(n){return e+n*t}}function vue(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pE(e,t){var n=t-e;return n?dH(e,n>180||n<-180?n-360*Math.round(n/360):n):dE(isNaN(e)?t:e)}function yue(e){return(e=+e)==1?ur:function(t,n){return n-t?vue(t,n,e):dE(isNaN(t)?n:t)}}function ur(e,t){var n=t-e;return n?dH(e,n):dE(isNaN(e)?t:e)}const o1=function e(t){var n=yue(t);function r(i,s){var a=n((i=pu(i)).r,(s=pu(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=ur(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function pH(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),a,o;for(a=0;a<n;++a)o=pu(t[a]),r[a]=o.r||0,i[a]=o.g||0,s[a]=o.b||0;return r=e(r),i=e(i),s=e(s),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=s(l),o+""}}}var _ue=pH(fH),bue=pH(hH);function o4(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function gH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Eue(e,t){return(gH(t)?o4:mH)(e,t)}function mH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Bu(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function xH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bu(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Mk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iA=new RegExp(Mk.source,"g");function wue(e){return function(){return e}}function Sue(e){return function(t){return e(t)+""}}function l4(e,t){var n=Mk.lastIndex=iA.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Mk.exec(e))&&(i=iA.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Gs(r,i)})),n=iA.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Sue(l[0].x):wue(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Bu(e,t){var n=typeof t,r;return t==null||n==="boolean"?dE(t):(n==="number"?Gs:n==="string"?(r=mh(t))?(t=r,o1):l4:t instanceof mh?o1:t instanceof Date?xH:gH(t)?o4:Array.isArray(t)?mH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vH:Gs)(e,t)}function Aue(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Tue(e,t){var n=pE(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ox(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var MM=180/Math.PI,Lk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yH(e,t,n,r,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*MM,skewX:Math.atan(l)*MM,scaleX:a,scaleY:o}}var Dv;function kue(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Lk:yH(t.a,t.b,t.c,t.d,t.e,t.f)}function Cue(e){return e==null||(Dv||(Dv=document.createElementNS("http://www.w3.org/2000/svg","g")),Dv.setAttribute("transform",e),!(e=Dv.transform.baseVal.consolidate()))?Lk:(e=e.matrix,yH(e.a,e.b,e.c,e.d,e.e,e.f))}function _H(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,f,h,d,p){if(c!==f||u!==h){var g=d.push("translate(",null,t,null,n);p.push({i:g-4,x:Gs(c,f)},{i:g-2,x:Gs(u,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function a(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Gs(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function o(c,u,f,h){c!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Gs(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,h,d,p){if(c!==f||u!==h){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:Gs(c,f)},{i:g-2,x:Gs(u,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,h),a(c.rotate,u.rotate,f,h),o(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(d){for(var p=-1,g=h.length,m;++p<g;)f[(m=h[p]).i]=m.x(d);return f.join("")}}}var bH=_H(kue,"px, ","px)","deg)"),EH=_H(Cue,", ",")",")"),Fue=1e-12;function LM(e){return((e=Math.exp(e))+1/e)/2}function Oue(e){return((e=Math.exp(e))-1/e)/2}function Nue(e){return((e=Math.exp(2*e))-1)/(e+1)}const Due=function e(t,n,r){function i(s,a){var o=s[0],l=s[1],c=s[2],u=a[0],f=a[1],h=a[2],d=u-o,p=f-l,g=d*d+p*p,m,x;if(g<Fue)x=Math.log(h/c)/t,m=function(E){return[o+E*d,l+E*p,c*Math.exp(t*E*x)]};else{var y=Math.sqrt(g),v=(h*h-c*c+r*g)/(2*c*n*y),_=(h*h-c*c-r*g)/(2*h*n*y),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(_*_+1)-_);x=(w-b)/t,m=function(E){var A=E*x,S=LM(b),T=c/(n*y)*(S*Nue(t*A+b)-Oue(b));return[o+T*d,l+T*p,c*S/LM(t*A+b)]}}return m.duration=x*1e3*t/Math.SQRT2,m}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return e(a,o,l)},i}(Math.SQRT2,2,4);function wH(e){return function(t,n){var r=e((t=J_(t)).h,(n=J_(n)).h),i=ur(t.s,n.s),s=ur(t.l,n.l),a=ur(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=s(o),t.opacity=a(o),t+""}}}const $ue=wH(pE);var Rue=wH(ur);function Iue(e,t){var n=ur((e=Q_(e)).l,(t=Q_(t)).l),r=ur(e.a,t.a),i=ur(e.b,t.b),s=ur(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=s(a),e+""}}function SH(e){return function(t,n){var r=e((t=e2(t)).h,(n=e2(n)).h),i=ur(t.c,n.c),s=ur(t.l,n.l),a=ur(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=s(o),t.opacity=a(o),t+""}}}const Mue=SH(pE);var Lue=SH(ur);function AH(e){return function t(n){n=+n;function r(i,s){var a=e((i=Ik(i)).h,(s=Ik(s)).h),o=ur(i.s,s.s),l=ur(i.l,s.l),c=ur(i.opacity,s.opacity);return function(u){return i.h=a(u),i.s=o(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}const Pue=AH(pE);var Bue=AH(ur);function c4(e,t){t===void 0&&(t=e,e=Bu);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Uue(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const zue=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Bu,interpolateArray:Eue,interpolateBasis:fH,interpolateBasisClosed:hH,interpolateCubehelix:Pue,interpolateCubehelixLong:Bue,interpolateDate:xH,interpolateDiscrete:Aue,interpolateHcl:Mue,interpolateHclLong:Lue,interpolateHsl:$ue,interpolateHslLong:Rue,interpolateHue:Tue,interpolateLab:Iue,interpolateNumber:Gs,interpolateNumberArray:o4,interpolateObject:vH,interpolateRgb:o1,interpolateRgbBasis:_ue,interpolateRgbBasisClosed:bue,interpolateRound:ox,interpolateString:l4,interpolateTransformCss:bH,interpolateTransformSvg:EH,interpolateZoom:Due,piecewise:c4,quantize:Uue},Symbol.toStringTag,{value:"Module"}));var $0=0,Mg=0,og=0,TH=1e3,t2,Lg,n2=0,xh=0,gE=0,l1=typeof performance=="object"&&performance.now?performance:Date,kH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mE(){return xh||(kH(Hue),xh=l1.now()+gE)}function Hue(){xh=0}function c1(){this._call=this._time=this._next=null}c1.prototype=u4.prototype={constructor:c1,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?mE():+n)+(t==null?0:+t),!this._next&&Lg!==this&&(Lg?Lg._next=this:t2=this,Lg=this),this._call=e,this._time=n,Pk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pk())}};function u4(e,t,n){var r=new c1;return r.restart(e,t,n),r}function Vue(){mE(),++$0;for(var e=t2,t;e;)(t=xh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$0}function PM(){xh=(n2=l1.now())+gE,$0=Mg=0;try{Vue()}finally{$0=0,jue(),xh=0}}function Wue(){var e=l1.now(),t=e-n2;t>TH&&(gE-=t,n2=e)}function jue(){for(var e,t=t2,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:t2=n);Lg=e,Pk(r)}function Pk(e){if(!$0){Mg&&(Mg=clearTimeout(Mg));var t=e-xh;t>24?(e<1/0&&(Mg=setTimeout(PM,e-l1.now()-gE)),og&&(og=clearInterval(og))):(og||(n2=l1.now(),og=setInterval(Wue,TH)),$0=1,kH(PM))}}function BM(e,t,n){var r=new c1;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function Gue(e,t,n){var r=new c1,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,a,o){a=+a,o=o==null?mE():+o,r._restart(function l(c){c+=i,r._restart(l,i+=a,o),s(c)},a,o)},r.restart(e,t,n),r)}var que=e4("start","end","cancel","interrupt"),Xue=[],CH=0,UM=1,Bk=2,qy=3,zM=4,Uk=5,Xy=6;function xE(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Yue(e,n,{name:t,index:r,group:i,on:que,tween:Xue,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:CH})}function f4(e,t){var n=Ja(e,t);if(n.state>CH)throw new Error("too late; already scheduled");return n}function jo(e,t){var n=Ja(e,t);if(n.state>qy)throw new Error("too late; already running");return n}function Ja(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Yue(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=u4(s,0,n.time);function s(c){n.state=UM,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,f,h,d;if(n.state!==UM)return l();for(u in r)if(d=r[u],d.name===n.name){if(d.state===qy)return BM(a);d.state===zM?(d.state=Xy,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[u]):+u<t&&(d.state=Xy,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[u])}if(BM(function(){n.state===qy&&(n.state=zM,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=Bk,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bk){for(n.state=qy,i=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Uk,1),f=-1,h=i.length;++f<h;)i[f].call(e,u);n.state===Uk&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Xy,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Kue(e,t){var n=e.__transition,r,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>Bk&&r.state<Uk,r.state=Xy,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function Jue(e){return this.each(function(){Kue(this,e)})}function Zue(e,t){var n,r;return function(){var i=jo(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Que(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=jo(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function efe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ja(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Zue:Que)(n,e,t))}function h4(e,t,n){var r=e._id;return e.each(function(){var i=jo(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ja(i,r).value[t]}}function FH(e,t){var n;return(typeof t=="number"?Gs:t instanceof mh?o1:(n=mh(t))?(t=n,o1):l4)(e,t)}function tfe(e){return function(){this.removeAttribute(e)}}function nfe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rfe(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function ife(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function sfe(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function afe(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function ofe(e,t){var n=fE(e),r=n==="transform"?EH:FH;return this.attrTween(e,typeof t=="function"?(n.local?afe:sfe)(n,r,h4(this,"attr."+e,t)):t==null?(n.local?nfe:tfe)(n):(n.local?ife:rfe)(n,r,t))}function lfe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function cfe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ufe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&cfe(e,s)),n}return i._value=t,i}function ffe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&lfe(e,s)),n}return i._value=t,i}function hfe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=fE(e);return this.tween(n,(r.local?ufe:ffe)(r,t))}function dfe(e,t){return function(){f4(this,e).delay=+t.apply(this,arguments)}}function pfe(e,t){return t=+t,function(){f4(this,e).delay=t}}function gfe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dfe:pfe)(t,e)):Ja(this.node(),t).delay}function mfe(e,t){return function(){jo(this,e).duration=+t.apply(this,arguments)}}function xfe(e,t){return t=+t,function(){jo(this,e).duration=t}}function vfe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mfe:xfe)(t,e)):Ja(this.node(),t).duration}function yfe(e,t){if(typeof t!="function")throw new Error;return function(){jo(this,e).ease=t}}function _fe(e){var t=this._id;return arguments.length?this.each(yfe(t,e)):Ja(this.node(),t).ease}function bfe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;jo(this,e).ease=n}}function Efe(e){if(typeof e!="function")throw new Error;return this.each(bfe(this._id,e))}function wfe(e){typeof e!="function"&&(e=Wz(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new Gl(r,this._parents,this._name,this._id)}function Sfe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=t[o],c=n[o],u=l.length,f=a[o]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;o<r;++o)a[o]=t[o];return new Gl(a,this._parents,this._name,this._id)}function Afe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Tfe(e,t,n){var r,i,s=Afe(t)?f4:jo;return function(){var a=s(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function kfe(e,t){var n=this._id;return arguments.length<2?Ja(this.node(),n).on.on(e):this.each(Tfe(n,e,t))}function Cfe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ffe(){return this.on("end.remove",Cfe(this._id))}function Ofe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=t4(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,c=s[a]=new Array(l),u,f,h=0;h<l;++h)(u=o[h])&&(f=e.call(u,u.__data__,h,o))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,xE(c[h],t,n,h,c,Ja(u,n)));return new Gl(s,this._parents,t,n)}function Nfe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vz(e));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=e.call(u,u.__data__,f,l),d,p=Ja(u,n),g=0,m=h.length;g<m;++g)(d=h[g])&&xE(d,t,n,g,h,p);s.push(h),a.push(u)}return new Gl(s,a,t,n)}var Dfe=sx.prototype.constructor;function $fe(){return new Dfe(this._groups,this._parents)}function Rfe(e,t){var n,r,i;return function(){var s=N0(this,e),a=(this.style.removeProperty(e),N0(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function OH(e){return function(){this.style.removeProperty(e)}}function Ife(e,t,n){var r,i=n+"",s;return function(){var a=N0(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function Mfe(e,t,n){var r,i,s;return function(){var a=N0(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),N0(this,e))),a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o))}}function Lfe(e,t){var n,r,i,s="style."+t,a="end."+s,o;return function(){var l=jo(this,e),c=l.on,u=l.value[s]==null?o||(o=OH(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(a,i=u),l.on=r}}function Pfe(e,t,n){var r=(e+="")=="transform"?bH:FH;return t==null?this.styleTween(e,Rfe(e,r)).on("end.style."+e,OH(e)):typeof t=="function"?this.styleTween(e,Mfe(e,r,h4(this,"style."+e,t))).each(Lfe(this._id,e)):this.styleTween(e,Ife(e,r,t),n).on("end.style."+e,null)}function Bfe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ufe(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Bfe(e,a,n)),r}return s._value=t,s}function zfe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ufe(e,t,n??""))}function Hfe(e){return function(){this.textContent=e}}function Vfe(e){return function(){var t=e(this);this.textContent=t??""}}function Wfe(e){return this.tween("text",typeof e=="function"?Vfe(h4(this,"text",e)):Hfe(e==null?"":e+""))}function jfe(e){return function(t){this.textContent=e.call(this,t)}}function Gfe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&jfe(i)),t}return r._value=e,r}function qfe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Gfe(e))}function Xfe(){for(var e=this._name,t=this._id,n=NH(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var u=Ja(l,t);xE(l,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Gl(r,this._parents,e,n)}function Yfe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var c=jo(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),i===0&&s()})}var Kfe=0;function Gl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function NH(){return++Kfe}var ol=sx.prototype;Gl.prototype={constructor:Gl,select:Ofe,selectAll:Nfe,selectChild:ol.selectChild,selectChildren:ol.selectChildren,filter:wfe,merge:Sfe,selection:$fe,transition:Xfe,call:ol.call,nodes:ol.nodes,node:ol.node,size:ol.size,empty:ol.empty,each:ol.each,on:kfe,attr:ofe,attrTween:hfe,style:Pfe,styleTween:zfe,text:Wfe,textTween:qfe,remove:Ffe,tween:efe,delay:gfe,duration:vfe,ease:_fe,easeVarying:Efe,end:Yfe,[Symbol.iterator]:ol[Symbol.iterator]};function Yy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Jfe={time:null,delay:0,duration:250,ease:Yy};function Zfe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Qfe(e){var t,n;e instanceof Gl?(t=e._id,e=e._name):(t=NH(),(n=Jfe).time=mE(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&xE(l,e,t,c,a,n||Zfe(l,t));return new Gl(r,this._parents,e,t)}sx.prototype.interrupt=Jue;sx.prototype.transition=Qfe;const zk=Math.PI,Hk=2*zk,wf=1e-6,ehe=Hk-wf;function DH(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function the(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DH;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let d4=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DH:the(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-t,c=i-n,u=a-t,f=o-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>wf)if(!(Math.abs(f*l-c*u)>wf)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-a,p=i-o,g=l*l+c*c,m=d*d+p*p,x=Math.sqrt(g),y=Math.sqrt(h),v=s*Math.tan((zk-Math.acos((g+h-m)/(2*x*y)))/2),_=v/y,b=v/x;Math.abs(_-1)>wf&&this._append`L${t+_*u},${n+_*f}`,this._append`A${s},${s},0,0,${+(f*d>u*p)},${this._x1=t+b*l},${this._y1=n+b*c}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,u=n+l,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>wf||Math.abs(this._y1-u)>wf)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%Hk+Hk),h>ehe?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>wf&&this._append`A${r},${r},0,${+(h>=zk)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function vE(){return new d4}vE.prototype=d4.prototype;const Il=11102230246251565e-32,Rr=134217729,nhe=(3+8*Il)*Il;function sA(e,t,n,r,i){let s,a,o,l,c=t[0],u=r[0],f=0,h=0;u>c==u>-c?(s=c,c=t[++f]):(s=u,u=r[++h]);let d=0;if(f<e&&h<n)for(u>c==u>-c?(a=c+s,o=s-(a-c),c=t[++f]):(a=u+s,o=s-(a-u),u=r[++h]),s=a,o!==0&&(i[d++]=o);f<e&&h<n;)u>c==u>-c?(a=s+c,l=a-s,o=s-(a-l)+(c-l),c=t[++f]):(a=s+u,l=a-s,o=s-(a-l)+(u-l),u=r[++h]),s=a,o!==0&&(i[d++]=o);for(;f<e;)a=s+c,l=a-s,o=s-(a-l)+(c-l),c=t[++f],s=a,o!==0&&(i[d++]=o);for(;h<n;)a=s+u,l=a-s,o=s-(a-l)+(u-l),u=r[++h],s=a,o!==0&&(i[d++]=o);return(s!==0||d===0)&&(i[d++]=s),d}function rhe(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function lx(e){return new Float64Array(e)}const ihe=(3+16*Il)*Il,she=(2+12*Il)*Il,ahe=(9+64*Il)*Il*Il,bd=lx(4),HM=lx(8),VM=lx(12),WM=lx(16),li=lx(4);function ohe(e,t,n,r,i,s,a){let o,l,c,u,f,h,d,p,g,m,x,y,v,_,b,w,E,A;const S=e-i,T=n-i,C=t-s,O=r-s;_=S*O,h=Rr*S,d=h-(h-S),p=S-d,h=Rr*O,g=h-(h-O),m=O-g,b=p*m-(_-d*g-p*g-d*m),w=C*T,h=Rr*C,d=h-(h-C),p=C-d,h=Rr*T,g=h-(h-T),m=T-g,E=p*m-(w-d*g-p*g-d*m),x=b-E,f=b-x,bd[0]=b-(x+f)+(f-E),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,bd[1]=v-(x+f)+(f-w),A=y+x,f=A-y,bd[2]=y-(A-f)+(x-f),bd[3]=A;let F=rhe(4,bd),I=she*a;if(F>=I||-F>=I||(f=e-S,o=e-(S+f)+(f-i),f=n-T,c=n-(T+f)+(f-i),f=t-C,l=t-(C+f)+(f-s),f=r-O,u=r-(O+f)+(f-s),o===0&&l===0&&c===0&&u===0)||(I=ahe*a+nhe*Math.abs(F),F+=S*u+O*o-(C*c+T*l),F>=I||-F>=I))return F;_=o*O,h=Rr*o,d=h-(h-o),p=o-d,h=Rr*O,g=h-(h-O),m=O-g,b=p*m-(_-d*g-p*g-d*m),w=l*T,h=Rr*l,d=h-(h-l),p=l-d,h=Rr*T,g=h-(h-T),m=T-g,E=p*m-(w-d*g-p*g-d*m),x=b-E,f=b-x,li[0]=b-(x+f)+(f-E),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,li[1]=v-(x+f)+(f-w),A=y+x,f=A-y,li[2]=y-(A-f)+(x-f),li[3]=A;const D=sA(4,bd,4,li,HM);_=S*u,h=Rr*S,d=h-(h-S),p=S-d,h=Rr*u,g=h-(h-u),m=u-g,b=p*m-(_-d*g-p*g-d*m),w=C*c,h=Rr*C,d=h-(h-C),p=C-d,h=Rr*c,g=h-(h-c),m=c-g,E=p*m-(w-d*g-p*g-d*m),x=b-E,f=b-x,li[0]=b-(x+f)+(f-E),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,li[1]=v-(x+f)+(f-w),A=y+x,f=A-y,li[2]=y-(A-f)+(x-f),li[3]=A;const N=sA(D,HM,4,li,VM);_=o*u,h=Rr*o,d=h-(h-o),p=o-d,h=Rr*u,g=h-(h-u),m=u-g,b=p*m-(_-d*g-p*g-d*m),w=l*c,h=Rr*l,d=h-(h-l),p=l-d,h=Rr*c,g=h-(h-c),m=c-g,E=p*m-(w-d*g-p*g-d*m),x=b-E,f=b-x,li[0]=b-(x+f)+(f-E),y=_+x,f=y-_,v=_-(y-f)+(x-f),x=v-w,f=v-x,li[1]=v-(x+f)+(f-w),A=y+x,f=A-y,li[2]=y-(A-f)+(x-f),li[3]=A;const M=sA(N,VM,4,li,WM);return WM[M-1]}function $v(e,t,n,r,i,s){const a=(t-s)*(n-i),o=(e-i)*(r-s),l=a-o,c=Math.abs(a+o);return Math.abs(l)>=ihe*c?l:-ohe(e,t,n,r,i,s,c)}const jM=Math.pow(2,-52),Rv=new Uint32Array(512);class r2{static from(t,n=hhe,r=dhe){const i=t.length,s=new Float64Array(i*2);for(let a=0;a<i;a++){const o=t[a];s[2*a]=n(o),s[2*a+1]=r(o)}return new r2(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,a=t.length>>1;let o=1/0,l=1/0,c=-1/0,u=-1/0;for(let S=0;S<a;S++){const T=t[2*S],C=t[2*S+1];T<o&&(o=T),C<l&&(l=C),T>c&&(c=T),C>u&&(u=C),this._ids[S]=S}const f=(o+c)/2,h=(l+u)/2;let d,p,g;for(let S=0,T=1/0;S<a;S++){const C=aA(f,h,t[2*S],t[2*S+1]);C<T&&(d=S,T=C)}const m=t[2*d],x=t[2*d+1];for(let S=0,T=1/0;S<a;S++){if(S===d)continue;const C=aA(m,x,t[2*S],t[2*S+1]);C<T&&C>0&&(p=S,T=C)}let y=t[2*p],v=t[2*p+1],_=1/0;for(let S=0;S<a;S++){if(S===d||S===p)continue;const T=uhe(m,x,y,v,t[2*S],t[2*S+1]);T<_&&(g=S,_=T)}let b=t[2*g],w=t[2*g+1];if(_===1/0){for(let C=0;C<a;C++)this._dists[C]=t[2*C]-t[0]||t[2*C+1]-t[1];jd(this._ids,this._dists,0,a-1);const S=new Uint32Array(a);let T=0;for(let C=0,O=-1/0;C<a;C++){const F=this._ids[C],I=this._dists[F];I>O&&(S[T++]=F,O=I)}this.hull=S.subarray(0,T),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if($v(m,x,y,v,b,w)<0){const S=p,T=y,C=v;p=g,y=b,v=w,g=S,b=T,w=C}const E=fhe(m,x,y,v,b,w);this._cx=E.x,this._cy=E.y;for(let S=0;S<a;S++)this._dists[S]=aA(t[2*S],t[2*S+1],E.x,E.y);jd(this._ids,this._dists,0,a-1),this._hullStart=d;let A=3;r[d]=n[g]=p,r[p]=n[d]=g,r[g]=n[p]=d,i[d]=0,i[p]=1,i[g]=2,s.fill(-1),s[this._hashKey(m,x)]=d,s[this._hashKey(y,v)]=p,s[this._hashKey(b,w)]=g,this.trianglesLen=0,this._addTriangle(d,p,g,-1,-1,-1);for(let S=0,T,C;S<this._ids.length;S++){const O=this._ids[S],F=t[2*O],I=t[2*O+1];if(S>0&&Math.abs(F-T)<=jM&&Math.abs(I-C)<=jM||(T=F,C=I,O===d||O===p||O===g))continue;let D=0;for(let X=0,ce=this._hashKey(F,I);X<this._hashSize&&(D=s[(ce+X)%this._hashSize],!(D!==-1&&D!==r[D]));X++);D=n[D];let N=D,M;for(;M=r[N],$v(F,I,t[2*N],t[2*N+1],t[2*M],t[2*M+1])>=0;)if(N=M,N===D){N=-1;break}if(N===-1)continue;let U=this._addTriangle(N,O,r[N],-1,-1,i[N]);i[O]=this._legalize(U+2),i[N]=U,A++;let J=r[N];for(;M=r[J],$v(F,I,t[2*J],t[2*J+1],t[2*M],t[2*M+1])<0;)U=this._addTriangle(J,O,M,i[O],-1,i[J]),i[O]=this._legalize(U+2),r[J]=J,A--,J=M;if(N===D)for(;M=n[N],$v(F,I,t[2*M],t[2*M+1],t[2*N],t[2*N+1])<0;)U=this._addTriangle(M,O,N,-1,i[N],i[M]),this._legalize(U+2),i[M]=U,r[N]=N,A--,N=M;this._hullStart=n[O]=N,r[N]=n[J]=O,r[O]=J,s[this._hashKey(F,I)]=O,s[this._hashKey(t[2*N],t[2*N+1])]=N}this.hull=new Uint32Array(A);for(let S=0,T=this._hullStart;S<A;S++)this.hull[S]=T,T=r[T];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(lhe(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,a=0;for(;;){const o=r[t],l=t-t%3;if(a=l+(t+2)%3,o===-1){if(s===0)break;t=Rv[--s];continue}const c=o-o%3,u=l+(t+1)%3,f=c+(o+2)%3,h=n[a],d=n[t],p=n[u],g=n[f];if(che(i[2*h],i[2*h+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[o]=h;const x=r[f];if(x===-1){let v=this._hullStart;do{if(this._hullTri[v]===f){this._hullTri[v]=t;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(t,x),this._link(o,r[a]),this._link(a,f);const y=c+(o+1)%3;s<Rv.length&&(Rv[s++]=y)}else{if(s===0)break;t=Rv[--s]}}return a}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,a){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=n,this._triangles[o+2]=r,this._link(o,i),this._link(o+1,s),this._link(o+2,a),this.trianglesLen+=3,o}}function lhe(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function aA(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function che(e,t,n,r,i,s,a,o){const l=e-a,c=t-o,u=n-a,f=r-o,h=i-a,d=s-o,p=l*l+c*c,g=u*u+f*f,m=h*h+d*d;return l*(f*m-g*d)-c*(u*m-g*h)+p*(u*d-f*h)<0}function uhe(e,t,n,r,i,s){const a=n-e,o=r-t,l=i-e,c=s-t,u=a*a+o*o,f=l*l+c*c,h=.5/(a*c-o*l),d=(c*u-o*f)*h,p=(a*f-l*u)*h;return d*d+p*p}function fhe(e,t,n,r,i,s){const a=n-e,o=r-t,l=i-e,c=s-t,u=a*a+o*o,f=l*l+c*c,h=.5/(a*c-o*l),d=e+(c*u-o*f)*h,p=t+(a*f-l*u)*h;return{x:d,y:p}}function jd(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],a=t[s];let o=i-1;for(;o>=n&&t[e[o]]>a;)e[o+1]=e[o--];e[o+1]=s}else{const i=n+r>>1;let s=n+1,a=r;lg(e,i,s),t[e[n]]>t[e[r]]&&lg(e,n,r),t[e[s]]>t[e[r]]&&lg(e,s,r),t[e[n]]>t[e[s]]&&lg(e,n,s);const o=e[s],l=t[o];for(;;){do s++;while(t[e[s]]<l);do a--;while(t[e[a]]>l);if(a<s)break;lg(e,s,a)}e[n+1]=e[a],e[a]=o,r-s+1>=a-n?(jd(e,t,s,r),jd(e,t,n,a-1)):(jd(e,t,n,a-1),jd(e,t,s,r))}}function lg(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hhe(e){return e[0]}function dhe(e){return e[1]}const GM=1e-6;class Mf{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>GM||Math.abs(this._y1-s)>GM)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Vk{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let phe=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,a;const o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,x=r.length,y,v;g<x;g+=3,m+=2){const _=r[g]*2,b=r[g+1]*2,w=r[g+2]*2,E=t[_],A=t[_+1],S=t[b],T=t[b+1],C=t[w],O=t[w+1],F=S-E,I=T-A,D=C-E,N=O-A,M=(F*N-I*D)*2;if(Math.abs(M)<1e-9){if(s===void 0){s=a=0;for(const J of n)s+=t[J*2],a+=t[J*2+1];s/=n.length,a/=n.length}const U=1e9*Math.sign((s-E)*N-(a-A)*D);y=(E+C)/2-U*N,v=(A+O)/2+U*D}else{const U=1/M,J=F*F+I*I,X=D*D+N*N;y=E+(N*J-I*X)*U,v=A+(F*X-D*J)*U}o[m]=y,o[m+1]=v}let l=n[n.length-1],c,u=l*4,f,h=t[2*l],d,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],c=u,f=h,d=p,u=l*4,h=t[2*l],p=t[2*l+1],i[c+2]=i[u]=d-p,i[c+3]=i[u+1]=h-f}render(t){const n=t==null?t=new Mf:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:a,vectors:o}=this;if(s.length<=1)return null;for(let u=0,f=r.length;u<f;++u){const h=r[u];if(h<u)continue;const d=Math.floor(u/3)*2,p=Math.floor(h/3)*2,g=a[d],m=a[d+1],x=a[p],y=a[p+1];this._renderSegment(g,m,x,y,t)}let l,c=s[s.length-1];for(let u=0;u<s.length;++u){l=c,c=s[u];const f=Math.floor(i[c]/3)*2,h=a[f],d=a[f+1],p=l*4,g=this._project(h,d,o[p+2],o[p+3]);g&&this._renderSegment(h,d,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Mf:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Mf:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let a=2;a<s;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new Vk;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let a;const o=this._regioncode(t,n),l=this._regioncode(r,i);o===0&&l===0?(s.moveTo(t,n),s.lineTo(r,i)):(a=this._clipSegment(t,n,r,i,o,l))&&(s.moveTo(a[0],a[1]),s.lineTo(a[2],a[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,a=n.length;s<a;s+=2)for(let o=0,l=i.length;o<l;o+=2)if(n[s]===i[o]&&n[s+1]===i[o+1]&&n[(s+2)%a]===i[(o+l-2)%l]&&n[(s+3)%a]===i[(o+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,a=r[t];if(a===-1)return null;const o=[];let l=a;do{const c=Math.floor(l/3);if(o.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,s[l]!==t)break;l=i[l]}while(l!==a&&l!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,a,o=n[r-2],l=n[r-1],c,u=this._regioncode(o,l),f,h=0;for(let d=0;d<r;d+=2)if(s=o,a=l,o=n[d],l=n[d+1],c=u,u=this._regioncode(o,l),c===0&&u===0)f=h,h=0,i?i.push(o,l):i=[o,l];else{let p,g,m,x,y;if(c===0){if((p=this._clipSegment(s,a,o,l,c,u))===null)continue;[g,m,x,y]=p}else{if((p=this._clipSegment(o,l,s,a,u,c))===null)continue;[x,y,g,m]=p,f=h,h=this._edgecode(g,m),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(g,m):i=[g,m]}f=h,h=this._edgecode(x,y),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(x,y):i=[x,y]}if(i)f=h,h=this._edgecode(i[0],i[1]),f&&h&&this._edge(t,f,h,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,a){const o=s<a;for(o&&([t,n,r,i,s,a]=[r,i,t,n,a,s]);;){if(s===0&&a===0)return o?[r,i,t,n]:[t,n,r,i];if(s&a)return null;let l,c,u=s||a;u&8?(l=t+(r-t)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=t+(r-t)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(c=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),s?(t=l,n=c,s=this._regioncode(t,n)):(r=l,i=c,a=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,a){let o=Array.from(n),l;if((l=this._project(o[0],o[1],r,i))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],s,a))&&o.push(l[0],l[1]),o=this._clipFinite(t,o))for(let c=0,u=o.length,f,h=this._edgecode(o[u-2],o[u-1]);c<u;c+=2)f=h,h=this._edgecode(o[c],o[c+1]),f&&h&&(c=this._edge(t,f,h,o,c),u=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,n,r,i,s){for(;n!==r;){let a,o;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,o=this.ymin;break}(i[s]!==a||i[s+1]!==o)&&this.contains(t,a,o)&&(i.splice(s,0,a,o),s+=2)}return s}_project(t,n,r,i){let s=1/0,a,o,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<s&&(l=this.ymin,o=t+(s=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<s&&(l=this.ymax,o=t+(s=a)*r)}if(r>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/r)<s&&(o=this.xmax,l=n+(s=a)*i)}else if(r<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/r)<s&&(o=this.xmin,l=n+(s=a)*i)}return[o,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const ghe=2*Math.PI,Ed=Math.pow;function mhe(e){return e[0]}function xhe(e){return e[1]}function vhe(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function yhe(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class p4{static from(t,n=mhe,r=xhe,i){return new p4("length"in t?_he(t,n,r,i):Float64Array.from(bhe(t,n,r,i)))}constructor(t){this._delaunator=new r2(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&vhe(t)){this.collinear=Int32Array.from({length:n.length/2},(h,d)=>d).sort((h,d)=>n[2*h]-n[2*d]||n[2*h+1]-n[2*d+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let h=0,d=n.length/2;h<d;++h){const p=yhe(n[2*h],n[2*h+1],f);n[2*h]=p[0],n[2*h+1]=p[1]}this._delaunator=new r2(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=s[l%3===2?l-2:l+1];(r[l]===-1||a[u]===-1)&&(a[u]=l)}for(let l=0,c=i.length;l<c;++l)o[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new phe(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:a,collinear:o}=this;if(o){const f=o.indexOf(t);f>0&&(yield o[f-1]),f<o.length-1&&(yield o[f+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=a[c],c=c%3===2?c-2:c+1,a[c]!==t)return;if(c=s[c],c===-1){const f=r[(i[t]+1)%r.length];f!==u&&(yield f);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:a,halfedges:o,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,f=Ed(n-c[t*2],2)+Ed(r-c[t*2+1],2);const h=i[t];let d=h;do{let p=l[d];const g=Ed(n-c[p*2],2)+Ed(r-c[p*2+1],2);if(g<f&&(f=g,u=p),d=d%3===2?d-2:d+1,l[d]!==t)break;if(d=o[d],d===-1){if(d=s[(a[t]+1)%s.length],d!==p&&Ed(n-c[d*2],2)+Ed(r-c[d*2+1],2)<f)return d;break}}while(d!==h);return u}render(t){const n=t==null?t=new Mf:void 0,{points:r,halfedges:i,triangles:s}=this;for(let a=0,o=i.length;a<o;++a){const l=i[a];if(l<a)continue;const c=s[a]*2,u=s[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Mf:void 0,{points:i}=this;for(let s=0,a=i.length;s<a;s+=2){const o=i[s],l=i[s+1];t.moveTo(o+n,l),t.arc(o,l,n,0,ghe)}return r&&r.value()}renderHull(t){const n=t==null?t=new Mf:void 0,{hull:r,points:i}=this,s=r[0]*2,a=r.length;t.moveTo(i[s],i[s+1]);for(let o=1;o<a;++o){const l=2*r[o];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Vk;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Mf:void 0,{points:i,triangles:s}=this,a=s[t*=3]*2,o=s[t+1]*2,l=s[t+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[o],i[o+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Vk;return this.renderTriangle(t,n),n.value()}}function _he(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let a=0;a<i;++a){const o=e[a];s[a*2]=t.call(r,o,a,e),s[a*2+1]=n.call(r,o,a,e)}return s}function*bhe(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var qM={},oA={},lA=34,cg=10,cA=13;function $H(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Ehe(e,t){var n=$H(e);return function(r,i){return t(n(r),i,e)}}function XM(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Mi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function whe(e){return e<0?"-"+Mi(-e,6):e>9999?"+"+Mi(e,6):Mi(e,4)}function She(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":whe(e.getUTCFullYear())+"-"+Mi(e.getUTCMonth()+1,2)+"-"+Mi(e.getUTCDate(),2)+(i?"T"+Mi(t,2)+":"+Mi(n,2)+":"+Mi(r,2)+"."+Mi(i,3)+"Z":r?"T"+Mi(t,2)+":"+Mi(n,2)+":"+Mi(r,2)+"Z":n||t?"T"+Mi(t,2)+":"+Mi(n,2)+"Z":"")}function RH(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,h){var d,p,g=i(f,function(m,x){if(d)return d(m,x-1);p=m,d=h?Ehe(m,h):$H(m)});return g.columns=p||[],g}function i(f,h){var d=[],p=f.length,g=0,m=0,x,y=p<=0,v=!1;f.charCodeAt(p-1)===cg&&--p,f.charCodeAt(p-1)===cA&&--p;function _(){if(y)return oA;if(v)return v=!1,qM;var w,E=g,A;if(f.charCodeAt(E)===lA){for(;g++<p&&f.charCodeAt(g)!==lA||f.charCodeAt(++g)===lA;);return(w=g)>=p?y=!0:(A=f.charCodeAt(g++))===cg?v=!0:A===cA&&(v=!0,f.charCodeAt(g)===cg&&++g),f.slice(E+1,w-1).replace(/""/g,'"')}for(;g<p;){if((A=f.charCodeAt(w=g++))===cg)v=!0;else if(A===cA)v=!0,f.charCodeAt(g)===cg&&++g;else if(A!==n)continue;return f.slice(E,w)}return y=!0,f.slice(E,p)}for(;(x=_())!==oA;){for(var b=[];x!==qM&&x!==oA;)b.push(x),x=_();h&&(b=h(b,m++))==null||d.push(b)}return d}function s(f,h){return f.map(function(d){return h.map(function(p){return u(d[p])}).join(e)})}function a(f,h){return h==null&&(h=XM(f)),[h.map(u).join(e)].concat(s(f,h)).join(`
`)}function o(f,h){return h==null&&(h=XM(f)),s(f,h).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?She(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:o,formatRows:l,formatRow:c,formatValue:u}}var IH=RH(","),MH=IH.parse,LH=IH.format;function Ahe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function The(e,t){return fetch(e,t).then(Ahe)}function khe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),The(t,n).then(function(i){return e(i,r)})}}var PH=khe(MH);function Che(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,a=n.length,o,l=0,c=0;for(s=0;s<a;++s)o=n[s],l+=o.x,c+=o.y;for(l=(l/a-e)*r,c=(c/a-t)*r,s=0;s<a;++s)o=n[s],o.x-=l,o.y-=c}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function Fhe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return BH(this.cover(t,n),t,n,e)}function BH(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,a={data:r},o=e._x0,l=e._y0,c=e._x1,u=e._y1,f,h,d,p,g,m,x,y;if(!s)return e._root=a,e;for(;s.length;)if((g=t>=(f=(o+c)/2))?o=f:c=f,(m=n>=(h=(l+u)/2))?l=h:u=h,i=s,!(s=s[x=m<<1|g]))return i[x]=a,e;if(d=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===d&&n===p)return a.next=s,i?i[x]=a:e._root=a,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(g=t>=(f=(o+c)/2))?o=f:c=f,(m=n>=(h=(l+u)/2))?l=h:u=h;while((x=m<<1|g)===(y=(p>=h)<<1|d>=f));return i[y]=s,i[x]=a,e}function Ohe(e){var t,n,r=e.length,i,s,a=new Array(r),o=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(a[n]=i,o[n]=s,i<l&&(l=i),i>u&&(u=i),s<c&&(c=s),s>f&&(f=s));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)BH(this,a[n],o[n],e[n]);return this}function Nhe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var a=i-n||1,o=this._root,l,c;n>e||e>=i||r>t||t>=s;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=o,o=l,a*=2,c){case 0:i=n+a,s=r+a;break;case 1:n=i-a,s=r+a;break;case 2:i=n+a,r=s-a;break;case 3:n=i-a,r=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Dhe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function $he(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function _i(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Rhe(e,t,n){var r,i=this._x0,s=this._y0,a,o,l,c,u=this._x1,f=this._y1,h=[],d=this._root,p,g;for(d&&h.push(new _i(d,i,s,u,f)),n==null?n=1/0:(i=e-n,s=t-n,u=e+n,f=t+n,n*=n);p=h.pop();)if(!(!(d=p.node)||(a=p.x0)>u||(o=p.y0)>f||(l=p.x1)<i||(c=p.y1)<s))if(d.length){var m=(a+l)/2,x=(o+c)/2;h.push(new _i(d[3],m,x,l,c),new _i(d[2],a,x,m,c),new _i(d[1],m,o,l,x),new _i(d[0],a,o,m,x)),(g=(t>=x)<<1|e>=m)&&(p=h[h.length-1],h[h.length-1]=h[h.length-1-g],h[h.length-1-g]=p)}else{var y=e-+this._x.call(null,d.data),v=t-+this._y.call(null,d.data),_=y*y+v*v;if(_<n){var b=Math.sqrt(n=_);i=e-b,s=t-b,u=e+b,f=t+b,r=d.data}}return r}function Ihe(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,a=this._x0,o=this._y0,l=this._x1,c=this._y1,u,f,h,d,p,g,m,x;if(!n)return this;if(n.length)for(;;){if((p=u>=(h=(a+l)/2))?a=h:l=h,(g=f>=(d=(o+c)/2))?o=d:c=d,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,x=m)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[m]=s:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=s,this)}function Mhe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Lhe(){return this._root}function Phe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Bhe(e){var t=[],n,r=this._root,i,s,a,o,l;for(r&&t.push(new _i(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,a=n.y0,o=n.x1,l=n.y1)&&r.length){var c=(s+o)/2,u=(a+l)/2;(i=r[3])&&t.push(new _i(i,c,u,o,l)),(i=r[2])&&t.push(new _i(i,s,u,c,l)),(i=r[1])&&t.push(new _i(i,c,a,o,u)),(i=r[0])&&t.push(new _i(i,s,a,c,u))}return this}function Uhe(e){var t=[],n=[],r;for(this._root&&t.push(new _i(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,a=r.x0,o=r.y0,l=r.x1,c=r.y1,u=(a+l)/2,f=(o+c)/2;(s=i[0])&&t.push(new _i(s,a,o,u,f)),(s=i[1])&&t.push(new _i(s,u,o,l,f)),(s=i[2])&&t.push(new _i(s,a,f,u,c)),(s=i[3])&&t.push(new _i(s,u,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function zhe(e){return e[0]}function Hhe(e){return arguments.length?(this._x=e,this):this._x}function Vhe(e){return e[1]}function Whe(e){return arguments.length?(this._y=e,this):this._y}function g4(e,t,n){var r=new m4(t??zhe,n??Vhe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function m4(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function YM(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var $i=g4.prototype=m4.prototype;$i.copy=function(){var e=new m4(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=YM(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=YM(r));return e};$i.add=Fhe;$i.addAll=Ohe;$i.cover=Nhe;$i.data=Dhe;$i.extent=$he;$i.find=Rhe;$i.remove=Ihe;$i.removeAll=Mhe;$i.root=Lhe;$i.size=Phe;$i.visit=Bhe;$i.visitAfter=Uhe;$i.x=Hhe;$i.y=Whe;function wi(e){return function(){return e}}function Bc(e){return(e()-.5)*1e-6}function jhe(e){return e.x+e.vx}function Ghe(e){return e.y+e.vy}function qhe(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=wi(e==null?1:+e));function a(){for(var c,u=t.length,f,h,d,p,g,m,x=0;x<s;++x)for(f=g4(t,jhe,Ghe).visitAfter(o),c=0;c<u;++c)h=t[c],g=n[h.index],m=g*g,d=h.x+h.vx,p=h.y+h.vy,f.visit(y);function y(v,_,b,w,E){var A=v.data,S=v.r,T=g+S;if(A){if(A.index>h.index){var C=d-A.x-A.vx,O=p-A.y-A.vy,F=C*C+O*O;F<T*T&&(C===0&&(C=Bc(r),F+=C*C),O===0&&(O=Bc(r),F+=O*O),F=(T-(F=Math.sqrt(F)))/F*i,h.vx+=(C*=F)*(T=(S*=S)/(m+S)),h.vy+=(O*=F)*T,A.vx-=C*(T=1-T),A.vy-=O*T)}return}return _>d+T||w<d-T||b>p+T||E<p-T}}function o(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,f;for(n=new Array(u),c=0;c<u;++c)f=t[c],n[f.index]=+e(f,c,t)}}return a.initialize=function(c,u){t=c,r=u,l()},a.iterations=function(c){return arguments.length?(s=+c,a):s},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(e=typeof c=="function"?c:wi(+c),l(),a):e},a}function Xhe(e){return e.index}function KM(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Yhe(e){var t=Xhe,n=f,r,i=wi(30),s,a,o,l,c,u=1;e==null&&(e=[]);function f(m){return 1/Math.min(o[m.source.index],o[m.target.index])}function h(m){for(var x=0,y=e.length;x<u;++x)for(var v=0,_,b,w,E,A,S,T;v<y;++v)_=e[v],b=_.source,w=_.target,E=w.x+w.vx-b.x-b.vx||Bc(c),A=w.y+w.vy-b.y-b.vy||Bc(c),S=Math.sqrt(E*E+A*A),S=(S-s[v])/S*m*r[v],E*=S,A*=S,w.vx-=E*(T=l[v]),w.vy-=A*T,b.vx+=E*(T=1-T),b.vy+=A*T}function d(){if(a){var m,x=a.length,y=e.length,v=new Map(a.map((b,w)=>[t(b,w,a),b])),_;for(m=0,o=new Array(x);m<y;++m)_=e[m],_.index=m,typeof _.source!="object"&&(_.source=KM(v,_.source)),typeof _.target!="object"&&(_.target=KM(v,_.target)),o[_.source.index]=(o[_.source.index]||0)+1,o[_.target.index]=(o[_.target.index]||0)+1;for(m=0,l=new Array(y);m<y;++m)_=e[m],l[m]=o[_.source.index]/(o[_.source.index]+o[_.target.index]);r=new Array(y),p(),s=new Array(y),g()}}function p(){if(a)for(var m=0,x=e.length;m<x;++m)r[m]=+n(e[m],m,e)}function g(){if(a)for(var m=0,x=e.length;m<x;++m)s[m]=+i(e[m],m,e)}return h.initialize=function(m,x){a=m,c=x,d()},h.links=function(m){return arguments.length?(e=m,d(),h):e},h.id=function(m){return arguments.length?(t=m,h):t},h.iterations=function(m){return arguments.length?(u=+m,h):u},h.strength=function(m){return arguments.length?(n=typeof m=="function"?m:wi(+m),p(),h):n},h.distance=function(m){return arguments.length?(i=typeof m=="function"?m:wi(+m),g(),h):i},h}const Khe=1664525,Jhe=1013904223,JM=4294967296;function Zhe(){let e=1;return()=>(e=(Khe*e+Jhe)%JM)/JM}function Qhe(e){return e.x}function ede(e){return e.y}var tde=10,nde=Math.PI*(3-Math.sqrt(5));function rde(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,a=.6,o=new Map,l=u4(f),c=e4("tick","end"),u=Zhe();e==null&&(e=[]);function f(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(g){var m,x=e.length,y;g===void 0&&(g=1);for(var v=0;v<g;++v)for(n+=(s-n)*i,o.forEach(function(_){_(n)}),m=0;m<x;++m)y=e[m],y.fx==null?y.x+=y.vx*=a:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=a:(y.y=y.fy,y.vy=0);return t}function d(){for(var g=0,m=e.length,x;g<m;++g){if(x=e[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var y=tde*Math.sqrt(.5+g),v=g*nde;x.x=y*Math.cos(v),x.y=y*Math.sin(v)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function p(g){return g.initialize&&g.initialize(e,u),g}return d(),t={tick:h,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,d(),o.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(s=+g,t):s},velocityDecay:function(g){return arguments.length?(a=1-g,t):1-a},randomSource:function(g){return arguments.length?(u=g,o.forEach(p),t):u},force:function(g,m){return arguments.length>1?(m==null?o.delete(g):o.set(g,p(m)),t):o.get(g)},find:function(g,m,x){var y=0,v=e.length,_,b,w,E,A;for(x==null?x=1/0:x*=x,y=0;y<v;++y)E=e[y],_=g-E.x,b=m-E.y,w=_*_+b*b,w<x&&(A=E,x=w);return A},on:function(g,m){return arguments.length>1?(c.on(g,m),t):c.on(g)}}}function ide(){var e,t,n,r,i=wi(-30),s,a=1,o=1/0,l=.81;function c(d){var p,g=e.length,m=g4(e,Qhe,ede).visitAfter(f);for(r=d,p=0;p<g;++p)t=e[p],m.visit(h)}function u(){if(e){var d,p=e.length,g;for(s=new Array(p),d=0;d<p;++d)g=e[d],s[g.index]=+i(g,d,e)}}function f(d){var p=0,g,m,x=0,y,v,_;if(d.length){for(y=v=_=0;_<4;++_)(g=d[_])&&(m=Math.abs(g.value))&&(p+=g.value,x+=m,y+=m*g.x,v+=m*g.y);d.x=y/x,d.y=v/x}else{g=d,g.x=g.data.x,g.y=g.data.y;do p+=s[g.data.index];while(g=g.next)}d.value=p}function h(d,p,g,m){if(!d.value)return!0;var x=d.x-t.x,y=d.y-t.y,v=m-p,_=x*x+y*y;if(v*v/l<_)return _<o&&(x===0&&(x=Bc(n),_+=x*x),y===0&&(y=Bc(n),_+=y*y),_<a&&(_=Math.sqrt(a*_)),t.vx+=x*d.value*r/_,t.vy+=y*d.value*r/_),!0;if(d.length||_>=o)return;(d.data!==t||d.next)&&(x===0&&(x=Bc(n),_+=x*x),y===0&&(y=Bc(n),_+=y*y),_<a&&(_=Math.sqrt(a*_)));do d.data!==t&&(v=s[d.data.index]*r/_,t.vx+=x*v,t.vy+=y*v);while(d=d.next)}return c.initialize=function(d,p){e=d,n=p,u()},c.strength=function(d){return arguments.length?(i=typeof d=="function"?d:wi(+d),u(),c):i},c.distanceMin=function(d){return arguments.length?(a=d*d,c):Math.sqrt(a)},c.distanceMax=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.theta=function(d){return arguments.length?(l=d*d,c):Math.sqrt(l)},c}function sde(e){var t=wi(.1),n,r,i;typeof e!="function"&&(e=wi(e==null?0:+e));function s(o){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*o}function a(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(t=typeof o=="function"?o:wi(+o),a(),s):t},s.x=function(o){return arguments.length?(e=typeof o=="function"?o:wi(+o),a(),s):e},s}function ade(e){var t=wi(.1),n,r,i;typeof e!="function"&&(e=wi(e==null?0:+e));function s(o){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*o}function a(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(t=typeof o=="function"?o:wi(+o),a(),s):t},s.y=function(o){return arguments.length?(e=typeof o=="function"?o:wi(+o),a(),s):e},s}function ode(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i2(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function R0(e){return e=i2(Math.abs(e)),e?e[1]:NaN}function lde(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function cde(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ude=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vh(e){if(!(t=ude.exec(e)))throw new Error("invalid format: "+e);var t;return new x4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vh.prototype=x4.prototype;function x4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}x4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fde(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var UH;function hde(e,t){var n=i2(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(UH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+i2(e,Math.max(0,t+s-1))[0]}function ZM(e,t){var n=i2(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ode,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZM(e*100,t),r:ZM,s:hde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function e6(e){return e}var t6=Array.prototype.map,n6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zH(e){var t=e.grouping===void 0||e.thousands===void 0?e6:lde(t6.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?e6:cde(t6.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=vh(f);var h=f.fill,d=f.align,p=f.sign,g=f.symbol,m=f.zero,x=f.width,y=f.comma,v=f.precision,_=f.trim,b=f.type;b==="n"?(y=!0,b="g"):QM[b]||(v===void 0&&(v=12),_=!0,b="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",E=g==="$"?r:/[%p]/.test(b)?a:"",A=QM[b],S=/[defgprs%]/.test(b);v=v===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function T(C){var O=w,F=E,I,D,N;if(b==="c")F=A(C)+F,C="";else{C=+C;var M=C<0||1/C<0;if(C=isNaN(C)?l:A(Math.abs(C),v),_&&(C=fde(C)),M&&+C==0&&p!=="+"&&(M=!1),O=(M?p==="("?p:o:p==="-"||p==="("?"":p)+O,F=(b==="s"?n6[8+UH/3]:"")+F+(M&&p==="("?")":""),S){for(I=-1,D=C.length;++I<D;)if(N=C.charCodeAt(I),48>N||N>57){F=(N===46?i+C.slice(I+1):C.slice(I))+F,C=C.slice(0,I);break}}}y&&!m&&(C=t(C,1/0));var U=O.length+C.length+F.length,J=U<x?new Array(x-U+1).join(h):"";switch(y&&m&&(C=t(J+C,J.length?x-F.length:1/0),J=""),d){case"<":C=O+C+F+J;break;case"=":C=O+J+C+F;break;case"^":C=J.slice(0,U=J.length>>1)+O+C+F+J.slice(U);break;default:C=J+O+C+F;break}return s(C)}return T.toString=function(){return f+""},T}function u(f,h){var d=c((f=vh(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(R0(h)/3)))*3,g=Math.pow(10,-p),m=n6[8+p/3];return function(x){return d(g*x)+m}}return{format:c,formatPrefix:u}}var Iv,yE,v4;dde({thousands:",",grouping:[3],currency:["$",""]});function dde(e){return Iv=zH(e),yE=Iv.format,v4=Iv.formatPrefix,Iv}function HH(e){return Math.max(0,-R0(Math.abs(e)))}function VH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(R0(t)/3)))*3-R0(Math.abs(e)))}function WH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,R0(t)-R0(e))+1}var Qe=1e-6,s2=1e-12,mt=Math.PI,wn=mt/2,a2=mt/4,Oi=mt*2,Cn=180/mt,dt=mt/180,Tt=Math.abs,Ap=Math.atan,oa=Math.atan2,nt=Math.cos,Mv=Math.ceil,jH=Math.exp,Wk=Math.hypot,o2=Math.log,uA=Math.pow,Je=Math.sin,Zs=Math.sign||function(e){return e>0?1:e<0?-1:0},Ni=Math.sqrt,y4=Math.tan;function GH(e){return e>1?0:e<-1?mt:Math.acos(e)}function Zi(e){return e>1?wn:e<-1?-wn:Math.asin(e)}function br(){}function l2(e,t){e&&i6.hasOwnProperty(e.type)&&i6[e.type](e,t)}var r6={Feature:function(e,t){l2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)l2(n[r].geometry,t)}},i6={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){jk(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)jk(n[r],t,0)},Polygon:function(e,t){s6(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)s6(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)l2(n[r],t)}};function jk(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function s6(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)jk(e[n],t,1);t.polygonEnd()}function _l(e,t){e&&r6.hasOwnProperty(e.type)?r6[e.type](e,t):l2(e,t)}var c2=new Ai,u2=new Ai,qH,XH,Gk,qk,Xk,Io={point:br,lineStart:br,lineEnd:br,polygonStart:function(){c2=new Ai,Io.lineStart=pde,Io.lineEnd=gde},polygonEnd:function(){var e=+c2;u2.add(e<0?Oi+e:e),this.lineStart=this.lineEnd=this.point=br},sphere:function(){u2.add(Oi)}};function pde(){Io.point=mde}function gde(){YH(qH,XH)}function mde(e,t){Io.point=YH,qH=e,XH=t,e*=dt,t*=dt,Gk=e,qk=nt(t=t/2+a2),Xk=Je(t)}function YH(e,t){e*=dt,t*=dt,t=t/2+a2;var n=e-Gk,r=n>=0?1:-1,i=r*n,s=nt(t),a=Je(t),o=Xk*a,l=qk*s+o*nt(i),c=o*r*Je(i);c2.add(oa(c,l)),Gk=e,qk=s,Xk=a}function xde(e){return u2=new Ai,_l(e,Io),u2*2}function f2(e){return[oa(e[1],e[0]),Zi(e[2])]}function yh(e){var t=e[0],n=e[1],r=nt(n);return[r*nt(t),r*Je(t),Je(n)]}function Lv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function I0(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function fA(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Pv(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function h2(e){var t=Ni(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var mn,zi,_n,ds,Sf,KH,JH,u0,vm,Oc,ql,ml={point:Yk,lineStart:a6,lineEnd:o6,polygonStart:function(){ml.point=QH,ml.lineStart=vde,ml.lineEnd=yde,vm=new Ai,Io.polygonStart()},polygonEnd:function(){Io.polygonEnd(),ml.point=Yk,ml.lineStart=a6,ml.lineEnd=o6,c2<0?(mn=-(_n=180),zi=-(ds=90)):vm>Qe?ds=90:vm<-Qe&&(zi=-90),ql[0]=mn,ql[1]=_n},sphere:function(){mn=-(_n=180),zi=-(ds=90)}};function Yk(e,t){Oc.push(ql=[mn=e,_n=e]),t<zi&&(zi=t),t>ds&&(ds=t)}function ZH(e,t){var n=yh([e*dt,t*dt]);if(u0){var r=I0(u0,n),i=[r[1],-r[0],0],s=I0(i,r);h2(s),s=f2(s);var a=e-Sf,o=a>0?1:-1,l=s[0]*Cn*o,c,u=Tt(a)>180;u^(o*Sf<l&&l<o*e)?(c=s[1]*Cn,c>ds&&(ds=c)):(l=(l+360)%360-180,u^(o*Sf<l&&l<o*e)?(c=-s[1]*Cn,c<zi&&(zi=c)):(t<zi&&(zi=t),t>ds&&(ds=t))),u?e<Sf?hs(mn,e)>hs(mn,_n)&&(_n=e):hs(e,_n)>hs(mn,_n)&&(mn=e):_n>=mn?(e<mn&&(mn=e),e>_n&&(_n=e)):e>Sf?hs(mn,e)>hs(mn,_n)&&(_n=e):hs(e,_n)>hs(mn,_n)&&(mn=e)}else Oc.push(ql=[mn=e,_n=e]);t<zi&&(zi=t),t>ds&&(ds=t),u0=n,Sf=e}function a6(){ml.point=ZH}function o6(){ql[0]=mn,ql[1]=_n,ml.point=Yk,u0=null}function QH(e,t){if(u0){var n=e-Sf;vm.add(Tt(n)>180?n+(n>0?360:-360):n)}else KH=e,JH=t;Io.point(e,t),ZH(e,t)}function vde(){Io.lineStart()}function yde(){QH(KH,JH),Io.lineEnd(),Tt(vm)>Qe&&(mn=-(_n=180)),ql[0]=mn,ql[1]=_n,u0=null}function hs(e,t){return(t-=e)<0?t+360:t}function _de(e,t){return e[0]-t[0]}function l6(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function bde(e){var t,n,r,i,s,a,o;if(ds=_n=-(mn=zi=1/0),Oc=[],_l(e,ml),n=Oc.length){for(Oc.sort(_de),t=1,r=Oc[0],s=[r];t<n;++t)i=Oc[t],l6(r,i[0])||l6(r,i[1])?(hs(r[0],i[1])>hs(r[0],r[1])&&(r[1]=i[1]),hs(i[0],r[1])>hs(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(a=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(o=hs(r[1],i[0]))>a&&(a=o,mn=i[0],_n=r[1])}return Oc=ql=null,mn===1/0||zi===1/0?[[NaN,NaN],[NaN,NaN]]:[[mn,zi],[_n,ds]]}var Pg,d2,p2,g2,m2,x2,v2,y2,Kk,Jk,Zk,eV,tV,mi,xi,vi,Ra={sphere:br,point:_4,lineStart:c6,lineEnd:u6,polygonStart:function(){Ra.lineStart=Sde,Ra.lineEnd=Ade},polygonEnd:function(){Ra.lineStart=c6,Ra.lineEnd=u6}};function _4(e,t){e*=dt,t*=dt;var n=nt(t);cx(n*nt(e),n*Je(e),Je(t))}function cx(e,t,n){++Pg,p2+=(e-p2)/Pg,g2+=(t-g2)/Pg,m2+=(n-m2)/Pg}function c6(){Ra.point=Ede}function Ede(e,t){e*=dt,t*=dt;var n=nt(t);mi=n*nt(e),xi=n*Je(e),vi=Je(t),Ra.point=wde,cx(mi,xi,vi)}function wde(e,t){e*=dt,t*=dt;var n=nt(t),r=n*nt(e),i=n*Je(e),s=Je(t),a=oa(Ni((a=xi*s-vi*i)*a+(a=vi*r-mi*s)*a+(a=mi*i-xi*r)*a),mi*r+xi*i+vi*s);d2+=a,x2+=a*(mi+(mi=r)),v2+=a*(xi+(xi=i)),y2+=a*(vi+(vi=s)),cx(mi,xi,vi)}function u6(){Ra.point=_4}function Sde(){Ra.point=Tde}function Ade(){nV(eV,tV),Ra.point=_4}function Tde(e,t){eV=e,tV=t,e*=dt,t*=dt,Ra.point=nV;var n=nt(t);mi=n*nt(e),xi=n*Je(e),vi=Je(t),cx(mi,xi,vi)}function nV(e,t){e*=dt,t*=dt;var n=nt(t),r=n*nt(e),i=n*Je(e),s=Je(t),a=xi*s-vi*i,o=vi*r-mi*s,l=mi*i-xi*r,c=Wk(a,o,l),u=Zi(c),f=c&&-u/c;Kk.add(f*a),Jk.add(f*o),Zk.add(f*l),d2+=u,x2+=u*(mi+(mi=r)),v2+=u*(xi+(xi=i)),y2+=u*(vi+(vi=s)),cx(mi,xi,vi)}function kde(e){Pg=d2=p2=g2=m2=x2=v2=y2=0,Kk=new Ai,Jk=new Ai,Zk=new Ai,_l(e,Ra);var t=+Kk,n=+Jk,r=+Zk,i=Wk(t,n,r);return i<s2&&(t=x2,n=v2,r=y2,d2<Qe&&(t=p2,n=g2,r=m2),i=Wk(t,n,r),i<s2)?[NaN,NaN]:[oa(n,t)*Cn,Zi(r/i)*Cn]}function Qk(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function eC(e,t){return Tt(e)>mt&&(e-=Math.round(e/Oi)*Oi),[e,t]}eC.invert=eC;function rV(e,t,n){return(e%=Oi)?t||n?Qk(h6(e),d6(t,n)):h6(e):t||n?d6(t,n):eC}function f6(e){return function(t,n){return t+=e,Tt(t)>mt&&(t-=Math.round(t/Oi)*Oi),[t,n]}}function h6(e){var t=f6(e);return t.invert=f6(-e),t}function d6(e,t){var n=nt(e),r=Je(e),i=nt(t),s=Je(t);function a(o,l){var c=nt(l),u=nt(o)*c,f=Je(o)*c,h=Je(l),d=h*n+u*r;return[oa(f*i-d*s,u*n-h*r),Zi(d*i+f*s)]}return a.invert=function(o,l){var c=nt(l),u=nt(o)*c,f=Je(o)*c,h=Je(l),d=h*i-f*s;return[oa(f*i+h*s,u*n+d*r),Zi(d*n-u*r)]},a}function Cde(e){e=rV(e[0]*dt,e[1]*dt,e.length>2?e[2]*dt:0);function t(n){return n=e(n[0]*dt,n[1]*dt),n[0]*=Cn,n[1]*=Cn,n}return t.invert=function(n){return n=e.invert(n[0]*dt,n[1]*dt),n[0]*=Cn,n[1]*=Cn,n},t}function Fde(e,t,n,r,i,s){if(n){var a=nt(t),o=Je(t),l=r*n;i==null?(i=t+r*Oi,s=t-l/2):(i=p6(a,i),s=p6(a,s),(r>0?i<s:i>s)&&(i+=r*Oi));for(var c,u=i;r>0?u>s:u<s;u-=l)c=f2([a,-o*nt(u),-o*Je(u)]),e.point(c[0],c[1])}}function p6(e,t){t=yh(t),t[0]-=e,h2(t);var n=GH(-t[1]);return((-t[2]<0?-n:n)+Oi-Qe)%Oi}function iV(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:br,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ky(e,t){return Tt(e[0]-t[0])<Qe&&Tt(e[1]-t[1])<Qe}function Bv(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function sV(e,t,n,r,i){var s=[],a=[],o,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],x=p[g],y;if(Ky(m,x)){if(!m[2]&&!x[2]){for(i.lineStart(),o=0;o<g;++o)i.point((m=p[o])[0],m[1]);i.lineEnd();return}x[0]+=2*Qe}s.push(y=new Bv(m,p,null,!0)),a.push(y.o=new Bv(m,null,y,!1)),s.push(y=new Bv(x,p,null,!1)),a.push(y.o=new Bv(x,null,y,!0))}}),!!s.length){for(a.sort(t),g6(s),g6(a),o=0,l=a.length;o<l;++o)a[o].e=n=!n;for(var c=s[0],u,f;;){for(var h=c,d=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=u.length;o<l;++o)i.point((f=u[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((f=u[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);i.lineEnd()}}}function g6(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function hA(e){return Tt(e[0])<=mt?e[0]:Zs(e[0])*((Tt(e[0])+mt)%Oi-mt)}function Ode(e,t){var n=hA(t),r=t[1],i=Je(r),s=[Je(n),-nt(n),0],a=0,o=0,l=new Ai;i===1?r=wn+Qe:i===-1&&(r=-wn-Qe);for(var c=0,u=e.length;c<u;++c)if(h=(f=e[c]).length)for(var f,h,d=f[h-1],p=hA(d),g=d[1]/2+a2,m=Je(g),x=nt(g),y=0;y<h;++y,p=_,m=w,x=E,d=v){var v=f[y],_=hA(v),b=v[1]/2+a2,w=Je(b),E=nt(b),A=_-p,S=A>=0?1:-1,T=S*A,C=T>mt,O=m*w;if(l.add(oa(O*S*Je(T),x*E+O*nt(T))),a+=C?A+S*Oi:A,C^p>=n^_>=n){var F=I0(yh(d),yh(v));h2(F);var I=I0(s,F);h2(I);var D=(C^A>=0?-1:1)*Zi(I[2]);(r>D||r===D&&(F[0]||F[1]))&&(o+=C^A>=0?1:-1)}}return(a<-Qe||a<Qe&&l<-s2)^o&1}function aV(e,t,n,r){return function(i){var s=t(i),a=iV(),o=t(a),l=!1,c,u,f,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=x,h.lineStart=y,h.lineEnd=v,u=[],c=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,u=Bz(u);var _=Ode(c,r);u.length?(l||(i.polygonStart(),l=!0),sV(u,Dde,_,n,i)):_&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,b){e(_,b)&&i.point(_,b)}function p(_,b){s.point(_,b)}function g(){h.point=p,s.lineStart()}function m(){h.point=d,s.lineEnd()}function x(_,b){f.push([_,b]),o.point(_,b)}function y(){o.lineStart(),f=[]}function v(){x(f[0][0],f[0][1]),o.lineEnd();var _=o.clean(),b=a.result(),w,E=b.length,A,S,T;if(f.pop(),c.push(f),f=null,!!E){if(_&1){if(S=b[0],(A=S.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),w=0;w<A;++w)i.point((T=S[w])[0],T[1]);i.lineEnd()}return}E>1&&_&2&&b.push(b.pop().concat(b.shift())),u.push(b.filter(Nde))}}return h}}function Nde(e){return e.length>1}function Dde(e,t){return((e=e.x)[0]<0?e[1]-wn-Qe:wn-e[1])-((t=t.x)[0]<0?t[1]-wn-Qe:wn-t[1])}const m6=aV(function(){return!0},$de,Ide,[-mt,-wn]);function $de(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,a){var o=s>0?mt:-mt,l=Tt(s-t);Tt(l-mt)<Qe?(e.point(t,n=(n+a)/2>0?wn:-wn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(s,n),i=0):r!==o&&l>=mt&&(Tt(t-r)<Qe&&(t-=r*Qe),Tt(s-o)<Qe&&(s-=o*Qe),n=Rde(t,n,s,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=s,n=a),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Rde(e,t,n,r){var i,s,a=Je(e-n);return Tt(a)>Qe?Ap((Je(t)*(s=nt(r))*Je(n)-Je(r)*(i=nt(t))*Je(e))/(i*s*a)):(t+r)/2}function Ide(e,t,n,r){var i;if(e==null)i=n*wn,r.point(-mt,i),r.point(0,i),r.point(mt,i),r.point(mt,0),r.point(mt,-i),r.point(0,-i),r.point(-mt,-i),r.point(-mt,0),r.point(-mt,i);else if(Tt(e[0]-t[0])>Qe){var s=e[0]<t[0]?mt:-mt;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function Mde(e){var t=nt(e),n=2*dt,r=t>0,i=Tt(t)>Qe;function s(u,f,h,d){Fde(d,e,n,h,u,f)}function a(u,f){return nt(u)*nt(f)>t}function o(u){var f,h,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,x){var y=[m,x],v,_=a(m,x),b=r?_?0:c(m,x):_?c(m+(m<0?mt:-mt),x):0;if(!f&&(p=d=_)&&u.lineStart(),_!==d&&(v=l(f,y),(!v||Ky(f,v)||Ky(y,v))&&(y[2]=1)),_!==d)g=0,_?(u.lineStart(),v=l(y,f),u.point(v[0],v[1])):(v=l(f,y),u.point(v[0],v[1],2),u.lineEnd()),f=v;else if(i&&f&&r^_){var w;!(b&h)&&(w=l(y,f,!0))&&(g=0,r?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}_&&(!f||!Ky(f,y))&&u.point(y[0],y[1]),f=y,d=_,h=b},lineEnd:function(){d&&u.lineEnd(),f=null},clean:function(){return g|(p&&d)<<1}}}function l(u,f,h){var d=yh(u),p=yh(f),g=[1,0,0],m=I0(d,p),x=Lv(m,m),y=m[0],v=x-y*y;if(!v)return!h&&u;var _=t*x/v,b=-t*y/v,w=I0(g,m),E=Pv(g,_),A=Pv(m,b);fA(E,A);var S=w,T=Lv(E,S),C=Lv(S,S),O=T*T-C*(Lv(E,E)-1);if(!(O<0)){var F=Ni(O),I=Pv(S,(-T-F)/C);if(fA(I,E),I=f2(I),!h)return I;var D=u[0],N=f[0],M=u[1],U=f[1],J;N<D&&(J=D,D=N,N=J);var X=N-D,ce=Tt(X-mt)<Qe,ve=ce||X<Qe;if(!ce&&U<M&&(J=M,M=U,U=J),ve?ce?M+U>0^I[1]<(Tt(I[0]-D)<Qe?M:U):M<=I[1]&&I[1]<=U:X>mt^(D<=I[0]&&I[0]<=N)){var _e=Pv(S,(-T+F)/C);return fA(_e,E),[I,f2(_e)]}}}function c(u,f){var h=r?e:mt-e,d=0;return u<-h?d|=1:u>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return aV(a,o,s,r?[0,-e]:[-mt,e-mt])}function Lde(e,t,n,r,i,s){var a=e[0],o=e[1],l=t[0],c=t[1],u=0,f=1,h=l-a,d=c-o,p;if(p=n-a,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=i-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}if(p=r-o,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=s-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}return u>0&&(e[0]=a+u*h,e[1]=o+u*d),f<1&&(t[0]=a+f*h,t[1]=o+f*d),!0}}}}}var Bg=1e9,Uv=-Bg;function oV(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function s(c,u,f,h){var d=0,p=0;if(c==null||(d=a(c,f))!==(p=a(u,f))||l(c,u)<0^f>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+f+4)%4)!==p);else h.point(u[0],u[1])}function a(c,u){return Tt(c[0]-e)<Qe?u>0?0:3:Tt(c[0]-n)<Qe?u>0?2:1:Tt(c[1]-t)<Qe?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var f=a(c,1),h=a(u,1);return f!==h?f-h:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=iV(),h,d,p,g,m,x,y,v,_,b,w,E={point:A,lineStart:O,lineEnd:F,polygonStart:T,polygonEnd:C};function A(D,N){i(D,N)&&u.point(D,N)}function S(){for(var D=0,N=0,M=d.length;N<M;++N)for(var U=d[N],J=1,X=U.length,ce=U[0],ve,_e,de=ce[0],Fe=ce[1];J<X;++J)ve=de,_e=Fe,ce=U[J],de=ce[0],Fe=ce[1],_e<=r?Fe>r&&(de-ve)*(r-_e)>(Fe-_e)*(e-ve)&&++D:Fe<=r&&(de-ve)*(r-_e)<(Fe-_e)*(e-ve)&&--D;return D}function T(){u=f,h=[],d=[],w=!0}function C(){var D=S(),N=w&&D,M=(h=Bz(h)).length;(N||M)&&(c.polygonStart(),N&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),M&&sV(h,o,D,s,c),c.polygonEnd()),u=c,h=d=p=null}function O(){E.point=I,d&&d.push(p=[]),b=!0,_=!1,y=v=NaN}function F(){h&&(I(g,m),x&&_&&f.rejoin(),h.push(f.result())),E.point=A,_&&u.lineEnd()}function I(D,N){var M=i(D,N);if(d&&p.push([D,N]),b)g=D,m=N,x=M,b=!1,M&&(u.lineStart(),u.point(D,N));else if(M&&_)u.point(D,N);else{var U=[y=Math.max(Uv,Math.min(Bg,y)),v=Math.max(Uv,Math.min(Bg,v))],J=[D=Math.max(Uv,Math.min(Bg,D)),N=Math.max(Uv,Math.min(Bg,N))];Lde(U,J,e,t,n,r)?(_||(u.lineStart(),u.point(U[0],U[1])),u.point(J[0],J[1]),M||u.lineEnd(),w=!1):M&&(u.lineStart(),u.point(D,N),w=!1)}y=D,v=N,_=M}return E}}function x6(e,t,n){var r=xs(e,t-Qe,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function v6(e,t,n){var r=xs(e,t-Qe,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function Pde(){var e,t,n,r,i,s,a,o,l=10,c=l,u=90,f=360,h,d,p,g,m=2.5;function x(){return{type:"MultiLineString",coordinates:y()}}function y(){return xs(Mv(r/u)*u,n,u).map(p).concat(xs(Mv(o/f)*f,a,f).map(g)).concat(xs(Mv(t/l)*l,e,l).filter(function(v){return Tt(v%u)>Qe}).map(h)).concat(xs(Mv(s/c)*c,i,c).filter(function(v){return Tt(v%f)>Qe}).map(d))}return x.lines=function(){return y().map(function(v){return{type:"LineString",coordinates:v}})},x.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(a).slice(1),p(n).reverse().slice(1),g(o).reverse().slice(1))]}},x.extent=function(v){return arguments.length?x.extentMajor(v).extentMinor(v):x.extentMinor()},x.extentMajor=function(v){return arguments.length?(r=+v[0][0],n=+v[1][0],o=+v[0][1],a=+v[1][1],r>n&&(v=r,r=n,n=v),o>a&&(v=o,o=a,a=v),x.precision(m)):[[r,o],[n,a]]},x.extentMinor=function(v){return arguments.length?(t=+v[0][0],e=+v[1][0],s=+v[0][1],i=+v[1][1],t>e&&(v=t,t=e,e=v),s>i&&(v=s,s=i,i=v),x.precision(m)):[[t,s],[e,i]]},x.step=function(v){return arguments.length?x.stepMajor(v).stepMinor(v):x.stepMinor()},x.stepMajor=function(v){return arguments.length?(u=+v[0],f=+v[1],x):[u,f]},x.stepMinor=function(v){return arguments.length?(l=+v[0],c=+v[1],x):[l,c]},x.precision=function(v){return arguments.length?(m=+v,h=x6(s,i,90),d=v6(t,e,m),p=x6(o,a,90),g=v6(r,n,m),x):m},x.extentMajor([[-180,-90+Qe],[180,90-Qe]]).extentMinor([[-180,-80-Qe],[180,80+Qe]])}const u1=e=>e;var dA=new Ai,tC=new Ai,lV,cV,nC,rC,bl={point:br,lineStart:br,lineEnd:br,polygonStart:function(){bl.lineStart=Bde,bl.lineEnd=zde},polygonEnd:function(){bl.lineStart=bl.lineEnd=bl.point=br,dA.add(Tt(tC)),tC=new Ai},result:function(){var e=dA/2;return dA=new Ai,e}};function Bde(){bl.point=Ude}function Ude(e,t){bl.point=uV,lV=nC=e,cV=rC=t}function uV(e,t){tC.add(rC*e-nC*t),nC=e,rC=t}function zde(){uV(lV,cV)}var M0=1/0,_2=M0,f1=-M0,b2=f1,E2={point:Hde,lineStart:br,lineEnd:br,polygonStart:br,polygonEnd:br,result:function(){var e=[[M0,_2],[f1,b2]];return f1=b2=-(_2=M0=1/0),e}};function Hde(e,t){e<M0&&(M0=e),e>f1&&(f1=e),t<_2&&(_2=t),t>b2&&(b2=t)}var iC=0,sC=0,Ug=0,w2=0,S2=0,Gd=0,aC=0,oC=0,zg=0,fV,hV,bo,Eo,Xs={point:_h,lineStart:y6,lineEnd:_6,polygonStart:function(){Xs.lineStart=jde,Xs.lineEnd=Gde},polygonEnd:function(){Xs.point=_h,Xs.lineStart=y6,Xs.lineEnd=_6},result:function(){var e=zg?[aC/zg,oC/zg]:Gd?[w2/Gd,S2/Gd]:Ug?[iC/Ug,sC/Ug]:[NaN,NaN];return iC=sC=Ug=w2=S2=Gd=aC=oC=zg=0,e}};function _h(e,t){iC+=e,sC+=t,++Ug}function y6(){Xs.point=Vde}function Vde(e,t){Xs.point=Wde,_h(bo=e,Eo=t)}function Wde(e,t){var n=e-bo,r=t-Eo,i=Ni(n*n+r*r);w2+=i*(bo+e)/2,S2+=i*(Eo+t)/2,Gd+=i,_h(bo=e,Eo=t)}function _6(){Xs.point=_h}function jde(){Xs.point=qde}function Gde(){dV(fV,hV)}function qde(e,t){Xs.point=dV,_h(fV=bo=e,hV=Eo=t)}function dV(e,t){var n=e-bo,r=t-Eo,i=Ni(n*n+r*r);w2+=i*(bo+e)/2,S2+=i*(Eo+t)/2,Gd+=i,i=Eo*e-bo*t,aC+=i*(bo+e),oC+=i*(Eo+t),zg+=i*3,_h(bo=e,Eo=t)}function pV(e){this._context=e}pV.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Oi);break}}},result:br};var lC=new Ai,pA,gV,mV,Hg,Vg,h1={point:br,lineStart:function(){h1.point=Xde},lineEnd:function(){pA&&xV(gV,mV),h1.point=br},polygonStart:function(){pA=!0},polygonEnd:function(){pA=null},result:function(){var e=+lC;return lC=new Ai,e}};function Xde(e,t){h1.point=xV,gV=Hg=e,mV=Vg=t}function xV(e,t){Hg-=e,Vg-=t,lC.add(Ni(Hg*Hg+Vg*Vg)),Hg=e,Vg=t}let b6,A2,E6,w6;class S6{constructor(t){this._append=t==null?vV:Yde(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==E6||this._append!==A2){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,E6=r,A2=this._append,w6=this._,this._=i}this._+=w6;break}}}result(){const t=this._;return this._="",t.length?t:null}}function vV(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Yde(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return vV;if(t!==b6){const n=10**t;b6=t,A2=function(i){let s=1;this._+=i[0];for(const a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return A2}function yV(e,t){let n=3,r=4.5,i,s;function a(o){return o&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),_l(o,i(s))),s.result()}return a.area=function(o){return _l(o,i(bl)),bl.result()},a.measure=function(o){return _l(o,i(h1)),h1.result()},a.bounds=function(o){return _l(o,i(E2)),E2.result()},a.centroid=function(o){return _l(o,i(Xs)),Xs.result()},a.projection=function(o){return arguments.length?(i=o==null?(e=null,u1):(e=o).stream,a):e},a.context=function(o){return arguments.length?(s=o==null?(t=null,new S6(n)):new pV(t=o),typeof r!="function"&&s.pointRadius(r),a):t},a.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(s.pointRadius(+o),+o),a):r},a.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(s=new S6(n)),a},a.projection(e).digits(n).context(t)}function _E(e){return function(t){var n=new cC;for(var r in e)n[r]=e[r];return n.stream=t,n}}function cC(){}cC.prototype={constructor:cC,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function b4(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),_l(n,e.stream(E2)),t(E2.result()),r!=null&&e.clipExtent(r),e}function bE(e,t,n){return b4(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),o=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(s-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,l])},n)}function E4(e,t,n){return bE(e,[[0,0],t],n)}function w4(e,t,n){return b4(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,o=-s*r[0][1];e.scale(150*s).translate([a,o])},n)}function S4(e,t,n){return b4(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],o=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,o])},n)}var A6=16,Kde=nt(30*dt);function T6(e,t){return+t?Zde(e,t):Jde(e)}function Jde(e){return _E({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Zde(e,t){function n(r,i,s,a,o,l,c,u,f,h,d,p,g,m){var x=c-r,y=u-i,v=x*x+y*y;if(v>4*t&&g--){var _=a+h,b=o+d,w=l+p,E=Ni(_*_+b*b+w*w),A=Zi(w/=E),S=Tt(Tt(w)-1)<Qe||Tt(s-f)<Qe?(s+f)/2:oa(b,_),T=e(S,A),C=T[0],O=T[1],F=C-r,I=O-i,D=y*F-x*I;(D*D/v>t||Tt((x*F+y*I)/v-.5)>.3||a*h+o*d+l*p<Kde)&&(n(r,i,s,a,o,l,C,O,S,_/=E,b/=E,w,g,m),m.point(C,O),n(C,O,S,_,b,w,c,u,f,h,d,p,g,m))}}return function(r){var i,s,a,o,l,c,u,f,h,d,p,g,m={point:x,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),m.lineStart=b},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function x(A,S){A=e(A,S),r.point(A[0],A[1])}function y(){f=NaN,m.point=v,r.lineStart()}function v(A,S){var T=yh([A,S]),C=e(A,S);n(f,h,u,d,p,g,f=C[0],h=C[1],u=A,d=T[0],p=T[1],g=T[2],A6,r),r.point(f,h)}function _(){m.point=x,r.lineEnd()}function b(){y(),m.point=w,m.lineEnd=E}function w(A,S){v(i=A,S),s=f,a=h,o=d,l=p,c=g,m.point=v}function E(){n(f,h,u,d,p,g,s,a,i,o,l,c,A6,r),m.lineEnd=_,_()}return m}}var Qde=_E({point:function(e,t){this.stream.point(e*dt,t*dt)}});function e0e(e){return _E({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function t0e(e,t,n,r,i){function s(a,o){return a*=r,o*=i,[t+e*a,n-e*o]}return s.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},s}function k6(e,t,n,r,i,s){if(!s)return t0e(e,t,n,r,i);var a=nt(s),o=Je(s),l=a*e,c=o*e,u=a/e,f=o/e,h=(o*n-a*t)/e,d=(o*t+a*n)/e;function p(g,m){return g*=r,m*=i,[l*g-c*m+t,n-c*g-l*m]}return p.invert=function(g,m){return[r*(u*g-f*m+h),i*(d-f*g-u*m)]},p}function Go(e){return A4(function(){return e})()}function A4(e){var t,n=150,r=480,i=250,s=0,a=0,o=0,l=0,c=0,u,f=0,h=1,d=1,p=null,g=m6,m=null,x,y,v,_=u1,b=.5,w,E,A,S,T;function C(D){return A(D[0]*dt,D[1]*dt)}function O(D){return D=A.invert(D[0],D[1]),D&&[D[0]*Cn,D[1]*Cn]}C.stream=function(D){return S&&T===D?S:S=Qde(e0e(u)(g(w(_(T=D)))))},C.preclip=function(D){return arguments.length?(g=D,p=void 0,I()):g},C.postclip=function(D){return arguments.length?(_=D,m=x=y=v=null,I()):_},C.clipAngle=function(D){return arguments.length?(g=+D?Mde(p=D*dt):(p=null,m6),I()):p*Cn},C.clipExtent=function(D){return arguments.length?(_=D==null?(m=x=y=v=null,u1):oV(m=+D[0][0],x=+D[0][1],y=+D[1][0],v=+D[1][1]),I()):m==null?null:[[m,x],[y,v]]},C.scale=function(D){return arguments.length?(n=+D,F()):n},C.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],F()):[r,i]},C.center=function(D){return arguments.length?(s=D[0]%360*dt,a=D[1]%360*dt,F()):[s*Cn,a*Cn]},C.rotate=function(D){return arguments.length?(o=D[0]%360*dt,l=D[1]%360*dt,c=D.length>2?D[2]%360*dt:0,F()):[o*Cn,l*Cn,c*Cn]},C.angle=function(D){return arguments.length?(f=D%360*dt,F()):f*Cn},C.reflectX=function(D){return arguments.length?(h=D?-1:1,F()):h<0},C.reflectY=function(D){return arguments.length?(d=D?-1:1,F()):d<0},C.precision=function(D){return arguments.length?(w=T6(E,b=D*D),I()):Ni(b)},C.fitExtent=function(D,N){return bE(C,D,N)},C.fitSize=function(D,N){return E4(C,D,N)},C.fitWidth=function(D,N){return w4(C,D,N)},C.fitHeight=function(D,N){return S4(C,D,N)};function F(){var D=k6(n,0,0,h,d,f).apply(null,t(s,a)),N=k6(n,r-D[0],i-D[1],h,d,f);return u=rV(o,l,c),E=Qk(t,N),A=Qk(u,E),w=T6(E,b),I()}function I(){return S=T=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&O,F()}}function T4(e){var t=0,n=mt/3,r=A4(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*dt,n=s[1]*dt):[t*Cn,n*Cn]},i}function n0e(e){var t=nt(e);function n(r,i){return[r*t,Je(i)/t]}return n.invert=function(r,i){return[r/t,Zi(i*t)]},n}function r0e(e,t){var n=Je(e),r=(n+Je(t))/2;if(Tt(r)<Qe)return n0e(e);var i=1+n*(2*r-n),s=Ni(i)/r;function a(o,l){var c=Ni(i-2*r*Je(l))/r;return[c*Je(o*=r),s-c*nt(o)]}return a.invert=function(o,l){var c=s-l,u=oa(o,Tt(c))*Zs(c);return c*r<0&&(u-=mt*Zs(o)*Zs(c)),[u/r,Zi((i-(o*o+c*c)*r*r)/(2*r))]},a}function T2(){return T4(r0e).scale(155.424).center([0,33.6442])}function _V(){return T2().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function i0e(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function s0e(){var e,t,n=_V(),r,i=T2().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=T2().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,d){l=[h,d]}};function u(h){var d=h[0],p=h[1];return l=null,r.point(d,p),l||(s.point(d,p),l)||(o.point(d,p),l)}u.invert=function(h){var d=n.scale(),p=n.translate(),g=(h[0]-p[0])/d,m=(h[1]-p[1])/d;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:n).invert(h)},u.stream=function(h){return e&&t===h?e:e=i0e([n.stream(t=h),i.stream(h),a.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),a.precision(h),f()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),a.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),p=+h[0],g=+h[1];return r=n.translate(h).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(c),s=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+Qe,g+.12*d+Qe],[p-.214*d-Qe,g+.234*d-Qe]]).stream(c),o=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+Qe,g+.166*d+Qe],[p-.115*d-Qe,g+.234*d-Qe]]).stream(c),f()},u.fitExtent=function(h,d){return bE(u,h,d)},u.fitSize=function(h,d){return E4(u,h,d)},u.fitWidth=function(h,d){return w4(u,h,d)},u.fitHeight=function(h,d){return S4(u,h,d)};function f(){return e=t=null,u}return u.scale(1070)}function bV(e){return function(t,n){var r=nt(t),i=nt(n),s=e(r*i);return s===1/0?[2,0]:[s*i*Je(t),s*Je(n)]}}function ux(e){return function(t,n){var r=Ni(t*t+n*n),i=e(r),s=Je(i),a=nt(i);return[oa(t*s,r*a),Zi(r&&n*s/r)]}}var EV=bV(function(e){return Ni(2/(1+e))});EV.invert=ux(function(e){return 2*Zi(e/2)});function a0e(){return Go(EV).scale(124.75).clipAngle(180-.001)}var wV=bV(function(e){return(e=GH(e))&&e/Je(e)});wV.invert=ux(function(e){return e});function o0e(){return Go(wV).scale(79.4188).clipAngle(180-.001)}function EE(e,t){return[e,o2(y4((wn+t)/2))]}EE.invert=function(e,t){return[e,2*Ap(jH(t))-wn]};function l0e(){return SV(EE).scale(961/Oi)}function SV(e){var t=Go(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,a=null,o,l,c;t.scale=function(f){return arguments.length?(r(f),u()):r()},t.translate=function(f){return arguments.length?(i(f),u()):i()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=o=l=c=null:(a=+f[0][0],o=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):a==null?null:[[a,o],[l,c]]};function u(){var f=mt*r(),h=t(Cde(t.rotate()).invert([0,0]));return s(a==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:e===EE?[[Math.max(h[0]-f,a),o],[Math.min(h[0]+f,l),c]]:[[a,Math.max(h[1]-f,o)],[l,Math.min(h[1]+f,c)]])}return u()}function zv(e){return y4((wn+e)/2)}function c0e(e,t){var n=nt(e),r=e===t?Je(e):o2(n/nt(t))/o2(zv(t)/zv(e)),i=n*uA(zv(e),r)/r;if(!r)return EE;function s(a,o){i>0?o<-wn+Qe&&(o=-wn+Qe):o>wn-Qe&&(o=wn-Qe);var l=i/uA(zv(o),r);return[l*Je(r*a),i-l*nt(r*a)]}return s.invert=function(a,o){var l=i-o,c=Zs(r)*Ni(a*a+l*l),u=oa(a,Tt(l))*Zs(l);return l*r<0&&(u-=mt*Zs(a)*Zs(l)),[u/r,2*Ap(uA(i/c,1/r))-wn]},s}function u0e(){return T4(c0e).scale(109.5).parallels([30,30])}function k2(e,t){return[e,t]}k2.invert=k2;function f0e(){return Go(k2).scale(152.63)}function h0e(e,t){var n=nt(e),r=e===t?Je(e):(n-nt(t))/(t-e),i=n/r+e;if(Tt(r)<Qe)return k2;function s(a,o){var l=i-o,c=r*a;return[l*Je(c),i-l*nt(c)]}return s.invert=function(a,o){var l=i-o,c=oa(a,Tt(l))*Zs(l);return l*r<0&&(c-=mt*Zs(a)*Zs(l)),[c/r,i-Zs(r)*Ni(a*a+l*l)]},s}function d0e(){return T4(h0e).scale(131.154).center([0,13.9389])}var ym=1.340264,_m=-.081106,bm=893e-6,Em=.003796,C2=Ni(3)/2,p0e=12;function AV(e,t){var n=Zi(C2*Je(t)),r=n*n,i=r*r*r;return[e*nt(n)/(C2*(ym+3*_m*r+i*(7*bm+9*Em*r))),n*(ym+_m*r+i*(bm+Em*r))]}AV.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,a,o,l;s<p0e&&(o=n*(ym+_m*r+i*(bm+Em*r))-t,l=ym+3*_m*r+i*(7*bm+9*Em*r),n-=a=o/l,r=n*n,i=r*r*r,!(Tt(a)<s2));++s);return[C2*e*(ym+3*_m*r+i*(7*bm+9*Em*r))/nt(n),Zi(Je(n)/C2)]};function g0e(){return Go(AV).scale(177.158)}function TV(e,t){var n=nt(t),r=nt(e)*n;return[n*Je(e)/r,Je(t)/r]}TV.invert=ux(Ap);function m0e(){return Go(TV).scale(144.049).clipAngle(60)}function x0e(){var e=1,t=0,n=0,r=1,i=1,s=0,a,o,l=null,c,u,f,h=1,d=1,p=_E({point:function(_,b){var w=v([_,b]);this.stream.point(w[0],w[1])}}),g=u1,m,x;function y(){return h=e*r,d=e*i,m=x=null,v}function v(_){var b=_[0]*h,w=_[1]*d;if(s){var E=w*a-b*o;b=b*a+w*o,w=E}return[b+t,w+n]}return v.invert=function(_){var b=_[0]-t,w=_[1]-n;if(s){var E=w*a+b*o;b=b*a-w*o,w=E}return[b/h,w/d]},v.stream=function(_){return m&&x===_?m:m=p(g(x=_))},v.postclip=function(_){return arguments.length?(g=_,l=c=u=f=null,y()):g},v.clipExtent=function(_){return arguments.length?(g=_==null?(l=c=u=f=null,u1):oV(l=+_[0][0],c=+_[0][1],u=+_[1][0],f=+_[1][1]),y()):l==null?null:[[l,c],[u,f]]},v.scale=function(_){return arguments.length?(e=+_,y()):e},v.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],y()):[t,n]},v.angle=function(_){return arguments.length?(s=_%360*dt,o=Je(s),a=nt(s),y()):s*Cn},v.reflectX=function(_){return arguments.length?(r=_?-1:1,y()):r<0},v.reflectY=function(_){return arguments.length?(i=_?-1:1,y()):i<0},v.fitExtent=function(_,b){return bE(v,_,b)},v.fitSize=function(_,b){return E4(v,_,b)},v.fitWidth=function(_,b){return w4(v,_,b)},v.fitHeight=function(_,b){return S4(v,_,b)},v}function kV(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}kV.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,a=s*s;n-=i=(n*(1.007226+s*(.015085+a*(-.044475+.028874*s-.005916*a)))-t)/(1.007226+s*(.015085*3+a*(-.044475*7+.028874*9*s-.005916*11*a)))}while(Tt(i)>Qe&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function v0e(){return Go(kV).scale(175.295)}function CV(e,t){return[nt(t)*Je(e),Je(t)]}CV.invert=ux(Zi);function y0e(){return Go(CV).scale(249.5).clipAngle(90+Qe)}function FV(e,t){var n=nt(t),r=1+nt(e)*n;return[n*Je(e)/r,Je(t)/r]}FV.invert=ux(function(e){return 2*Ap(e)});function _0e(){return Go(FV).scale(250).clipAngle(142)}function OV(e,t){return[o2(y4((wn+t)/2)),-e]}OV.invert=function(e,t){return[-t,2*Ap(jH(e))-wn]};function b0e(){var e=SV(OV),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function E0e(e,t){return e.parent===t.parent?1:2}function w0e(e){return e.reduce(S0e,0)/e.length}function S0e(e,t){return e+t.x}function A0e(e){return 1+e.reduce(T0e,0)}function T0e(e,t){return Math.max(e,t.y)}function k0e(e){for(var t;t=e.children;)e=t[0];return e}function C0e(e){for(var t;t=e.children;)e=t[t.length-1];return e}function F0e(){var e=E0e,t=1,n=1,r=!1;function i(s){var a,o=0;s.eachAfter(function(h){var d=h.children;d?(h.x=w0e(d),h.y=A0e(d)):(h.x=a?o+=e(h,a):0,h.y=0,a=h)});var l=k0e(s),c=C0e(s),u=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return s.eachAfter(r?function(h){h.x=(h.x-s.x)*t,h.y=(s.y-h.y)*n}:function(h){h.x=(h.x-u)/(f-u)*t,h.y=(1-(s.y?h.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function O0e(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function N0e(){return this.eachAfter(O0e)}function D0e(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function $0e(e,t){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(e.call(t,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function R0e(e,t){for(var n=this,r=[n],i=[],s,a,o,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function I0e(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function M0e(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function L0e(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function P0e(e){for(var t=this,n=B0e(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function B0e(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function U0e(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function z0e(){return Array.from(this)}function H0e(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function V0e(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*W0e(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function k4(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=q0e)):t===void 0&&(t=G0e);for(var n=new L0(e),r,i=[n],s,a,o,l;r=i.pop();)if((a=t(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,o=l-1;o>=0;--o)i.push(s=a[o]=new L0(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(NV)}function j0e(){return k4(this).eachBefore(X0e)}function G0e(e){return e.children}function q0e(e){return Array.isArray(e)?e[1]:null}function X0e(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function NV(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function L0(e){this.data=e,this.depth=this.height=0,this.parent=null}L0.prototype=k4.prototype={constructor:L0,count:N0e,each:D0e,eachAfter:R0e,eachBefore:$0e,find:I0e,sum:M0e,sort:L0e,path:P0e,ancestors:U0e,descendants:z0e,leaves:H0e,links:V0e,copy:j0e,[Symbol.iterator]:W0e};function Jy(e){return e==null?null:DV(e)}function DV(e){if(typeof e!="function")throw new Error;return e}function kf(){return 0}function Pd(e){return function(){return e}}const Y0e=1664525,K0e=1013904223,C6=4294967296;function J0e(){let e=1;return()=>(e=(Y0e*e+K0e)%C6)/C6}function Z0e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q0e(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function epe(e,t){for(var n=0,r=(e=Q0e(Array.from(e),t)).length,i=[],s,a;n<r;)s=e[n],a&&$V(a,s)?++n:(a=npe(i=tpe(i,s)),n=0);return a}function tpe(e,t){var n,r;if(gA(t,e))return[t];for(n=0;n<e.length;++n)if(Hv(t,e[n])&&gA(Wg(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Hv(Wg(e[n],e[r]),t)&&Hv(Wg(e[n],t),e[r])&&Hv(Wg(e[r],t),e[n])&&gA(RV(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Hv(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function $V(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function gA(e,t){for(var n=0;n<t.length;++n)if(!$V(e,t[n]))return!1;return!0}function npe(e){switch(e.length){case 1:return rpe(e[0]);case 2:return Wg(e[0],e[1]);case 3:return RV(e[0],e[1],e[2])}}function rpe(e){return{x:e.x,y:e.y,r:e.r}}function Wg(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,a=t.y,o=t.r,l=s-n,c=a-r,u=o-i,f=Math.sqrt(l*l+c*c);return{x:(n+s+l/f*u)/2,y:(r+a+c/f*u)/2,r:(f+i+o)/2}}function RV(e,t,n){var r=e.x,i=e.y,s=e.r,a=t.x,o=t.y,l=t.r,c=n.x,u=n.y,f=n.r,h=r-a,d=r-c,p=i-o,g=i-u,m=l-s,x=f-s,y=r*r+i*i-s*s,v=y-a*a-o*o+l*l,_=y-c*c-u*u+f*f,b=d*p-h*g,w=(p*_-g*v)/(b*2)-r,E=(g*m-p*x)/b,A=(d*v-h*_)/(b*2)-i,S=(h*x-d*m)/b,T=E*E+S*S-1,C=2*(s+w*E+A*S),O=w*w+A*A-s*s,F=-(Math.abs(T)>1e-6?(C+Math.sqrt(C*C-4*T*O))/(2*T):O/C);return{x:r+w+E*F,y:i+A+S*F,r:F}}function F6(e,t,n){var r=e.x-t.x,i,s,a=e.y-t.y,o,l,c=r*r+a*a;c?(s=t.r+n.r,s*=s,l=e.r+n.r,l*=l,s>l?(i=(c+l-s)/(2*c),o=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-o*a,n.y=e.y-i*a+o*r):(i=(c+s-l)/(2*c),o=Math.sqrt(Math.max(0,s/c-i*i)),n.x=t.x+i*r-o*a,n.y=t.y+i*a+o*r)):(n.x=t.x+n.r,n.y=t.y)}function O6(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function N6(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function Vv(e){this._=e,this.next=null,this.previous=null}function ipe(e,t){if(!(s=(e=Z0e(e)).length))return 0;var n,r,i,s,a,o,l,c,u,f,h;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;F6(r,n,i=e[2]),n=new Vv(n),r=new Vv(r),i=new Vv(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<s;++l){F6(n._,r._,i=e[l]),i=new Vv(i),c=r.next,u=n.previous,f=r._.r,h=n._.r;do if(f<=h){if(O6(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(O6(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}h+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=N6(n);(i=i.next)!==r;)(o=N6(i))<a&&(n=i,a=o);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=epe(n,t),l=0;l<s;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function spe(e){return Math.sqrt(e.value)}function ape(){var e=null,t=1,n=1,r=kf;function i(s){const a=J0e();return s.x=t/2,s.y=n/2,e?s.eachBefore(D6(e)).eachAfter(mA(r,.5,a)).eachBefore($6(1)):s.eachBefore(D6(spe)).eachAfter(mA(kf,1,a)).eachAfter(mA(r,s.r/Math.min(t,n),a)).eachBefore($6(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=Jy(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:Pd(+s),i):r},i}function D6(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function mA(e,t,n){return function(r){if(i=r.children){var i,s,a=i.length,o=e(r)*t||0,l;if(o)for(s=0;s<a;++s)i[s].r+=o;if(l=ipe(i,n),o)for(s=0;s<a;++s)i[s].r-=o;r.r=l+o}}}function $6(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function IV(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function fx(e,t,n,r,i){for(var s=e.children,a,o=-1,l=s.length,c=e.value&&(r-t)/e.value;++o<l;)a=s[o],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c}function ope(){var e=1,t=1,n=0,r=!1;function i(a){var o=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/o,a.eachBefore(s(t,o)),r&&a.eachBefore(IV),a}function s(a,o){return function(l){l.children&&fx(l,l.x0,a*(l.depth+1)/o,l.x1,a*(l.depth+2)/o);var c=l.x0,u=l.y0,f=l.x1-n,h=l.y1-n;f<c&&(c=f=(c+f)/2),h<u&&(u=h=(u+h)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=h}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(e=+a[0],t=+a[1],i):[e,t]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var lpe={depth:-1},R6={},xA={};function cpe(e){return e.id}function upe(e){return e.parentId}function I6(){var e=cpe,t=upe,n;function r(i){var s=Array.from(i),a=e,o=t,l,c,u,f,h,d,p,g,m=new Map;if(n!=null){const x=s.map((_,b)=>fpe(n(_,b,i))),y=x.map(M6),v=new Set(x).add("");for(const _ of y)v.has(_)||(v.add(_),x.push(_),y.push(M6(_)),s.push(xA));a=(_,b)=>x[b],o=(_,b)=>y[b]}for(u=0,l=s.length;u<l;++u)c=s[u],d=s[u]=new L0(c),(p=a(c,u,i))!=null&&(p+="")&&(g=d.id=p,m.set(g,m.has(g)?R6:d)),(p=o(c,u,i))!=null&&(p+="")&&(d.parent=p);for(u=0;u<l;++u)if(d=s[u],p=d.parent){if(h=m.get(p),!h)throw new Error("missing: "+p);if(h===R6)throw new Error("ambiguous: "+p);h.children?h.children.push(d):h.children=[d],d.parent=h}else{if(f)throw new Error("multiple roots");f=d}if(!f)throw new Error("no root");if(n!=null){for(;f.data===xA&&f.children.length===1;)f=f.children[0],--l;for(let x=s.length-1;x>=0&&(d=s[x],d.data===xA);--x)d.data=null}if(f.parent=lpe,f.eachBefore(function(x){x.depth=x.parent.depth+1,--l}).eachBefore(NV),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=Jy(i),r):e},r.parentId=function(i){return arguments.length?(t=Jy(i),r):t},r.path=function(i){return arguments.length?(n=Jy(i),r):n},r}function fpe(e){e=`${e}`;let t=e.length;return uC(e,t-1)&&!uC(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function M6(e){let t=e.length;if(t<2)return"";for(;--t>1&&!uC(e,t););return e.slice(0,t)}function uC(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function hpe(e,t){return e.parent===t.parent?1:2}function vA(e){var t=e.children;return t?t[0]:e.t}function yA(e){var t=e.children;return t?t[t.length-1]:e.t}function dpe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ppe(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function gpe(e,t,n){return e.a.parent===t.parent?e.a:n}function Zy(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Zy.prototype=Object.create(L0.prototype);function mpe(e){for(var t=new Zy(e,0),n,r=[t],i,s,a,o;n=r.pop();)if(s=n._.children)for(n.children=new Array(o=s.length),a=o-1;a>=0;--a)r.push(i=n.children[a]=new Zy(s[a],a)),i.parent=n;return(t.parent=new Zy(null,0)).children=[t],t}function xpe(){var e=hpe,t=1,n=1,r=null;function i(c){var u=mpe(c);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(a),r)c.eachBefore(l);else{var f=c,h=c,d=c;c.eachBefore(function(y){y.x<f.x&&(f=y),y.x>h.x&&(h=y),y.depth>d.depth&&(d=y)});var p=f===h?1:e(f,h)/2,g=p-f.x,m=t/(h.x+p+g),x=n/(d.depth||1);c.eachBefore(function(y){y.x=(y.x+g)*m,y.y=y.depth*x})}return c}function s(c){var u=c.children,f=c.parent.children,h=c.i?f[c.i-1]:null;if(u){ppe(c);var d=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+e(c._,h._),c.m=c.z-d):c.z=d}else h&&(c.z=h.z+e(c._,h._));c.parent.A=o(c,h,c.parent.A||f[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function o(c,u,f){if(u){for(var h=c,d=c,p=u,g=h.parent.children[0],m=h.m,x=d.m,y=p.m,v=g.m,_;p=yA(p),h=vA(h),p&&h;)g=vA(g),d=yA(d),d.a=c,_=p.z+y-h.z-m+e(p._,h._),_>0&&(dpe(gpe(p,c,f),c,_),m+=_,x+=_),y+=p.m,m+=h.m,v+=g.m,x+=d.m;p&&!yA(d)&&(d.t=p,d.m+=y-x),h&&!vA(g)&&(g.t=h,g.m+=m-v,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function wE(e,t,n,r,i){for(var s=e.children,a,o=-1,l=s.length,c=e.value&&(i-n)/e.value;++o<l;)a=s[o],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c}var MV=(1+Math.sqrt(5))/2;function LV(e,t,n,r,i,s){for(var a=[],o=t.children,l,c,u=0,f=0,h=o.length,d,p,g=t.value,m,x,y,v,_,b,w;u<h;){d=i-n,p=s-r;do m=o[f++].value;while(!m&&f<h);for(x=y=m,b=Math.max(p/d,d/p)/(g*e),w=m*m*b,_=Math.max(y/w,w/x);f<h;++f){if(m+=c=o[f].value,c<x&&(x=c),c>y&&(y=c),w=m*m*b,v=Math.max(y/w,w/x),v>_){m-=c;break}_=v}a.push(l={value:m,dice:d<p,children:o.slice(u,f)}),l.dice?fx(l,n,r,i,g?r+=p*m/g:s):wE(l,n,r,g?n+=d*m/g:i,s),g-=m,u=f}return a}const PV=function e(t){function n(r,i,s,a,o){LV(t,r,i,s,a,o)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(MV);function vpe(){var e=PV,t=!1,n=1,r=1,i=[0],s=kf,a=kf,o=kf,l=kf,c=kf;function u(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(f),i=[0],t&&h.eachBefore(IV),h}function f(h){var d=i[h.depth],p=h.x0+d,g=h.y0+d,m=h.x1-d,x=h.y1-d;m<p&&(p=m=(p+m)/2),x<g&&(g=x=(g+x)/2),h.x0=p,h.y0=g,h.x1=m,h.y1=x,h.children&&(d=i[h.depth+1]=s(h)/2,p+=c(h)-d,g+=a(h)-d,m-=o(h)-d,x-=l(h)-d,m<p&&(p=m=(p+m)/2),x<g&&(g=x=(g+x)/2),e(h,p,g,m,x))}return u.round=function(h){return arguments.length?(t=!!h,u):t},u.size=function(h){return arguments.length?(n=+h[0],r=+h[1],u):[n,r]},u.tile=function(h){return arguments.length?(e=DV(h),u):e},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(s=typeof h=="function"?h:Pd(+h),u):s},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(a=typeof h=="function"?h:Pd(+h),u):a},u.paddingRight=function(h){return arguments.length?(o=typeof h=="function"?h:Pd(+h),u):o},u.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:Pd(+h),u):l},u.paddingLeft=function(h){return arguments.length?(c=typeof h=="function"?h:Pd(+h),u):c},u}function ype(e,t,n,r,i){var s=e.children,a,o=s.length,l,c=new Array(o+1);for(c[0]=l=a=0;a<o;++a)c[a+1]=l+=s[a].value;u(0,o,e.value,t,n,r,i);function u(f,h,d,p,g,m,x){if(f>=h-1){var y=s[f];y.x0=p,y.y0=g,y.x1=m,y.y1=x;return}for(var v=c[f],_=d/2+v,b=f+1,w=h-1;b<w;){var E=b+w>>>1;c[E]<_?b=E+1:w=E}_-c[b-1]<c[b]-_&&f+1<b&&--b;var A=c[b]-v,S=d-A;if(m-p>x-g){var T=d?(p*S+m*A)/d:m;u(f,b,A,p,g,T,x),u(b,h,S,T,g,m,x)}else{var C=d?(g*S+x*A)/d:x;u(f,b,A,p,g,m,C),u(b,h,S,p,C,m,x)}}}function _pe(e,t,n,r,i){(e.depth&1?wE:fx)(e,t,n,r,i)}const bpe=function e(t){function n(r,i,s,a,o){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,f,h=-1,d,p=l.length,g=r.value;++h<p;){for(c=l[h],u=c.children,f=c.value=0,d=u.length;f<d;++f)c.value+=u[f].value;c.dice?fx(c,i,s,a,g?s+=(o-s)*c.value/g:o):wE(c,i,s,g?i+=(a-i)*c.value/g:a,o),g-=c.value}else r._squarify=l=LV(t,r,i,s,a,o),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(MV);function qo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Uu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fC=Symbol("implicit");function C4(){var e=new EM,t=[],n=[],r=fC;function i(s){let a=e.get(s);if(a===void 0){if(r!==fC)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new EM;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return C4(t,n).unknown(r)},qo.apply(i,arguments),i}function Epe(e){return function(){return e}}function hC(e){return+e}var L6=[0,1];function Gi(e){return e}function dC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Epe(isNaN(t)?NaN:.5)}function wpe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Spe(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=dC(i,r),s=n(a,s)):(r=dC(r,i),s=n(s,a)),function(o){return s(r(o))}}function Ape(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=dC(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var l=hu(e,o,1,r)-1;return s[l](i[l](o))}}function hx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function SE(){var e=L6,t=L6,n=Bu,r,i,s,a=Gi,o,l,c;function u(){var h=Math.min(e.length,t.length);return a!==Gi&&(a=wpe(e[0],e[h-1])),o=h>2?Ape:Spe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=o(t,e.map(r),Gs)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hC),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=ox,u()},f.clamp=function(h){return arguments.length?(a=h?!0:Gi,u()):a!==Gi},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,u()}}function BV(){return SE()(Gi,Gi)}function UV(e,t,n,r){var i=du(e,t,n),s;switch(r=vh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=VH(i,a))&&(r.precision=s),v4(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=WH(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=HH(i))&&(r.precision=s-(r.type==="%")*2);break}}return yE(r)}function Xh(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ok(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return UV(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=Nk(a,o,n),c===l)return r[i]=a,r[s]=o,t(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function zV(){var e=BV();return e.copy=function(){return hx(e,zV())},qo.apply(e,arguments),Xh(e)}function HV(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,hC),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return HV(e).unknown(t)},e=arguments.length?Array.from(e,hC):[0,1],Xh(n)}function VV(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function P6(e){return Math.log(e)}function B6(e){return Math.exp(e)}function Tpe(e){return-Math.log(-e)}function kpe(e){return-Math.exp(-e)}function Cpe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fpe(e){return e===10?Cpe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ope(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function U6(e){return(t,n)=>-e(-t,n)}function F4(e){const t=e(P6,B6),n=t.domain;let r=10,i,s;function a(){return i=Ope(r),s=Fpe(r),n()[0]<0?(i=U6(i),s=U6(s),e(Tpe,kpe)):e(P6,B6),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),d=i(u),p,g;const m=o==null?10:+o;let x=[];if(!(r%1)&&d-h<m){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(p=1;p<r;++p)if(g=h<0?p/s(-h):p*s(h),!(g<c)){if(g>u)break;x.push(g)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<c)){if(g>u)break;x.push(g)}x.length*2<m&&(x=Ok(c,u,m))}else x=Ok(h,d,Math.min(d-h,m)).map(s);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=vh(l)).precision==null&&(l.trim=!0),l=yE(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(VV(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function WV(){const e=F4(SE()).domain([1,10]);return e.copy=()=>hx(e,WV()).base(e.base()),qo.apply(e,arguments),e}function z6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function O4(e){var t=1,n=e(z6(t),H6(t));return n.constant=function(r){return arguments.length?e(z6(t=+r),H6(t)):t},Xh(n)}function jV(){var e=O4(SE());return e.copy=function(){return hx(e,jV()).constant(e.constant())},qo.apply(e,arguments)}function V6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Npe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dpe(e){return e<0?-e*e:e*e}function N4(e){var t=e(Gi,Gi),n=1;function r(){return n===1?e(Gi,Gi):n===.5?e(Npe,Dpe):e(V6(n),V6(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Xh(t)}function D4(){var e=N4(SE());return e.copy=function(){return hx(e,D4()).exponent(e.exponent())},qo.apply(e,arguments),e}function $pe(){return D4.apply(null,arguments).exponent(.5)}function GV(){var e=[],t=[],n=[],r;function i(){var a=0,o=Math.max(1,t.length);for(n=new Array(o-1);++a<o;)n[a-1]=Lz(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:t[hu(n,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Rl),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return GV().domain(e).range(t).unknown(r)},qo.apply(s,arguments)}function qV(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[hu(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return qV().domain([e,t]).range(i).unknown(s)},qo.apply(Xh(a),arguments)}function XV(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[hu(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return XV().domain(e).range(t).unknown(n)},qo.apply(i,arguments)}const _A=new Date,bA=new Date;function er(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<a);return l},i.filter=s=>er(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(_A.setTime(+s),bA.setTime(+a),e(_A),e(bA),Math.floor(n(_A,bA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const P0=er(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);P0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?er(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):P0);P0.range;const wl=1e3,Qs=wl*60,Sl=Qs*60,Xl=Sl*24,$4=Xl*7,W6=Xl*30,EA=Xl*365,Al=er(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getUTCSeconds());Al.range;const AE=er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wl)},(e,t)=>{e.setTime(+e+t*Qs)},(e,t)=>(t-e)/Qs,e=>e.getMinutes());AE.range;const TE=er(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qs)},(e,t)=>(t-e)/Qs,e=>e.getUTCMinutes());TE.range;const kE=er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wl-e.getMinutes()*Qs)},(e,t)=>{e.setTime(+e+t*Sl)},(e,t)=>(t-e)/Sl,e=>e.getHours());kE.range;const CE=er(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Sl)},(e,t)=>(t-e)/Sl,e=>e.getUTCHours());CE.range;const Ml=er(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qs)/Xl,e=>e.getDate()-1);Ml.range;const eu=er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xl,e=>e.getUTCDate()-1);eu.range;const YV=er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xl,e=>Math.floor(e/Xl));YV.range;function Yh(e){return er(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qs)/$4)}const Tp=Yh(0),F2=Yh(1),Rpe=Yh(2),Ipe=Yh(3),B0=Yh(4),Mpe=Yh(5),Lpe=Yh(6);Tp.range;F2.range;Rpe.range;Ipe.range;B0.range;Mpe.range;Lpe.range;function Kh(e){return er(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$4)}const kp=Kh(0),O2=Kh(1),Ppe=Kh(2),Bpe=Kh(3),U0=Kh(4),Upe=Kh(5),zpe=Kh(6);kp.range;O2.range;Ppe.range;Bpe.range;U0.range;Upe.range;zpe.range;const d1=er(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());d1.range;const p1=er(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());p1.range;const Mo=er(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:er(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Mo.range;const Lo=er(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Lo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:er(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Lo.range;function KV(e,t,n,r,i,s){const a=[[Al,1,wl],[Al,5,5*wl],[Al,15,15*wl],[Al,30,30*wl],[s,1,Qs],[s,5,5*Qs],[s,15,15*Qs],[s,30,30*Qs],[i,1,Sl],[i,3,3*Sl],[i,6,6*Sl],[i,12,12*Sl],[r,1,Xl],[r,2,2*Xl],[n,1,$4],[t,1,W6],[t,3,3*W6],[e,1,EA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),p=d?d.range(c,+u+1):[];return h?p.reverse():p}function l(c,u,f){const h=Math.abs(u-c)/f,d=wp(([,,m])=>m).right(a,h);if(d===a.length)return e.every(du(c/EA,u/EA,f));if(d===0)return P0.every(Math.max(du(c,u,f),1));const[p,g]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return p.every(g)}return[o,l]}const[Hpe,Vpe]=KV(Lo,p1,kp,YV,CE,TE),[Wpe,jpe]=KV(Mo,d1,Tp,Ml,kE,AE);function wA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function SA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ug(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function JV(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,c=fg(i),u=hg(i),f=fg(s),h=hg(s),d=fg(a),p=hg(a),g=fg(o),m=hg(o),x=fg(l),y=hg(l),v={a:M,A:U,b:J,B:X,c:null,d:K6,e:K6,f:pge,g:Sge,G:Tge,H:fge,I:hge,j:dge,L:ZV,m:gge,M:mge,p:ce,q:ve,Q:Q6,s:e5,S:xge,u:vge,U:yge,V:_ge,w:bge,W:Ege,x:null,X:null,y:wge,Y:Age,Z:kge,"%":Z6},_={a:_e,A:de,b:Fe,B:Ne,c:null,d:J6,e:J6,f:Nge,g:zge,G:Vge,H:Cge,I:Fge,j:Oge,L:eW,m:Dge,M:$ge,p:je,q:z,Q:Q6,s:e5,S:Rge,u:Ige,U:Mge,V:Lge,w:Pge,W:Bge,x:null,X:null,y:Uge,Y:Hge,Z:Wge,"%":Z6},b={a:T,A:C,b:O,B:F,c:I,d:X6,e:X6,f:oge,g:q6,G:G6,H:Y6,I:Y6,j:rge,L:age,m:nge,M:ige,p:S,q:tge,Q:cge,s:uge,S:sge,u:Kpe,U:Jpe,V:Zpe,w:Ype,W:Qpe,x:D,X:N,y:q6,Y:G6,Z:ege,"%":lge};v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_);function w(q,G){return function(H){var K=[],k=-1,P=0,Y=q.length,Z,ee,ne;for(H instanceof Date||(H=new Date(+H));++k<Y;)q.charCodeAt(k)===37&&(K.push(q.slice(P,k)),(ee=j6[Z=q.charAt(++k)])!=null?Z=q.charAt(++k):ee=Z==="e"?" ":"0",(ne=G[Z])&&(Z=ne(H,ee)),K.push(Z),P=k+1);return K.push(q.slice(P,k)),K.join("")}}function E(q,G){return function(H){var K=ug(1900,void 0,1),k=A(K,q,H+="",0),P,Y;if(k!=H.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(G&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(P=SA(ug(K.y,0,1)),Y=P.getUTCDay(),P=Y>4||Y===0?O2.ceil(P):O2(P),P=eu.offset(P,(K.V-1)*7),K.y=P.getUTCFullYear(),K.m=P.getUTCMonth(),K.d=P.getUTCDate()+(K.w+6)%7):(P=wA(ug(K.y,0,1)),Y=P.getDay(),P=Y>4||Y===0?F2.ceil(P):F2(P),P=Ml.offset(P,(K.V-1)*7),K.y=P.getFullYear(),K.m=P.getMonth(),K.d=P.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Y="Z"in K?SA(ug(K.y,0,1)).getUTCDay():wA(ug(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Y+5)%7:K.w+K.U*7-(Y+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,SA(K)):wA(K)}}function A(q,G,H,K){for(var k=0,P=G.length,Y=H.length,Z,ee;k<P;){if(K>=Y)return-1;if(Z=G.charCodeAt(k++),Z===37){if(Z=G.charAt(k++),ee=b[Z in j6?G.charAt(k++):Z],!ee||(K=ee(q,H,K))<0)return-1}else if(Z!=H.charCodeAt(K++))return-1}return K}function S(q,G,H){var K=c.exec(G.slice(H));return K?(q.p=u.get(K[0].toLowerCase()),H+K[0].length):-1}function T(q,G,H){var K=d.exec(G.slice(H));return K?(q.w=p.get(K[0].toLowerCase()),H+K[0].length):-1}function C(q,G,H){var K=f.exec(G.slice(H));return K?(q.w=h.get(K[0].toLowerCase()),H+K[0].length):-1}function O(q,G,H){var K=x.exec(G.slice(H));return K?(q.m=y.get(K[0].toLowerCase()),H+K[0].length):-1}function F(q,G,H){var K=g.exec(G.slice(H));return K?(q.m=m.get(K[0].toLowerCase()),H+K[0].length):-1}function I(q,G,H){return A(q,t,G,H)}function D(q,G,H){return A(q,n,G,H)}function N(q,G,H){return A(q,r,G,H)}function M(q){return a[q.getDay()]}function U(q){return s[q.getDay()]}function J(q){return l[q.getMonth()]}function X(q){return o[q.getMonth()]}function ce(q){return i[+(q.getHours()>=12)]}function ve(q){return 1+~~(q.getMonth()/3)}function _e(q){return a[q.getUTCDay()]}function de(q){return s[q.getUTCDay()]}function Fe(q){return l[q.getUTCMonth()]}function Ne(q){return o[q.getUTCMonth()]}function je(q){return i[+(q.getUTCHours()>=12)]}function z(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var G=w(q+="",v);return G.toString=function(){return q},G},parse:function(q){var G=E(q+="",!1);return G.toString=function(){return q},G},utcFormat:function(q){var G=w(q+="",_);return G.toString=function(){return q},G},utcParse:function(q){var G=E(q+="",!0);return G.toString=function(){return q},G}}}var j6={"-":"",_:" ",0:"0"},mr=/^\s*\d+/,Gpe=/^%/,qpe=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Xpe(e){return e.replace(qpe,"\\$&")}function fg(e){return new RegExp("^(?:"+e.map(Xpe).join("|")+")","i")}function hg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ype(e,t,n){var r=mr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Kpe(e,t,n){var r=mr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Jpe(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Zpe(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Qpe(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function G6(e,t,n){var r=mr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function q6(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ege(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tge(e,t,n){var r=mr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nge(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function X6(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rge(e,t,n){var r=mr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Y6(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ige(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function sge(e,t,n){var r=mr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function age(e,t,n){var r=mr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function oge(e,t,n){var r=mr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lge(e,t,n){var r=Gpe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cge(e,t,n){var r=mr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uge(e,t,n){var r=mr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function K6(e,t){return Ut(e.getDate(),t,2)}function fge(e,t){return Ut(e.getHours(),t,2)}function hge(e,t){return Ut(e.getHours()%12||12,t,2)}function dge(e,t){return Ut(1+Ml.count(Mo(e),e),t,3)}function ZV(e,t){return Ut(e.getMilliseconds(),t,3)}function pge(e,t){return ZV(e,t)+"000"}function gge(e,t){return Ut(e.getMonth()+1,t,2)}function mge(e,t){return Ut(e.getMinutes(),t,2)}function xge(e,t){return Ut(e.getSeconds(),t,2)}function vge(e){var t=e.getDay();return t===0?7:t}function yge(e,t){return Ut(Tp.count(Mo(e)-1,e),t,2)}function QV(e){var t=e.getDay();return t>=4||t===0?B0(e):B0.ceil(e)}function _ge(e,t){return e=QV(e),Ut(B0.count(Mo(e),e)+(Mo(e).getDay()===4),t,2)}function bge(e){return e.getDay()}function Ege(e,t){return Ut(F2.count(Mo(e)-1,e),t,2)}function wge(e,t){return Ut(e.getFullYear()%100,t,2)}function Sge(e,t){return e=QV(e),Ut(e.getFullYear()%100,t,2)}function Age(e,t){return Ut(e.getFullYear()%1e4,t,4)}function Tge(e,t){var n=e.getDay();return e=n>=4||n===0?B0(e):B0.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function kge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function J6(e,t){return Ut(e.getUTCDate(),t,2)}function Cge(e,t){return Ut(e.getUTCHours(),t,2)}function Fge(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function Oge(e,t){return Ut(1+eu.count(Lo(e),e),t,3)}function eW(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function Nge(e,t){return eW(e,t)+"000"}function Dge(e,t){return Ut(e.getUTCMonth()+1,t,2)}function $ge(e,t){return Ut(e.getUTCMinutes(),t,2)}function Rge(e,t){return Ut(e.getUTCSeconds(),t,2)}function Ige(e){var t=e.getUTCDay();return t===0?7:t}function Mge(e,t){return Ut(kp.count(Lo(e)-1,e),t,2)}function tW(e){var t=e.getUTCDay();return t>=4||t===0?U0(e):U0.ceil(e)}function Lge(e,t){return e=tW(e),Ut(U0.count(Lo(e),e)+(Lo(e).getUTCDay()===4),t,2)}function Pge(e){return e.getUTCDay()}function Bge(e,t){return Ut(O2.count(Lo(e)-1,e),t,2)}function Uge(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function zge(e,t){return e=tW(e),Ut(e.getUTCFullYear()%100,t,2)}function Hge(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function Vge(e,t){var n=e.getUTCDay();return e=n>=4||n===0?U0(e):U0.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function Wge(){return"+0000"}function Z6(){return"%"}function Q6(e){return+e}function e5(e){return Math.floor(+e/1e3)}var wd,R4,nW,I4,rW;jge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jge(e){return wd=JV(e),R4=wd.format,nW=wd.parse,I4=wd.utcFormat,rW=wd.utcParse,wd}function Gge(e){return new Date(e)}function qge(e){return e instanceof Date?+e:+new Date(+e)}function M4(e,t,n,r,i,s,a,o,l,c){var u=BV(),f=u.invert,h=u.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),x=c("%a %d"),y=c("%b %d"),v=c("%B"),_=c("%Y");function b(w){return(l(w)<w?d:o(w)<w?p:a(w)<w?g:s(w)<w?m:r(w)<w?i(w)<w?x:y:n(w)<w?v:_)(w)}return u.invert=function(w){return new Date(f(w))},u.domain=function(w){return arguments.length?h(Array.from(w,qge)):h().map(Gge)},u.ticks=function(w){var E=h();return e(E[0],E[E.length-1],w??10)},u.tickFormat=function(w,E){return E==null?b:c(E)},u.nice=function(w){var E=h();return(!w||typeof w.range!="function")&&(w=t(E[0],E[E.length-1],w??10)),w?h(VV(E,w)):u},u.copy=function(){return hx(u,M4(e,t,n,r,i,s,a,o,l,c))},u}function Xge(){return qo.apply(M4(Wpe,jpe,Mo,d1,Tp,Ml,kE,AE,Al,R4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yge(){return qo.apply(M4(Hpe,Vpe,Lo,p1,kp,eu,CE,TE,Al,I4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function FE(){var e=0,t=1,n,r,i,s,a=Gi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(h){var d,p;return arguments.length?([d,p]=h,a=f(d,p),c):[a(0),a(1)]}}return c.range=u(Bu),c.rangeRound=u(ox),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function zu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L4(){var e=Xh(FE()(Gi));return e.copy=function(){return zu(e,L4())},Uu.apply(e,arguments)}function iW(){var e=F4(FE()).domain([1,10]);return e.copy=function(){return zu(e,iW()).base(e.base())},Uu.apply(e,arguments)}function sW(){var e=O4(FE());return e.copy=function(){return zu(e,sW()).constant(e.constant())},Uu.apply(e,arguments)}function P4(){var e=N4(FE());return e.copy=function(){return zu(e,P4()).exponent(e.exponent())},Uu.apply(e,arguments)}function Kge(){return P4.apply(null,arguments).exponent(.5)}function OE(){var e=0,t=.5,n=1,r=1,i,s,a,o,l,c=Gi,u,f=!1,h;function d(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-s)*(r*g<r*s?o:l),c(f?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),s=u(t=+t),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,d):[e,t,n]},d.clamp=function(g){return arguments.length?(f=!!g,d):f},d.interpolator=function(g){return arguments.length?(c=g,d):c};function p(g){return function(m){var x,y,v;return arguments.length?([x,y,v]=m,c=c4(g,[x,y,v]),d):[c(0),c(.5),c(1)]}}return d.range=p(Bu),d.rangeRound=p(ox),d.unknown=function(g){return arguments.length?(h=g,d):h},function(g){return u=g,i=g(e),s=g(t),a=g(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,d}}function aW(){var e=Xh(OE()(Gi));return e.copy=function(){return zu(e,aW())},Uu.apply(e,arguments)}function oW(){var e=F4(OE()).domain([.1,1,10]);return e.copy=function(){return zu(e,oW()).base(e.base())},Uu.apply(e,arguments)}function lW(){var e=O4(OE());return e.copy=function(){return zu(e,lW()).constant(e.constant())},Uu.apply(e,arguments)}function B4(){var e=N4(OE());return e.copy=function(){return zu(e,B4()).exponent(e.exponent())},Uu.apply(e,arguments)}function Jge(){return B4.apply(null,arguments).exponent(.5)}function Xo(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Zge=Xo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Qge=Xo("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),eme=Xo("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),tme=Xo("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),nme=Xo("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),rme=Xo("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ime=Xo("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),sme=Xo("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ame=Xo("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ome=Xo("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Wt(e){return function(){return e}}const t5=Math.abs,Ir=Math.atan2,cf=Math.cos,lme=Math.max,AA=Math.min,lo=Math.sin,Lf=Math.sqrt,Lr=1e-12,z0=Math.PI,N2=z0/2,cW=2*z0;function cme(e){return e>1?0:e<-1?z0:Math.acos(e)}function n5(e){return e>=1?N2:e<=-1?-N2:Math.asin(e)}function NE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new d4(t)}function ume(e){return e.innerRadius}function fme(e){return e.outerRadius}function hme(e){return e.startAngle}function dme(e){return e.endAngle}function pme(e){return e&&e.padAngle}function gme(e,t,n,r,i,s,a,o){var l=n-e,c=r-t,u=a-i,f=o-s,h=f*l-u*c;if(!(h*h<Lr))return h=(u*(t-s)-f*(e-i))/h,[e+h*l,t+h*c]}function Wv(e,t,n,r,i,s,a){var o=e-n,l=t-r,c=(a?s:-s)/Lf(o*o+l*l),u=c*l,f=-c*o,h=e+u,d=t+f,p=n+u,g=r+f,m=(h+p)/2,x=(d+g)/2,y=p-h,v=g-d,_=y*y+v*v,b=i-s,w=h*g-p*d,E=(v<0?-1:1)*Lf(lme(0,b*b*_-w*w)),A=(w*v-y*E)/_,S=(-w*y-v*E)/_,T=(w*v+y*E)/_,C=(-w*y+v*E)/_,O=A-m,F=S-x,I=T-m,D=C-x;return O*O+F*F>I*I+D*D&&(A=T,S=C),{cx:A,cy:S,x01:-u,y01:-f,x11:A*(i/b-1),y11:S*(i/b-1)}}function mme(){var e=ume,t=fme,n=Wt(0),r=null,i=hme,s=dme,a=pme,o=null,l=NE(c);function c(){var u,f,h=+e.apply(this,arguments),d=+t.apply(this,arguments),p=i.apply(this,arguments)-N2,g=s.apply(this,arguments)-N2,m=t5(g-p),x=g>p;if(o||(o=u=l()),d<h&&(f=d,d=h,h=f),!(d>Lr))o.moveTo(0,0);else if(m>cW-Lr)o.moveTo(d*cf(p),d*lo(p)),o.arc(0,0,d,p,g,!x),h>Lr&&(o.moveTo(h*cf(g),h*lo(g)),o.arc(0,0,h,g,p,x));else{var y=p,v=g,_=p,b=g,w=m,E=m,A=a.apply(this,arguments)/2,S=A>Lr&&(r?+r.apply(this,arguments):Lf(h*h+d*d)),T=AA(t5(d-h)/2,+n.apply(this,arguments)),C=T,O=T,F,I;if(S>Lr){var D=n5(S/h*lo(A)),N=n5(S/d*lo(A));(w-=D*2)>Lr?(D*=x?1:-1,_+=D,b-=D):(w=0,_=b=(p+g)/2),(E-=N*2)>Lr?(N*=x?1:-1,y+=N,v-=N):(E=0,y=v=(p+g)/2)}var M=d*cf(y),U=d*lo(y),J=h*cf(b),X=h*lo(b);if(T>Lr){var ce=d*cf(v),ve=d*lo(v),_e=h*cf(_),de=h*lo(_),Fe;if(m<z0)if(Fe=gme(M,U,_e,de,ce,ve,J,X)){var Ne=M-Fe[0],je=U-Fe[1],z=ce-Fe[0],q=ve-Fe[1],G=1/lo(cme((Ne*z+je*q)/(Lf(Ne*Ne+je*je)*Lf(z*z+q*q)))/2),H=Lf(Fe[0]*Fe[0]+Fe[1]*Fe[1]);C=AA(T,(h-H)/(G-1)),O=AA(T,(d-H)/(G+1))}else C=O=0}E>Lr?O>Lr?(F=Wv(_e,de,M,U,d,O,x),I=Wv(ce,ve,J,X,d,O,x),o.moveTo(F.cx+F.x01,F.cy+F.y01),O<T?o.arc(F.cx,F.cy,O,Ir(F.y01,F.x01),Ir(I.y01,I.x01),!x):(o.arc(F.cx,F.cy,O,Ir(F.y01,F.x01),Ir(F.y11,F.x11),!x),o.arc(0,0,d,Ir(F.cy+F.y11,F.cx+F.x11),Ir(I.cy+I.y11,I.cx+I.x11),!x),o.arc(I.cx,I.cy,O,Ir(I.y11,I.x11),Ir(I.y01,I.x01),!x))):(o.moveTo(M,U),o.arc(0,0,d,y,v,!x)):o.moveTo(M,U),!(h>Lr)||!(w>Lr)?o.lineTo(J,X):C>Lr?(F=Wv(J,X,ce,ve,h,-C,x),I=Wv(M,U,_e,de,h,-C,x),o.lineTo(F.cx+F.x01,F.cy+F.y01),C<T?o.arc(F.cx,F.cy,C,Ir(F.y01,F.x01),Ir(I.y01,I.x01),!x):(o.arc(F.cx,F.cy,C,Ir(F.y01,F.x01),Ir(F.y11,F.x11),!x),o.arc(0,0,h,Ir(F.cy+F.y11,F.cx+F.x11),Ir(I.cy+I.y11,I.cx+I.x11),x),o.arc(I.cx,I.cy,C,Ir(I.y11,I.x11),Ir(I.y01,I.x01),!x))):o.arc(0,0,h,b,_,x)}if(o.closePath(),u)return o=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-z0/2;return[cf(f)*u,lo(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Wt(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Wt(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Wt(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Wt(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Wt(+u),c):i},c.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Wt(+u),c):s},c.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Wt(+u),c):a},c.context=function(u){return arguments.length?(o=u??null,c):o},c}function uW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fW(e){this._context=e}fW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function U4(e){return new fW(e)}function hW(e){return e[0]}function dW(e){return e[1]}function pW(e,t){var n=Wt(!0),r=null,i=U4,s=null,a=NE(o);e=typeof e=="function"?e:e===void 0?hW:Wt(e),t=typeof t=="function"?t:t===void 0?dW:Wt(t);function o(l){var c,u=(l=uW(l)).length,f,h=!1,d;for(r==null&&(s=i(d=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,c,l),+t(f,c,l));if(d)return s=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Wt(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Wt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function gW(e,t,n){var r=null,i=Wt(!0),s=null,a=U4,o=null,l=NE(c);e=typeof e=="function"?e:e===void 0?hW:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?dW:Wt(+n);function c(f){var h,d,p,g=(f=uW(f)).length,m,x=!1,y,v=new Array(g),_=new Array(g);for(s==null&&(o=a(y=l())),h=0;h<=g;++h){if(!(h<g&&i(m=f[h],h,f))===x)if(x=!x)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=d;--p)o.point(v[p],_[p]);o.lineEnd(),o.areaEnd()}x&&(v[h]=+e(m,h,f),_[h]=+t(m,h,f),o.point(r?+r(m,h,f):v[h],n?+n(m,h,f):_[h]))}if(y)return o=null,y+""||null}function u(){return pW().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Wt(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}const xme={draw(e,t){const n=Lf(t/z0);e.moveTo(n,0),e.arc(0,0,n,0,cW)}};function vme(e,t){let n=null,r=NE(i);e=typeof e=="function"?e:Wt(e||xme),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Wt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function gu(){}function D2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function DE(e){this._context=e}DE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:D2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:D2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yme(e){return new DE(e)}function mW(e){this._context=e}mW.prototype={areaStart:gu,areaEnd:gu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:D2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _me(e){return new mW(e)}function xW(e){this._context=e}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:D2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bme(e){return new xW(e)}function vW(e,t){this._basis=new DE(e),this._beta=t}vW.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,a=t[n]-i,o=-1,l;++o<=n;)l=o/n,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+l*s),this._beta*t[o]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Eme=function e(t){function n(r){return t===1?new DE(r):new vW(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function $2(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function z4(e,t){this._context=e,this._k=(1-t)/6}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:$2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const wme=function e(t){function n(r){return new z4(r,t)}return n.tension=function(r){return e(+r)},n}(0);function H4(e,t){this._context=e,this._k=(1-t)/6}H4.prototype={areaStart:gu,areaEnd:gu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:$2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Sme=function e(t){function n(r){return new H4(r,t)}return n.tension=function(r){return e(+r)},n}(0);function V4(e,t){this._context=e,this._k=(1-t)/6}V4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ame=function e(t){function n(r){return new V4(r,t)}return n.tension=function(r){return e(+r)},n}(0);function W4(e,t,n){var r=e._x1,i=e._y1,s=e._x2,a=e._y2;if(e._l01_a>Lr){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Lr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,s,a,e._x2,e._y2)}function yW(e,t){this._context=e,this._alpha=t}yW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:W4(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Tme=function e(t){function n(r){return t?new yW(r,t):new z4(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function _W(e,t){this._context=e,this._alpha=t}_W.prototype={areaStart:gu,areaEnd:gu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:W4(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kme=function e(t){function n(r){return t?new _W(r,t):new H4(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function bW(e,t){this._context=e,this._alpha=t}bW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:W4(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Cme=function e(t){function n(r){return t?new bW(r,t):new V4(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function EW(e){this._context=e}EW.prototype={areaStart:gu,areaEnd:gu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Fme(e){return new EW(e)}function r5(e){return e<0?-1:1}function i5(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(r5(s)+r5(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function s5(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function TA(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function R2(e){this._context=e}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TA(this,this._t0,s5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TA(this,s5(this,n=i5(this,e,t)),n);break;default:TA(this,this._t0,n=i5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function wW(e){this._context=new SW(e)}(wW.prototype=Object.create(R2.prototype)).point=function(e,t){R2.prototype.point.call(this,t,e)};function SW(e){this._context=e}SW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Ome(e){return new R2(e)}function Nme(e){return new wW(e)}function AW(e){this._context=e}AW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=a5(e),i=a5(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function a5(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Dme(e){return new AW(e)}function $E(e,t){this._context=e,this._t=t}$E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $me(e){return new $E(e,.5)}function Rme(e){return new $E(e,0)}function Ime(e){return new $E(e,1)}function jg(e,t,n){this.k=e,this.x=t,this.y=n}jg.prototype={constructor:jg,scale:function(e){return e===1?this:new jg(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new jg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jg.prototype;const Gg=["Region","RegionLabel","Color","Inset","cartogram_id","ColorGroup","label","Land Area"],o5=6,kA=2,CA=4,jv=5,Mme=[{text:"Center",value:"C"},{text:"Left",value:"L"},{text:"Right",value:"R"},{text:"Top",value:"T"},{text:"Down",value:"D"}],Jh=lle("cartogram",()=>{const e=Ei(""),t=Ei({}),n=Ei(""),r=Ei({showGrid:!0,numberOfPanels:window.innerWidth>768?2:1});return{currentMapName:e,versions:t,highlightedRegionID:n,options:r}}),Lme={key:0,class:"d-flex p-2"},Pme=["value"],Bme={key:1},Ume=Fr({__name:"CMenuSelectMap",props:{isEmbed:{type:Boolean},maps:{},mapTitle:{},mapDBKey:{}},emits:["map_changed"],setup(e,{emit:t}){const n=Jh(),r=e,i=t;let s;ec(async()=>{new URLSearchParams(window.location.search),s=null,a()});async function a(){var o=s||(r.mapDBKey?"/static/userdata/"+r.mapDBKey+"/data.csv":"/static/cartdata/"+n.currentMapName+"/data.csv");let l=await PH(o);n.versions={};for(let c=0;c<l.columns.length;c++){if(Gg.includes(l.columns[c]))continue;let u=l.columns[c].match(/\(([^)]+)\)$/),f=u?u[1].trim():"",h=l.columns[c].replace("("+f+")","").trim();n.versions[c.toString()]={key:c.toString(),header:l.columns[c],name:h,unit:f}}i("map_changed")}return(o,l)=>r.isEmbed?qi("",!0):(Be(),Ue("div",Lme,[r.mapDBKey?(Be(),Ue("span",Bme,lr(r.mapTitle),1)):hi((Be(),Ue("select",{key:0,class:"form-select","onUpdate:modelValue":l[0]||(l[0]=c=>vn(n).currentMapName=c),onChange:a},[(Be(!0),Ue(xt,null,Gr(r.maps,(c,u)=>(Be(),Ue("option",{value:u},lr(c.name),9,Pme))),256))],544)),[[dh,vn(n).currentMapName]])]))}});function zme(e){var t=0;return e.forEach(n=>{t+=n.Area}),t}function l5(e,t,n){var r=0,i=0,s=[],a=[];n.forEach(l=>{if(l[e]&&l[e].toString()!==""&&l[e].toString()!=="NA"){let c=typeof l[e]=="string"?Number(l[e]):l[e];i+=c}else s.push(l.Region)}),a=Array(s.length),t.forEach(l=>{let c=s.indexOf(l.Region);c>-1?a[c]=l.Area:r+=l.Area});const o=i/r;return a.forEach(function(l){i+=o*l,r+=l}),[r,i]}const Qy=[1,2,5,10,20,50];function TW(e){let t=99,n=Math.floor(Math.log10(e));const r=e/Math.pow(10,n);let i=Math.abs(r-t);return Qy.forEach(function(s){Math.abs(r-s)<i&&(i=Math.abs(r-s),t=s)}),[t,n]}function Gv(){return[[1,0,0],[0,1,0],[0,0,1]]}function qv(e,t){return[[e,0,0],[0,t,0],[0,0,1]]}function dg(e){return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]}function Hme(e,t){return[[1,0,e],[0,1,t],[0,0,1]]}function xc(e,t){if(e.length!==3||t.length!==3)throw new Error("Both matrices should be 3x3.");const n=[[0,0,0],[0,0,0],[0,0,0]];for(let r=0;r<3;r++)for(let i=0;i<3;i++)for(let s=0;s<3;s++)n[r][i]+=e[r][s]*t[s][i];return n}function pC(e,t){var r;var n=e+"-icon";navigator.clipboard.writeText(t),(r=document.getElementById(n))==null||r.setAttribute("src","/static/img/clipboard-check.svg"),setTimeout(function(){var i;(i=document.getElementById(n))==null||i.setAttribute("src","/static/img/clipboard.svg")},2e3)}function e_(e,t,n){return e!=="custom"&&n==="Land Area.json"?"/static/cartdata/"+e+"/Land Area.json":(t&&t!==""?"/static/userdata/"+t+"/":"/static/cartdata/"+e+"/")+n}const Vme=Q("p",{class:"lead text-center"},"Liked our work? Make sure to credit us using the citation below:",-1),Wme={class:"form-group"},jme={id:"citation-text",class:"text-primary",href:"https://www.pnas.org/content/115/10/E2156",target:"_blank",rel:"noopener noreferrer"},Gme=Q("img",{id:"clipboard-citation-icon",src:"/static/img/clipboard.svg",alt:"Copy button",title:"Copy"},null,-1),qme=[Gme],kW=Fr({__name:"CTextCitation",setup(e){var t="Gastner MT, Seguy V, More P. Fast low-based algorithm for creating density-equalizing map projections. Proc Natl Acad Sci USA 115(10):E2156E2164 (2018).";return(n,r)=>(Be(),Ue("div",null,[Vme,Q("div",Wme,[Q("a",jme,lr(vn(t)),1),Q("button",{style:{"margin-top":"25px"},class:"clipboard-copy",id:"clipboard-citation","data-animation":"false",title:"Copy",onClick:r[0]||(r[0]=i=>pC("clipboard-citation",vn(t)))},qme)])]))}}),ss=e=>(q1("data-v-9afc939e"),e=e(),X1(),e),Xme=ss(()=>Q("span",{class:"d-none d-md-block me-2"},"Share",-1)),Yme=ss(()=>Q("i",{class:"fas fa-share-alt"},null,-1)),Kme=[Xme,Yme],Jme={class:"modal fade text-wrap",id:"shareModal",tabindex:"-1","aria-labelledby":"shareModalLabel","aria-hidden":"true"},Zme={class:"modal-dialog"},Qme={class:"modal-content"},e1e=ss(()=>Q("div",{class:"modal-header"},[Q("h1",{class:"modal-title fs-5",id:"shareModalLabel"},"Share cartogram"),Q("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t1e={class:"modal-body"},n1e=ss(()=>Q("div",null,[Q("p",{class:"bg-warning-subtle p-1 rounded"},[Q("span",{class:"badge text-bg-warning"},"Important"),Si(" The share link/embed will be pruned from our server if there is no access for one year. We strongly advise you to back up your original data in a safe place so you can regenerate the cartogram if needed. ")])],-1)),r1e=ss(()=>Q("h3",{class:"text-center"},"Share now",-1)),i1e={class:"text-center"},s1e=["href"],a1e=ss(()=>Q("i",{class:"fab fa-facebook-square"},null,-1)),o1e=[a1e],l1e=["href"],c1e=ss(()=>Q("i",{class:"fab fa-linkedin"},null,-1)),u1e=[c1e],f1e=["href"],h1e=ss(()=>Q("i",{class:"fab fa-twitter-square"},null,-1)),d1e=[h1e],p1e=["href"],g1e=ss(()=>Q("i",{class:"fas fa-envelope-square"},null,-1)),m1e=[g1e],x1e={class:"mb-3"},v1e=ss(()=>Q("h3",{class:"text-center"},"Link",-1)),y1e={class:"form-group"},_1e=["value"],b1e=ss(()=>Q("img",{id:"clipboard-link-icon",src:"/static/img/clipboard.svg",alt:"Copy button"},null,-1)),E1e=[b1e],w1e={id:"share-embed",class:"mb-5"},S1e=ss(()=>Q("h3",{class:"text-center"},"Embed",-1)),A1e=ss(()=>Q("p",{class:"text-center"}," To embed yor cartogram into any webpage, insert the HTML code below: ",-1)),T1e={class:"form-group"},k1e={id:"share-embed-code",class:"form-control w-100",disabled:"",rows:"3",style:{"font-family":"monospace",resize:"none"}},C1e=ss(()=>Q("img",{id:"clipboard-embed-icon",src:"/static/img/clipboard.svg",alt:"Copy button"},null,-1)),F1e=[C1e],O1e=Fr({__name:"CMenuBtnShare",props:{mapDBKey:{}},setup(e){const t=Jh(),n=e,r=Zc(()=>n.mapDBKey&&n.mapDBKey!==""?location.protocol+"//"+location.host+"/cartogram/key/"+n.mapDBKey:location.protocol+"//"+location.host+"/cartogram/map/"+t.currentMapName),i=Zc(()=>window.encodeURIComponent(r.value)),s=Zc(()=>'<iframe src="'+(r.value+"/embed")+'" width="800" height="550" style="border: 1px solid black;"></iframe>');function a(){var o=new XMLHttpRequest;o.open("GET",r.value)}return(o,l)=>(Be(),Ue(xt,null,[Q("button",{class:"btn btn-primary me-2 d-flex align-items-center","data-bs-toggle":"modal","data-bs-target":"#shareModal",title:"Save and share cartogram",onClick:l[0]||(l[0]=c=>a())},Kme),Q("div",Jme,[Q("div",Zme,[Q("div",Qme,[e1e,Q("div",t1e,[Q("div",null,[n1e,r1e,Q("div",i1e,[Q("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+i.value,onclick:"javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;",target:"_blank",title:"Share on Facebook",class:"social-link",id:"facebook-share"},o1e,8,s1e),Q("a",{href:"https://www.linkedin.com/shareArticle?url="+i.value+"&mini=true&title=Cartogram&summary=Create%20cartograms%20with%20go-cart.io&source=go-cart.io",onclick:"javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=520,width=570');return false;",target:"_blank",title:"Share on LinkedIn",class:"social-link",id:"linkedin-share"},u1e,8,l1e),Q("a",{href:"https://twitter.com/share?url="+i.value,onclick:"javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;",target:"_blank",title:"Share on Twitter",class:"social-link",id:"twitter-share"},d1e,8,f1e),Q("a",{href:"mailto:?body="+i.value,title:"Share by Email",class:"social-link",id:"email-share"},m1e,8,p1e)])]),Q("div",x1e,[v1e,Q("div",y1e,[Q("input",{type:"text",id:"share-link-href",class:"form-control w-100",disabled:"",style:{"font-family":"monospace"},value:r.value},null,8,_1e),Q("button",{style:{"margin-top":"4.6px"},"data-animation":"false",class:"clipboard-copy",id:"clipboard-link",title:"Copy",onClick:l[1]||(l[1]=c=>pC("clipboard-link",r.value))},E1e)])]),Q("div",w1e,[S1e,A1e,Q("div",T1e,[Q("textarea",k1e,lr(s.value),1),Q("button",{class:"clipboard-copy",id:"clipboard-embed","data-animation":"false",title:"Copy",onClick:l[2]||(l[2]=c=>pC("clipboard-embed",s.value))},F1e)])]),Et(kW)])])])])],64))}}),dx=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},N1e=dx(O1e,[["__scopeId","data-v-9afc939e"]]),D1e={class:"navbar bg-light p-0"},$1e={class:"w-100 mw-100 d-flex justify-content-between"},R1e={key:0,class:"p-2"},I1e=Q("img",{src:"/static/img/gocart_final.svg",width:"80",alt:"go-cart.io logo"},null,-1),M1e=[I1e],L1e={class:"py-2 d-flex flex-nowrap"},P1e=["href"],B1e=Q("span",{class:"d-none d-md-block me-2"},"Edit",-1),U1e=Q("i",{class:"far fa-edit"},null,-1),z1e=[B1e,U1e],H1e={class:"dropdown me-2 d-flex"},V1e=Q("button",{class:"btn btn-primary dropdown-toggle d-flex align-items-center",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Customize cartogram viewer"},[Q("span",{class:"d-none d-md-block me-2"},"Customize"),Q("i",{class:"fas fa-cog"})],-1),W1e={class:"dropdown-menu dropdown-menu-end p-2 container",style:{width:"250px"}},j1e={class:"row"},G1e=Q("div",{class:"col-8"},[Q("label",{class:"form-check-label",for:"gridline-toggle-cartogram"},"Show grid lines")],-1),q1e={class:"col-4 text-end"},X1e={class:"row"},Y1e=Q("div",{class:"col-8"},[Q("label",{class:"form-check-label",for:"gridline-toggle-cartogram"},"Number of panels")],-1),K1e={class:"col-4 text-end"},J1e=["value"],Z1e=Fr({__name:"CMenuBar",props:{isEmbed:{type:Boolean,default:!1},maps:{},mapTitle:{},mapDBKey:{}},emits:["map_changed"],setup(e,{emit:t}){const n=Jh(),r=e,i=t;function s(a){i("map_changed",a)}return(a,o)=>(Be(),Ue("nav",D1e,[Q("div",$1e,[r.isEmbed?(Be(),Ue("div",R1e,M1e)):qi("",!0),Et(Ume,{maps:r.maps,mapTitle:r.mapTitle,mapDBKey:r.mapDBKey,isEmbed:r.isEmbed,onMap_changed:s},null,8,["maps","mapTitle","mapDBKey","isEmbed"]),Q("div",L1e,[Q("a",{class:"btn btn-primary me-2 d-flex align-items-center",title:"Edit cartogram",href:r.mapDBKey?"/cartogram/edit/key/"+r.mapDBKey:"/cartogram/edit/map/"+vn(n).currentMapName},z1e,8,P1e),Et(N1e,{mapDBKey:r.mapDBKey},null,8,["mapDBKey"]),Q("div",H1e,[V1e,Q("div",W1e,[Q("div",j1e,[G1e,Q("div",q1e,[hi(Q("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":o[0]||(o[0]=l=>vn(n).options.showGrid=l)},null,512),[[A0,vn(n).options.showGrid]])])]),Q("div",X1e,[Y1e,Q("div",K1e,[hi(Q("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=l=>vn(n).options.numberOfPanels=l)},[(Be(),Ue(xt,null,Gr([1,2,3,4,5],l=>Q("option",{key:l,value:l},lr(l),9,J1e)),64))],512),[[dh,vn(n).options.numberOfPanels]])])])])])])])]))}});class Q1e{constructor(){dv(this,"touches",new Map);dv(this,"touchIds",[]);dv(this,"thumbIndex",-1)}set(t){if(!(this.touches.size>=3||!t.pointerId))switch(this.touchIds.push(t.pointerId),this.touches.set(t.pointerId,t),this.touches.size){case 1:this.thumbIndex=t.pointerId;return;case 2:return;case 3:let n=Math.hypot(this.getTouchId(this.touchIds[1]).pageY-this.getTouchId(this.touchIds[0]).pageY,this.getTouchId(this.touchIds[1]).pageX-this.getTouchId(this.touchIds[0]).pageX),r=Math.hypot(this.getTouchId(this.touchIds[2]).pageY-this.getTouchId(this.touchIds[1]).pageY,this.getTouchId(this.touchIds[2]).pageX-this.getTouchId(this.touchIds[1]).pageX),i=Math.hypot(this.getTouchId(this.touchIds[0]).pageY-this.getTouchId(this.touchIds[2]).pageY,this.getTouchId(this.touchIds[0]).pageX-this.getTouchId(this.touchIds[2]).pageX);n<=r&&n<=i?this.thumbIndex=this.getTouchId(this.touchIds[2]).pointerId:n>r&&r<=i?this.thumbIndex=this.getTouchId(this.touchIds[0]).pointerId:this.thumbIndex=this.getTouchId(this.touchIds[1]).pointerId;return;default:return}}update(t){this.touches.has(t.pointerId)&&this.touches.set(t.pointerId,t)}clear(t){this.touches.delete(t.pointerId),this.touchIds=this.touchIds.filter(n=>n!==t.pointerId),this.thumbIndex===t.pointerId&&(this.thumbIndex=this.touchIds[0])}length(){return this.touches.size}getTouches(){return this.touches}getTouchId(t){return this.touches.has(t)?this.touches.get(t):{pageX:-1,pageY:-1,pointerId:-1}}getAllPoints(t=0,n=0){let r=[];return this.touches.forEach((i,s)=>{r.push([i.pageX-t,i.pageY-n])}),r}getMergedPoints(t=0,n=0){try{if(this.touches.size===1)return[this.getThumb(t,n)];if(this.touches.size>1)return[this.getThumb(t,n),this.getOthers(t,n)]}catch{}return[]}getThumb(t=0,n=0){return[this.getTouchId(this.thumbIndex).pageX-t,this.getTouchId(this.thumbIndex).pageY-n]}getOthers(t=0,n=0){if(this.touches.size<2)return[];let r=0,i=0;return this.touches.forEach((s,a)=>{a!==this.thumbIndex&&(r+=s.pageX-t,i+=s.pageY-n)}),[r/(this.touches.size-1),i/(this.touches.size-1)]}}const exe=["cx","cy"],txe={key:0},nxe=["x1","y1","x2","y2"],rxe=Fr({__name:"CTouchVis",props:{touchInfo:{},touchLenght:{}},setup(e){const t=Ei();var n=0,r=0;const i=e,s=Ms({points:[],line:[]});ec(()=>{let o=t.value.getBoundingClientRect();n=o.left,r=o.top,a()}),$a(()=>i.touchLenght,(o,l)=>{a()});function a(){s.points=[],s.line=[];try{i.touchInfo.length()>2&&(s.line=i.touchInfo.getMergedPoints(n,r))}catch(o){console.log(o)}}return(o,l)=>(Be(),Ue("svg",{ref_key:"svgEl",ref:t,class:"w-100 h-100 position-absolute z-3",style:{"pointer-events":"none"}},[(Be(!0),Ue(xt,null,Gr(s.points,(c,u)=>(Be(),Ue("g",null,[Q("circle",{cx:c[0],cy:c[1],fill:"blue",r:"5"},null,8,exe)]))),256)),s.line.length>0?(Be(),Ue("g",txe,[Q("line",{x1:s.line[0][0],y1:s.line[0][1],x2:s.line[1][0],y2:s.line[1][1],style:{stroke:"rgb(255, 0, 0)","stroke-width":"2"}},null,8,nxe)])):qi("",!0)],512))}});var ixe=Math.abs,I2=Math.cos,g1=Math.sin,sxe=1e-6,RE=Math.PI,gC=RE/2,c5=lxe(2),axe=180/RE,oxe=RE/180;function mC(e){return e>1?gC:e<-1?-gC:Math.asin(e)}function lxe(e){return e>0?Math.sqrt(e):0}function cxe(e,t){var n=e*g1(t),r=30,i;do t-=i=(t+g1(t)-n)/(1+I2(t));while(ixe(i)>sxe&&--r>0);return t/2}function uxe(e,t,n){function r(i,s){return[e*i*I2(s=cxe(n,s)),t*g1(s)]}return r.invert=function(i,s){return s=mC(s/t),[i/(e*I2(s)),mC((2*s+g1(2*s))/n)]},r}var fxe=uxe(c5/gC,c5,RE);function hxe(){return Go(fxe).scale(169.529)}function dxe(e){var t=0,n=A4(e),r=n(t);return r.parallel=function(i){return arguments.length?n(t=i*oxe):t*axe},r}function pxe(e){var t=I2(e);function n(r,i){return[r*t,g1(i)/t]}return n.invert=function(r,i){return[r/t,mC(i*t)]},n}function gxe(){return dxe(pxe).parallel(38.58).scale(195.044)}function as(e,t,n){return e.fields=t||[],e.fname=n,e}function An(e){return e==null?null:e.fname}function Qr(e){return e==null?null:e.fields}function CW(e){return e.length===1?mxe(e[0]):xxe(e)}const mxe=e=>function(t){return t[e]},xxe=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function he(e){throw Error(e)}function Yo(e){const t=[],n=e.length;let r=null,i=0,s="",a,o,l;e=e+"";function c(){t.push(s+e.substring(a,o)),s="",a=o+1}for(a=o=0;o<n;++o)if(l=e[o],l==="\\")s+=e.substring(a,o++),a=o;else if(l===r)c(),r=null,i=-1;else{if(r)continue;a===i&&l==='"'||a===i&&l==="'"?(a=o+1,r=l):l==="."&&!i?o>a?c():a=o+1:l==="["?(o>a&&c(),i=a=o+1):l==="]"&&(i||he("Access path missing open bracket: "+e),i>0&&c(),i=0,a=o+1)}return i&&he("Access path missing closing bracket: "+e),r&&he("Access path missing closing quote: "+e),o>a&&(o++,c()),t}function la(e,t,n){const r=Yo(e);return e=r.length===1?r[0]:e,as((n&&n.get||CW)(r),[e],t||e)}const px=la("id"),ii=as(e=>e,[],"identity"),Mc=as(()=>0,[],"zero"),Cp=as(()=>1,[],"one"),ca=as(()=>!0,[],"true"),wc=as(()=>!1,[],"false");function vxe(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const FW=0,j4=1,G4=2,OW=3,NW=4;function q4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vxe,r=e||FW;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=j4&&n(t||"error","ERROR",arguments),this},warn(){return r>=G4&&n(t||"warn","WARN",arguments),this},info(){return r>=OW&&n(t||"log","INFO",arguments),this},debug(){return r>=NW&&n(t||"log","DEBUG",arguments),this}}}var me=Array.isArray;function Me(e){return e===Object(e)}const u5=e=>e!=="__proto__";function Fp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=yxe(r.signals,i.signals);else{const a=s==="legend"?{layout:1}:s==="style"?!0:null;Op(r,s,i[s],a)}return r},{})}function Op(e,t,n,r){if(!u5(t))return;let i,s;if(Me(n)&&!me(n)){s=Me(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?Op(s,i,n[i]):u5(i)&&(s[i]=n[i])}else e[t]=n}function yxe(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function Ct(e){return e[e.length-1]}function Xr(e){return e==null||e===""?null:+e}const DW=e=>t=>e*Math.exp(t),$W=e=>t=>Math.log(e*t),RW=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),IW=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,M2=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function IE(e,t,n,r){const i=n(e[0]),s=n(Ct(e)),a=(s-i)*t;return[r(i-a),r(s-a)]}function MW(e,t){return IE(e,t,Xr,ii)}function LW(e,t){var n=Math.sign(e[0]);return IE(e,t,$W(n),DW(n))}function PW(e,t,n){return IE(e,t,M2(n),M2(1/n))}function BW(e,t,n){return IE(e,t,RW(n),IW(n))}function ME(e,t,n,r,i){const s=r(e[0]),a=r(Ct(e)),o=t!=null?r(t):(s+a)/2;return[i(o+(s-o)*n),i(o+(a-o)*n)]}function X4(e,t,n){return ME(e,t,n,Xr,ii)}function Y4(e,t,n){const r=Math.sign(e[0]);return ME(e,t,n,$W(r),DW(r))}function L2(e,t,n,r){return ME(e,t,n,M2(r),M2(1/r))}function K4(e,t,n,r){return ME(e,t,n,RW(r),IW(r))}function UW(e){return 1+~~(new Date(e).getMonth()/3)}function zW(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Le(e){return e!=null?me(e)?e:[e]:[]}function HW(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function ft(e){return typeof e=="function"}const _xe="descending";function J4(e,t,n){n=n||{},t=Le(t)||[];const r=[],i=[],s={},a=n.comparator||bxe;return Le(e).forEach((o,l)=>{o!=null&&(r.push(t[l]===_xe?-1:1),i.push(o=ft(o)?o:la(o,null,n)),(Qr(o)||[]).forEach(c=>s[c]=1))}),i.length===0?null:as(a(i,r),Object.keys(s))}const LE=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),bxe=(e,t)=>e.length===1?Exe(e[0],t[0]):wxe(e,t,e.length),Exe=(e,t)=>function(n,r){return LE(e(n),e(r))*t},wxe=(e,t,n)=>(t.push(0),function(r,i){let s,a=0,o=-1;for(;a===0&&++o<n;)s=e[o],a=LE(s(r),s(i));return a*t[o]});function si(e){return ft(e)?e:()=>e}function Z4(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function ct(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Po(e,t){let n=0,r,i,s,a;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=a=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>a&&(a=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=a=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>a&&(a=i))}return[s,a]}function VW(e,t){const n=e.length;let r=-1,i,s,a,o,l;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=a=s;break}if(r===n)return[-1,-1];for(o=l=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,o=r),a<s&&(a=s,l=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=a=s;break}if(r===n)return[-1,-1];for(o=l=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,o=r),a<s&&(a=s,l=r))}return[o,l]}const Sxe=Object.prototype.hasOwnProperty;function Ze(e,t){return Sxe.call(e,t)}const Xv={};function Np(e){let t={},n;function r(s){return Ze(t,s)&&t[s]!==Xv}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,a){return r(s)||(++i.size,t[s]===Xv&&--i.empty),t[s]=a,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=Xv),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let a=0;for(const o in t){const l=t[o];l!==Xv&&(!n||!n(l))&&(s[o]=l,++a)}i.size=a,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function WW(e,t,n,r,i,s){if(!n&&n!==0)return s;const a=+n;let o=e[0],l=Ct(e),c;l<o&&(c=o,o=l,l=c),c=Math.abs(t-o);const u=Math.abs(l-t);return c<u&&c<=a?r:u<=a?i:s}function Oe(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ct(r,n)}function qd(e,t,n,r){let i=t[0],s=t[t.length-1],a;return i>s&&(a=i,i=s,s=a),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function Hu(e){return typeof e=="boolean"}function tu(e){return Object.prototype.toString.call(e)==="[object Date]"}function jW(e){return e&&ft(e[Symbol.iterator])}function Rt(e){return typeof e=="number"}function GW(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Pe(e){return typeof e=="string"}function Q4(e,t,n){e&&(e=t?Le(e).map(o=>o.replace(/\\(.)/g,"$1")):Le(e));const r=e&&e.length,i=n&&n.get||CW,s=o=>i(t?[o]:Yo(o));let a;if(!r)a=function(){return""};else if(r===1){const o=s(e[0]);a=function(l){return""+o(l)}}else{const o=e.map(s);a=function(l){let c=""+o[0](l),u=0;for(;++u<r;)c+="|"+o[u](l);return c}}return as(a,e,"key")}function qW(e,t){const n=e[0],r=Ct(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Axe=1e4;function XW(e){e=+e||Axe;let t,n,r;const i=()=>{t={},n={},r=0},s=(a,o)=>(++r>e&&(n=t,t={},r=1),t[a]=o);return i(),{clear:i,has:a=>Ze(t,a)||Ze(n,a),get:a=>Ze(t,a)?t[a]:Ze(n,a)?s(a,n[a]):void 0,set:(a,o)=>Ze(t,a)?t[a]=o:s(a,o)}}function YW(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const a=r||new t.constructor(i+s);let o=0,l=0,c=0;for(;o<i&&l<s;++c)a[c]=e(t[o],n[l])>0?n[l++]:t[o++];for(;o<i;++o,++c)a[c]=t[o];for(;l<s;++l,++c)a[c]=n[l];return a}function qg(e,t){let n="";for(;--t>=0;)n+=e;return n}function KW(e,t,n,r){const i=n||" ",s=e+"",a=t-s.length;return a<=0?s:r==="left"?qg(i,a)+s:r==="center"?qg(i,~~(a/2))+s+qg(i,Math.ceil(a/2)):s+qg(i,a)}function gx(e){return e&&Ct(e)-e[0]||0}function Ce(e){return me(e)?"["+e.map(Ce)+"]":Me(e)||Pe(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function eO(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const Txe=e=>Rt(e)||tu(e)?e:Date.parse(e);function tO(e,t){return t=t||Txe,e==null||e===""?null:t(e)}function nO(e){return e==null||e===""?null:e+""}function Va(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function JW(e,t,n,r){const i=r??"",s=e+"",a=s.length,o=Math.max(0,t-i.length);return a<=t?s:n==="left"?i+s.slice(a-o):n==="center"?s.slice(0,Math.ceil(o/2))+i+s.slice(a-~~(o/2)):s.slice(0,o)+i}function Nc(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function kxe(e){return e}function Cxe(e){if(e==null)return kxe;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],a=e.translate[1];return function(o,l){l||(t=n=0);var c=2,u=o.length,f=new Array(u);for(f[0]=(t+=o[0])*r+s,f[1]=(n+=o[1])*i+a;c<u;)f[c]=o[c],++c;return f}}function Fxe(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Oxe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return f5(e,n)})}:f5(e,t)}function f5(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=ZW(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function ZW(e,t){var n=Cxe(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var h=r[u<0?~u:u],d=0,p=h.length;d<p;++d)f.push(n(h[d],d));u<0&&Fxe(f,p)}function s(u){return n(u)}function a(u){for(var f=[],h=0,d=u.length;h<d;++h)i(u[h],f);return f.length<2&&f.push(f[0]),f}function o(u){for(var f=a(u);f.length<4;)f.push(f[0]);return f}function l(u){return u.map(o)}function c(u){var f=u.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(c)};case"Point":h=s(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(s);break;case"LineString":h=a(u.arcs);break;case"MultiLineString":h=u.arcs.map(a);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:f,coordinates:h}}return c(t)}function Nxe(e,t){var n={},r={},i={},s=[],a=-1;t.forEach(function(c,u){var f=e.arcs[c<0?~c:c],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=t[++a],t[a]=c,t[u]=h)}),t.forEach(function(c){var u=o(c),f=u[0],h=u[1],d,p;if(d=i[f])if(delete i[d.end],d.push(c),d.end=h,p=r[h]){delete r[p.start];var g=p===d?d:d.concat(p);r[g.start=d.start]=i[g.end=p.end]=g}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(c),d.start=f,p=i[f]){delete i[p.end];var m=p===d?d:p.concat(d);r[m.start=p.start]=i[m.end=d.end]=m}else r[d.start]=i[d.end]=d;else d=[c],r[d.start=f]=i[d.end=h]=d});function o(c){var u=e.arcs[c<0?~c:c],f=u[0],h;return e.transform?(h=[0,0],u.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=u[u.length-1],c<0?[h,f]:[f,h]}function l(c,u){for(var f in c){var h=c[f];delete u[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),s.push(h)}}return l(i,r),l(r,i),t.forEach(function(c){n[c<0?~c:c]||s.push([c])}),s}function Dxe(e){return ZW(e,$xe.apply(this,arguments))}function $xe(e,t,n){var r,i,s;if(arguments.length>1)r=Rxe(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:Nxe(e,r)}}function Rxe(e,t,n){var r=[],i=[],s;function a(f){var h=f<0?~f:f;(i[h]||(i[h]=[])).push({i:f,g:s})}function o(f){f.forEach(a)}function l(f){f.forEach(o)}function c(f){f.forEach(l)}function u(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":o(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const Ar="year",Qi="quarter",ei="month",Kn="week",es="date",Wr="day",Bo="dayofyear",Ts="hours",ks="minutes",ua="seconds",Wa="milliseconds",rO=[Ar,Qi,ei,Kn,es,Wr,Bo,Ts,ks,ua,Wa],FA=rO.reduce((e,t,n)=>(e[t]=1+n,e),{});function iO(e){const t=Le(e).slice(),n={};return t.length||he("Missing time unit."),t.forEach(i=>{Ze(FA,i)?n[i]=1:he(`Invalid time unit: ${i}.`)}),(n[Kn]||n[Wr]?1:0)+(n[Qi]||n[ei]||n[es]?1:0)+(n[Bo]?1:0)>1&&he(`Incompatible time units: ${e}`),t.sort((i,s)=>FA[i]-FA[s]),t}const Ixe={[Ar]:"%Y ",[Qi]:"Q%q ",[ei]:"%b ",[es]:"%d ",[Kn]:"W%U ",[Wr]:"%a ",[Bo]:"%j ",[Ts]:"%H:00",[ks]:"00:%M",[ua]:":%S",[Wa]:".%L",[`${Ar}-${ei}`]:"%Y-%m ",[`${Ar}-${ei}-${es}`]:"%Y-%m-%d ",[`${Ts}-${ks}`]:"%H:%M"};function QW(e,t){const n=ct({},Ixe,t),r=iO(e),i=r.length;let s="",a=0,o,l;for(a=0;a<i;)for(o=r.length;o>a;--o)if(l=r.slice(a,o).join("-"),n[l]!=null){s+=n[l],a=o;break}return s.trim()}const Cf=new Date;function sO(e){return Cf.setFullYear(e),Cf.setMonth(0),Cf.setDate(1),Cf.setHours(0,0,0,0),Cf}function ej(e){return nj(new Date(e))}function tj(e){return xC(new Date(e))}function nj(e){return Ml.count(sO(e.getFullYear())-1,e)}function xC(e){return Tp.count(sO(e.getFullYear())-1,e)}function vC(e){return sO(e).getDay()}function Mxe(e,t,n,r,i,s,a){if(0<=e&&e<100){const o=new Date(-1,t,n,r,i,s,a);return o.setFullYear(e),o}return new Date(e,t,n,r,i,s,a)}function rj(e){return sj(new Date(e))}function ij(e){return yC(new Date(e))}function sj(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return eu.count(t-1,e)}function yC(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return kp.count(t-1,e)}function _C(e){return Cf.setTime(Date.UTC(e,0,1)),Cf.getUTCDay()}function Lxe(e,t,n,r,i,s,a){if(0<=e&&e<100){const o=new Date(Date.UTC(-1,t,n,r,i,s,a));return o.setUTCFullYear(n.y),o}return new Date(Date.UTC(e,t,n,r,i,s,a))}function aj(e,t,n,r,i){const s=t||1,a=Ct(e),o=(x,y,v)=>(v=v||x,Pxe(n[v],r[v],x===a&&s,y)),l=new Date,c=Va(e),u=c[Ar]?o(Ar):si(2012),f=c[ei]?o(ei):c[Qi]?o(Qi):Mc,h=c[Kn]&&c[Wr]?o(Wr,1,Kn+Wr):c[Kn]?o(Kn,1):c[Wr]?o(Wr,1):c[es]?o(es,1):c[Bo]?o(Bo,1):Cp,d=c[Ts]?o(Ts):Mc,p=c[ks]?o(ks):Mc,g=c[ua]?o(ua):Mc,m=c[Wa]?o(Wa):Mc;return function(x){l.setTime(+x);const y=u(l);return i(y,f(l),h(l,y),d(l),p(l),g(l),m(l))}}function Pxe(e,t,n,r){const i=n<=1?e:r?(s,a)=>r+n*Math.floor((e(s,a)-r)/n):(s,a)=>n*Math.floor(e(s,a)/n);return t?(s,a)=>t(i(s,a),a):i}function H0(e,t,n){return t+e*7-(n+6)%7}const Bxe={[Ar]:e=>e.getFullYear(),[Qi]:e=>Math.floor(e.getMonth()/3),[ei]:e=>e.getMonth(),[es]:e=>e.getDate(),[Ts]:e=>e.getHours(),[ks]:e=>e.getMinutes(),[ua]:e=>e.getSeconds(),[Wa]:e=>e.getMilliseconds(),[Bo]:e=>nj(e),[Kn]:e=>xC(e),[Kn+Wr]:(e,t)=>H0(xC(e),e.getDay(),vC(t)),[Wr]:(e,t)=>H0(1,e.getDay(),vC(t))},Uxe={[Qi]:e=>3*e,[Kn]:(e,t)=>H0(e,0,vC(t))};function oj(e,t){return aj(e,t||1,Bxe,Uxe,Mxe)}const zxe={[Ar]:e=>e.getUTCFullYear(),[Qi]:e=>Math.floor(e.getUTCMonth()/3),[ei]:e=>e.getUTCMonth(),[es]:e=>e.getUTCDate(),[Ts]:e=>e.getUTCHours(),[ks]:e=>e.getUTCMinutes(),[ua]:e=>e.getUTCSeconds(),[Wa]:e=>e.getUTCMilliseconds(),[Bo]:e=>sj(e),[Kn]:e=>yC(e),[Wr]:(e,t)=>H0(1,e.getUTCDay(),_C(t)),[Kn+Wr]:(e,t)=>H0(yC(e),e.getUTCDay(),_C(t))},Hxe={[Qi]:e=>3*e,[Kn]:(e,t)=>H0(e,0,_C(t))};function lj(e,t){return aj(e,t||1,zxe,Hxe,Lxe)}const Vxe={[Ar]:Mo,[Qi]:d1.every(3),[ei]:d1,[Kn]:Tp,[es]:Ml,[Wr]:Ml,[Bo]:Ml,[Ts]:kE,[ks]:AE,[ua]:Al,[Wa]:P0},Wxe={[Ar]:Lo,[Qi]:p1.every(3),[ei]:p1,[Kn]:kp,[es]:eu,[Wr]:eu,[Bo]:eu,[Ts]:CE,[ks]:TE,[ua]:Al,[Wa]:P0};function Dp(e){return Vxe[e]}function $p(e){return Wxe[e]}function cj(e,t,n){return e?e.offset(t,n):void 0}function uj(e,t,n){return cj(Dp(e),t,n)}function fj(e,t,n){return cj($p(e),t,n)}function hj(e,t,n,r){return e?e.range(t,n,r):void 0}function dj(e,t,n,r){return hj(Dp(e),t,n,r)}function pj(e,t,n,r){return hj($p(e),t,n,r)}const Xg=1e3,Yg=Xg*60,Kg=Yg*60,PE=Kg*24,jxe=PE*7,h5=PE*30,bC=PE*365,gj=[Ar,ei,es,Ts,ks,ua,Wa],Jg=gj.slice(0,-1),Zg=Jg.slice(0,-1),Qg=Zg.slice(0,-1),Gxe=Qg.slice(0,-1),qxe=[Ar,Kn],d5=[Ar,ei],mj=[Ar],pg=[[Jg,1,Xg],[Jg,5,5*Xg],[Jg,15,15*Xg],[Jg,30,30*Xg],[Zg,1,Yg],[Zg,5,5*Yg],[Zg,15,15*Yg],[Zg,30,30*Yg],[Qg,1,Kg],[Qg,3,3*Kg],[Qg,6,6*Kg],[Qg,12,12*Kg],[Gxe,1,PE],[qxe,1,jxe],[d5,1,h5],[d5,3,3*h5],[mj,1,bC]];function xj(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(gx(t))/n;let i=wp(o=>o[2]).right(pg,r),s,a;return i===pg.length?(s=mj,a=du(t[0]/bC,t[1]/bC,n)):i?(i=pg[r/pg[i-1][2]<pg[i][2]/r?i-1:i],s=i[0],a=i[1]):(s=gj,a=Math.max(du(t[0],t[1],n),1)),{units:s,step:a}}function em(e){const t={};return n=>t[n]||(t[n]=e(n))}function Xxe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=Yxe(r,i);const a=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+a}}function Yxe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function vj(e){const t=em(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=vh(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Xxe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,a){a=vh(a??",f");const o=du(r,i,s),l=Math.max(Math.abs(r),Math.abs(i));let c;if(a.precision==null)switch(a.type){case"s":return isNaN(c=VH(o,l))||(a.precision=c),n(a,l);case"":case"e":case"g":case"p":case"r":{isNaN(c=WH(o,l))||(a.precision=c-(a.type==="e"));break}case"f":case"%":{isNaN(c=HH(o))||(a.precision=c-(a.type==="%")*2);break}}return t(a)}}}let EC;yj();function yj(){return EC=vj({format:yE,formatPrefix:v4})}function _j(e){return vj(zH(e))}function P2(e){return arguments.length?EC=_j(e):EC}function p5(e,t,n){n=n||{},Me(n)||he(`Invalid time multi-format specifier: ${n}`);const r=t(ua),i=t(ks),s=t(Ts),a=t(es),o=t(Kn),l=t(ei),c=t(Qi),u=t(Ar),f=e(n[Wa]||".%L"),h=e(n[ua]||":%S"),d=e(n[ks]||"%I:%M"),p=e(n[Ts]||"%I %p"),g=e(n[es]||n[Wr]||"%a %d"),m=e(n[Kn]||"%b %d"),x=e(n[ei]||"%B"),y=e(n[Qi]||"%B"),v=e(n[Ar]||"%Y");return _=>(r(_)<_?f:i(_)<_?h:s(_)<_?d:a(_)<_?p:l(_)<_?o(_)<_?g:m:u(_)<_?c(_)<_?x:y:v)(_)}function bj(e){const t=em(e.format),n=em(e.utcFormat);return{timeFormat:r=>Pe(r)?t(r):p5(t,Dp,r),utcFormat:r=>Pe(r)?n(r):p5(n,$p,r),timeParse:em(e.parse),utcParse:em(e.utcParse)}}let wC;Ej();function Ej(){return wC=bj({format:R4,parse:nW,utcFormat:I4,utcParse:rW})}function wj(e){return bj(JV(e))}function m1(e){return arguments.length?wC=wj(e):wC}const SC=(e,t)=>ct({},e,t);function Sj(e,t){const n=e?_j(e):P2(),r=t?wj(t):m1();return SC(n,r)}function aO(e,t){const n=arguments.length;return n&&n!==2&&he("defaultLocale expects either zero or two arguments."),n?SC(P2(e),m1(t)):SC(P2(),m1())}function Kxe(){return yj(),Ej(),aO()}const Jxe=/^(data:|([A-Za-z]+:)?\/\/)/,Zxe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Qxe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,g5="file://";function eve(e,t){return n=>({options:n||{},sanitize:nve,load:tve,fileAccess:!!t,file:rve(t),http:sve(e)})}async function tve(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function nve(e,t){t=ct({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,a;const o=Zxe.test(e.replace(Qxe,""));(e==null||typeof e!="string"||!o)&&he("Sanitize failure, invalid URI: "+Ce(e));const l=Jxe.test(e);return(a=t.baseURL)&&!l&&(!e.startsWith("/")&&!a.endsWith("/")&&(e="/"+e),e=a+e),s=(i=e.startsWith(g5))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(g5.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function rve(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):ive}async function ive(){he("No file system access.")}function sve(e){return e?async function(t,n){const r=ct({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?ft(s[i])?s[i]():s.text():he(s.status+""+s.statusText)}:ave}async function ave(){he("No HTTP fetch method available.")}const ove=e=>e!=null&&e===e,lve=e=>e==="true"||e==="false"||e===!0||e===!1,cve=e=>!Number.isNaN(Date.parse(e)),Aj=e=>!Number.isNaN(+e)&&!(e instanceof Date),uve=e=>Aj(e)&&Number.isInteger(+e),AC={boolean:eO,integer:Xr,number:Xr,date:tO,string:nO,unknown:ii},Yv=[lve,uve,Aj,cve],fve=["boolean","integer","number","date"];function Tj(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=Yv.length,i=Yv.map((s,a)=>a+1);for(let s=0,a=0,o,l;s<n;++s)for(l=t?e[s][t]:e[s],o=0;o<r;++o)if(i[o]&&ove(l)&&!Yv[o](l)&&(i[o]=0,++a,a===Yv.length))return"string";return fve[i.reduce((s,a)=>s===0?a:s,0)-1]}function kj(e,t){return t.reduce((n,r)=>(n[r]=Tj(e,r),n),{})}function m5(e){const t=function(n,r){const i={delimiter:e};return oO(n,r?ct(r,i):i)};return t.responseType="text",t}function oO(e,t){return t.header&&(e=t.header.map(Ce).join(t.delimiter)+`
`+e),RH(t.delimiter).parse(e+"")}oO.responseType="text";function hve(e){return typeof Buffer=="function"&&ft(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function lO(e,t){const n=t&&t.property?la(t.property):ii;return Me(e)&&!hve(e)?dve(n(e),t):n(JSON.parse(e))}lO.responseType="json";function dve(e,t){return!me(e)&&jW(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const pve={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function Cj(e,t){let n,r,i,s;return e=lO(e,t),t&&t.feature?(n=Oxe,i=t.feature):t&&t.mesh?(n=Dxe,i=t.mesh,s=pve[t.filter]):he("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):he("Invalid TopoJSON object: "+i),r&&r.features||[r]}Cj.responseType="json";const t_={dsv:oO,csv:m5(","),tsv:m5("	"),json:lO,topojson:Cj};function cO(e,t){return arguments.length>1?(t_[e]=t,this):Ze(t_,e)?t_[e]:null}function Fj(e){const t=cO(e);return t&&t.responseType||"text"}function Oj(e,t,n,r){t=t||{};const i=cO(t.type||"json");return i||he("Unknown data format type: "+t.type),e=i(e,t),t.parse&&gve(e,t.parse,n,r),Ze(e,"columns")&&delete e.columns,e}function gve(e,t,n,r){if(!e.length)return;const i=m1();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),a,o,l,c,u,f;t==="auto"&&(t=kj(e,s)),s=Object.keys(t);const h=s.map(d=>{const p=t[d];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!AC[p])throw Error("Illegal format pattern: "+d+":"+p);return AC[p]});for(l=0,u=e.length,f=s.length;l<u;++l)for(a=e[l],c=0;c<f;++c)o=s[c],a[o]=h[c](a[o])}const BE=eve(typeof fetch<"u"&&fetch,null);function UE(e){const t=e||ii,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const a=n.indexOf(i);a>=0&&n.splice(a,1)}return n},n}async function n_(e,t){try{await t(e)}catch(n){e.error(n)}}const Nj=Symbol("vega_id");let mve=1;function zE(e){return!!(e&&Ke(e))}function Ke(e){return e[Nj]}function Dj(e,t){return e[Nj]=t,e}function Vt(e){const t=e===Object(e)?e:{data:e};return Ke(t)?t:Dj(t,mve++)}function uO(e){return HE(e,Vt({}))}function HE(e,t){for(const n in e)t[n]=e[n];return t}function $j(e,t){return Dj(t,Ke(e))}function Zh(e,t){return e?t?(n,r)=>e(n,r)||Ke(t(n))-Ke(t(r)):(n,r)=>e(n,r)||Ke(n)-Ke(r):null}function Rj(e){return e&&e.constructor===Qh}function Qh(){const e=[],t=[],n=[],r=[],i=[];let s=null,a=!1;return{constructor:Qh,insert(o){const l=Le(o),c=l.length;for(let u=0;u<c;++u)e.push(l[u]);return this},remove(o){const l=ft(o)?r:t,c=Le(o),u=c.length;for(let f=0;f<u;++f)l.push(c[f]);return this},modify(o,l,c){const u={field:l,value:si(c)};return ft(o)?(u.filter=o,i.push(u)):(u.tuple=o,n.push(u)),this},encode(o,l){return ft(o)?i.push({filter:o,field:l}):n.push({tuple:o,field:l}),this},clean(o){return s=o,this},reflow(){return a=!0,this},pulse(o,l){const c={},u={};let f,h,d,p,g,m;for(f=0,h=l.length;f<h;++f)c[Ke(l[f])]=1;for(f=0,h=t.length;f<h;++f)g=t[f],c[Ke(g)]=-1;for(f=0,h=r.length;f<h;++f)p=r[f],l.forEach(y=>{p(y)&&(c[Ke(y)]=-1)});for(f=0,h=e.length;f<h;++f)g=e[f],m=Ke(g),c[m]?c[m]=1:o.add.push(Vt(e[f]));for(f=0,h=l.length;f<h;++f)g=l[f],c[Ke(g)]<0&&o.rem.push(g);function x(y,v,_){_?y[v]=_(y):o.encode=v,a||(u[Ke(y)]=y)}for(f=0,h=n.length;f<h;++f)d=n[f],g=d.tuple,p=d.field,m=c[Ke(g)],m>0&&(x(g,p,d.value),o.modifies(p));for(f=0,h=i.length;f<h;++f)d=i[f],p=d.filter,l.forEach(y=>{p(y)&&c[Ke(y)]>0&&x(y,d.field,d.value)}),o.modifies(d.field);if(a)o.mod=t.length||r.length?l.filter(y=>c[Ke(y)]>0):l.slice();else for(m in u)o.mod.push(u[m]);return(s||s==null&&(t.length||r.length))&&o.clean(!0),o}}}const r_="_:mod:_";function VE(){Object.defineProperty(this,r_,{writable:!0,value:{}})}VE.prototype={set(e,t,n,r){const i=this,s=i[e],a=i[r_];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,a[t+":"+e]=-1,a[e]=-1):(s!==n||r)&&(i[e]=n,a[e]=me(n)?1+n.length:-1),i},modified(e,t){const n=this[r_];if(arguments.length){if(me(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[r_]={},this}};let xve=0;const vve="pulse",yve=new VE,_ve=1,bve=2;function tn(e,t,n,r){this.id=++xve,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function x5(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}tn.prototype={targets(){return this._targets||(this._targets=UE(px))},set(e){return this.value!==e?(this.value=e,1):0},skip:x5(_ve),modified:x5(bve),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new VE,i=this._argops=this._argops||[],s=[];let a,o,l,c;const u=(f,h,d)=>{d instanceof tn?(d!==this&&(t&&d.targets().add(this),s.push(d)),i.push({op:d,name:f,index:h})):r.set(f,h,d)};for(a in e)if(o=e[a],a===vve)Le(o).forEach(f=>{f instanceof tn?f!==this&&(f.targets().add(this),s.push(f)):he("Pulse parameters must be operator instances.")}),this.source=o;else if(me(o))for(r.set(a,-1,Array(l=o.length)),c=0;c<l;++c)u(a,c,o[c]);else u(a,-1,o);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||yve,n=this._argops;let r,i,s,a;if(n){const o=n.length;for(i=0;i<o;++i)r=n[i],s=r.op,a=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,a);if(n.initonly){for(i=0;i<o;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Eve(e,t,n,r){let i=1,s;return e instanceof tn?s=e:e&&e.prototype instanceof tn?s=new e:ft(e)?s=new tn(null,e):(i=0,s=new tn(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function wve(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Sve=0;function WE(e,t,n){this.id=++Sve,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Sc(e,t,n){return new WE(e,t,n)}WE.prototype={_filter:ca,_apply:ii,targets(){return this._targets||(this._targets=UE(px))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Sc(e);return this.targets().add(t),t},apply(e){const t=Sc(null,e);return this.targets().add(t),t},merge(){const e=Sc();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Sc();return this.targets().add(Sc(null,null,Z4(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Sc(null,null,()=>n=!0)),t.targets().add(Sc(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=ca,this._targets=null}};function Ave(e,t,n,r){const i=this,s=Sc(n,r),a=function(c){c.dataflow=i;try{s.receive(c)}catch(u){i.error(u)}finally{i.run()}};let o;typeof e=="string"&&typeof document<"u"?o=document.querySelectorAll(e):o=Le(e);const l=o.length;for(let c=0;c<l;++c)o[c].addEventListener(t,a);return s}function Tve(e,t){const n=this.locale();return Oj(e,t,n.timeParse,n.utcParse)}function kve(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Cve(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:Fj(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function Fve(e,t,n){const r=this,i=r._pending||Ove(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(ca).insert(s.data||[])),i.done(),s}function Ove(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Nve={skip:!0};function Dve(e,t,n,r,i){return(e instanceof tn?Rve:$ve)(this,e,t,n,r,i),this}function $ve(e,t,n,r,i,s){const a=ct({},s,Nve);let o,l;ft(n)||(n=si(n)),r===void 0?o=c=>e.touch(n(c)):ft(r)?(l=new tn(null,r,i,!1),o=c=>{l.evaluate(c);const u=n(c),f=l.value;Rj(f)?e.pulse(u,f,s):e.update(u,f,a)}):o=c=>e.update(n(c),r,a),t.apply(o)}function Rve(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const a=s||{},o=new tn(null,Ive(n,r),i,!1);o.modified(a.force),o.rank=t.rank,t.targets().add(o),n&&(o.skip(!0),o.value=n.value,o.targets().add(n),e.connect(n,[o]))}}function Ive(e,t){return t=ft(t)?t:si(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Mve(e){e.rank=++this._rank}function Lve(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&he("Cycle detected in dataflow graph.")}const B2={},xo=1,Dc=2,gl=4,Pve=xo|Dc,v5=xo|gl,Sd=xo|Dc|gl,y5=8,gg=16,_5=32,b5=64;function nu(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function OA(e,t){const n=[];return Nc(e,t,r=>n.push(r)),n}function E5(e,t){const n={};return e.visit(t,r=>{n[Ke(r)]=1}),r=>n[Ke(r)]?null:r}function Kv(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}nu.prototype={StopPropagation:B2,ADD:xo,REM:Dc,MOD:gl,ADD_REM:Pve,ADD_MOD:v5,ALL:Sd,REFLOW:y5,SOURCE:gg,NO_SOURCE:_5,NO_FIELDS:b5,fork(e){return new nu(this.dataflow).init(this,e)},clone(){const e=this.fork(Sd);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Sd|gg)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new nu(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&b5)&&(n.fields=e.fields),t&xo?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Dc?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&gl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&_5?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Sd;return t&xo&&this.add.length||t&Dc&&this.rem.length||t&gl&&this.mod.length},reflow(e){if(e)return this.fork(Sd).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(gl,E5(this,xo))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return me(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?me(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&xo&&(n.addF=Kv(n.addF,t)),e&Dc&&(n.remF=Kv(n.remF,t)),e&gl&&(n.modF=Kv(n.modF,t)),e&gg&&(n.srcF=Kv(n.srcF,t)),n},materialize(e){e=e||Sd;const t=this;return e&xo&&t.addF&&(t.add=OA(t.add,t.addF),t.addF=null),e&Dc&&t.remF&&(t.rem=OA(t.rem,t.remF),t.remF=null),e&gl&&t.modF&&(t.mod=OA(t.mod,t.modF),t.modF=null),e&gg&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&gg)return Nc(n.source,n.srcF,r),n;e&xo&&Nc(n.add,n.addF,r),e&Dc&&Nc(n.rem,n.remF,r),e&gl&&Nc(n.mod,n.modF,r);const i=n.source;if(e&y5&&i){const s=n.add.length+n.mod.length;s===i.length||(s?Nc(i,E5(n,v5),r):Nc(i,n.srcF,r))}return n}};function fO(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const a of n)if(a.stamp===t){if(a.fields){const o=i.fields||(i.fields={});for(const l in a.fields)o[l]=1}a.changed(i.ADD)&&(s|=i.ADD),a.changed(i.REM)&&(s|=i.REM),a.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}Oe(fO,nu,{fork(e){const t=new nu(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?me(e)?e.some(r=>n[r]):n[e]:0},filter(){he("MultiPulse does not support filtering.")},materialize(){he("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function Bve(e,t,n){const r=this,i=[];if(r._pulse)return Ij(r);if(r._pending&&await r._pending,t&&await n_(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new nu(r,s,e),r._touched.forEach(u=>r._enqueue(u,!0)),r._touched=UE(px);let a=0,o,l,c;try{for(;r._heap.size()>0;){if(o=r._heap.pop(),o.rank!==o.qrank){r._enqueue(o,!0);continue}l=o.run(r._getPulse(o,e)),l.then?l=await l:l.async&&(i.push(l.async),l=B2),l!==B2&&o._targets&&o._targets.forEach(u=>r._enqueue(u)),++a}}catch(u){r._heap.clear(),c=u}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${a} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const u=r._postrun.sort((f,h)=>h.priority-f.priority);r._postrun=[];for(let f=0;f<u.length;++f)await n_(r,u[f].callback)}return n&&await n_(r,n),i.length&&Promise.all(i).then(u=>r.runAsync(null,()=>{u.forEach(f=>{try{f(r)}catch(h){r.error(h)}})})),r}async function Uve(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function zve(e,t,n){return this._pulse?Ij(this):(this.evaluate(e,t,n),this)}function Hve(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function Ij(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Vve(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Wve(e,t){const n=e.source,r=this._clock;return n&&me(n)?new fO(this,r,n.map(i=>i.pulse),t):this._input[e.id]||jve(this._pulse,n&&n.pulse)}function jve(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==B2&&(e.source=t.source),e)}const hO={skip:!1,force:!1};function Gve(e,t){const n=t||hO;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function qve(e,t,n){const r=n||hO;return(e.set(t)||r.force)&&this.touch(e,r),this}function Xve(e,t,n){this.touch(e,n||hO);const r=new nu(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Yve(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),Mj(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Kve(t,0,e)):r=n,r}}}function Mj(e,t,n,r){let i,s;const a=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(a,i)<0){e[n]=i,n=s;continue}break}return e[n]=a}function Kve(e,t,n){const r=t,i=e.length,s=e[t];let a=(t<<1)+1,o;for(;a<i;)o=a+1,o<i&&n(e[a],e[o])>=0&&(a=o),e[t]=e[a],t=a,a=(t<<1)+1;return e[t]=s,Mj(e,r,t,n)}function f0(){this.logger(q4()),this.logLevel(j4),this._clock=0,this._rank=0,this._locale=aO();try{this._loader=BE()}catch{}this._touched=UE(px),this._input={},this._pulse=null,this._heap=Yve((e,t)=>e.qrank-t.qrank),this._postrun=[]}function mg(e){return function(){return this._log[e].apply(this,arguments)}}f0.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:mg("error"),warn:mg("warn"),info:mg("info"),debug:mg("debug"),logLevel:mg("level"),cleanThreshold:1e4,add:Eve,connect:wve,rank:Mve,rerank:Lve,pulse:Xve,touch:Gve,update:qve,changeset:Qh,ingest:kve,parse:Tve,preload:Fve,request:Cve,events:Ave,on:Dve,evaluate:Bve,run:zve,runAsync:Uve,runAfter:Hve,_enqueue:Vve,_getPulse:Wve};function oe(e,t){tn.call(this,e,null,t)}Oe(oe,tn,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const V0={};function Lj(e){const t=Pj(e);return t&&t.Definition||null}function Pj(e){return e=e&&e.toLowerCase(),Ze(V0,e)?V0[e]:null}function*Bj(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function dO(e,t,n){const r=Float64Array.from(Bj(e,n));return r.sort(Rl),t.map(i=>Lz(r,i))}function pO(e,t){return dO(e,[.25,.5,.75],t)}function gO(e,t){const n=e.length,r=ple(e,t),i=pO(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function Uj(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],a=e.extent[1],o,l,c,u,f,h;const d=e.span||a-s||Math.abs(s)||1;if(e.step)o=e.step;else if(e.steps){for(u=d/t,f=0,h=e.steps.length;f<h&&e.steps[f]<u;++f);o=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),c=e.minstep||0,o=Math.max(c,Math.pow(n,Math.round(Math.log(d)/r)-l));Math.ceil(d/o)>t;)o*=n;for(f=0,h=i.length;f<h;++f)u=o/i[f],u>=c&&d/u<=t&&(o=u)}u=Math.log(o);const p=u>=0?0:~~(-u/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(u=Math.floor(s/o+g)*o,s=s<u?u-o:u,a=Math.ceil(a/o)*o),{start:s,stop:a===s?s+o:a,step:o}}var fa=Math.random;function Jve(e){fa=e}function zj(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(Bj(e,r)),s=i.length,a=t;let o,l,c,u;for(c=0,u=Array(a);c<a;++c){for(o=0,l=0;l<s;++l)o+=i[~~(fa()*s)];u[c]=o/s}return u.sort(Rl),[$k(u,n/2),$k(u,1-n/2)]}function Hj(e,t,n,r){r=r||(h=>h);const i=e.length,s=new Float64Array(i);let a=0,o=1,l=r(e[0]),c=l,u=l+t,f;for(;o<i;++o){if(f=r(e[o]),f>=u){for(c=(l+c)/2;a<o;++a)s[a]=c;u=f+t,l=f}c=f}for(c=(l+c)/2;a<o;++a)s[a]=c;return n?Zve(s,t+t/4):s}function Zve(e,t){const n=e.length;let r=0,i=1,s,a;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(a=i+(r+s-i-i>>1);a<i;)e[a++]=e[i];for(;a>i;)e[a--]=e[r]}r=i,i=s}return e}function Qve(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function eye(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(a){return arguments.length?(n=a||0,i=r-n,s):n},max(a){return arguments.length?(r=a||0,i=r-n,s):r},sample(){return n+Math.floor(i*fa())},pdf(a){return a===Math.floor(a)&&a>=n&&a<r?1/i:0},cdf(a){const o=Math.floor(a);return o<n?0:o>=r?1:(o-n+1)/i},icdf(a){return a>=0&&a<=1?n-1+Math.floor(a*i):NaN}};return s.min(e).max(t)}const Vj=Math.sqrt(2*Math.PI),tye=Math.SQRT2;let xg=NaN;function jE(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(xg===xg)n=xg,xg=NaN;else{do n=fa()*2-1,r=fa()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,xg=r*s}return e+n*t}function mO(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*Vj)}function GE(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const a=Math.exp(-i*i/2);let o;i<7.07106781186547?(o=.0352624965998911*i+.700383064443688,o=o*i+6.37396220353165,o=o*i+33.912866078383,o=o*i+112.079291497871,o=o*i+221.213596169931,o=o*i+220.206867912376,s=a*o,o=.0883883476483184*i+1.75566716318264,o=o*i+16.064177579207,o=o*i+86.7807322029461,o=o*i+296.564248779674,o=o*i+637.333633378831,o=o*i+793.826512519948,o=o*i+440.413735824752,s=s/o):(o=i+.65,o=i+4/o,o=i+3/o,o=i+2/o,o=i+1/o,s=a/o/2.506628274631)}return r>0?1-s:s}function qE(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*tye*nye(2*e-1)}function nye(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function xO(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>jE(n,r),pdf:s=>mO(s,n,r),cdf:s=>GE(s,n,r),icdf:s=>qE(s,n,r)};return i.mean(e).stdev(t)}function vO(e,t){const n=xO();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=gO(e)),i):t},sample(){return e[~~(fa()*r)]+t*n.sample()},pdf(s){let a=0,o=0;for(;o<r;++o)a+=n.pdf((s-e[o])/t);return a/t/r},cdf(s){let a=0,o=0;for(;o<r;++o)a+=n.cdf((s-e[o])/t);return a/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function yO(e,t){return e=e||0,t=t??1,Math.exp(e+jE()*t)}function _O(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Vj*e)}function bO(e,t,n){return GE(Math.log(e),t,n)}function EO(e,t,n){return Math.exp(qE(e,t,n))}function Wj(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>yO(n,r),pdf:s=>_O(s,n,r),cdf:s=>bO(s,n,r),icdf:s=>EO(s,n,r)};return i.mean(e).stdev(t)}function jj(e,t){let n=0,r;function i(a){const o=[];let l=0,c;for(c=0;c<n;++c)l+=o[c]=a[c]==null?1:+a[c];for(c=0;c<n;++c)o[c]/=l;return o}const s={weights(a){return arguments.length?(r=i(t=a||[]),s):t},distributions(a){return arguments.length?(a?(n=a.length,e=a):(n=0,e=[]),s.weights(t)):e},sample(){const a=fa();let o=e[n-1],l=r[0],c=0;for(;c<n-1;l+=r[++c])if(a<l){o=e[c];break}return o.sample()},pdf(a){let o=0,l=0;for(;l<n;++l)o+=r[l]*e[l].pdf(a);return o},cdf(a){let o=0,l=0;for(;l<n;++l)o+=r[l]*e[l].cdf(a);return o},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function wO(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*fa()}function SO(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function AO(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function TO(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Gj(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>wO(n,r),pdf:s=>SO(s,n,r),cdf:s=>AO(s,n,r),icdf:s=>TO(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function kO(e,t,n){let r=0,i=0;for(const s of e){const a=n(s);t(s)==null||a==null||isNaN(a)||(r+=(a-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function mx(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function XE(e,t,n,r){e=e.filter(d=>{let p=t(d),g=n(d);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((d,p)=>t(d)-t(p));const i=e.length,s=new Float64Array(i),a=new Float64Array(i);let o=0,l=0,c=0,u,f,h;for(h of e)s[o]=u=+t(h),a[o]=f=+n(h),++o,l+=(u-l)/o,c+=(f-c)/o;for(o=0;o<i;++o)s[o]-=l,a[o]-=c;return[s,a,l,c]}function xx(e,t,n,r){let i=-1,s,a;for(const o of e)s=t(o),a=n(o),s!=null&&(s=+s)>=s&&a!=null&&(a=+a)>=a&&r(s,a,++i)}function Rp(e,t,n,r,i){let s=0,a=0;return xx(e,t,n,(o,l)=>{const c=l-i(o),u=l-r;s+=c*c,a+=u*u}),1-s/a}function CO(e,t,n){let r=0,i=0,s=0,a=0,o=0;xx(e,t,n,(u,f)=>{++o,r+=(u-r)/o,i+=(f-i)/o,s+=(u*f-s)/o,a+=(u*u-a)/o});const l=mx(r,i,s,a),c=u=>l[0]+l[1]*u;return{coef:l,predict:c,rSquared:Rp(e,t,n,i,c)}}function qj(e,t,n){let r=0,i=0,s=0,a=0,o=0;xx(e,t,n,(u,f)=>{++o,u=Math.log(u),r+=(u-r)/o,i+=(f-i)/o,s+=(u*f-s)/o,a+=(u*u-a)/o});const l=mx(r,i,s,a),c=u=>l[0]+l[1]*Math.log(u);return{coef:l,predict:c,rSquared:Rp(e,t,n,i,c)}}function Xj(e,t,n){const[r,i,s,a]=XE(e,t,n);let o=0,l=0,c=0,u=0,f=0,h,d,p;xx(e,t,n,(y,v)=>{h=r[f++],d=Math.log(v),p=h*v,o+=(v*d-o)/f,l+=(p-l)/f,c+=(p*d-c)/f,u+=(h*p-u)/f});const[g,m]=mx(l/a,o/a,c/a,u/a),x=y=>Math.exp(g+m*(y-s));return{coef:[Math.exp(g-m*s),m],predict:x,rSquared:Rp(e,t,n,a,x)}}function Yj(e,t,n){let r=0,i=0,s=0,a=0,o=0,l=0;xx(e,t,n,(f,h)=>{const d=Math.log(f),p=Math.log(h);++l,r+=(d-r)/l,i+=(p-i)/l,s+=(d*p-s)/l,a+=(d*d-a)/l,o+=(h-o)/l});const c=mx(r,i,s,a),u=f=>c[0]*Math.pow(f,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:Rp(e,t,n,o,u)}}function FO(e,t,n){const[r,i,s,a]=XE(e,t,n),o=r.length;let l=0,c=0,u=0,f=0,h=0,d,p,g,m;for(d=0;d<o;)p=r[d],g=i[d++],m=p*p,l+=(m-l)/d,c+=(m*p-c)/d,u+=(m*m-u)/d,f+=(p*g-f)/d,h+=(m*g-h)/d;const x=u-l*l,y=l*x-c*c,v=(h*l-f*c)/y,_=(f*x-h*c)/y,b=-v*l,w=E=>(E=E-s,v*E*E+_*E+b+a);return{coef:[b-_*s+v*s*s+a,_-2*v*s,v],predict:w,rSquared:Rp(e,t,n,a,w)}}function Kj(e,t,n,r){if(r===0)return kO(e,t,n);if(r===1)return CO(e,t,n);if(r===2)return FO(e,t,n);const[i,s,a,o]=XE(e,t,n),l=i.length,c=[],u=[],f=r+1;let h,d,p,g,m;for(h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],h)*s[p];for(c.push(g),m=new Float64Array(f),d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],h+d);m[d]=g}u.push(m)}u.push(c);const x=iye(u),y=v=>{v-=a;let _=o+x[0]+x[1]*v+x[2]*v*v;for(h=3;h<f;++h)_+=x[h]*Math.pow(v,h);return _};return{coef:rye(f,x,-a,o),predict:y,rSquared:Rp(e,t,n,o,y)}}function rye(e,t,n,r){const i=Array(e);let s,a,o,l;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(o=t[s],l=1,i[s]+=o,a=1;a<=s;++a)l*=(s+1-a)/a,i[s-a]+=o*Math.pow(n,a)*l;return i[0]+=r,i}function iye(e){const t=e.length-1,n=[];let r,i,s,a,o;for(r=0;r<t;++r){for(a=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][a])&&(a=i);for(s=r;s<t+1;++s)o=e[s][r],e[s][r]=e[s][a],e[s][a]=o;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(o=0,s=i+1;s<t;++s)o+=e[s][i]*n[s];n[i]=(e[t][i]-o)/e[i][i]}return n}const w5=2,S5=1e-12;function Jj(e,t,n,r){const[i,s,a,o]=XE(e,t,n,!0),l=i.length,c=Math.max(2,~~(r*l)),u=new Float64Array(l),f=new Float64Array(l),h=new Float64Array(l).fill(1);for(let d=-1;++d<=w5;){const p=[0,c-1];for(let m=0;m<l;++m){const x=i[m],y=p[0],v=p[1],_=x-i[y]>i[v]-x?y:v;let b=0,w=0,E=0,A=0,S=0;const T=1/Math.abs(i[_]-x||1);for(let F=y;F<=v;++F){const I=i[F],D=s[F],N=sye(Math.abs(x-I)*T)*h[F],M=I*N;b+=N,w+=M,E+=D*N,A+=D*M,S+=I*M}const[C,O]=mx(w/b,E/b,A/b,S/b);u[m]=C+O*x,f[m]=Math.abs(s[m]-u[m]),aye(i,m+1,p)}if(d===w5)break;const g=Pz(f);if(Math.abs(g)<S5)break;for(let m=0,x,y;m<l;++m)x=f[m]/(6*g),h[m]=x>=1?S5:(y=1-x*x)*y}return oye(i,u,a,o)}function sye(e){return(e=1-e*e*e)*e*e}function aye(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function oye(e,t,n,r){const i=e.length,s=[];let a=0,o=0,l=[],c;for(;a<i;++a)c=e[a]+n,l[0]===c?l[1]+=(t[a]-l[1])/++o:(o=0,l[1]+=r,l=[c,t[a]],s.push(l));return l[1]+=r,s}const lye=.5*Math.PI/180;function YE(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],s=t[0],a=t[1],o=a-s,l=o/r,c=[i(s)],u=[];if(n===r){for(let g=1;g<r;++g)c.push(i(s+g/n*o));return c.push(i(a)),c}else{u.push(i(a));for(let g=n;--g>0;)u.push(i(s+g/n*o))}let f=c[0],h=u[u.length-1];const d=1/o,p=cye(f[1],u);for(;h;){const g=i((f[0]+h[0])/2);g[0]-f[0]>=l&&uye(f,g,h,d,p)>lye?u.push(g):(f=h,c.push(h),u.pop()),h=u[u.length-1]}return c}function cye(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const a=t[s][1];a<n&&(n=a),a>r&&(r=a)}return 1/(r-n)}function uye(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),a=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-a)}function fye(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function TC(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:fye(e)}function Zj(e,t,n){return n||e+(t?"_"+t:"")}const NA=()=>{},hye={init:NA,add:NA,rem:NA,idx:0},x1={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},vx=Object.keys(x1).filter(e=>e!=="__count__");function dye(e,t){return(n,r)=>ct({name:e,aggregate_param:r,out:n||e},hye,t)}[...vx,"__count__"].forEach(e=>{x1[e]=dye(e,x1[e])});function Qj(e,t,n){return x1[e](n,t)}function eG(e,t){return e.idx-t.idx}function pye(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=x1[i]())})};return e.forEach(n),Object.values(t).sort(eG)}function gye(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function mye(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function xye(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function vye(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function tG(e,t){const n=t||ii,r=pye(e),i=e.slice().sort(eG);function s(a){this._ops=r,this._out=i,this.cell=a,this.init()}return s.prototype.init=gye,s.prototype.add=mye,s.prototype.rem=xye,s.prototype.set=vye,s.prototype.get=n,s.fields=e.map(a=>a.out),s}function OO(e){this._key=e?la(e):Ke,this.reset()}const Or=OO.prototype;Or.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Or.add=function(e){this._add.push(e)};Or.rem=function(e){this._rem.push(e)};Or.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),a={};let o,l,c;for(o=0;o<i;++o)a[n(t[o])]=1;for(o=0,l=0;o<r;++o)a[n(c=e[o])]?a[n(c)]=0:s[l++]=c;return this._rem=[],this._add=s};Or.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",Ze(n,s)||(n[s]=1,++i);return i};Or.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=VW(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Or.argmin=function(e){return this.extent(e)[0]||{}};Or.argmax=function(e){return this.extent(e)[1]||{}};Or.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Or.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Or.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=pO(this.values(),e),this._get=e),this._q};Or.q1=function(e){return this.quartile(e)[0]};Or.q2=function(e){return this.quartile(e)[1]};Or.q3=function(e){return this.quartile(e)[2]};Or.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=zj(this.values(),1e3,.05,e),this._get=e),this._ci};Or.ci0=function(e){return this.ci(e)[0]};Or.ci1=function(e){return this.ci(e)[1]};function mu(e){oe.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}mu.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:vx},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Oe(mu,oe,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(o){let l,c,u,f;for(l in o)for(u=o[l].tuple,c=0;c<i;++c)r[c][f=u[n[c]]]=f}s(e._prev),s(t);function a(o,l,c){const u=n[c],f=r[c++];for(const h in f){const d=o?o+"|"+h:h;l[u]=f[h],c<i?a(d,l,c):t[d]||e.cell(d,l)}}a("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(y){const v=Le(Qr(y)),_=v.length;let b=0,w;for(;b<_;++b)r[w=v[b]]||(r[w]=1,t.push(w))}this._dims=Le(e.groupby),this._dnames=this._dims.map(y=>{const v=An(y);return i(y),n.push(v),v}),this.cellkey=e.key?e.key:TC(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],a=e.ops||["count"],o=e.aggregate_params||[null],l=e.as||[],c=s.length,u={};let f,h,d,p,g,m,x;for(c!==a.length&&he("Unmatched number of fields and aggregate ops."),x=0;x<c;++x){if(f=s[x],h=a[x],d=o[x]||null,f==null&&h!=="count"&&he("Null aggregate field specified."),g=An(f),m=Zj(h,g,l[x]),n.push(m),h==="count"){this._counts.push(m);continue}p=u[g],p||(i(f),p=u[g]=[],p.field=f,this._measures.push(p)),h!=="count"&&(this._countOnly=!1),p.push(Qj(h,d,m))}return this._measures=this._measures.map(y=>tG(y,y.field)),Object.create(null)},cellkey:TC(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new OO),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let a=0;a<i;++a)s[n[a]]=r[a](e);return t?$j(t.tuple,s):Vt(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,a=e.rem,o=e.mod;let l,c,u,f;if(r)for(c in r)l=r[c],(!i||l.num)&&a.push(l.tuple);for(u=0,f=this._alen;u<f;++u)s.push(this.celltuple(t[u])),t[u]=null;for(u=0,f=this._mlen;u<f;++u)l=n[u],(l.num===0&&i?a:o).push(this.celltuple(l)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});const yye=1e-14;function NO(e){oe.call(this,null,e)}NO.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Oe(NO,oe,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,a=e.as||["bin0","bin1"],o=a[0],l=a[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(Qr(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?u=>{const f=r(u);u[o]=f,u[l]=f==null?null:i+s*(1+(f-i)/s)}:u=>u[o]=r(u)),t.modifies(n?a:o)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=Uj(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,a,o;(a=e.anchor)!=null&&(o=a-(i+r*Math.floor((a-i)/r)),i+=o,s+=o);const l=function(c){let u=Xr(t(c));return u==null?null:u<i?-1/0:u>s?1/0:(u=Math.max(i,Math.min(u,s-r)),i+r*Math.floor(yye+(u-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=as(l,Qr(t),e.name||"bin_"+An(t))}});function nG(e,t,n){const r=e;let i=t||[],s=n||[],a={},o=0;return{add:l=>s.push(l),remove:l=>a[r(l)]=++o,size:()=>i.length,data:(l,c)=>(o&&(i=i.filter(u=>!a[r(u)]),a={},o=0),c&&l&&i.sort(l),s.length&&(i=l?YW(l,i,s.sort(l)):i.concat(s),s=[]),i)}}function DO(e){oe.call(this,[],e)}DO.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Oe(DO,oe,{transform(e,t){const n=t.fork(t.ALL),r=nG(Ke,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(Zh(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function rG(e){tn.call(this,null,_ye,e)}Oe(rG,tn);function _ye(e){return this.value&&!e.modified()?this.value:J4(e.fields,e.orders)}function $O(e){oe.call(this,null,e)}$O.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function bye(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Oe($O,oe,{transform(e,t){const n=f=>h=>{for(var d=bye(o(h),e.case,s)||[],p,g=0,m=d.length;g<m;++g)a.test(p=d[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,a=this._stop,o=e.field,l=e.as||["text","count"],c=n(f=>i[f]=1+(i[f]||0)),u=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let o,l,c;for(o in n)l=r[o],c=n[o]||0,!l&&c?(r[o]=l=Vt({}),l[i]=o,l[s]=c,a.add.push(l)):c===0?(l&&a.rem.push(l),n[o]=null,r[o]=null):l[s]!==c&&(l[s]=c,a.mod.push(l));return a.modifies(t)}});function RO(e){oe.call(this,null,e)}RO.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Oe(RO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let o=this.value;return a?(o&&(n.rem=o),o=t.materialize(t.SOURCE).source,n.add=this.value=Eye(o,i,s,e.filter||ca)):n.mod=o,n.source=this.value,n.modifies(r)}});function Eye(e,t,n,r){for(var i=[],s={},a=e.length,o=0,l,c;o<a;++o)for(s[t]=c=e[o],l=0;l<a;++l)s[n]=e[l],r(s)&&(i.push(Vt(s)),s={},s[t]=c);return i}const A5={kde:vO,mixture:jj,normal:xO,lognormal:Wj,uniform:Gj},wye="distributions",T5="function",Sye="field";function iG(e,t){const n=e[T5];Ze(A5,n)||he("Unknown distribution function: "+n);const r=A5[n]();for(const i in e)i===Sye?r.data((e.from||t()).map(e[i])):i===wye?r[i](e[i].map(s=>iG(s,t))):typeof r[i]===T5&&r[i](e[i]);return r}function IO(e){oe.call(this,null,e)}const sG=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Aye={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:sG},{name:"weights",type:"number",array:!0}]};IO.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:sG.concat(Aye)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Oe(IO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=iG(e.distribution,Tye(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let a=e.method||"pdf";a!=="pdf"&&a!=="cdf"&&he("Invalid density method: "+a),!e.extent&&!r.data&&he("Missing density extent parameter."),a=r[a];const o=e.as||["value","density"],l=e.extent||Po(r.data()),c=YE(a,l,i,s).map(u=>{const f={};return f[o[0]]=u[0],f[o[1]]=u[1],Vt(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function Tye(e){return()=>e.materialize(e.SOURCE).source}function aG(e,t){return e?e.map((n,r)=>t[r]||An(n)):null}function MO(e,t,n){const r=[],i=f=>f(l);let s,a,o,l,c,u;if(t==null)r.push(e.map(n));else for(s={},a=0,o=e.length;a<o;++a)l=e[a],c=t.map(i),u=s[c],u||(s[c]=u=[],u.dims=c,r.push(u)),u.push(n(l));return r}const oG="bin";function LO(e){oe.call(this,null,e)}LO.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:oG}]};const kye=(e,t)=>gx(Po(e,t))/30;Oe(LO,oe,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=MO(t.source,e.groupby,ii),i=e.smooth||!1,s=e.field,a=e.step||kye(n,s),o=Zh((p,g)=>s(p)-s(g)),l=e.as||oG,c=r.length;let u=1/0,f=-1/0,h=0,d;for(;h<c;++h){const p=r[h].sort(o);d=-1;for(const g of Hj(p,a,i,s))g<u&&(u=g),g>f&&(f=g),p[++d][l]=g}return this.value={start:u,stop:f,step:a},t.reflow(!0).modifies(l)}});function lG(e){tn.call(this,null,Cye,e),this.modified(!0)}Oe(lG,tn);function Cye(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:as(n=>t(n,e),Qr(t),An(t))}function PO(e){oe.call(this,[void 0,void 0],e)}PO.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Oe(PO,oe,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],a=n[1];if((i||s==null)&&(s=1/0,a=-1/0),t.visit(i?t.SOURCE:t.ADD,o=>{const l=Xr(r(o));l!=null&&(l<s&&(s=l),l>a&&(a=l))}),!Number.isFinite(s)||!Number.isFinite(a)){let o=An(r);o&&(o=` for field "${o}"`),t.dataflow.warn(`Infinite extent${o}: [${s}, ${a}]`),s=a=void 0}this.value=[s,a]}});function BO(e,t){tn.call(this,e),this.parent=t,this.count=0}Oe(BO,tn,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function KE(e){oe.call(this,{},e),this._keys=Np();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Oe(KE,oe,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=Ze(i,e)&&i[e],a,o;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(o=r||(o=this._group[e])&&o.tuple,a=n.dataflow,s=new BO(n.fork(n.NO_SOURCE),this),a.add(s).connect(t(a,e,o)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,a=e.modified("key"),o=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const c=Ke(l),u=s.get(c);u!==void 0&&(s.delete(c),o(u).rem(l))}),t.visit(t.ADD,l=>{const c=r(l);s.set(Ke(l),c),o(c).add(l)}),a||t.modified(r.fields)?t.visit(t.MOD,l=>{const c=Ke(l),u=s.get(c),f=r(l);u===f?o(f).mod(l):(s.set(c,f),o(u).rem(l),o(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{o(s.get(Ke(l))).mod(l)}),a&&t.visit(t.REFLOW,l=>{const c=Ke(l),u=s.get(c),f=r(l);u!==f&&(s.set(c,f),o(u).rem(l),o(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function cG(e){tn.call(this,null,Fye,e)}Oe(cG,tn);function Fye(e){return this.value&&!e.modified()?this.value:me(e.name)?Le(e.name).map(t=>la(t)):la(e.name,e.as)}function UO(e){oe.call(this,Np(),e)}UO.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Oe(UO,oe,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,a=i.rem,o=i.mod,l=e.expr;let c=!0;t.visit(t.REM,f=>{const h=Ke(f);r.has(h)?r.delete(h):a.push(f)}),t.visit(t.ADD,f=>{l(f,e)?s.push(f):r.set(Ke(f),1)});function u(f){const h=Ke(f),d=l(f,e),p=r.get(h);d&&p?(r.delete(h),s.push(f)):!d&&!p?(r.set(h,1),a.push(f)):c&&d&&!p&&o.push(f)}return t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function zO(e){oe.call(this,[],e)}zO.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Oe(zO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=aG(r,e.as||[]),s=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,o=>{const l=r.map(p=>p(o)),c=l.reduce((p,g)=>Math.max(p,g.length),0);let u=0,f,h,d;for(;u<c;++u){for(h=uO(o),f=0;f<a;++f)h[i[f]]=(d=l[f][u])==null?null:d;s&&(h[s]=u),n.add.push(h)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function HO(e){oe.call(this,[],e)}HO.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Oe(HO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(An),s=e.as||["key","value"],a=s[0],o=s[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let u=0,f;u<l;++u)f=uO(c),f[a]=i[u],f[o]=r[u](c),n.add.push(f)}),this.value=n.source=n.add,n.modifies(s)}});function VO(e){oe.call(this,null,e)}VO.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Oe(VO,oe,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,a=>a[r]=n(a,e))}});function uG(e){oe.call(this,[],e)}Oe(uG,oe,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,a,o,l;if(s>0){for(a=[];--s>=0;)a.push(l=Vt(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(a):a}else o=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,i=i.slice(-s);return n.source=this.value=i,n}});const Jv={value:"value",median:Pz,mean:Ef,min:Dk,max:Xf},Oye=[];function WO(e){oe.call(this,[],e)}WO.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Nye(e){var t=e.method||Jv.value,n;if(Jv[t]==null)he("Unrecognized imputation method: "+t);else return t===Jv.value?(n=e.value!==void 0?e.value:0,()=>n):Jv[t]}function Dye(e){const t=e.field;return n=>n?t(n):NaN}Oe(WO,oe,{transform(e,t){var n=t.fork(t.ALL),r=Nye(e),i=Dye(e),s=An(e.field),a=An(e.key),o=(e.groupby||[]).map(An),l=$ye(t.source,e.groupby,e.key,e.keyvals),c=[],u=this.value,f=l.domain.length,h,d,p,g,m,x,y,v,_,b;for(m=0,v=l.length;m<v;++m)for(h=l[m],p=h.values,d=NaN,y=0;y<f;++y)if(h[y]==null){for(g=l.domain[y],b={_impute:!0},x=0,_=p.length;x<_;++x)b[o[x]]=p[x];b[a]=g,b[s]=Number.isNaN(d)?d=r(h,i):d,c.push(Vt(b))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),u.length&&(n.rem=n.materialize(n.REM).rem.concat(u)),this.value=c,n}});function $ye(e,t,n,r){var i=x=>x(m),s=[],a=r?r.slice():[],o={},l={},c,u,f,h,d,p,g,m;for(a.forEach((x,y)=>o[x]=y+1),h=0,g=e.length;h<g;++h)m=e[h],p=n(m),d=o[p]||(o[p]=a.push(p)),u=(c=t?t.map(i):Oye)+"",(f=l[u])||(f=l[u]=[],s.push(f),f.values=c),f[d-1]=m;return s.domain=a,s}function jO(e){mu.call(this,e)}jO.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:vx},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Oe(jO,mu,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{ct(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function GO(e){oe.call(this,null,e)}GO.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Oe(GO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=MO(r,e.groupby,e.field),s=(e.groupby||[]).map(An),a=e.bandwidth,o=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],c=[];let u=e.extent,f=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;o!=="pdf"&&o!=="cdf"&&he("Invalid density method: "+o),e.resolve==="shared"&&(u||(u=Po(r,e.field)),f=h=e.steps||h),i.forEach(d=>{const p=vO(d,a)[o],g=e.counts?d.length:1,m=u||Po(d);YE(p,m,f,h).forEach(x=>{const y={};for(let v=0;v<s.length;++v)y[s[v]]=d.dims[v];y[l[0]]=x[0],y[l[1]]=x[1]*g,c.push(Vt(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function fG(e){tn.call(this,null,Rye,e)}Oe(fG,tn);function Rye(e){return this.value&&!e.modified()?this.value:Q4(e.fields,e.flat)}function hG(e){oe.call(this,[],e),this._pending=null}Oe(hG,oe,{transform(e,t){const n=t.dataflow;return this._pending?DA(this,t,this._pending):Iye(e)?t.StopPropagation:e.values?DA(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Le(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>DA(this,t,Le(r.data)))}});function Iye(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function DA(e,t,n){n.forEach(Vt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function qO(e){oe.call(this,{},e)}qO.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Oe(qO,oe,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,a=e.modified(),o=n.length;let l=a?t.SOURCE:t.ADD,c=t,u=e.as,f,h,d;return i?(h=i.length,o>1&&!u&&he('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==o*h&&he('The "as" parameter has too few output field names.'),u=u||i.map(An),f=function(p){for(var g=0,m=0,x,y;g<o;++g)if(y=r.get(n[g](p)),y==null)for(x=0;x<h;++x,++m)p[u[m]]=s;else for(x=0;x<h;++x,++m)p[u[m]]=i[x](y)}):(u||he("Missing output field names."),f=function(p){for(var g=0,m;g<o;++g)m=r.get(n[g](p)),p[u[g]]=m??s}),a?c=t.reflow(!0):(d=n.some(p=>t.modified(p.fields)),l|=d?t.MOD:0),t.visit(l,f),c.modifies(u)}});function dG(e){tn.call(this,null,Mye,e)}Oe(dG,tn);function Mye(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,a;for(s=0;s<n;++s)a=t[s],a[0]<r&&(r=a[0]),a[1]>i&&(i=a[1]);return[r,i]}function pG(e){tn.call(this,null,Lye,e)}Oe(pG,tn);function Lye(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function gG(e){oe.call(this,null,e)}Oe(gG,oe,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function XO(e){mu.call(this,e)}XO.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:vx,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Oe(XO,mu,{_transform:mu.prototype.transform,transform(e,t){return this._transform(Pye(e,t),t)}});function Pye(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=Qr(n).concat(Qr(r)),a=Uye(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map(()=>i),fields:a.map(o=>Bye(o,n,r,s)),as:a.map(o=>o+""),modified:e.modified.bind(e)}}function Bye(e,t,n,r){return as(i=>t(i)===e?n(i):NaN,r,e+"")}function Uye(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const a=e(s);r[a]||(r[a]=1,i.push(a))}),i.sort(LE),t?i.slice(0,t):i}function mG(e){KE.call(this,e)}Oe(mG,KE,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(Ke(s),n,t,s);return(e.modified("field")||r&&t.modified(Qr(r)))&&he("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const a=i(s);r(s).forEach(o=>a.mod(o))}),t.visit(t.ADD,s=>{const a=i(s);r(s).forEach(o=>a.add(Vt(o)))}),t.visit(t.REM,s=>{const a=i(s);r(s).forEach(o=>a.rem(o))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function YO(e){oe.call(this,null,e)}YO.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Oe(YO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=aG(e.fields,e.as||[]),s=r?(o,l)=>zye(o,l,r,i):HE;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,o=>{const l=Ke(o);n.rem.push(a[l]),a[l]=null}),t.visit(t.ADD,o=>{const l=s(o,Vt({}));a[Ke(o)]=l,n.add.push(l)}),t.visit(t.MOD,o=>{n.mod.push(s(o,a[Ke(o)]))}),n}});function zye(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function xG(e){oe.call(this,null,e)}Oe(xG,oe,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function KO(e){oe.call(this,null,e)}KO.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Hye=1e-14;Oe(KO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=MO(i,e.groupby,e.field),a=(e.groupby||[]).map(An),o=[],l=e.step||.01,c=e.probs||xs(l/2,1-Hye,l),u=c.length;return s.forEach(f=>{const h=dO(f,c);for(let d=0;d<u;++d){const p={};for(let g=0;g<a.length;++g)p[a[g]]=f.dims[g];p[r[0]]=c[d],p[r[1]]=h[d],o.push(Vt(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}});function vG(e){oe.call(this,null,e)}Oe(vG,oe,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=Ke(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=uO(i);r[Ke(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[Ke(i)];for(const a in i)s[a]=i[a],n.modifies(a);n.mod.push(s)})),n}});function JO(e){oe.call(this,[],e),this.count=0}JO.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Oe(JO,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((u,f)=>(u[Ke(f)]=1,u),{});let a=this.value,o=this.count,l=0;function c(u){let f,h;a.length<i?a.push(u):(h=~~((o+1)*fa()),h<a.length&&h>=l&&(f=a[h],s[Ke(f)]&&n.rem.push(f),a[h]=u)),++o}if(t.rem.length&&(t.visit(t.REM,u=>{const f=Ke(u);s[f]&&(s[f]=-1,n.rem.push(u)),--o}),a=a.filter(u=>s[Ke(u)]!==-1)),(t.rem.length||r)&&a.length<i&&t.source&&(l=o=a.length,t.visit(t.SOURCE,u=>{s[Ke(u)]||c(u)}),l=-1),r&&a.length>i){const u=a.length-i;for(let f=0;f<u;++f)s[Ke(a[f])]=-1,n.rem.push(a[f]);a=a.slice(u)}return t.mod.length&&t.visit(t.MOD,u=>{s[Ke(u)]&&n.mod.push(u)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||l<0)&&(n.add=a.filter(u=>!s[Ke(u)])),this.count=o,this.value=n.source=a,n}});function ZO(e){oe.call(this,null,e)}ZO.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Oe(ZO,oe,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=xs(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,Vt(s)}),n.add=t.add.concat(this.value),n}});function yG(e){oe.call(this,null,e),this.modified(!0)}Oe(yG,oe,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function QO(e){oe.call(this,null,e)}const _G=["unit0","unit1"];QO.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:rO,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:_G}]};Oe(QO,oe,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),a=(i?$p:Dp)(s.unit).offset,o=e.as||_G,l=o[0],c=o[1],u=s.step;let f=s.start||1/0,h=s.stop||-1/0,d=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Qr(n)))&&(t=t.reflow(!0),d=t.SOURCE,f=1/0,h=-1/0),t.visit(d,p=>{const g=n(p);let m,x;g==null?(p[l]=null,r&&(p[c]=null)):(p[l]=m=x=s(g),r&&(p[c]=x=a(m,u)),m<f&&(f=m),x>h&&(h=x))}),s.start=f,s.stop=h,t.modifies(r?o:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:xj({extent:e.extent||Po(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=iO(r),a=this.value||{},o=(n?lj:oj)(s,i);return o.unit=Ct(s),o.units=s,o.step=i,o.start=a.start,o.stop=a.stop,this.value=o}});function bG(e){oe.call(this,Np(),e)}Oe(bG,oe,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=o=>i.set(r(o),o);let a=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,o=>i.delete(r(o))),t.visit(t.ADD,s)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function EG(e){oe.call(this,null,e)}Oe(EG,oe,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Zh(e.sort)):t.source).map(e.field))}});function Vye(e,t,n,r){const i=v1[e](t,n);return{init:i.init||Mc,update:function(s,a){a[r]=i.next(s)}}}const v1={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=v1.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||he("ntile num must be greater than zero.");const n=v1.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||he("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Wye(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Wye(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const jye=Object.keys(v1);function wG(e){const t=Le(e.ops),n=Le(e.fields),r=Le(e.params),i=Le(e.aggregate_params),s=Le(e.as),a=this.outputs=[],o=this.windows=[],l={},c={},u=[],f=[];let h=!0;function d(p){Le(Qr(p)).forEach(g=>l[g]=1)}d(e.sort),t.forEach((p,g)=>{const m=n[g],x=r[g],y=i[g]||null,v=An(m),_=Zj(p,v,s[g]);if(d(m),a.push(_),Ze(v1,p))o.push(Vye(p,m,x,_));else{if(m==null&&p!=="count"&&he("Null aggregate field specified."),p==="count"){u.push(_);return}h=!1;let b=c[v];b||(b=c[v]=[],b.field=m,f.push(b)),b.push(Qj(p,y,_))}}),(u.length||f.length)&&(this.cell=Gye(f,u,h)),this.inputs=Object.keys(l)}const SG=wG.prototype;SG.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};SG.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let a;if(n){for(a=e.p0;a<e.i0;++a)n.rem(i[a]);for(a=e.p1;a<e.i1;++a)n.add(i[a]);n.set(t)}for(a=0;a<s;++a)r[a].update(e,t)};function Gye(e,t,n){e=e.map(l=>tG(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),a=0;a<i;++a)s[a]=new e[a](r);if(r.store)var o=r.data=new OO;return r.add=function(l){if(r.num+=1,!n){o&&o.add(l);for(let c=0;c<i;++c)s[c].add(s[c].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){o&&o.rem(l);for(let c=0;c<i;++c)s[c].rem(s[c].get(l),l)}},r.set=function(l){let c,u;for(o&&o.values(),c=0,u=t.length;c<u;++c)l[t[c]]=r.num;if(!n)for(c=0,u=s.length;c<u;++c)s[c].set(l)},r.init=function(){r.num=0,o&&o.reset();for(let l=0;l<i;++l)s[l].init()},r}function eN(e){oe.call(this,{},e),this._mlen=0,this._mods=[]}eN.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:jye.concat(vx)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Oe(eN,oe,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Zh(e.sort),i=TC(e.groupby),s=o=>this.group(i(o));let a=this.state;(!a||n)&&(a=this.state=new wG(e)),n||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,o=>s(o).add(o))):(t.visit(t.REM,o=>s(o).remove(o)),t.visit(t.ADD,o=>s(o).add(o)));for(let o=0,l=this._mlen;o<l;++o)qye(this._mods[o],a,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=nG(Ke),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function qye(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,a=r.frame||[null,0],o=e.data(n),l=o.length,c=s?wp(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:i||si(-1)};t.init();for(let f=0;f<l;++f)Xye(u,a,f,l),s&&Yye(u,c),t.update(u,o[f])}function Xye(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Yye(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,a=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<a&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const Kye=Object.freeze(Object.defineProperty({__proto__:null,aggregate:mu,bin:NO,collect:DO,compare:rG,countpattern:$O,cross:RO,density:IO,dotbin:LO,expression:lG,extent:PO,facet:KE,field:cG,filter:UO,flatten:zO,fold:HO,formula:VO,generate:uG,impute:WO,joinaggregate:jO,kde:GO,key:fG,load:hG,lookup:qO,multiextent:dG,multivalues:pG,params:gG,pivot:XO,prefacet:mG,project:YO,proxy:xG,quantile:KO,relay:vG,sample:JO,sequence:ZO,sieve:yG,subflow:BO,timeunit:QO,tupleindex:bG,values:EG,window:eN},Symbol.toStringTag,{value:"Module"}));function ru(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Jye=()=>typeof Image<"u"?Image:null;function tN(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Zye="identity",W0="linear",Yl="log",yx="pow",_x="sqrt",JE="symlog",bh="time",Eh="utc",Fo="sequential",Ip="diverging",j0="quantile",ZE="quantize",QE="threshold",nN="ordinal",kC="point",AG="band",rN="bin-ordinal",tr="continuous",bx="discrete",Ex="discretizing",ma="interpolating",iN="temporal";function Qye(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function e_e(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,a,o,l,c;for(i<r&&(o=r,r=i,i=o),l=0,c=n.length;l<c;++l)n[l]>=r&&n[l]<=i&&(s<0&&(s=l),a=l);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[a]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function sN(){const e=C4().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,a=!1,o=0,l=0,c=.5;delete e.unknown;function u(){const f=t().length,h=r[1]<r[0],d=r[1-h],p=tN(f,o,l);let g=r[h-0];i=(d-g)/(p||1),a&&(i=Math.floor(i)),g+=(d-g-i*(f-o))*c,s=i*(1-o),a&&(g=Math.round(g),s=Math.round(s));const m=xs(f).map(x=>g+i*x);return n(h?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],a=!0,u()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(f){return arguments.length?(a=!!f,u()):a},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),o=l,u()):o},e.paddingInner=function(f){return arguments.length?(o=Math.max(0,Math.min(1,f)),u()):o},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let g=+f[0],m=+f[1],x,y,v;if(!(g!==g||m!==m)&&(m<g&&(v=g,g=m,m=v),!(m<d[0]||g>r[1-h])))return x=Math.max(0,hu(d,g)-1),y=g===m?x:hu(d,m)-1,g-d[x]>s+1e-10&&++x,h&&(v=x,x=p-y,y=p-v),x>y?void 0:t().slice(x,y+1)},e.invert=function(f){const h=e.invertRange([f,f]);return h&&h[0]},e.copy=function(){return sN().domain(t()).range(r).round(a).paddingInner(o).paddingOuter(l).align(c)},u()}function TG(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return TG(t())},e}function t_e(){return TG(sN().paddingInner(1))}var n_e=Array.prototype.map;function r_e(e){return n_e.call(e,Xr)}const i_e=Array.prototype.slice;function kG(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(hu(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=r_e(r),n):e.slice()},n.range=function(r){return arguments.length?(t=i_e.call(r),n):t.slice()},n.tickFormat=function(r,i){return UV(e[0],Ct(e),r??10,i)},n.copy=function(){return kG().domain(n.domain()).range(n.range())},n}const U2=new Map,CG=Symbol("vega_scale");function FG(e){return e[CG]=!0,e}function s_e(e){return e&&e[CG]===!0}function a_e(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?Qye(s):s.invertExtent?e_e(s):void 0),s.type=e,FG(s)};return r.metadata=Va(Le(n)),r}function zt(e,t,n){return arguments.length>1?(U2.set(e,a_e(e,t,n)),this):OG(e)?U2.get(e):void 0}zt(Zye,HV);zt(W0,zV,tr);zt(Yl,WV,[tr,Yl]);zt(yx,D4,tr);zt(_x,$pe,tr);zt(JE,jV,tr);zt(bh,Xge,[tr,iN]);zt(Eh,Yge,[tr,iN]);zt(Fo,L4,[tr,ma]);zt(`${Fo}-${W0}`,L4,[tr,ma]);zt(`${Fo}-${Yl}`,iW,[tr,ma,Yl]);zt(`${Fo}-${yx}`,P4,[tr,ma]);zt(`${Fo}-${_x}`,Kge,[tr,ma]);zt(`${Fo}-${JE}`,sW,[tr,ma]);zt(`${Ip}-${W0}`,aW,[tr,ma]);zt(`${Ip}-${Yl}`,oW,[tr,ma,Yl]);zt(`${Ip}-${yx}`,B4,[tr,ma]);zt(`${Ip}-${_x}`,Jge,[tr,ma]);zt(`${Ip}-${JE}`,lW,[tr,ma]);zt(j0,GV,[Ex,j0]);zt(ZE,qV,Ex);zt(QE,XV,Ex);zt(rN,kG,[bx,Ex]);zt(nN,C4,bx);zt(AG,sN,bx);zt(kC,t_e,bx);function OG(e){return U2.has(e)}function ed(e,t){const n=U2.get(e);return n&&n.metadata[t]}function aN(e){return ed(e,tr)}function G0(e){return ed(e,bx)}function CC(e){return ed(e,Ex)}function NG(e){return ed(e,Yl)}function o_e(e){return ed(e,iN)}function DG(e){return ed(e,ma)}function $G(e){return ed(e,j0)}const l_e=["clamp","base","constant","exponent"];function RG(e,t){const n=t[0],r=Ct(t)-n;return function(i){return e(n+i*r)}}function ew(e,t,n){return c4(oN(t||"rgb",n),e)}function IG(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function MG(e,t,n){const r=n-t;let i,s,a;return!r||!Number.isFinite(r)?si(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),a=zt(s)().domain([t,n]).range([0,1]),l_e.forEach(o=>e[o]?a[o](e[o]()):0),a)}function oN(e,t){const n=zue[c_e(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function c_e(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const u_e={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},f_e={accent:Qge,category10:Zge,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:eme,observable10:tme,paired:nme,pastel1:rme,pastel2:ime,set1:sme,set2:ame,set3:ome,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function LG(e){if(me(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function PG(e,t){for(const n in e)tw(n,t(e[n]))}const k5={};PG(f_e,LG);PG(u_e,e=>ew(LG(e)));function tw(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(k5[e]=t,this):k5[e]}const i_="symbol",h_e="discrete",d_e="gradient",p_e=e=>me(e)?e.map(t=>String(t)):String(e),g_e=(e,t)=>e[1]-t[1],m_e=(e,t)=>t[1]-e[1];function lN(e,t,n){let r;return Rt(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(gx(e.domain())/n||1)+1))),Me(t)&&(r=t.step,t=t.interval),Pe(t)&&(t=e.type===bh?Dp(t):e.type==Eh?$p(t):he("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function BG(e,t,n){let r=e.range(),i=r[0],s=Ct(r),a=g_e;if(i>s&&(r=s,s=i,i=r,a=m_e),i=Math.floor(i),s=Math.ceil(s),t=t.map(o=>[o,e(o)]).filter(o=>i<=o[1]&&o[1]<=s).sort(a).map(o=>o[0]),n>0&&t.length>1){const o=[t[0],Ct(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,c)=>!(c%2));t.length<3&&(t=o)}return t}function cN(e,t){return e.bins?BG(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function UG(e,t,n,r,i,s){const a=t.type;let o=p_e;if(a===bh||i===bh)o=e.timeFormat(r);else if(a===Eh||i===Eh)o=e.utcFormat(r);else if(NG(a)){const l=e.formatFloat(r);if(s||t.bins)o=l;else{const c=zG(t,n,!1);o=u=>c(u)?l(u):""}}else if(t.tickFormat){const l=t.domain();o=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(o=e.format(r));return o}function zG(e,t,n){const r=cN(e,t),i=e.base(),s=Math.log(i),a=Math.max(1,i*t/r.length),o=l=>{let c=l/Math.pow(i,Math.round(Math.log(l)/s));return c*i<i-.5&&(c*=i),c<=a};return n?r.filter(o):o}const FC={[j0]:"quantiles",[ZE]:"thresholds",[QE]:"domain"},HG={[j0]:"quantiles",[ZE]:"domain"};function VG(e,t){return e.bins?y_e(e.bins):e.type===Yl?zG(e,t,!0):FC[e.type]?v_e(e[FC[e.type]]()):cN(e,t)}function x_e(e,t,n){const r=t[HG[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],a;for(a=1;a<i;++a)s=Math.min(s,r[a]-r[a-1]);return e.formatSpan(0,s,3*10,n)}function v_e(e){const t=[-1/0].concat(e);return t.max=1/0,t}function y_e(e){const t=e.slice(0,-1);return t.max=Ct(e),t}const __e=e=>FC[e.type]||e.bins;function WG(e,t,n,r,i,s,a){const o=HG[t.type]&&s!==bh&&s!==Eh?x_e(e,t,i):UG(e,t,n,i,s,a);return r===i_&&__e(t)?b_e(o):r===h_e?E_e(o):w_e(o)}const b_e=e=>(t,n,r)=>{const i=C5(r[n+1],C5(r.max,1/0)),s=F5(t,e),a=F5(i,e);return s&&a?s+"  "+a:a?"< "+a:" "+s},C5=(e,t)=>e??t,E_e=e=>(t,n)=>n?e(t):null,w_e=e=>t=>e(t),F5=(e,t)=>Number.isFinite(e)?t(e):null;function S_e(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Ct(t),s=i-r;if(e.type===QE){const a=n?s/n:.1;r-=a,i+=a,s=i-r}return a=>(a-r)/s}function A_e(e,t,n,r){const i=r||t.type;return Pe(n)&&o_e(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===bh?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Eh?e.utcFormat("%A, %d %B %Y, %X UTC"):WG(e,t,5,null,n,r,!0)}function jG(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=A_e(e,t,n.format,n.formatType);if(CC(t.type)){const s=VG(t).slice(1).map(i),a=s.length;return`${a} boundar${a===1?"y":"ies"}: ${s.join(", ")}`}else if(G0(t.type)){const s=t.domain(),a=s.length,o=a>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${a} value${a===1?"":"s"}: ${o}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(Ct(s))}`}}let GG=0;function T_e(){GG=0}const z2="p_";function uN(e){return e&&e.gradient}function qG(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?z2:"";return i||(i=e.id="gradient_"+GG++,r==="radial"?(e.x1=co(e.x1,.5),e.y1=co(e.y1,.5),e.r1=co(e.r1,0),e.x2=co(e.x2,.5),e.y2=co(e.y2,.5),e.r2=co(e.r2,.5),s=z2):(e.x1=co(e.x1,0),e.y1=co(e.y1,0),e.x2=co(e.x2,1),e.y2=co(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function co(e,t){return e??t}function XG(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const O5={basis:{curve:yme},"basis-closed":{curve:_me},"basis-open":{curve:bme},bundle:{curve:Eme,tension:"beta",value:.85},cardinal:{curve:wme,tension:"tension",value:0},"cardinal-open":{curve:Ame,tension:"tension",value:0},"cardinal-closed":{curve:Sme,tension:"tension",value:0},"catmull-rom":{curve:Tme,tension:"alpha",value:.5},"catmull-rom-closed":{curve:kme,tension:"alpha",value:.5},"catmull-rom-open":{curve:Cme,tension:"alpha",value:.5},linear:{curve:U4},"linear-closed":{curve:Fme},monotone:{horizontal:Nme,vertical:Ome},natural:{curve:Dme},step:{curve:$me},"step-after":{curve:Ime},"step-before":{curve:Rme}};function fN(e,t,n){var r=Ze(O5,e)&&O5[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const k_e={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},C_e=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,F_e=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,O_e=/^((\s+,?\s*)|(,\s*))/,N_e=/^[01]/;function q0(e){const t=[];return(e.match(C_e)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),a=k_e[s],o=D_e(s,a,r.slice(1).trim()),l=o.length;if(l<a||l&&l%a!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...o.slice(0,a)]),l!==a){s==="m"&&(i=i==="M"?"L":"l");for(let c=a;c<l;c+=a)t.push([i,...o.slice(c,c+a)])}}),t}function D_e(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const a=e==="a"&&(s===3||s===4)?N_e:F_e,o=n.slice(i).match(a);if(o===null)throw Error("Invalid SVG path, incorrect parameter type");i+=o[0].length,r.push(+o[0]);const l=n.slice(i).match(O_e);l!==null&&(i+=l[0].length)}return r}const xu=Math.PI/180,$_e=1e-14,Ff=Math.PI/2,wo=Math.PI*2,Ad=Math.sqrt(3)/2;var $A={},RA={},YG=[].join;function R_e(e,t,n,r,i,s,a,o,l){const c=YG.call(arguments);if($A[c])return $A[c];const u=a*xu,f=Math.sin(u),h=Math.cos(u);n=Math.abs(n),r=Math.abs(r);const d=h*(o-e)*.5+f*(l-t)*.5,p=h*(l-t)*.5-f*(o-e)*.5;let g=d*d/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=h/n,x=f/n,y=-f/r,v=h/r,_=m*o+x*l,b=y*o+v*l,w=m*e+x*t,E=y*e+v*t;let S=1/((w-_)*(w-_)+(E-b)*(E-b))-.25;S<0&&(S=0);let T=Math.sqrt(S);s==i&&(T=-T);const C=.5*(_+w)-T*(E-b),O=.5*(b+E)+T*(w-_),F=Math.atan2(b-O,_-C);let D=Math.atan2(E-O,w-C)-F;D<0&&s===1?D+=wo:D>0&&s===0&&(D-=wo);const N=Math.ceil(Math.abs(D/(Ff+.001))),M=[];for(let U=0;U<N;++U){const J=F+U*D/N,X=F+(U+1)*D/N;M[U]=[C,O,J,X,n,r,f,h]}return $A[c]=M}function I_e(e){const t=YG.call(e);if(RA[t])return RA[t];var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7];const u=c*a,f=-l*o,h=l*a,d=c*o,p=Math.cos(i),g=Math.sin(i),m=Math.cos(s),x=Math.sin(s),y=.5*(s-i),v=Math.sin(y*.5),_=8/3*v*v/Math.sin(y),b=n+p-_*g,w=r+g+_*p,E=n+m,A=r+x,S=E+_*x,T=A-_*m;return RA[t]=[u*b+f*w,h*b+d*w,u*S+f*T,h*S+d*T,u*E+f*A,h*E+d*A]}const Us=["l",0,0,0,0,0,0,0];function M_e(e,t,n){const r=Us[0]=e[0];if(r==="a"||r==="A")Us[1]=t*e[1],Us[2]=n*e[2],Us[3]=e[3],Us[4]=e[4],Us[5]=e[5],Us[6]=t*e[6],Us[7]=n*e[7];else if(r==="h"||r==="H")Us[1]=t*e[1];else if(r==="v"||r==="V")Us[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)Us[i]=(i%2==1?t:n)*e[i];return Us}function y1(e,t,n,r,i,s){var a,o=null,l=0,c=0,u=0,f=0,h,d,p,g,m=0,x=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var y=0,v=t.length;y<v;++y){switch(a=t[y],(i!==1||s!==1)&&(a=M_e(a,i,s)),a[0]){case"l":l+=a[1],c+=a[2],e.lineTo(l+n,c+r);break;case"L":l=a[1],c=a[2],e.lineTo(l+n,c+r);break;case"h":l+=a[1],e.lineTo(l+n,c+r);break;case"H":l=a[1],e.lineTo(l+n,c+r);break;case"v":c+=a[1],e.lineTo(l+n,c+r);break;case"V":c=a[1],e.lineTo(l+n,c+r);break;case"m":l+=a[1],c+=a[2],m=l,x=c,e.moveTo(l+n,c+r);break;case"M":l=a[1],c=a[2],m=l,x=c,e.moveTo(l+n,c+r);break;case"c":h=l+a[5],d=c+a[6],u=l+a[3],f=c+a[4],e.bezierCurveTo(l+a[1]+n,c+a[2]+r,u+n,f+r,h+n,d+r),l=h,c=d;break;case"C":l=a[5],c=a[6],u=a[3],f=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,u+n,f+r,l+n,c+r);break;case"s":h=l+a[3],d=c+a[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,l+a[1]+n,c+a[2]+r,h+n,d+r),u=l+a[1],f=c+a[2],l=h,c=d;break;case"S":h=a[3],d=a[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,a[1]+n,a[2]+r,h+n,d+r),l=h,c=d,u=a[1],f=a[2];break;case"q":h=l+a[3],d=c+a[4],u=l+a[1],f=c+a[2],e.quadraticCurveTo(u+n,f+r,h+n,d+r),l=h,c=d;break;case"Q":h=a[3],d=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,h+n,d+r),l=h,c=d,u=a[1],f=a[2];break;case"t":h=l+a[1],d=c+a[2],o[0].match(/[QqTt]/)===null?(u=l,f=c):o[0]==="t"?(u=2*l-p,f=2*c-g):o[0]==="q"&&(u=2*l-u,f=2*c-f),p=u,g=f,e.quadraticCurveTo(u+n,f+r,h+n,d+r),l=h,c=d,u=l+a[1],f=c+a[2];break;case"T":h=a[1],d=a[2],u=2*l-u,f=2*c-f,e.quadraticCurveTo(u+n,f+r,h+n,d+r),l=h,c=d;break;case"a":N5(e,l+n,c+r,[a[1],a[2],a[3],a[4],a[5],a[6]+l+n,a[7]+c+r]),l+=a[6],c+=a[7];break;case"A":N5(e,l+n,c+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),l=a[6],c=a[7];break;case"z":case"Z":l=m,c=x,e.closePath();break}o=a}}function N5(e,t,n,r){const i=R_e(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const a=I_e(i[s]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const D5=.5773502691896257,$5={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,wo)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ad*n,i=r-n*D5,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ad*n,i=r-n*D5;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ad*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ad*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ad*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ad*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function KG(e){return Ze($5,e)?$5[e]:L_e(e)}var IA={};function L_e(e){if(!Ze(IA,e)){const t=q0(e);IA[e]={draw:function(n,r){y1(n,t,0,0,Math.sqrt(r)/2)}}}return IA[e]}const vc=.448084975506;function P_e(e){return e.x}function B_e(e){return e.y}function U_e(e){return e.width}function z_e(e){return e.height}function ll(e){return typeof e=="function"?e:()=>+e}function Zv(e,t,n){return Math.max(t,Math.min(e,n))}function JG(){var e=P_e,t=B_e,n=U_e,r=z_e,i=ll(0),s=i,a=i,o=i,l=null;function c(u,f,h){var d,p=f??+e.call(this,u),g=h??+t.call(this,u),m=+n.call(this,u),x=+r.call(this,u),y=Math.min(m,x)/2,v=Zv(+i.call(this,u),0,y),_=Zv(+s.call(this,u),0,y),b=Zv(+a.call(this,u),0,y),w=Zv(+o.call(this,u),0,y);if(l||(l=d=vE()),v<=0&&_<=0&&b<=0&&w<=0)l.rect(p,g,m,x);else{var E=p+m,A=g+x;l.moveTo(p+v,g),l.lineTo(E-_,g),l.bezierCurveTo(E-vc*_,g,E,g+vc*_,E,g+_),l.lineTo(E,A-w),l.bezierCurveTo(E,A-vc*w,E-vc*w,A,E-w,A),l.lineTo(p+b,A),l.bezierCurveTo(p+vc*b,A,p,A-vc*b,p,A-b),l.lineTo(p,g+v),l.bezierCurveTo(p,g+vc*v,p+vc*v,g,p+v,g),l.closePath()}if(d)return l=null,d+""||null}return c.x=function(u){return arguments.length?(e=ll(u),c):e},c.y=function(u){return arguments.length?(t=ll(u),c):t},c.width=function(u){return arguments.length?(n=ll(u),c):n},c.height=function(u){return arguments.length?(r=ll(u),c):r},c.cornerRadius=function(u,f,h,d){return arguments.length?(i=ll(u),s=f!=null?ll(f):i,o=h!=null?ll(h):i,a=d!=null?ll(d):s,c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function ZG(){var e,t,n,r,i=null,s,a,o,l;function c(f,h,d){const p=d/2;if(s){var g=o-h,m=f-a;if(g||m){var x=Math.hypot(g,m),y=(g/=x)*l,v=(m/=x)*l,_=Math.atan2(m,g);i.moveTo(a-y,o-v),i.lineTo(f-g*p,h-m*p),i.arc(f,h,p,_-Math.PI,_),i.lineTo(a+y,o+v),i.arc(a,o,l,_,_+Math.PI)}else i.arc(f,h,p,0,wo);i.closePath()}else s=1;a=f,o=h,l=p}function u(f){var h,d=f.length,p,g=!1,m;for(i==null&&(i=m=vE()),h=0;h<=d;++h)!(h<d&&r(p=f[h],h,f))===g&&(g=!g)&&(s=0),g&&c(+e(p,h,f),+t(p,h,f),+n(p,h,f));if(m)return i=null,m+""||null}return u.x=function(f){return arguments.length?(e=f,u):e},u.y=function(f){return arguments.length?(t=f,u):t},u.size=function(f){return arguments.length?(n=f,u):n},u.defined=function(f){return arguments.length?(r=f,u):r},u.context=function(f){return arguments.length?(f==null?i=null:i=f,u):i},u}function wx(e,t){return e??t}const Sx=e=>e.x||0,Ax=e=>e.y||0,H_e=e=>e.width||0,V_e=e=>e.height||0,W_e=e=>(e.x||0)+(e.width||0),j_e=e=>(e.y||0)+(e.height||0),G_e=e=>e.startAngle||0,q_e=e=>e.endAngle||0,X_e=e=>e.padAngle||0,Y_e=e=>e.innerRadius||0,K_e=e=>e.outerRadius||0,J_e=e=>e.cornerRadius||0,Z_e=e=>wx(e.cornerRadiusTopLeft,e.cornerRadius)||0,Q_e=e=>wx(e.cornerRadiusTopRight,e.cornerRadius)||0,e2e=e=>wx(e.cornerRadiusBottomRight,e.cornerRadius)||0,t2e=e=>wx(e.cornerRadiusBottomLeft,e.cornerRadius)||0,n2e=e=>wx(e.size,64),r2e=e=>e.size||1,nw=e=>e.defined!==!1,i2e=e=>KG(e.shape||"circle"),s2e=mme().startAngle(G_e).endAngle(q_e).padAngle(X_e).innerRadius(Y_e).outerRadius(K_e).cornerRadius(J_e),a2e=gW().x(Sx).y1(Ax).y0(j_e).defined(nw),o2e=gW().y(Ax).x1(Sx).x0(W_e).defined(nw),l2e=pW().x(Sx).y(Ax).defined(nw),c2e=JG().x(Sx).y(Ax).width(H_e).height(V_e).cornerRadius(Z_e,Q_e,e2e,t2e),u2e=vme().type(i2e).size(n2e),f2e=ZG().x(Sx).y(Ax).defined(nw).size(r2e);function hN(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function h2e(e,t){return s2e.context(e)(t)}function d2e(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?o2e:a2e).curve(fN(r,n.orient,n.tension)).context(e)(t)}function p2e(e,t){const n=t[0],r=n.interpolate||"linear";return l2e.curve(fN(r,n.orient,n.tension)).context(e)(t)}function Mp(e,t,n,r){return c2e.context(e)(t,n,r)}function g2e(e,t){return(t.mark.shape||t.shape).context(e)(t)}function m2e(e,t){return u2e.context(e)(t)}function x2e(e,t){return f2e.context(e)(t)}var QG=1;function eq(){QG=1}function dN(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+QG++),a=i.clipping[s]||(i.clipping[s]={id:s});return ft(r)?a.path=r(null):hN(n)?a.path=Mp(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+s+")"}function Un(e){this.clear(),e&&this.union(e)}Un.prototype={clone(){return new Un(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:a}=this,o=Math.cos(e),l=Math.sin(e),c=t-t*o+n*l,u=n-t*l-n*o;return[o*r-l*i+c,l*r+o*i+u,o*r-l*a+c,l*r+o*a+u,o*s-l*i+c,l*s+o*i+u,o*s-l*a+c,l*s+o*a+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function rw(e){this.mark=e,this.bounds=this.bounds||new Un}function iw(e){rw.call(this,e),this.items=this.items||[]}Oe(iw,rw);class tq{constructor(t){this._pending=0,this._loader=t||BE()}pending(){return this._pending}sanitizeURL(t){const n=this;return R5(n),n._loader.sanitize(t,{context:"href"}).then(r=>(vg(n),r)).catch(()=>(vg(n),null))}loadImage(t){const n=this,r=Jye();return R5(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const a=new r,o=Ze(i,"crossOrigin")?i.crossOrigin:"anonymous";return o!=null&&(a.crossOrigin=o),a.onload=()=>vg(n),a.onerror=()=>vg(n),a.src=s,a}).catch(i=>(vg(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function R5(e){e._pending+=1}function vg(e){e._pending-=1}function nc(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?v2e(t,r):0))}return e}function v2e(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const y2e=wo-1e-8;let sw,s_,a_,Pf,OC,o_,NC,DC;const Uc=(e,t)=>sw.add(e,t),l_=(e,t)=>Uc(s_=e,a_=t),I5=e=>Uc(e,sw.y1),M5=e=>Uc(sw.x1,e),Of=(e,t)=>OC*e+NC*t,Nf=(e,t)=>o_*e+DC*t,MA=(e,t)=>Uc(Of(e,t),Nf(e,t)),LA=(e,t)=>l_(Of(e,t),Nf(e,t));function Tx(e,t){return sw=e,t?(Pf=t*xu,OC=DC=Math.cos(Pf),o_=Math.sin(Pf),NC=-o_):(OC=DC=1,Pf=o_=NC=0),_2e}const _2e={beginPath(){},closePath(){},moveTo:LA,lineTo:LA,rect(e,t,n,r){Pf?(MA(e+n,t),MA(e+n,t+r),MA(e,t+r),LA(e,t)):(Uc(e+n,t+r),l_(e,t))},quadraticCurveTo(e,t,n,r){const i=Of(e,t),s=Nf(e,t),a=Of(n,r),o=Nf(n,r);L5(s_,i,a,I5),L5(a_,s,o,M5),l_(a,o)},bezierCurveTo(e,t,n,r,i,s){const a=Of(e,t),o=Nf(e,t),l=Of(n,r),c=Nf(n,r),u=Of(i,s),f=Nf(i,s);P5(s_,a,l,u,I5),P5(a_,o,c,f,M5),l_(u,f)},arc(e,t,n,r,i,s){if(r+=Pf,i+=Pf,s_=n*Math.cos(i)+e,a_=n*Math.sin(i)+t,Math.abs(i-r)>y2e)Uc(e-n,t-n),Uc(e+n,t+n);else{const a=c=>Uc(n*Math.cos(c)+e,n*Math.sin(c)+t);let o,l;if(a(r),a(i),i!==r)if(r=r%wo,r<0&&(r+=wo),i=i%wo,i<0&&(i+=wo),i<r&&(s=!s,o=r,r=i,i=o),s)for(i-=wo,o=r-r%Ff,l=0;l<4&&o>i;++l,o-=Ff)a(o);else for(o=r-r%Ff+Ff,l=0;l<4&&o<i;++l,o=o+Ff)a(o)}}};function L5(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function P5(e,t,n,r,i){const s=r-e+3*t-3*n,a=e+n-2*t,o=e-t;let l=0,c=0,u;Math.abs(s)>$_e?(u=a*a+o*s,u>=0&&(u=Math.sqrt(u),l=(-a+u)/s,c=(-a-u)/s)):l=.5*o/a,0<l&&l<1&&i(B5(l,e,t,n,r)),0<c&&c<1&&i(B5(c,e,t,n,r))}function B5(e,t,n,r,i){const s=1-e,a=s*s,o=e*e;return a*s*t+3*a*e*n+3*s*o*r+o*e*i}var iu=(iu=ru(1,1))?iu.getContext("2d"):null;const $C=new Un;function pN(e){return function(t,n){if(!iu)return!0;e(iu,t),$C.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:a}=$C;for(let o=i;o<=a;++o)for(let l=r;l<=s;++l)if(iu.isPointInPath(l,o))return!0;return!1}}function gN(e,t){return t.contains(e.x||0,e.y||0)}function nq(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects($C.set(n,r,n+i,r+s))}function rq(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return Xd(t,n,r,i,s)}function Xd(e,t,n,r,i){const{x1:s,y1:a,x2:o,y2:l}=e,c=r-t,u=i-n;let f=0,h=1,d,p,g,m;for(m=0;m<4;++m){if(m===0&&(d=-c,p=-(s-t)),m===1&&(d=c,p=o-t),m===2&&(d=-u,p=-(a-n)),m===3&&(d=u,p=l-n),Math.abs(d)<1e-10&&p<0)return!1;if(g=p/d,d<0){if(g>h)return!1;g>f&&(f=g)}else if(d>0){if(g<f)return!1;g<h&&(h=g)}}return!0}function X0(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Sa(e,t){return e??t}function U5(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function b2e(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+Sa(t.x1,.5)*r,n.y1+Sa(t.y1,.5)*i,Math.max(r,i)*Sa(t.r1,0),n.x1+Sa(t.x2,.5)*r,n.y1+Sa(t.y2,.5)*i,Math.max(r,i)*Sa(t.r2,.5));else{const a=Sa(t.x1,0),o=Sa(t.y1,0),l=Sa(t.x2,1),c=Sa(t.y2,0);if(a===l||o===c||r===i)s=e.createLinearGradient(n.x1+a*r,n.y1+o*i,n.x1+l*r,n.y1+c*i);else{const u=ru(Math.ceil(r),Math.ceil(i)),f=u.getContext("2d");return f.scale(r,i),f.fillStyle=U5(f.createLinearGradient(a,o,l,c),t.stops),f.fillRect(0,0,r,i),e.createPattern(u,"no-repeat")}}return U5(s,t.stops)}function iq(e,t,n){return uN(n)?b2e(e,n,t.bounds):n}function H2(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=iq(e,t,t.fill),!0):!1}var E2e=[];function Y0(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=iq(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||E2e),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function w2e(e,t){return e.zindex-t.zindex||e.index-t.index}function mN(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(w2e)}function ja(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=mN(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function V2(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=mN(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function xN(e){return function(t,n,r){ja(n,i=>{(!r||r.intersects(i.bounds))&&sq(e,t,i,i)})}}function S2e(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&sq(e,t,n.items[0],n.items)}}function sq(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(X0(t,n),n.fill&&H2(t,n,i)&&t.fill(),n.stroke&&Y0(t,n,i)&&t.stroke()))}function aw(e){return e=e||ca,function(t,n,r,i,s,a){return r*=t.pixelRatio,i*=t.pixelRatio,V2(n,o=>{const l=o.bounds;if(!(l&&!l.contains(s,a)||!l)&&e(t,o,r,i,s,a))return o})}}function kx(e,t){return function(n,r,i,s){var a=Array.isArray(r)?r[0]:r,o=t??a.fill,l=a.stroke&&n.isPointInStroke,c,u;return l&&(c=a.strokeWidth,u=a.strokeCap,n.lineWidth=c??1,n.lineCap=u??"butt"),e(n,r)?!1:o&&n.isPointInPath(i,s)||l&&n.isPointInStroke(i,s)}}function vN(e){return aw(kx(e))}function Jf(e,t){return"translate("+e+","+t+")"}function yN(e){return"rotate("+e+")"}function A2e(e,t){return"scale("+e+","+t+")"}function aq(e){return Jf(e.x||0,e.y||0)}function T2e(e){return Jf(e.x||0,e.y||0)+(e.angle?" "+yN(e.angle):"")}function k2e(e){return Jf(e.x||0,e.y||0)+(e.angle?" "+yN(e.angle):"")+(e.scaleX||e.scaleY?" "+A2e(e.scaleX||1,e.scaleY||1):"")}function _N(e,t,n){function r(a,o){a("transform",T2e(o)),a("d",t(null,o))}function i(a,o){return t(Tx(a,o.angle),o),nc(a,o).translate(o.x||0,o.y||0)}function s(a,o){var l=o.x||0,c=o.y||0,u=o.angle||0;a.translate(l,c),u&&a.rotate(u*=xu),a.beginPath(),t(a,o),u&&a.rotate(-u),a.translate(-l,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:xN(s),pick:vN(s),isect:n||pN(s)}}var C2e=_N("arc",h2e);function F2e(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,a,o;--i>=0;)e[i].defined!==!1&&(o=Math.abs(e[i][r]-n),o<s&&(s=o,a=e[i]));return a}function O2e(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,a;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],a=i*i+s*s,a<n))return e[r];return null}function N2e(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function bN(e,t,n){function r(l,c){var u=c.mark.items;u.length&&l("d",t(null,u))}function i(l,c){var u=c.items;return u.length===0?l:(t(Tx(l),u),nc(l,u[0]))}function s(l,c){l.beginPath(),t(l,c)}const a=kx(s);function o(l,c,u,f,h,d){var p=c.items,g=c.bounds;return!p||!p.length||g&&!g.contains(h,d)?null:(u*=l.pixelRatio,f*=l.pixelRatio,a(l,p,u,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:S2e(s),pick:o,isect:gN,tip:n}}var D2e=bN("area",d2e,F2e);function $2e(e,t){var n=t.clip;e.save(),ft(n)?(e.beginPath(),n(e),e.clip()):oq(e,t.group)}function oq(e,t){e.beginPath(),hN(t)?Mp(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function lq(e){const t=Sa(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function R2e(e,t){e("transform",aq(t))}function cq(e,t){const n=lq(t);e("d",Mp(null,t,n,n))}function I2e(e,t){e("class","background"),e("aria-hidden",!0),cq(e,t)}function M2e(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?cq(e,t):e("d","")}function L2e(e,t,n){const r=t.clip?dN(n,t,t):null;e("clip-path",r)}function P2e(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),nc(e,t),e.translate(t.x||0,t.y||0)}function _1(e,t,n,r){const i=lq(t);e.beginPath(),Mp(e,t,(n||0)+i,(r||0)+i)}const B2e=kx(_1),U2e=kx(_1,!1),z2e=kx(_1,!0);function H2e(e,t,n,r){ja(t,i=>{const s=i.x||0,a=i.y||0,o=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(_1(e,i,s,a),X0(e,i),i.fill&&H2(e,i,l)&&e.fill(),i.stroke&&!o&&Y0(e,i,l)&&e.stroke()),e.save(),e.translate(s,a),i.clip&&oq(e,i),n&&n.translate(-s,-a),ja(i,c=>{(c.marktype==="group"||r==null||r.includes(c.marktype))&&this.draw(e,c,n,r)}),n&&n.translate(s,a),e.restore(),o&&i.stroke&&l&&(_1(e,i,s,a),X0(e,i),Y0(e,i,l)&&e.stroke())})}function V2e(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const a=n*e.pixelRatio,o=r*e.pixelRatio;return V2(t,l=>{let c,u,f;const h=l.bounds;if(h&&!h.contains(i,s))return;u=l.x||0,f=l.y||0;const d=u+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<u||i>d||s<f||s>p))return;if(e.save(),e.translate(u,f),u=i-u,f=s-f,g&&hN(l)&&!z2e(e,l,a,o))return e.restore(),null;const m=l.strokeForeground,x=t.interactive!==!1;return x&&m&&l.stroke&&U2e(e,l,a,o)?(e.restore(),l):(c=V2(l,y=>W2e(y,u,f)?this.pick(y,n,r,u,f):null),!c&&x&&(l.fill||!m&&l.stroke)&&B2e(e,l,a,o)&&(c=l),e.restore(),c||null)})}function W2e(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var j2e={type:"group",tag:"g",nested:!1,attr:R2e,bound:P2e,draw:H2e,pick:V2e,isect:nq,content:L2e,background:I2e,foreground:M2e},b1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function EN(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function wN(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function SN(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function ow(e,t){return e==="center"?t/2:e==="right"?t:0}function lw(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function G2e(e,t,n){const r=EN(t,n),i=wN(t,r),s=SN(t,r),a=(t.x||0)-ow(t.align,i),o=(t.y||0)-lw(t.baseline,s),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,b1["xmlns:xlink"],"xlink:href"),e("transform",Jf(a,o)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function q2e(e,t){const n=t.image,r=wN(t,n),i=SN(t,n),s=(t.x||0)-ow(t.align,r),a=(t.y||0)-lw(t.baseline,i);return e.set(s,a,s+r,a+i)}function X2e(e,t,n){ja(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=EN(r,this);let s=wN(r,i),a=SN(r,i);if(s===0||a===0)return;let o=(r.x||0)-ow(r.align,s),l=(r.y||0)-lw(r.baseline,a),c,u,f,h;r.aspect!==!1&&(u=i.width/i.height,f=r.width/r.height,u===u&&f===f&&u!==f&&(f<u?(h=s/u,l+=(a-h)/2,a=h):(h=a*u,o+=(s-h)/2,s=h))),(i.complete||i.toDataURL)&&(X0(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,o,l,s,a))})}var Y2e={type:"image",tag:"image",nested:!1,attr:G2e,bound:q2e,draw:X2e,pick:aw(),isect:ca,get:EN,xOffset:ow,yOffset:lw},K2e=bN("line",p2e,O2e);function J2e(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",k2e(t)),e("d",t.path)}function c_(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,a=t.scaleY||1,o=(t.angle||0)*xu,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=q0(n)).path=n),o&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(o),y1(e,l,0,0,s,a),e.rotate(-o),e.translate(-r,-i)):y1(e,l,r,i,s,a)}function Z2e(e,t){return c_(Tx(e,t.angle),t)?e.set(0,0,0,0):nc(e,t,!0)}var Q2e={type:"path",tag:"path",nested:!1,attr:J2e,bound:Z2e,draw:xN(c_),pick:vN(c_),isect:pN(c_)};function ebe(e,t){e("d",Mp(null,t))}function tbe(e,t){var n,r;return nc(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function z5(e,t){e.beginPath(),Mp(e,t)}var nbe={type:"rect",tag:"path",nested:!1,attr:ebe,bound:tbe,draw:xN(z5),pick:vN(z5),isect:nq};function rbe(e,t){e("transform",aq(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function ibe(e,t){var n,r;return nc(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function uq(e,t,n){var r,i,s,a;return t.stroke&&Y0(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,a=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,a),!0):!1}function sbe(e,t,n){ja(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&uq(e,r,i)&&(X0(e,r),e.stroke())}})}function abe(e,t,n,r){return e.isPointInStroke?uq(e,t,1)&&e.isPointInStroke(n,r):!1}var obe={type:"rule",tag:"line",nested:!1,attr:rbe,bound:ibe,draw:sbe,pick:aw(abe),isect:rq},lbe=_N("shape",g2e),cbe=_N("symbol",m2e,gN);const H5=XW();var bs={height:Ko,measureWidth:AN,estimateWidth:W2,width:W2,canvas:fq};fq(!0);function fq(e){bs.width=e&&iu?AN:W2}function W2(e,t){return hq(yu(e,t),Ko(e))}function hq(e,t){return~~(.8*e.length*t)}function AN(e,t){return Ko(e)<=0||!(t=yu(e,t))?0:dq(t,cw(e))}function dq(e,t){const n=`(${t}) ${e}`;let r=H5.get(n);return r===void 0&&(iu.font=t,r=iu.measureText(e).width,H5.set(n,r)),r}function Ko(e){return e.fontSize!=null?+e.fontSize||0:11}function vu(e){return e.lineHeight!=null?e.lineHeight:Ko(e)+2}function ube(e){return me(e)?e.length>1?e:e[0]:e}function Cx(e){return ube(e.lineBreak&&e.text&&!me(e.text)?e.text.split(e.lineBreak):e.text)}function TN(e){const t=Cx(e);return(me(t)?t.length-1:0)*vu(e)}function yu(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?hbe(e,n):n}function fbe(e){if(bs.width===AN){const t=cw(e);return n=>dq(n,t)}else if(bs.width===W2){const t=Ko(e);return n=>hq(n,t)}else return t=>bs.width(e,t)}function hbe(e,t){var n=+e.limit,r=fbe(e);if(r(t)<n)return t;var i=e.ellipsis||"",s=e.dir==="rtl",a=0,o=t.length,l;if(n-=r(i),s){for(;a<o;)l=a+o>>>1,r(t.slice(l))>n?a=l+1:o=l;return i+t.slice(a)}else{for(;a<o;)l=1+(a+o>>>1),r(t.slice(0,l))<n?a=l:o=l-1;return t.slice(0,a)+i}}function Fx(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function cw(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ko(e)+"px "+Fx(e,t)}function kN(e){var t=e.baseline,n=Ko(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*vu(e):t==="line-bottom"?.29*n-.5*vu(e):0)}const dbe={left:"start",center:"middle",right:"end"},wm=new Un;function uw(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Ff,t+=r*Math.cos(i),n+=r*Math.sin(i)),wm.x1=t,wm.y1=n,wm}function pbe(e,t){var n=t.dx||0,r=(t.dy||0)+kN(t),i=uw(t),s=i.x1,a=i.y1,o=t.angle||0,l;e("text-anchor",dbe[t.align]||"start"),o?(l=Jf(s,a)+" "+yN(o),(n||r)&&(l+=" "+Jf(n,r))):l=Jf(s+n,a+r),e("transform",l)}function CN(e,t,n){var r=bs.height(t),i=t.align,s=uw(t),a=s.x1,o=s.y1,l=t.dx||0,c=(t.dy||0)+kN(t)-Math.round(.8*r),u=Cx(t),f;if(me(u)?(r+=vu(t)*(u.length-1),f=u.reduce((h,d)=>Math.max(h,bs.width(t,d)),0)):f=bs.width(t,u),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=a,c+=o,l+f,c+r),t.angle&&!n)e.rotate(t.angle*xu,a,o);else if(n===2)return e.rotatedPoints(t.angle*xu,a,o);return e}function gbe(e,t,n){ja(t,r=>{var i=r.opacity==null?1:r.opacity,s,a,o,l,c,u,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=cw(r),e.textAlign=r.align||"left",s=uw(r),a=s.x1,o=s.y1,r.angle&&(e.save(),e.translate(a,o),e.rotate(r.angle*xu),a=o=0),a+=r.dx||0,o+=(r.dy||0)+kN(r),u=Cx(r),X0(e,r),me(u))for(c=vu(r),l=0;l<u.length;++l)f=yu(r,u[l]),r.fill&&H2(e,r,i)&&e.fillText(f,a,o),r.stroke&&Y0(e,r,i)&&e.strokeText(f,a,o),o+=c;else f=yu(r,u),r.fill&&H2(e,r,i)&&e.fillText(f,a,o),r.stroke&&Y0(e,r,i)&&e.strokeText(f,a,o);r.angle&&e.restore()}})}function mbe(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=uw(t),o=a.x1,l=a.y1,c=CN(wm,t,1),u=-t.angle*xu,f=Math.cos(u),h=Math.sin(u),d=f*i-h*s+(o-f*o+h*l),p=h*i+f*s+(l-h*o-f*l);return c.contains(d,p)}function xbe(e,t){const n=CN(wm,e,2);return Xd(t,n[0],n[1],n[2],n[3])||Xd(t,n[0],n[1],n[4],n[5])||Xd(t,n[4],n[5],n[6],n[7])||Xd(t,n[2],n[3],n[6],n[7])}var vbe={type:"text",tag:"text",nested:!1,attr:pbe,bound:CN,draw:gbe,pick:aw(mbe),isect:xbe},ybe=bN("trail",x2e,N2e),Cs={arc:C2e,area:D2e,group:j2e,image:Y2e,line:K2e,path:Q2e,rect:nbe,rule:obe,shape:lbe,symbol:cbe,text:vbe,trail:ybe};function RC(e,t,n){var r=Cs[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Un),e,n)}var V5={mark:null};function pq(e,t,n){var r=Cs[e.marktype],i=r.bound,s=e.items,a=s&&s.length,o,l,c,u;if(r.nested)return a?c=s[0]:(V5.mark=e,c=V5),u=RC(c,i,n),t=t&&t.union(u)||u,t;if(t=t||e.bounds&&e.bounds.clear()||new Un,a)for(o=0,l=s.length;o<l;++o)t.union(RC(s[o],i,n));return e.bounds=t}const _be=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function gq(e,t){return JSON.stringify(e,_be,t)}function mq(e){const t=typeof e=="string"?JSON.parse(e):e;return xq(t)}function xq(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&xq(n[i]);return t&&pq(e),e}class vq{constructor(t){arguments.length?this.root=mq(t):(this.root=W5({marktype:"group",name:"root",role:"frame"}),this.root.items=[new iw(this.root)])}toJSON(t){return gq(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=W5(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function W5(e,t){const n={bounds:new Un,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function zc(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function FN(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function qn(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=zc(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function qs(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function yq(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function fw(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function bbe(e,t,n,r){var i=e&&e.mark,s,a;if(i&&(s=Cs[i.marktype]).tip){for(a=fw(t,n),a[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=s.tip(i.items,a)}return e}let ON=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||BE(),this._tooltip=n||Ebe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),a=zc(null,"a");for(const o in i)a.setAttribute(o,i[o]);a.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=bbe(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,a=s.width(),o=s.height();let l=s.x1+i[0]+r.left,c=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,c+=t.y||0;return{x:l,y:c,width:a,height:o,left:l,top:c,right:l+a,bottom:c+o}}};function Ebe(e,t,n,r){e.element().setAttribute("title",r||"")}class Ox{constructor(t){this._el=null,this._bgcolor=null,this._loader=new tq(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(a=>{a&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const wbe="keydown",Sbe="keypress",Abe="keyup",_q="dragenter",u_="dragleave",bq="dragover",IC="pointerdown",Tbe="pointerup",j2="pointermove",f_="pointerout",Eq="pointerover",MC="mousedown",kbe="mouseup",wq="mousemove",G2="mouseout",Sq="mouseover",q2="click",Cbe="dblclick",Fbe="wheel",Aq="mousewheel",X2="touchstart",Y2="touchmove",K2="touchend",Obe=[wbe,Sbe,Abe,_q,u_,bq,IC,Tbe,j2,f_,Eq,MC,kbe,wq,G2,Sq,q2,Cbe,Fbe,Aq,X2,Y2,K2],LC=j2,Sm=G2,PC=q2;class Nx extends ON{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=Obe,this.pointermove=G5([j2,wq],[Eq,Sq],[f_,G2]),this.dragover=G5([bq],[_q],[u_]),this.pointerout=q5([f_,G2]),this.dragleave=q5([u_])}initialize(t,n,r){return this._canvas=t&&FN(t,"canvas"),[q2,MC,IC,j2,f_,u_].forEach(i=>j5(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Aq,t)}pointerdown(t){this._down=this._active,this.fire(IC,t)}mousedown(t){this._down=this._active,this.fire(MC,t)}click(t){this._down===this._active&&(this.fire(q2,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(X2,t,!0)}touchmove(t){this.fire(Y2,t,!0)}touchend(t){this.fire(K2,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===PC&&i&&i.href?this.handleHref(n,i,i.href):(t===LC||t===Sm)&&this.handleTooltip(n,i,t!==Sm),s)for(let a=0,o=s.length;a<o;++a)s[a].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(j5(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=fw(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const a=this.context();return Cs[t.marktype].pick.call(this,a,t,n,r,i,s)}}const Nbe=e=>e===X2||e===Y2||e===K2?[X2,Y2,K2]:[e];function j5(e,t){Nbe(t).forEach(n=>Dbe(e,n))}function Dbe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function tm(e,t,n){t.forEach(r=>e.fire(r,n))}function G5(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?tm(this,e,r):((!i||!i.exit)&&tm(this,n,r),this._active=s,tm(this,t,r),tm(this,e,r))}}function q5(e){return function(t){tm(this,e,t),this._active=null}}function $be(){return typeof window<"u"&&window.devicePixelRatio||1}function Rbe(e,t,n,r,i,s){const a=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,o=e.getContext("2d"),l=a?$be():i;e.width=t*l,e.height=n*l;for(const c in s)o[c]=s[c];return a&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),o.pixelRatio=l,o.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class J2 extends Ox{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Un,this._tempb=new Un}initialize(t,n,r,i,s,a){return this._options=a||{},this._canvas=this._options.externalContext?null:ru(1,1,this._options.type),t&&this._canvas&&(qs(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)Rbe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||he("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,a=this._height,o=this._dirty,l=Ibe(i,s,a);r.save();const c=this._redraw||o.empty()?(this._redraw=!1,l.expand(1)):Mbe(r,l.intersect(o),i);return this.clear(-i[0],-i[1],s,a),this.draw(r,t,c,n),r.restore(),o.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=Cs[n.marktype];n.clip&&$2e(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,a=this.context();s.type!=="pdf"&&!s.externalContext&&a.clearRect(t,n,r,i),this._bgcolor!=null&&(a.fillStyle=this._bgcolor,a.fillRect(t,n,r,i))}}const Ibe=(e,t,n)=>new Un().set(0,0,t,n).translate(-e[0],-e[1]);function Mbe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class Tq extends ON{constructor(t,n){super(t,n);const r=this;r._hrefHandler=PA(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=PA(r,(i,s)=>{r.handleTooltip(i,s,i.type!==Sm)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(PC,this._hrefHandler),i.removeEventListener(LC,this._tooltipHandler),i.removeEventListener(Sm,this._tooltipHandler)),this._svg=i=t&&FN(t,"svg"),i&&(i.addEventListener(PC,this._hrefHandler),i.addEventListener(LC,this._tooltipHandler),i.addEventListener(Sm,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const a={type:t,handler:n,listener:PA(this,n)};(i[r]||(i[r]=[])).push(a),this._svg&&this._svg.addEventListener(r,a.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const PA=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},kq="aria-hidden",NN="aria-label",DN="role",$N="aria-roledescription",Cq="graphics-object",RN="graphics-symbol",Fq=(e,t,n)=>({[DN]:e,[$N]:t,[NN]:n||void 0}),Lbe=Va(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),X5={axis:{desc:"axis",caption:Ube},legend:{desc:"legend",caption:zbe},"title-text":{desc:"title",caption:e=>`Title text '${K5(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${K5(e)}'`}},Y5={ariaRole:DN,ariaRoleDescription:$N,description:NN};function Oq(e,t){const n=t.aria===!1;if(e(kq,n||void 0),n||t.description==null)for(const r in Y5)e(Y5[r],void 0);else{const r=t.mark.marktype;e(NN,t.description),e(DN,t.ariaRole||(r==="group"?Cq:RN)),e($N,t.ariaRoleDescription||`${r} mark`)}}function Nq(e){return e.aria===!1?{[kq]:!0}:Lbe[e.role]?null:X5[e.role]?Bbe(e,X5[e.role]):Pbe(e)}function Pbe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return Fq(n?Cq:RN,`${t} mark container`,e.description)}function Bbe(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Fq(t.role||RN,t.desc,n.description||r(n))}catch{return null}}function K5(e){return Le(e.text).join(" ")}function Ube(e){const t=e.datum,n=e.orient,r=t.title?Dq(e):null,i=e.context,s=i.scales[t.scale].value,a=i.dataflow.locale(),o=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${G0(o)?"discrete":o} scale with ${jG(a,s,e)}`}function zbe(e){const t=e.datum,n=t.title?Dq(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),a=e.context,o=a.scales[i[s[0]]].value,l=a.dataflow.locale();return Vbe(r)+(n?` titled '${n}'`:"")+` for ${Hbe(s)} with ${jG(l,o,e)}`}function Dq(e){try{return Le(Ct(e.items).items[0].text).join(" ")}catch{return null}}function Hbe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Ct(e)}function Vbe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const $q=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Wbe=e=>$q(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function IN(){let e="",t="",n="";const r=[],i=()=>t=n="",s=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},a=(l,c)=>(c!=null&&(t+=` ${l}="${Wbe(c)}"`),o),o={open(l){s(l),t="<"+l;for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];for(const h of u)for(const d in h)a(d,h[d]);return o},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),o},attr:a,text:l=>(n+=$q(l),o),toString:()=>e};return o}const Rq=e=>Iq(IN(),e)+"";function Iq(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):Iq(e,r)}return e.close()}const Z2={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Q2={blend:"mix-blend-mode"},Mq={fill:"none","stroke-miterlimit":10},yg=0,J5="http://www.w3.org/2000/xmlns/",Wn=b1.xmlns;class MN extends Ox{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=qn(t,0,"svg",Wn),this._svg.setAttributeNS(J5,"xmlns",Wn),this._svg.setAttributeNS(J5,"xmlns:xlink",b1["xmlns:xlink"]),this._svg.setAttribute("version",b1.version),this._svg.setAttribute("class","marks"),qs(t,1),this._root=qn(this._svg,yg,"g",Wn),Hc(this._root,Mq),qs(this._svg,yg+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Hc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=qn(t,yg,"rect",Wn),Hc(r,{width:this._width,height:this._height,fill:n}));const i=Rq(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),qs(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,a,o,l,c;for(o=0,l=t.length;o<l;++o)if(r=t[o],i=r.mark,i.marktype!==s&&(s=i.marktype,a=Cs[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,Z5(r,n),i.items.forEach(u=>{u.dirty=n})),!i.zdirty){if(r.exit){a.nested&&i.items.length?(c=i.items[0],c._svg&&this._update(a,c._svg,c)):r._svg&&(c=r._svg.parentNode,c&&c.removeChild(r._svg)),r._svg=null;continue}r=a.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,Z5(r,n)):this._update(a,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,a=n.marktype,o=Cs[a],l=n.interactive===!1?"none":null,c=o.tag==="g",u=Q5(n,t,r,"g",s);if(a!=="group"&&i!=null&&!i.includes(a))return qs(u,0),n._svg;u.setAttribute("class",yq(n));const f=Nq(n);for(const g in f)fi(u,g,f[g]);c||fi(u,"pointer-events",l),fi(u,"clip-path",n.clip?dN(this,n,n.group):null);let h=null,d=0;const p=g=>{const m=this.isDirty(g),x=Q5(g,u,h,o.tag,s);m&&(this._update(o,x,g),c&&qbe(this,x,g,i)),h=x,++d};return o.nested?n.items.length&&p(n.items[0]):ja(n,p),qs(u,d),u}_update(t,n,r){Tl=n,Ur=n.__values__,Oq(Am,r),t.attr(Am,r,this);const i=Ybe[t.type];i&&i.call(this,t,n,r),Tl&&this.style(Tl,r)}style(t,n){if(n!=null){for(const r in Z2){let i=r==="font"?Fx(n):n[r];if(i===Ur[r])continue;const s=Z2[r];i==null?t.removeAttribute(s):(uN(i)&&(i=qG(i,this._defs.gradient,Lq())),t.setAttribute(s,i+"")),Ur[r]=i}for(const r in Q2)h_(t,Q2[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=qn(t,yg+1,"defs",Wn)),i=jbe(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=qn(t,yg+1,"defs",Wn)),i=Gbe(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):qs(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function Z5(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function jbe(e,t,n){let r,i,s;if(t.gradient==="radial"){let a=qn(e,n++,"pattern",Wn);Hc(a,{id:z2+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=qn(a,0,"rect",Wn),Hc(a,{width:1,height:1,fill:`url(${Lq()}#${t.id})`}),e=qn(e,n++,"radialGradient",Wn),Hc(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=qn(e,n++,"linearGradient",Wn),Hc(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=qn(e,r,"stop",Wn),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return qs(e,r),n}function Gbe(e,t,n){let r;return e=qn(e,n,"clipPath",Wn),e.setAttribute("id",t.id),t.path?(r=qn(e,0,"path",Wn),r.setAttribute("d",t.path)):(r=qn(e,0,"rect",Wn),Hc(r,{x:0,y:0,width:t.width,height:t.height})),qs(e,1),n+1}function qbe(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;ja(n,a=>{i=e.mark(t,a,i,r),++s}),qs(t,1+s)}function Q5(e,t,n,r,i){let s=e._svg,a;if(!s&&(a=t.ownerDocument,s=zc(a,r,Wn),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const o=zc(a,"path",Wn);s.appendChild(o),o.__data__=e;const l=zc(a,"g",Wn);s.appendChild(l),l.__data__=e;const c=zc(a,"path",Wn);s.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(s.ownerSVGElement!==i||Xbe(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function Xbe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Tl=null,Ur=null;const Ybe={group(e,t,n){const r=Tl=t.childNodes[2];Ur=r.__values__,e.foreground(Am,n,this),Ur=t.__values__,Tl=t.childNodes[1],e.content(Am,n,this);const i=Tl=t.childNodes[0];e.background(Am,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==Ur.events&&(fi(r,"pointer-events",s),fi(i,"pointer-events",s),Ur.events=s),n.strokeForeground&&n.stroke){const a=n.fill;fi(r,"display",null),this.style(i,n),fi(i,"stroke",null),a&&(n.fill=null),Ur=r.__values__,this.style(r,n),a&&(n.fill=a),Tl=null}else fi(r,"display","none")},image(e,t,n){n.smooth===!1?(h_(t,"image-rendering","optimizeSpeed"),h_(t,"image-rendering","pixelated")):h_(t,"image-rendering",null)},text(e,t,n){const r=Cx(n);let i,s,a,o;me(r)?(s=r.map(l=>yu(n,l)),i=s.join(`
`),i!==Ur.text&&(qs(t,0),a=t.ownerDocument,o=vu(n),s.forEach((l,c)=>{const u=zc(a,"tspan",Wn);u.__data__=n,u.textContent=l,c&&(u.setAttribute("x",0),u.setAttribute("dy",o)),t.appendChild(u)}),Ur.text=i)):(s=yu(n,r),s!==Ur.text&&(t.textContent=s,Ur.text=s)),fi(t,"font-family",Fx(n)),fi(t,"font-size",Ko(n)+"px"),fi(t,"font-style",n.fontStyle),fi(t,"font-variant",n.fontVariant),fi(t,"font-weight",n.fontWeight)}};function Am(e,t,n){t!==Ur[e]&&(n?Kbe(Tl,e,t,n):fi(Tl,e,t),Ur[e]=t)}function h_(e,t,n){n!==Ur[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ur[t]=n)}function Hc(e,t){for(const n in t)fi(e,n,t[n])}function fi(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Kbe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function Lq(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class Pq extends Ox{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=IN();n.open("svg",ct({},b1,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",Mq,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Cs[n.marktype],i=r.tag,s=[Oq,r.attr];t.open("g",{class:yq(n),"clip-path":n.clip?dN(this,n,n.group):null},Nq(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const a=o=>{const l=this.href(o);if(l&&t.open("a",l),t.open(i,this.attr(n,o,s,i!=="g"?i:null)),i==="text"){const c=Cx(o);if(me(c)){const u={x:0,dy:vu(o)};for(let f=0;f<c.length;++f)t.open("tspan",f?u:null).text(yu(o,c[f])).close()}else t.text(yu(o,c))}else if(i==="g"){const c=o.strokeForeground,u=o.fill,f=o.stroke;c&&f&&(o.stroke=null),t.open("path",this.attr(n,o,r.background,"bgrect")).close(),t.open("g",this.attr(n,o,r.content)),ja(o,h=>this.mark(t,h)),t.close(),c&&f?(u&&(o.fill=null),o.stroke=f,t.open("path",this.attr(n,o,r.foreground,"bgrect")).close(),u&&(o.fill=u)):t.open("path",this.attr(n,o,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&a(n.items[0]):ja(n,a),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},a=(o,l,c,u)=>{s[u||o]=l};return Array.isArray(r)?r.forEach(o=>o(a,n,this)):r(a,n,this),i&&Jbe(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const a=n[s],o=a.stops;a.gradient==="radial"?(t.open("pattern",{id:z2+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):t.open("linearGradient",{id:s,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let l=0;l<o.length;++l)t.open("stop",{offset:o[l].offset,"stop-color":o[l].color}).close();t.close()}for(const s in r){const a=r[s];t.open("clipPath",{id:s}),a.path?t.open("path",{d:a.path}).close():t.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),t.close()}t.close()}}}function Jbe(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=Fx(t),e["font-size"]=Ko(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in Z2){let o=t[a];const l=Z2[a];o==="transparent"&&(l==="fill"||l==="stroke")||o!=null&&(uN(o)&&(o=qG(o,i.gradient,"")),e[l]=o)}for(const a in Q2){const o=t[a];o!=null&&(s=s||[],s.push(`${Q2[a]}: ${o};`))}return s&&(e.style=s.join(" ")),e}const Ta={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Zbe(e){Ta.svgMarkTypes=e.svgMarkTypes??["text"],Ta.svgOnTop=e.svgOnTop??!0,Ta.debug=e.debug??!1}class BC extends Ox{constructor(t){super(t),this._svgRenderer=new MN(t),this._canvasRenderer=new J2(t)}initialize(t,n,r,i,s){this._root_el=qn(t,0,"div");const a=qn(this._root_el,0,"div"),o=qn(this._root_el,1,"div");return this._root_el.style.position="relative",Ta.debug||(a.style.height="100%",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height="100%",o.style.width="100%"),this._svgEl=Ta.svgOnTop?o:a,this._canvasEl=Ta.svgOnTop?a:o,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return Ta.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!Ta.svgMarkTypes.includes(s));this._svgRenderer.render(t,Ta.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Ta.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class Bq extends Nx{constructor(t,n){super(t,n)}initialize(t,n,r){const i=qn(qn(t,0,"div"),Ta.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const Uq="canvas",zq="hybrid",Hq="png",Vq="svg",Wq="none",Vc={Canvas:Uq,PNG:Hq,SVG:Vq,Hybrid:zq,None:Wq},wh={};wh[Uq]=wh[Hq]={renderer:J2,headless:J2,handler:Nx};wh[Vq]={renderer:MN,headless:Pq,handler:Tq};wh[zq]={renderer:BC,headless:BC,handler:Bq};wh[Wq]={};function hw(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(wh[e]=t,this):wh[e]}function jq(e,t,n){const r=[],i=new Un().union(t),s=e.marktype;return s?Gq(e,i,n,r):s==="group"?qq(e,i,n,r):he("Intersect scene must be mark node or group item.")}function Gq(e,t,n,r){if(Qbe(e,t,n)){const i=e.items,s=e.marktype,a=i.length;let o=0;if(s==="group")for(;o<a;++o)qq(i[o],t,n,r);else for(const l=Cs[s].isect;o<a;++o){const c=i[o];Xq(c,t,l)&&r.push(c)}}return r}function Qbe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function qq(e,t,n,r){n&&n(e.mark)&&Xq(e,t,Cs.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const a=e.x||0,o=e.y||0;t.translate(-a,-o);for(let l=0;l<s;++l)Gq(i[l],t,n,r);t.translate(a,o)}return r}function Xq(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const BA=new Un;function Yq(e){const t=e.clip;if(ft(t))t(Tx(BA.clear()));else if(t)BA.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(BA)}const eEe=1e-9;function LN(e,t,n){return e===t?!0:n==="path"?Kq(e,t):e instanceof Date&&t instanceof Date?+e==+t:Rt(e)&&Rt(t)?Math.abs(e-t)<=eEe:!e||!t||!Me(e)&&!Me(t)?e==t:tEe(e,t)}function Kq(e,t){return LN(q0(e),q0(t))}function tEe(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!LN(e[i],t[i],i))return!1;return typeof e==typeof t}function nEe(){eq(),T_e()}const K0="top",Da="left",Ia="right",_u="bottom",rEe="top-left",iEe="top-right",sEe="bottom-left",aEe="bottom-right",PN="start",UC="middle",pi="end",oEe="x",lEe="y",dw="group",BN="axis",UN="title",cEe="frame",uEe="scope",zN="legend",Jq="row-header",Zq="row-footer",Qq="row-title",eX="column-header",tX="column-footer",nX="column-title",fEe="padding",hEe="symbol",rX="fit",iX="fit-x",sX="fit-y",dEe="pad",HN="none",Qv="all",zC="each",VN="flush",Wc="column",jc="row";function aX(e){oe.call(this,null,e)}Oe(aX,oe,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=Cs[i],a=s.bound;let o=r.bounds,l;if(s.nested)r.items.length&&n.dirty(r.items[0]),o=ey(r,a),r.items.forEach(c=>{c.bounds.clear().union(o)});else if(i===dw||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),o.clear(),r.items.forEach(c=>o.union(ey(c,a))),r.role){case BN:case zN:case UN:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,c=>{o.union(ey(c,a))}),t.visit(t.MOD,c=>{l=l||o.alignsWith(c.bounds),n.dirty(c),o.union(ey(c,a))}),l&&(o.clear(),r.items.forEach(c=>o.union(c.bounds)));return Yq(r),t.modifies("bounds")}});function ey(e,t,n){return t(e.bounds.clear(),e,n)}const eL=":vega_identifier:";function WN(e){oe.call(this,0,e)}WN.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Oe(WN,oe,{transform(e,t){const n=pEe(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function pEe(e){return e._signals[eL]||(e._signals[eL]=e.add(0))}function oX(e){oe.call(this,null,e)}Oe(oX,oe,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,gEe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===dw?iw:rw;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function gEe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function lX(e){oe.call(this,null,e)}const tL={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!cX(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},cX=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),nL=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(cX(i,s=e[n].bounds,t))return!0},mEe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},xEe=(e,t,n)=>{var r=e.range(),i=new Un;return t===K0||t===_u?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},rL=e=>(e.forEach(t=>t.opacity=1),e),iL=(e,t)=>e.reflow(t.modified()).modifies("opacity");Oe(lX,oe,{transform(e,t){const n=tL[e.method]||tL.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,a;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(rL(i),t=iL(t,e)),t;if(i=i.filter(mEe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=rL(i),t=iL(t,e),s.length>=3&&nL(s,r)){do s=n(s,r);while(s.length>=3&&nL(s,r));s.length<3&&!Ct(i).opacity&&(s.length>1&&(Ct(s).opacity=0),Ct(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=xEe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{a(l)||(l.opacity=0)}));const o=s[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&o.union(l.bounds)}),t}});function uX(e){oe.call(this,null,e)}Oe(uX,oe,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Pr=new Un;function Yd(e,t,n){return e[t]===n?0:(e[t]=n,1)}function vEe(e){var t=e.items[0].orient;return t===Da||t===Ia}function yEe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function _Ee(e,t,n,r){var i=t.items[0],s=i.datum,a=i.translate!=null?i.translate:.5,o=i.orient,l=yEe(s),c=i.range,u=i.offset,f=i.position,h=i.minExtent,d=i.maxExtent,p=s.title&&i.items[l[2]].items[0],g=i.titlePadding,m=i.bounds,x=p&&TN(p),y=0,v=0,_,b;switch(Pr.clear().union(m),m.clear(),(_=l[0])>-1&&m.union(i.items[_].bounds),(_=l[1])>-1&&m.union(i.items[_].bounds),o){case K0:y=f||0,v=-u,b=Math.max(h,Math.min(d,-m.y1)),m.add(0,-b).add(c,0),p&&ty(e,p,b,g,x,0,-1,m);break;case Da:y=-u,v=f||0,b=Math.max(h,Math.min(d,-m.x1)),m.add(-b,0).add(0,c),p&&ty(e,p,b,g,x,1,-1,m);break;case Ia:y=n+u,v=f||0,b=Math.max(h,Math.min(d,m.x2)),m.add(0,0).add(b,c),p&&ty(e,p,b,g,x,1,1,m);break;case _u:y=f||0,v=r+u,b=Math.max(h,Math.min(d,m.y2)),m.add(0,0).add(c,b),p&&ty(e,p,b,g,0,0,1,m);break;default:y=i.x,v=i.y}return nc(m.translate(y,v),i),Yd(i,"x",y+a)|Yd(i,"y",v+a)&&(i.bounds=Pr,e.dirty(i),i.bounds=m,e.dirty(i)),i.mark.bounds.clear().union(m)}function ty(e,t,n,r,i,s,a,o){const l=t.bounds;if(t.auto){const c=a*(n+i+r);let u=0,f=0;e.dirty(t),s?u=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(l.translate(-u,-f)),e.dirty(t)}o.union(l)}const sL=(e,t)=>Math.floor(Math.min(e,t)),aL=(e,t)=>Math.ceil(Math.max(e,t));function bEe(e){var t=e.items,n=t.length,r=0,i,s;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===dw)switch(i.role){case BN:case zN:case UN:break;case Jq:a.rowheaders.push(...s);break;case Zq:a.rowfooters.push(...s);break;case eX:a.colheaders.push(...s);break;case tX:a.colfooters.push(...s);break;case Qq:a.rowtitle=s[0];break;case nX:a.coltitle=s[0];break;default:a.marks.push(...s)}return a}function EEe(e){return new Un().set(0,0,e.width||0,e.height||0)}function wEe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function cn(e,t,n){const r=Me(e)?e[t]:e;return r??(n!==void 0?n:0)}function oL(e){return e<0?Math.ceil(-e):0}function fX(e,t,n){var r=!n.nodirty,i=n.bounds===VN?EEe:wEe,s=Pr.set(0,0,0,0),a=cn(n.align,Wc),o=cn(n.align,jc),l=cn(n.padding,Wc),c=cn(n.padding,jc),u=n.columns||t.length,f=u<=0?1:Math.ceil(t.length/u),h=t.length,d=Array(h),p=Array(u),g=0,m=Array(h),x=Array(f),y=0,v=Array(h),_=Array(h),b=Array(h),w,E,A,S,T,C,O,F,I,D,N;for(E=0;E<u;++E)p[E]=0;for(E=0;E<f;++E)x[E]=0;for(E=0;E<h;++E)C=t[E],T=b[E]=i(C),C.x=C.x||0,v[E]=0,C.y=C.y||0,_[E]=0,A=E%u,S=~~(E/u),g=Math.max(g,O=Math.ceil(T.x2)),y=Math.max(y,F=Math.ceil(T.y2)),p[A]=Math.max(p[A],O),x[S]=Math.max(x[S],F),d[E]=l+oL(T.x1),m[E]=c+oL(T.y1),r&&e.dirty(t[E]);for(E=0;E<h;++E)E%u===0&&(d[E]=0),E<u&&(m[E]=0);if(a===zC)for(A=1;A<u;++A){for(N=0,E=A;E<h;E+=u)N<d[E]&&(N=d[E]);for(E=A;E<h;E+=u)d[E]=N+p[A-1]}else if(a===Qv){for(N=0,E=0;E<h;++E)E%u&&N<d[E]&&(N=d[E]);for(E=0;E<h;++E)E%u&&(d[E]=N+g)}else for(a=!1,A=1;A<u;++A)for(E=A;E<h;E+=u)d[E]+=p[A-1];if(o===zC)for(S=1;S<f;++S){for(N=0,E=S*u,w=E+u;E<w;++E)N<m[E]&&(N=m[E]);for(E=S*u;E<w;++E)m[E]=N+x[S-1]}else if(o===Qv){for(N=0,E=u;E<h;++E)N<m[E]&&(N=m[E]);for(E=u;E<h;++E)m[E]=N+y}else for(o=!1,S=1;S<f;++S)for(E=S*u,w=E+u;E<w;++E)m[E]+=x[S-1];for(I=0,E=0;E<h;++E)I=d[E]+(E%u?I:0),v[E]+=I-t[E].x;for(A=0;A<u;++A)for(D=0,E=A;E<h;E+=u)D+=m[E],_[E]+=D-t[E].y;if(a&&cn(n.center,Wc)&&f>1)for(E=0;E<h;++E)T=a===Qv?g:p[E%u],I=T-b[E].x2-t[E].x-v[E],I>0&&(v[E]+=I/2);if(o&&cn(n.center,jc)&&u!==1)for(E=0;E<h;++E)T=o===Qv?y:x[~~(E/u)],D=T-b[E].y2-t[E].y-_[E],D>0&&(_[E]+=D/2);for(E=0;E<h;++E)s.union(b[E].translate(v[E],_[E]));switch(I=cn(n.anchor,oEe),D=cn(n.anchor,lEe),cn(n.anchor,Wc)){case pi:I-=s.width();break;case UC:I-=s.width()/2}switch(cn(n.anchor,jc)){case pi:D-=s.height();break;case UC:D-=s.height()/2}for(I=Math.round(I),D=Math.round(D),s.clear(),E=0;E<h;++E)t[E].mark.bounds.clear();for(E=0;E<h;++E)C=t[E],C.x+=v[E]+=I,C.y+=_[E]+=D,s.union(C.mark.bounds.union(C.bounds.translate(v[E],_[E]))),r&&e.dirty(C);return s}function SEe(e,t,n){var r=bEe(t),i=r.marks,s=n.bounds===VN?AEe:TEe,a=n.offset,o=n.columns||i.length,l=o<=0?1:Math.ceil(i.length/o),c=l*o,u,f,h,d,p,g,m;const x=fX(e,i,n);x.empty()&&x.set(0,0,0,0),r.rowheaders&&(g=cn(n.headerBand,jc,null),u=ny(e,r.rowheaders,i,o,l,-cn(a,"rowHeader"),sL,0,s,"x1",0,o,1,g)),r.colheaders&&(g=cn(n.headerBand,Wc,null),f=ny(e,r.colheaders,i,o,o,-cn(a,"columnHeader"),sL,1,s,"y1",0,1,o,g)),r.rowfooters&&(g=cn(n.footerBand,jc,null),h=ny(e,r.rowfooters,i,o,l,cn(a,"rowFooter"),aL,0,s,"x2",o-1,o,1,g)),r.colfooters&&(g=cn(n.footerBand,Wc,null),d=ny(e,r.colfooters,i,o,o,cn(a,"columnFooter"),aL,1,s,"y2",c-o,1,o,g)),r.rowtitle&&(p=cn(n.titleAnchor,jc),m=cn(a,"rowTitle"),m=p===pi?h+m:u-m,g=cn(n.titleBand,jc,.5),lL(e,r.rowtitle,m,0,x,g)),r.coltitle&&(p=cn(n.titleAnchor,Wc),m=cn(a,"columnTitle"),m=p===pi?d+m:f-m,g=cn(n.titleBand,Wc,.5),lL(e,r.coltitle,m,1,x,g))}function AEe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function TEe(e,t){return e.bounds[t]}function ny(e,t,n,r,i,s,a,o,l,c,u,f,h,d){var p=n.length,g=0,m=0,x,y,v,_,b,w,E,A,S;if(!p)return g;for(x=u;x<p;x+=f)n[x]&&(g=a(g,l(n[x],c)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=s,y=0,_=t.length;y<_;++y)e.dirty(t[y]),t[y].mark.bounds.clear();for(x=u,y=0,_=t.length;y<_;++y,x+=f){for(w=t[y],b=w.mark.bounds,v=x;v>=0&&(E=n[v])==null;v-=h);o?(A=d==null?E.x:Math.round(E.bounds.x1+d*E.bounds.width()),S=g):(A=g,S=d==null?E.y:Math.round(E.bounds.y1+d*E.bounds.height())),b.union(w.bounds.translate(A-(w.x||0),S-(w.y||0))),w.x=A,w.y=S,e.dirty(w),m=a(m,b[c])}return m}function lL(e,t,n,r,i,s){if(t){e.dirty(t);var a=n,o=n;r?a=Math.round(i.x1+s*i.width()):o=Math.round(i.y1+s*i.height()),t.bounds.translate(a-(t.x||0),o-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=o,e.dirty(t)}}function kEe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function CEe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function FEe(e,t,n,r,i,s,a){const o=kEe(n,t),l=CEe(e,o("offset",0)),c=o("anchor",PN),u=c===pi?1:c===UC?.5:0,f={align:zC,bounds:o("bounds",VN),columns:o("direction")==="vertical"?1:e.length,padding:o("margin",8),center:o("center"),nodirty:!0};switch(t){case Da:f.anchor={x:Math.floor(r.x1)-l,column:pi,y:u*(a||r.height()+2*r.y1),row:c};break;case Ia:f.anchor={x:Math.ceil(r.x2)+l,y:u*(a||r.height()+2*r.y1),row:c};break;case K0:f.anchor={y:Math.floor(i.y1)-l,row:pi,x:u*(s||i.width()+2*i.x1),column:c};break;case _u:f.anchor={y:Math.ceil(i.y2)+l,x:u*(s||i.width()+2*i.x1),column:c};break;case rEe:f.anchor={x:l,y:l};break;case iEe:f.anchor={x:s-l,y:l,column:pi};break;case sEe:f.anchor={x:l,y:a-l,row:pi};break;case aEe:f.anchor={x:s-l,y:a-l,column:pi,row:pi};break}return f}function OEe(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,a=n.x,o=n.y,l,c;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),DEe(e,n,n.items[0].items[0]),s=NEe(n,s),l=2*n.padding,c=2*n.padding,s.empty()||(l=Math.ceil(s.width()+l),c=Math.ceil(s.height()+c)),r.type===hEe&&$Ee(n.items[0].items[0].items[0].items),i!==HN&&(n.x=a=0,n.y=o=0),n.width=l,n.height=c,nc(s.set(a,o,a+l,o+c),n),n.mark.bounds.clear().union(s),n}function NEe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function DEe(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&_g(e,n,i,s);else{var a=t.items[1].items[0],o=a.anchor,l=t.titlePadding||0,c=r-a.x,u=r-a.y;switch(a.orient){case Da:i+=Math.ceil(a.bounds.width())+l;break;case Ia:case _u:break;default:s+=a.bounds.height()+l}switch((i||s)&&_g(e,n,i,s),a.orient){case Da:u+=Td(t,n,a,o,1,1);break;case Ia:c+=Td(t,n,a,pi,0,0)+l,u+=Td(t,n,a,o,1,1);break;case _u:c+=Td(t,n,a,o,0,0),u+=Td(t,n,a,pi,-1,0,1)+l;break;default:c+=Td(t,n,a,o,0,0)}(c||u)&&_g(e,a,c,u),(c=Math.round(a.bounds.x1-r))<0&&(_g(e,n,-c,0),_g(e,a,-c,0))}}function Td(e,t,n,r,i,s,a){const o=e.datum.type!=="symbol",l=n.datum.vgrad,c=o&&(s||!l)&&!a?t.items[0]:t,u=c.bounds[i?"y2":"x2"]-e.padding,f=l&&s?u:0,h=l&&s?0:u,d=i<=0?0:TN(n);return Math.round(r===PN?f:r===pi?h-d:.5*(u-d))}function _g(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function $Ee(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function REe(e,t,n,r,i){var s=t.items[0],a=s.frame,o=s.orient,l=s.anchor,c=s.offset,u=s.padding,f=s.items[0].items[0],h=s.items[1]&&s.items[1].items[0],d=o===Da||o===Ia?r:n,p=0,g=0,m=0,x=0,y=0,v;if(a!==dw?o===Da?(p=i.y2,d=i.y1):o===Ia?(p=i.y1,d=i.y2):(p=i.x1,d=i.x2):o===Da&&(p=r,d=0),v=l===PN?p:l===pi?d:(p+d)/2,h&&h.text){switch(o){case K0:case _u:y=f.bounds.height()+u;break;case Da:x=f.bounds.width()+u;break;case Ia:x=-f.bounds.width()-u;break}Pr.clear().union(h.bounds),Pr.translate(x-(h.x||0),y-(h.y||0)),Yd(h,"x",x)|Yd(h,"y",y)&&(e.dirty(h),h.bounds.clear().union(Pr),h.mark.bounds.clear().union(Pr),e.dirty(h)),Pr.clear().union(h.bounds)}else Pr.clear();switch(Pr.union(f.bounds),o){case K0:g=v,m=i.y1-Pr.height()-c;break;case Da:g=i.x1-Pr.width()-c,m=v;break;case Ia:g=i.x2+Pr.width()+c,m=v;break;case _u:g=v,m=i.y2+c;break;default:g=s.x,m=s.y}return Yd(s,"x",g)|Yd(s,"y",m)&&(Pr.translate(g,m),e.dirty(s),s.bounds.clear().union(Pr),t.bounds.clear().union(Pr),e.dirty(s)),s.bounds}function hX(e){oe.call(this,null,e)}Oe(hX,oe,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&SEe(n,r,e.layout),MEe(n,r,e)}),IEe(e.mark.group)?t.reflow():t}});function IEe(e){return e&&e.mark.role!=="legend-entry"}function MEe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),a=new Un().set(0,0,i,s),o=a.clone(),l=a.clone(),c=[],u,f,h,d,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case BN:d=vEe(f)?o:l,d.union(_Ee(e,f,i,s));break;case UN:u=f;break;case zN:c.push(OEe(e,f));break;case cEe:case uEe:case Jq:case Zq:case Qq:case eX:case tX:case nX:o.union(f.bounds),l.union(f.bounds);break;default:a.union(f.bounds)}if(c.length){const m={};c.forEach(x=>{h=x.orient||Ia,h!==HN&&(m[h]||(m[h]=[])).push(x)});for(const x in m){const y=m[x];fX(e,y,FEe(y,x,n.legends,o,l,i,s))}c.forEach(x=>{const y=x.bounds;if(y.equals(x._bounds)||(x.bounds=x._bounds,e.dirty(x),x.bounds=y,e.dirty(x)),n.autosize&&(n.autosize.type===rX||n.autosize.type===iX||n.autosize.type===sX))switch(x.orient){case Da:case Ia:a.add(y.x1,0).add(y.x2,0);break;case K0:case _u:a.add(0,y.y1).add(0,y.y2)}else a.union(y)})}a.union(o).union(l),u&&a.union(REe(e,u,i,s,a)),t.clip&&a.set(0,0,t.width||0,t.height||0),LEe(e,t,a,n)}function LEe(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let a=e._width,o=e._height,l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-l)),d=Math.max(0,Math.ceil(n.y2-u));if(i.contains===fEe){const p=e.padding();a-=p.left+p.right,o-=p.top+p.bottom}s===HN?(c=0,f=0,l=a,u=o):s===rX?(l=Math.max(0,a-c-h),u=Math.max(0,o-f-d)):s===iX?(l=Math.max(0,a-c-h),o=u+f+d):s===sX?(a=l+c+h,u=Math.max(0,o-f-d)):s===dEe&&(a=l+c+h,o=u+f+d),e._resizeView(a,o,l,u,[c,f],i.resize)}const PEe=Object.freeze(Object.defineProperty({__proto__:null,bound:aX,identifier:WN,mark:oX,overlap:lX,render:uX,viewlayout:hX},Symbol.toStringTag,{value:"Module"}));function dX(e){oe.call(this,null,e)}Oe(dX,oe,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,a=e.count==null?e.values?e.values.length:10:e.count,o=lN(s,a,e.minstep),l=e.format||UG(n,s,o,e.formatSpecifier,e.formatType,!!e.values),c=e.values?BG(s,e.values,o):cN(s,o);return i&&(r.rem=i),i=c.map((u,f)=>Vt({index:f/(c.length-1||1),value:u,label:l(u)})),e.extra&&i.length&&i.push(Vt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function pX(e){oe.call(this,null,e)}function BEe(){return Vt({})}function UEe(e){const t=Np().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Oe(pX,oe,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||BEe,s=e.key||Ke,a=this.value;return me(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(s))&&he("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=UEe(s)),t.visit(t.ADD,o=>{const l=s(o);let c=a.get(l);c?c.exit?(a.empty--,r.add.push(c)):r.mod.push(c):(c=i(o),a.set(l,c),r.add.push(c)),c.datum=o,c.exit=!1}),t.visit(t.MOD,o=>{const l=s(o),c=a.get(l);c&&(c.datum=o,r.mod.push(c))}),t.visit(t.REM,o=>{const l=s(o),c=a.get(l);o===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}});function gX(e){oe.call(this,null,e)}Oe(gX,oe,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(me(s))if(n.changed()||s.every(f=>i[f]))s=s[0],n.encode=null;else return t.StopPropagation;var a=s==="enter",o=i.update||wc,l=i.enter||wc,c=i.exit||wc,u=(s&&!a?i[s]:o)||wc;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),o(f,e)}),n.modifies(l.output),n.modifies(o.output),u!==wc&&u!==o&&(t.visit(t.ADD,f=>{u(f,e)}),n.modifies(u.output))),t.changed(t.REM)&&c!==wc&&(t.visit(t.REM,f=>{c(f,e)}),n.modifies(c.output)),a||u!==wc){const f=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(f,h=>{const d=l(h,e)||r;(u(h,e)||d)&&n.mod.push(h)}),n.mod.length&&n.modifies(l.output)):t.visit(f,h=>{(u(h,e)||r)&&n.mod.push(h)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}});function mX(e){oe.call(this,[],e)}Oe(mX,oe,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||i_,a=e.scale,o=+e.limit,l=lN(a,e.count==null?5:e.count,e.minstep),c=!!e.values||s===i_,u=e.format||WG(n,a,l,s,e.formatSpecifier,e.formatType,c),f=e.values||VG(a,l),h,d,p,g,m;return i&&(r.rem=i),s===i_?(o&&f.length>o?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,o-1),m=!0):i=f,ft(p=e.size)?(!e.values&&a(i[0])===0&&(i=i.slice(1)),g=i.reduce((x,y)=>Math.max(x,p(y,e)),0)):p=si(g=p||8),i=i.map((x,y)=>Vt({index:y,label:u(x,y,i),value:x,offset:g,size:p(x,e)})),m&&(m=f[i.length],i.push(Vt({index:i.length,label:`${f.length-i.length} entries`,value:m,offset:g,size:p(m,e)})))):s===d_e?(h=a.domain(),d=MG(a,h[0],Ct(h)),f.length<3&&!e.values&&h[0]!==Ct(h)&&(f=[h[0],Ct(h)]),i=f.map((x,y)=>Vt({index:y,label:u(x,y,f),value:x,perc:d(x)}))):(p=f.length-1,d=S_e(a),i=f.map((x,y)=>Vt({index:y,label:u(x,y,f),value:x,perc:y?d(x):0,perc2:y===p?1:d(f[y+1])}))),r.source=i,r.add=i,this.value=i,r}});const zEe=e=>e.source.x,HEe=e=>e.source.y,VEe=e=>e.target.x,WEe=e=>e.target.y;function jN(e){oe.call(this,{},e)}jN.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Oe(jN,oe,{transform(e,t){var n=e.sourceX||zEe,r=e.sourceY||HEe,i=e.targetX||VEe,s=e.targetY||WEe,a=e.as||"path",o=e.orient||"vertical",l=e.shape||"line",c=cL.get(l+"-"+o)||cL.get(l);return c||he("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,u=>{u[a]=c(n(u),r(u),i(u),s(u))}),t.reflow(e.modified()).modifies(a)}});const xX=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,jEe=(e,t,n,r)=>xX(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),vX=(e,t,n,r)=>{var i=n-e,s=r-t,a=Math.hypot(i,s)/2,o=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+a+","+a+" "+o+" 0 1 "+n+","+r},GEe=(e,t,n,r)=>vX(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),yX=(e,t,n,r)=>{const i=n-e,s=r-t,a=.2*(i+s),o=.2*(s-i);return"M"+e+","+t+"C"+(e+a)+","+(t+o)+" "+(n+o)+","+(r-a)+" "+n+","+r},qEe=(e,t,n,r)=>yX(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),XEe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,YEe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,KEe=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),a=Math.cos(n),o=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*a+","+t*o+"L"+r*a+","+r*o},JEe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},ZEe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},QEe=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),a=Math.cos(n),o=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*s+"C"+l*i+","+l*s+" "+l*a+","+l*o+" "+r*a+","+r*o},cL=Np({line:xX,"line-radial":jEe,arc:vX,"arc-radial":GEe,curve:yX,"curve-radial":qEe,"orthogonal-horizontal":XEe,"orthogonal-vertical":YEe,"orthogonal-radial":KEe,"diagonal-horizontal":JEe,"diagonal-vertical":ZEe,"diagonal-radial":QEe});function GN(e){oe.call(this,null,e)}GN.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Oe(GN,oe,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||Cp,a=e.startAngle||0,o=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,c=l.map(s),u=c.length,f=a,h=(o-a)/Uz(c),d=xs(u),p,g,m;for(e.sort&&d.sort((x,y)=>c[x]-c[y]),p=0;p<u;++p)m=c[d[p]],g=l[d[p]],g[r]=f,g[i]=f+=m*h;return this.value=c,t.reflow(e.modified()).modifies(n)}});const ewe=5;function twe(e){const t=e.type;return!e.bins&&(t===W0||t===yx||t===_x)}function _X(e){return aN(e)&&e!==Fo}const nwe=Va(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function bX(e){oe.call(this,null,e),this.modified(!0)}Oe(bX,oe,{transform(e,t){var n=t.dataflow,r=this.value,i=rwe(e);(!r||i!==r.type)&&(this.value=r=zt(i)());for(i in e)if(!nwe[i]){if(i==="padding"&&_X(r.type))continue;ft(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return cwe(r,e,lwe(r,e,swe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function rwe(e){var t=e.type,n="",r;return t===Fo?Fo+"-"+W0:(iwe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Fo+"-":r===3?Ip+"-":""),(n+t||W0).toLowerCase())}function iwe(e){const t=e.type;return aN(t)&&t!==bh&&t!==Eh&&(e.scheme||e.range&&e.range.length&&e.range.every(Pe))}function swe(e,t,n){const r=awe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,a=t.zero||t.zero===void 0&&twe(e),o,l;if(!i)return 0;if((a||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(o=(i=i.slice()).length-1||1,a&&(i[0]>0&&(i[0]=0),i[o]<0&&(i[o]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[o]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const c=l>i[o]?o+1:l<i[0]?0:o;c!==o&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(c,0,l)}return _X(s)&&t.padding&&i[0]!==Ct(i)&&(i=owe(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(EX(s,i,n)),s===nN&&e.unknown(t.domainImplicit?fC:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&lN(e,t.nice)||null),i.length}function awe(e,t,n){return t?(e.domain(EX(e.type,t,n)),t.length):-1}function owe(e,t,n,r,i,s){var a=Math.abs(Ct(n)-n[0]),o=a/(a-2*r),l=e===Yl?Y4(t,null,o):e===_x?L2(t,null,o,.5):e===yx?L2(t,null,o,i||1):e===JE?K4(t,null,o,s||1):X4(t,null,o);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function EX(e,t,n){if(NG(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Ce(t))}return t}function lwe(e,t,n){let r=t.bins;if(r&&!me(r)){const i=e.domain(),s=i[0],a=Ct(i),o=r.step;let l=r.start==null?s:r.start,c=r.stop==null?a:r.stop;o||he("Scale bins parameter missing step property."),l<s&&(l=o*Math.ceil(s/o)),c>a&&(c=o*Math.floor(a/o)),r=xs(l,c+o/2,o)}return r?e.bins=r:e.bins&&delete e.bins,e.type===rN&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function cwe(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=uwe(r,t,n);else if(t.scheme&&(s=fwe(r,t,n),ft(s))){if(e.interpolator)return e.interpolator(s);he(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&DG(r))return e.interpolator(ew(HC(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(oN(t.interpolate,t.interpolateGamma)):ft(e.round)?e.round(i):ft(e.rangeRound)&&e.interpolate(i?ox:Bu),s&&e.range(HC(s,t.reverse))}function uwe(e,t,n){e!==AG&&e!==kC&&he("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===kC?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*tN(n,i,r)]}function fwe(e,t,n){var r=t.schemeExtent,i,s;return me(t.scheme)?s=ew(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=tw(i),s||he(`Unrecognized scheme name: ${t.scheme}`)),n=e===QE?n+1:e===rN?n-1:e===j0||e===ZE?+t.schemeCount||ewe:n,DG(e)?uL(s,r,t.reverse):ft(s)?IG(uL(s,r),n):e===nN?s:s.slice(0,n)}function uL(e,t,n){return ft(e)&&(t||n)?RG(e,HC(t||[0,1],n)):e}function HC(e,t){return t?e.slice().reverse():e}function wX(e){oe.call(this,null,e)}Oe(wX,oe,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Zh(e.sort)),this.modified(n),t}});const fL="zero",SX="center",AX="normalize",TX=["y0","y1"];function qN(e){oe.call(this,null,e)}qN.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:fL,values:[fL,SX,AX]},{name:"as",type:"string",array:!0,length:2,default:TX}]};Oe(qN,oe,{transform(e,t){var n=e.as||TX,r=n[0],i=n[1],s=Zh(e.sort),a=e.field||Cp,o=e.offset===SX?hwe:e.offset===AX?dwe:pwe,l,c,u,f;for(l=gwe(t.source,e.groupby,s,a),c=0,u=l.length,f=l.max;c<u;++c)o(l[c],f,a,r,i);return t.reflow(e.modified()).modifies(n)}});function hwe(e,t,n,r,i){for(var s=(t-e.sum)/2,a=e.length,o=0,l;o<a;++o)l=e[o],l[r]=s,l[i]=s+=Math.abs(n(l))}function dwe(e,t,n,r,i){for(var s=1/e.sum,a=0,o=e.length,l=0,c=0,u;l<o;++l)u=e[l],u[r]=a,u[i]=a=s*(c+=Math.abs(n(u)))}function pwe(e,t,n,r,i){for(var s=0,a=0,o=e.length,l=0,c,u;l<o;++l)u=e[l],c=+n(u),c<0?(u[r]=a,u[i]=a+=c):(u[r]=s,u[i]=s+=c)}function gwe(e,t,n,r){var i=[],s=g=>g(u),a,o,l,c,u,f,h,d,p;if(t==null)i.push(e.slice());else for(a={},o=0,l=e.length;o<l;++o)u=e[o],f=t.map(s),h=a[f],h||(a[f]=h=[],i.push(h)),h.push(u);for(f=0,p=0,c=i.length;f<c;++f){for(h=i[f],o=0,d=0,l=h.length;o<l;++o)d+=Math.abs(r(h[o]));h.sum=d,d>p&&(p=d),n&&h.sort(n)}return i.max=p,i}const mwe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:dX,datajoin:pX,encode:gX,legendentries:mX,linkpath:jN,pie:GN,scale:bX,sortitems:wX,stack:qN},Symbol.toStringTag,{value:"Module"})),xwe=yV(),VC=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function vwe(e,t){return function n(){const r=t();return r.type=e,r.path=yV().projection(r),r.copy=r.copy||function(){const i=n();return VC.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},FG(r)}}function pw(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(eb[e]=vwe(e,t),this):eb[e]||null}function kX(e){return e&&e.path||xwe}const eb={albers:_V,albersusa:s0e,azimuthalequalarea:a0e,azimuthalequidistant:o0e,conicconformal:u0e,conicequalarea:T2,conicequidistant:d0e,equalEarth:g0e,equirectangular:f0e,gnomonic:m0e,identity:x0e,mercator:l0e,mollweide:hxe,naturalEarth1:v0e,orthographic:y0e,stereographic:_0e,transversemercator:b0e};for(const e in eb)pw(e,eb[e]);function ywe(){}const cl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function CX(){var e=1,t=1,n=o;function r(l,c){return c.map(u=>i(l,u))}function i(l,c){var u=[],f=[];return s(l,c,h=>{n(h,l,c),_we(h)>0?u.push([h]):f.push(h)}),f.forEach(h=>{for(var d=0,p=u.length,g;d<p;++d)if(bwe((g=u[d])[0],h)!==-1){g.push(h);return}}),{type:"MultiPolygon",value:c,coordinates:u}}function s(l,c,u){var f=[],h=[],d,p,g,m,x,y;for(d=p=-1,m=l[0]>=c,cl[m<<1].forEach(v);++d<e-1;)g=m,m=l[d+1]>=c,cl[g|m<<1].forEach(v);for(cl[m<<0].forEach(v);++p<t-1;){for(d=-1,m=l[p*e+e]>=c,x=l[p*e]>=c,cl[m<<1|x<<2].forEach(v);++d<e-1;)g=m,m=l[p*e+e+d+1]>=c,y=x,x=l[p*e+d+1]>=c,cl[g|m<<1|x<<2|y<<3].forEach(v);cl[m|x<<3].forEach(v)}for(d=-1,x=l[p*e]>=c,cl[x<<2].forEach(v);++d<e-1;)y=x,x=l[p*e+d+1]>=c,cl[x<<2|y<<3].forEach(v);cl[x<<3].forEach(v);function v(_){var b=[_[0][0]+d,_[0][1]+p],w=[_[1][0]+d,_[1][1]+p],E=a(b),A=a(w),S,T;(S=h[E])?(T=f[A])?(delete h[S.end],delete f[T.start],S===T?(S.ring.push(w),u(S.ring)):f[S.start]=h[T.end]={start:S.start,end:T.end,ring:S.ring.concat(T.ring)}):(delete h[S.end],S.ring.push(w),h[S.end=A]=S):(S=f[A])?(T=h[E])?(delete f[S.start],delete h[T.end],S===T?(S.ring.push(w),u(S.ring)):f[T.start]=h[S.end]={start:T.start,end:S.end,ring:T.ring.concat(S.ring)}):(delete f[S.start],S.ring.unshift(b),f[S.start=E]=S):f[E]=h[A]={start:E,end:A,ring:[b,w]}}}function a(l){return l[0]*2+l[1]*(e+1)*4}function o(l,c,u){l.forEach(f=>{var h=f[0],d=f[1],p=h|0,g=d|0,m,x=c[g*e+p];h>0&&h<e&&p===h&&(m=c[g*e+p-1],f[0]=h+(u-m)/(x-m)-.5),d>0&&d<t&&g===d&&(m=c[(g-1)*e+p],f[1]=d+(u-m)/(x-m)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),u=Math.floor(l[1]);return c>=0&&u>=0||he("invalid size"),e=c,t=u,r},r.smooth=function(l){return arguments.length?(n=l?o:ywe,r):n===o},r}function _we(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function bwe(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=Ewe(e,t[n]))return i;return 0}function Ewe(e,t){for(var n=t[0],r=t[1],i=-1,s=0,a=e.length,o=a-1;s<a;o=s++){var l=e[s],c=l[0],u=l[1],f=e[o],h=f[0],d=f[1];if(wwe(l,f,t))return 0;u>r!=d>r&&n<(h-c)*(r-u)/(d-u)+c&&(i=-i)}return i}function wwe(e,t,n){var r;return Swe(e,t,n)&&Awe(e[r=+(e[0]===t[0])],n[r],t[r])}function Swe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Awe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function FX(e,t,n){return function(r){var i=Po(r),s=n?Math.min(i[0],0):i[0],a=i[1],o=a-s,l=t?du(s,a,e):o/(e+1);return xs(s+l,a,l)}}function XN(e){oe.call(this,null,e)}XN.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Oe(XN,oe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ii,s=CX().smooth(e.smooth!==!1),a=e.thresholds||Twe(r,i,e),o=e.as===null?null:e.as||"contour",l=[];return r.forEach(c=>{const u=i(c),f=s.size([u.width,u.height])(u.values,me(a)?a:a(u.values));kwe(f,u,c,e),f.forEach(h=>{l.push(HE(c,Vt(o!=null?{[o]:h}:h)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Twe(e,t,n){const r=FX(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Xf(t(i).values)))}function kwe(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if(ft(i)&&(i=i(n,r)),ft(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const a=(Rt(i)?i:i[0])||1,o=(Rt(i)?i:i[1])||1,l=s&&s[0]||0,c=s&&s[1]||0;e.forEach(OX(t,a,o,l,c))}function OX(e,t,n,r,i){const s=e.x1||0,a=e.y1||0,o=t*n<0;function l(f){f.forEach(c)}function c(f){o&&f.reverse(),f.forEach(u)}function u(f){f[0]=(f[0]-s)*t+r,f[1]=(f[1]-a)*n+i}return function(f){return f.coordinates.forEach(l),f}}function hL(e,t,n){const r=e>=0?e:gO(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function UA(e){return ft(e)?e:si(+e)}function NX(){var e=l=>l[0],t=l=>l[1],n=Cp,r=[-1,-1],i=960,s=500,a=2;function o(l,c){const u=hL(r[0],l,e)>>a,f=hL(r[1],l,t)>>a,h=u?u+2:0,d=f?f+2:0,p=2*h+(i>>a),g=2*d+(s>>a),m=new Float32Array(p*g),x=new Float32Array(p*g);let y=m;l.forEach(_=>{const b=h+(+e(_)>>a),w=d+(+t(_)>>a);b>=0&&b<p&&w>=0&&w<g&&(m[b+w*p]+=+n(_))}),u>0&&f>0?(kd(p,g,m,x,u),Cd(p,g,x,m,f),kd(p,g,m,x,u),Cd(p,g,x,m,f),kd(p,g,m,x,u),Cd(p,g,x,m,f)):u>0?(kd(p,g,m,x,u),kd(p,g,x,m,u),kd(p,g,m,x,u),y=x):f>0&&(Cd(p,g,m,x,f),Cd(p,g,x,m,f),Cd(p,g,m,x,f),y=x);const v=c?Math.pow(2,-2*a):1/Uz(y);for(let _=0,b=p*g;_<b;++_)y[_]*=v;return{values:y,scale:1<<a,width:p,height:g,x1:h,y1:d,x2:h+(i>>a),y2:d+(s>>a)}}return o.x=function(l){return arguments.length?(e=UA(l),o):e},o.y=function(l){return arguments.length?(t=UA(l),o):t},o.weight=function(l){return arguments.length?(n=UA(l),o):n},o.size=function(l){if(!arguments.length)return[i,s];var c=+l[0],u=+l[1];return c>=0&&u>=0||he("invalid size"),i=c,s=u,o},o.cellSize=function(l){return arguments.length?((l=+l)>=1||he("invalid cell size"),a=Math.floor(Math.log(l)/Math.LN2),o):1<<a},o.bandwidth=function(l){return arguments.length?(l=Le(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&he("invalid bandwidth"),r=l,o):r},o}function kd(e,t,n,r,i){const s=(i<<1)+1;for(let a=0;a<t;++a)for(let o=0,l=0;o<e+i;++o)o<e&&(l+=n[o+a*e]),o>=i&&(o>=s&&(l-=n[o-s+a*e]),r[o-i+a*e]=l/Math.min(o+1,e-1+s-o,s))}function Cd(e,t,n,r,i){const s=(i<<1)+1;for(let a=0;a<e;++a)for(let o=0,l=0;o<t+i;++o)o<t&&(l+=n[a+o*e]),o>=i&&(o>=s&&(l-=n[a+(o-s)*e]),r[a+(o-i)*e]=l/Math.min(o+1,t-1+s-o,s))}function YN(e){oe.call(this,null,e)}YN.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Cwe=["x","y","weight","size","cellSize","bandwidth"];function DX(e,t){return Cwe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Oe(YN,oe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Fwe(r,e.groupby),s=(e.groupby||[]).map(An),a=DX(NX(),e),o=e.as||"grid",l=[];function c(u,f){for(let h=0;h<s.length;++h)u[s[h]]=f[h];return u}return l=i.map(u=>Vt(c({[o]:a(u,e.counts)},u.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Fwe(e,t){var n=[],r=u=>u(o),i,s,a,o,l,c;if(t==null)n.push(e);else for(i={},s=0,a=e.length;s<a;++s)o=e[s],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(o);return n}function KN(e){oe.call(this,null,e)}KN.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Oe(KN,oe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=CX().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||FX(e.count||10,e.nice,!!i),a=e.size,o,l;return i||(i=t.materialize(t.SOURCE).source,o=DX(NX(),e)(i,!0),l=OX(o,o.scale||1,o.scale||1,0,0),a=[o.width,o.height],i=o.values),s=me(s)?s:s(i),i=r.size(a)(i,s),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Vt),n}});const WC="Feature",JN="FeatureCollection",Owe="MultiPoint";function ZN(e){oe.call(this,null,e)}ZN.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Oe(ZN,oe,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],a=i&&i[1],o=e.geojson||!i&&ii,l=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(Qr(o))||s&&t.modified(Qr(s))||a&&t.modified(Qr(a)),(!this.value||c)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),o&&t.visit(l,u=>n.push(o(u))),s&&a&&(t.visit(l,u=>{var f=s(u),h=a(u);f!=null&&h!=null&&(f=+f)===f&&(h=+h)===h&&r.push([f,h])}),n=n.concat({type:WC,geometry:{type:Owe,coordinates:r}})),this.value={type:JN,features:n}}});function QN(e){oe.call(this,null,e)}QN.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Oe(QN,oe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ii,s=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=kX(e.projection),n.materialize().reflow()):a=i===ii||t.modified(i.fields)?n.ADD_MOD:n.ADD;const o=Nwe(r,e.pointRadius);return n.visit(a,l=>l[s]=r(i(l))),r.pointRadius(o),n.modifies(s)}});function Nwe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function eD(e){oe.call(this,null,e)}eD.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Oe(eD,oe,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],a=s[0],o=s[1],l;function c(u){const f=n([r(u),i(u)]);f?(u[a]=f[0],u[o]=f[1]):(u[a]=void 0,u[o]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,c)),t.modifies(s)}});function tD(e){oe.call(this,null,e)}tD.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Oe(tD,oe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=Dwe(kX(e.projection),e.field||la("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,a=>a[i]=r),n.modifies(i)}});function Dwe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),a=e.pointRadius(n)(t(i));return e.pointRadius(s),a};return r.context=i=>(e.context(i),r),r}function nD(e){oe.call(this,[],e),this.generator=Pde()}nD.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Oe(nD,oe,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)ft(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push($j(n[0],i)):t.add.push(Vt(i)),n[0]=i,t}});function rD(e){oe.call(this,null,e)}rD.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Oe(rD,oe,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ii,s=Rwe(e.opacity,e),a=$we(e.color,e),o=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Xf(n.map(c=>Xf(i(c).values))):0};return n.forEach(c=>{const u=i(c),f=ct({},c,l);r||(f.$max=Xf(u.values||[])),c[o]=Iwe(u,f,a.dep?a:si(a(f)),s.dep?s:si(s(f)))}),t.reflow(!0).modifies(o)}});function $we(e,t){let n;return ft(e)?(n=r=>pu(e(r,t)),n.dep=$X(e)):n=si(pu(e||"#888")),n}function Rwe(e,t){let n;return ft(e)?(n=r=>e(r,t),n.dep=$X(e)):e?n=si(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function $X(e){if(!ft(e))return!1;const t=Va(Qr(e));return t.$x||t.$y||t.$value||t.$max}function Iwe(e,t,n,r){const i=e.width,s=e.height,a=e.x1||0,o=e.y1||0,l=e.x2||i,c=e.y2||s,u=e.values,f=u?m=>u[m]:Mc,h=ru(l-a,c-o),d=h.getContext("2d"),p=d.getImageData(0,0,l-a,c-o),g=p.data;for(let m=o,x=0;m<c;++m){t.$y=m-o;for(let y=a,v=m*i;y<l;++y,x+=4){t.$x=y-a,t.$value=f(y+v);const _=n(t);g[x+0]=_.r,g[x+1]=_.g,g[x+2]=_.b,g[x+3]=~~(255*r(t))}}return d.putImageData(p,0,0),h}function RX(e){oe.call(this,null,e),this.modified(!0)}Oe(RX,oe,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Lwe(e.type),VC.forEach(r=>{e[r]!=null&&dL(n,r,e[r])})):VC.forEach(r=>{e.modified(r)&&dL(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Mwe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Mwe(e,t){const n=Pwe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Lwe(e){const t=pw((e||"mercator").toLowerCase());return t||he("Unrecognized projection type: "+e),t()}function dL(e,t,n){ft(e[t])&&e[t](n)}function Pwe(e){return e=Le(e),e.length===1?e[0]:{type:JN,features:e.reduce((t,n)=>t.concat(Bwe(n)),[])}}function Bwe(e){return e.type===JN?e.features:Le(e).filter(t=>t!=null).map(t=>t.type===WC?t:{type:WC,geometry:t})}const Uwe=Object.freeze(Object.defineProperty({__proto__:null,contour:KN,geojson:ZN,geopath:QN,geopoint:eD,geoshape:tD,graticule:nD,heatmap:rD,isocontour:XN,kde2d:YN,projection:RX},Symbol.toStringTag,{value:"Module"})),pL={center:Che,collide:qhe,nbody:ide,link:Yhe,x:sde,y:ade},nm="forces",jC=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],zwe=["static","iterations"],IX=["x","y","vx","vy"];function iD(e){oe.call(this,null,e)}iD.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:IX}]};Oe(iD,oe,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(jC),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&MX(n,e,0,t)):(this.value=n=Vwe(t.source,e),n.on("tick",Hwe(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(zwe)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let o=this._argops,l=0,c=o.length,u;l<c;++l)if(u=o[l],!(u.name!==nm||u.op._argval.force!=="link")){for(var r=u.op._argops,i=0,s=r.length,a;i<s;++i)if(r[i].name==="links"&&(a=r[i].op.source)){n.pulse(a,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(IX)}});function Hwe(e,t){return()=>e.touch(t).run()}function Vwe(e,t){const n=rde(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),MX(n,t,!0).on("end",()=>s=!0)}function MX(e,t,n,r){var i=Le(t.forces),s,a,o,l;for(s=0,a=jC.length;s<a;++s)o=jC[s],o!==nm&&t.modified(o)&&e[o](t[o]);for(s=0,a=i.length;s<a;++s)l=nm+s,o=n||t.modified(nm,s)?jwe(i[s]):r&&Wwe(i[s],r)?e.force(l):null,o&&e.force(l,o);for(a=e.numForces||0;s<a;++s)e.force(nm+s,null);return e.numForces=i.length,e}function Wwe(e,t){var n,r;for(n in e)if(ft(r=e[n])&&t.modified(Qr(r)))return 1;return 0}function jwe(e){var t,n;Ze(pL,e.force)||he("Unrecognized force: "+e.force),t=pL[e.force]();for(n in e)ft(t[n])&&Gwe(t[n],e[n],e);return t}function Gwe(e,t,n){e(ft(t)?r=>t(r,n):t)}const qwe=Object.freeze(Object.defineProperty({__proto__:null,force:iD},Symbol.toStringTag,{value:"Module"}));function GC(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function sD(e){oe.call(this,null,e)}sD.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Xwe=e=>e.values;Oe(sD,oe,{transform(e,t){t.source||he("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(a=>{a.children&&zE(a.data)&&i.rem.push(a.data)}),this.value=s=k4({values:Le(e.keys).reduce((a,o)=>(a.key(o),a),Ywe()).entries(i.source)},Xwe),n&&s.each(a=>{a.children&&(a=Vt(a.data),i.add.push(a),i.source.push(a))}),GC(s,Ke,Ke)),i.source.root=s,i}});function Ywe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const a=i.length,o=e[s++],l={},c={};let u=-1,f,h,d;for(;++u<a;)f=o(h=i[u])+"",(d=l[f])?d.push(h):l[f]=[h];for(f in l)c[f]=n(l[f],s);return c}function r(i,s){if(++s>e.length)return i;const a=[];for(const o in i)a.push({key:o,values:r(i[o],s)});return a}return t}function rc(e){oe.call(this,null,e)}const Kwe=(e,t)=>e.parent===t.parent?1:2;Oe(rc,oe,{transform(e,t){(!t.source||!t.source.root)&&he(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Zh(e.sort,a=>a.data)),Jwe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?Kwe:Cp);try{this.value=n(i)}catch(a){he(a)}return i.each(a=>Zwe(a,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function Jwe(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function Zwe(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const qC=["x","y","r","depth","children"];function aD(e){rc.call(this,e)}aD.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:qC.length,default:qC}]};Oe(aD,rc,{layout:ape,params:["radius","size","padding"],fields:qC});const XC=["x0","y0","x1","y1","depth","children"];function oD(e){rc.call(this,e)}oD.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:XC.length,default:XC}]};Oe(oD,rc,{layout:ope,params:["size","round","padding"],fields:XC});function lD(e){oe.call(this,null,e)}lD.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Oe(lD,oe,{transform(e,t){t.source||he("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?GC(I6().id(e.key).parentId(e.parentKey)(i.source),e.key,ca):GC(I6()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const gL={tidy:xpe,cluster:F0e},YC=["x","y","depth","children"];function cD(e){rc.call(this,e)}cD.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:YC.length,default:YC}]};Oe(cD,rc,{layout(e){const t=e||"tidy";if(Ze(gL,t))return gL[t]();he("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:YC});function uD(e){oe.call(this,[],e)}uD.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Oe(uD,oe,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||he("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,a=>s[Ke(a)]=1),r.each(a=>{const o=a.data,l=a.parent&&a.parent.data;l&&s[Ke(o)]&&s[Ke(l)]&&i.add.push(Vt({source:l,target:o}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,a=>s[Ke(a)]=1),n.forEach(a=>{(s[Ke(a.source)]||s[Ke(a.target)])&&i.mod.push(a)})),i}});const mL={binary:ype,dice:fx,slice:wE,slicedice:_pe,squarify:PV,resquarify:bpe},KC=["x0","y0","x1","y1","depth","children"];function fD(e){rc.call(this,e)}fD.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:KC.length,default:KC}]};Oe(fD,rc,{layout(){const e=vpe();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Ze(mL,t)?e.tile(mL[t]):he("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:KC});const Qwe=Object.freeze(Object.defineProperty({__proto__:null,nest:sD,pack:aD,partition:oD,stratify:lD,tree:cD,treelinks:uD,treemap:fD},Symbol.toStringTag,{value:"Module"})),zA=4278190080;function eSe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function tSe(e,t,n,r,i){const s=e.width,a=e.height,o=r||i,l=ru(s,a).getContext("2d"),c=ru(s,a).getContext("2d"),u=o&&ru(s,a).getContext("2d");n.forEach(A=>d_(l,A,!1)),d_(c,t,!1),o&&d_(u,t,!0);const f=HA(l,s,a),h=HA(c,s,a),d=o&&HA(u,s,a),p=e.bitmap(),g=o&&e.bitmap();let m,x,y,v,_,b,w,E;for(x=0;x<a;++x)for(m=0;m<s;++m)_=x*s+m,b=f[_]&zA,E=h[_]&zA,w=o&&d[_]&zA,(b||w||E)&&(y=e(m),v=e(x),!i&&(b||E)&&p.set(y,v),o&&(b||w)&&g.set(y,v));return[p,g]}function HA(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function d_(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>d_(e,s.items,n))}):Cs[r].draw(e,{items:n?t.map(nSe):t})}function nSe(e){const t=HE(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const ul=5,ci=31,E1=32,$c=new Uint32Array(E1+1),Fa=new Uint32Array(E1+1);Fa[0]=0;$c[0]=~Fa[0];for(let e=1;e<=E1;++e)Fa[e]=Fa[e-1]<<1|1,$c[e]=~Fa[e];function rSe(e,t){const n=new Uint32Array(~~((e*t+E1)/E1));function r(s,a){n[s]|=a}function i(s,a){n[s]&=a}return{array:n,get:(s,a)=>{const o=a*e+s;return n[o>>>ul]&1<<(o&ci)},set:(s,a)=>{const o=a*e+s;r(o>>>ul,1<<(o&ci))},clear:(s,a)=>{const o=a*e+s;i(o>>>ul,~(1<<(o&ci)))},getRange:(s,a,o,l)=>{let c=l,u,f,h,d;for(;c>=a;--c)if(u=c*e+s,f=c*e+o,h=u>>>ul,d=f>>>ul,h===d){if(n[h]&$c[u&ci]&Fa[(f&ci)+1])return!0}else{if(n[h]&$c[u&ci]||n[d]&Fa[(f&ci)+1])return!0;for(let p=h+1;p<d;++p)if(n[p])return!0}return!1},setRange:(s,a,o,l)=>{let c,u,f,h,d;for(;a<=l;++a)if(c=a*e+s,u=a*e+o,f=c>>>ul,h=u>>>ul,f===h)r(f,$c[c&ci]&Fa[(u&ci)+1]);else for(r(f,$c[c&ci]),r(h,Fa[(u&ci)+1]),d=f+1;d<h;++d)r(d,4294967295)},clearRange:(s,a,o,l)=>{let c,u,f,h,d;for(;a<=l;++a)if(c=a*e+s,u=a*e+o,f=c>>>ul,h=u>>>ul,f===h)i(f,Fa[c&ci]|$c[(u&ci)+1]);else for(i(f,Fa[c&ci]),i(h,$c[(u&ci)+1]),d=f+1;d<h;++d)i(d,0)},outOfBounds:(s,a,o,l)=>s<0||a<0||l>=t||o>=e}}function iSe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),a=o=>~~((o+n)/r);return a.invert=o=>o*r-n,a.bitmap=()=>rSe(i,s),a.ratio=r,a.padding=n,a.width=e,a.height=t,a}function sSe(e,t,n,r){const i=e.width,s=e.height;return function(a){const o=a.datum.datum.items[r].items,l=o.length,c=a.datum.fontSize,u=bs.width(a.datum,a.datum.text);let f=0,h,d,p,g,m,x,y;for(let v=0;v<l;++v)h=o[v].x,p=o[v].y,d=o[v].x2===void 0?h:o[v].x2,g=o[v].y2===void 0?p:o[v].y2,m=(h+d)/2,x=(p+g)/2,y=Math.abs(d-h+g-p),y>=f&&(f=y,a.x=m,a.y=x);return m=u/2,x=c/2,h=a.x-m,d=a.x+m,p=a.y-x,g=a.y+x,a.align="center",h<0&&d<=i?a.align="left":0<=h&&i<d&&(a.align="right"),a.baseline="middle",p<0&&g<=s?a.baseline="top":0<=p&&s<g&&(a.baseline="bottom"),!0}}function tb(e,t,n,r,i,s){let a=n/2;return e-a<0||e+a>i||t-(a=r/2)<0||t+a>s}function Gc(e,t,n,r,i,s,a,o){const l=i*s/(r*2),c=e(t-l),u=e(t+l),f=e(n-(s=s/2)),h=e(n+s);return a.outOfBounds(c,f,u,h)||a.getRange(c,f,u,h)||o&&o.getRange(c,f,u,h)}function aSe(e,t,n,r){const i=e.width,s=e.height,a=t[0],o=t[1];function l(c,u,f,h,d){const p=e.invert(c),g=e.invert(u);let m=f,x=s,y;if(!tb(p,g,h,d,i,s)&&!Gc(e,p,g,d,h,m,a,o)&&!Gc(e,p,g,d,h,d,a,null)){for(;x-m>=1;)y=(m+x)/2,Gc(e,p,g,d,h,y,a,o)?x=y:m=y;if(m>f)return[p,g,m,!0]}}return function(c){const u=c.datum.datum.items[r].items,f=u.length,h=c.datum.fontSize,d=bs.width(c.datum,c.datum.text);let p=n?h:0,g=!1,m=!1,x=0,y,v,_,b,w,E,A,S,T,C,O,F,I,D,N,M,U;for(let J=0;J<f;++J){for(y=u[J].x,_=u[J].y,v=u[J].x2===void 0?y:u[J].x2,b=u[J].y2===void 0?_:u[J].y2,y>v&&(U=y,y=v,v=U),_>b&&(U=_,_=b,b=U),T=e(y),O=e(v),C=~~((T+O)/2),F=e(_),D=e(b),I=~~((F+D)/2),A=C;A>=T;--A)for(S=I;S>=F;--S)M=l(A,S,p,d,h),M&&([c.x,c.y,p,g]=M);for(A=C;A<=O;++A)for(S=I;S<=D;++S)M=l(A,S,p,d,h),M&&([c.x,c.y,p,g]=M);!g&&!n&&(N=Math.abs(v-y+b-_),w=(y+v)/2,E=(_+b)/2,N>=x&&!tb(w,E,d,h,i,s)&&!Gc(e,w,E,h,d,h,a,null)&&(x=N,c.x=w,c.y=E,m=!0))}return g||m?(w=d/2,E=h/2,a.setRange(e(c.x-w),e(c.y-E),e(c.x+w),e(c.y+E)),c.align="center",c.baseline="middle",!0):!1}}const oSe=[-1,-1,1,1],lSe=[-1,1,-1,1];function cSe(e,t,n,r){const i=e.width,s=e.height,a=t[0],o=t[1],l=e.bitmap();return function(c){const u=c.datum.datum.items[r].items,f=u.length,h=c.datum.fontSize,d=bs.width(c.datum,c.datum.text),p=[];let g=n?h:0,m=!1,x=!1,y=0,v,_,b,w,E,A,S,T,C,O,F,I;for(let D=0;D<f;++D){for(v=u[D].x,b=u[D].y,_=u[D].x2===void 0?v:u[D].x2,w=u[D].y2===void 0?b:u[D].y2,p.push([e((v+_)/2),e((b+w)/2)]);p.length;)if([S,T]=p.pop(),!(a.get(S,T)||o.get(S,T)||l.get(S,T))){l.set(S,T);for(let N=0;N<4;++N)E=S+oSe[N],A=T+lSe[N],l.outOfBounds(E,A,E,A)||p.push([E,A]);if(E=e.invert(S),A=e.invert(T),C=g,O=s,!tb(E,A,d,h,i,s)&&!Gc(e,E,A,h,d,C,a,o)&&!Gc(e,E,A,h,d,h,a,null)){for(;O-C>=1;)F=(C+O)/2,Gc(e,E,A,h,d,F,a,o)?O=F:C=F;C>g&&(c.x=E,c.y=A,g=C,m=!0)}}!m&&!n&&(I=Math.abs(_-v+w-b),E=(v+_)/2,A=(b+w)/2,I>=y&&!tb(E,A,d,h,i,s)&&!Gc(e,E,A,h,d,h,a,null)&&(y=I,c.x=E,c.y=A,x=!0))}return m||x?(E=d/2,A=h/2,a.setRange(e(c.x-E),e(c.y-A),e(c.x+E),e(c.y+A)),c.align="center",c.baseline="middle",!0):!1}}const uSe=["right","center","left"],fSe=["bottom","middle","top"];function hSe(e,t,n,r){const i=e.width,s=e.height,a=t[0],o=t[1],l=r.length;return function(c){const u=c.boundary,f=c.datum.fontSize;if(u[2]<0||u[5]<0||u[0]>i||u[3]>s)return!1;let h=c.textWidth??0,d,p,g,m,x,y,v,_,b,w,E,A,S,T,C;for(let O=0;O<l;++O){if(d=(n[O]&3)-1,p=(n[O]>>>2&3)-1,g=d===0&&p===0||r[O]<0,m=d&&p?Math.SQRT1_2:1,x=r[O]<0?-1:1,y=u[1+d]+r[O]*d*m,E=u[4+p]+x*f*p/2+r[O]*p*m,_=E-f/2,b=E+f/2,A=e(y),T=e(_),C=e(b),!h)if(xL(A,A,T,C,a,o,y,y,_,b,u,g))h=bs.width(c.datum,c.datum.text);else continue;if(w=y+x*h*d/2,y=w-h/2,v=w+h/2,A=e(y),S=e(v),xL(A,S,T,C,a,o,y,v,_,b,u,g))return c.x=d?d*x<0?v:y:w,c.y=p?p*x<0?b:_:E,c.align=uSe[d*x+1],c.baseline=fSe[p*x+1],a.setRange(A,T,S,C),!0}return!1}}function xL(e,t,n,r,i,s,a,o,l,c,u,f){return!(i.outOfBounds(e,n,t,r)||(f&&s||i).getRange(e,n,t,r))}const VA=0,WA=4,jA=8,GA=0,qA=1,XA=2,dSe={"top-left":VA+GA,top:VA+qA,"top-right":VA+XA,left:WA+GA,middle:WA+qA,right:WA+XA,"bottom-left":jA+GA,bottom:jA+qA,"bottom-right":jA+XA},pSe={naive:sSe,"reduced-search":aSe,floodfill:cSe};function gSe(e,t,n,r,i,s,a,o,l,c,u){if(!e.length)return e;const f=Math.max(r.length,i.length),h=mSe(r,f),d=xSe(i,f),p=vSe(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",x=ySe(p,g,o,l),y=c===null||c===1/0,v=m&&u==="naive";let _=-1,b=-1;const w=e.map(T=>{const C=y?bs.width(T,T.text):void 0;return _=Math.max(_,C),b=Math.max(b,T.fontSize),{datum:T,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:x(T),textWidth:C}});c=c===null||c===1/0?Math.max(_,b)+Math.max(...r):c;const E=iSe(t[0],t[1],c);let A;if(!v){n&&w.sort((O,F)=>n(O.datum,F.datum));let T=!1;for(let O=0;O<d.length&&!T;++O)T=d[O]===5||h[O]<0;const C=(p&&a||m)&&e.map(O=>O.datum);A=s.length||C?tSe(E,C||[],s,T,m):eSe(E,a&&w)}const S=m?pSe[u](E,A,a,l):hSe(E,A,d,h);return w.forEach(T=>T.opacity=+S(T)),w}function mSe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function xSe(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=dSe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function vSe(e){return e&&e.mark&&e.mark.marktype}function ySe(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const a=s.datum.items[r].items;return i(a.length?a[n==="start"?0:a.length-1]:{x:NaN,y:NaN})}:s=>{const a=s.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:i}const JC=["x","y","opacity","align","baseline"],LX=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function hD(e){oe.call(this,null,e)}hD.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:LX},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:JC.length,default:JC}]};Oe(hD,oe,{transform(e,t){function n(s){const a=e[s];return ft(a)&&t.modified(a.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&he("Size parameter should be specified as a [width, height] array.");const i=e.as||JC;return gSe(t.materialize(t.SOURCE).source||[],e.size,e.sort,Le(e.offset==null?1:e.offset),Le(e.anchor||LX),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const a=s.datum;a[i[0]]=s.x,a[i[1]]=s.y,a[i[2]]=s.opacity,a[i[3]]=s.align,a[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const _Se=Object.freeze(Object.defineProperty({__proto__:null,label:hD},Symbol.toStringTag,{value:"Module"}));function PX(e,t){var n=[],r=function(u){return u(o)},i,s,a,o,l,c;if(t==null)n.push(e);else for(i={},s=0,a=e.length;s<a;++s)o=e[s],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(o);return n}function dD(e){oe.call(this,null,e)}dD.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Oe(dD,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=PX(r,e.groupby),s=(e.groupby||[]).map(An),a=s.length,o=e.as||[An(e.x),An(e.y)],l=[];i.forEach(c=>{Jj(c,e.x,e.y,e.bandwidth||.3).forEach(u=>{const f={};for(let h=0;h<a;++h)f[s[h]]=c.dims[h];f[o[0]]=u[0],f[o[1]]=u[1],l.push(Vt(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const ZC={constant:kO,linear:CO,log:qj,exp:Xj,pow:Yj,quad:FO,poly:Kj},bSe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function pD(e){oe.call(this,null,e)}pD.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(ZC)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Oe(pD,oe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=PX(r,e.groupby),s=(e.groupby||[]).map(An),a=e.method||"linear",o=e.order==null?3:e.order,l=bSe(a,o),c=e.as||[An(e.x),An(e.y)],u=ZC[a],f=[];let h=e.extent;Ze(ZC,a)||he("Invalid regression method: "+a),h!=null&&a==="log"&&h[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),i.forEach(d=>{if(d.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=u(d,e.x,e.y,o);if(e.params){f.push(Vt({keys:d.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=h||Po(d,e.x),x=y=>{const v={};for(let _=0;_<s.length;++_)v[s[_]]=d.dims[_];v[c[0]]=y[0],v[c[1]]=y[1],f.push(Vt(v))};a==="linear"||a==="constant"?m.forEach(y=>x([y,g.predict(y)])):YE(g.predict,m,25,200).forEach(x)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const ESe=Object.freeze(Object.defineProperty({__proto__:null,loess:dD,regression:pD},Symbol.toStringTag,{value:"Module"}));function gD(e){oe.call(this,null,e)}gD.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const wSe=[-1e5,-1e5,1e5,1e5];Oe(gD,oe,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:wSe;const s=this.value=p4.from(r,e.x,e.y).voronoi(i);for(let a=0,o=r.length;a<o;++a){const l=s.cellPolygon(a);r[a][n]=l&&!ASe(l)?SSe(l):null}return t.reflow(e.modified()).modifies(n)}});function SSe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function ASe(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const TSe=Object.freeze(Object.defineProperty({__proto__:null,voronoi:gD},Symbol.toStringTag,{value:"Module"}));var YA=Math.PI/180,rm=64,p_=2048;function kSe(){var e=[256,256],t,n,r,i,s,a,o,l=BX,c=[],u=Math.random,f={};f.layout=function(){for(var p=h(ru()),g=$Se((e[0]>>5)*e[1]),m=null,x=c.length,y=-1,v=[],_=c.map(w=>({text:t(w),font:n(w),style:i(w),weight:s(w),rotate:a(w),size:~~(r(w)+1e-14),padding:o(w),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:w})).sort((w,E)=>E.size-w.size);++y<x;){var b=_[y];b.x=e[0]*(u()+.5)>>1,b.y=e[1]*(u()+.5)>>1,CSe(p,b,_,y),b.hasText&&d(g,b,m)&&(v.push(b),m?OSe(m,b):m=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=e[0]>>1,b.y-=e[1]>>1)}return v};function h(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(rm<<5)/g,p.height=p_/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function d(p,g,m){for(var x=g.x,y=g.y,v=Math.hypot(e[0],e[1]),_=l(e),b=u()<.5?1:-1,w=-b,E,A,S;(E=_(w+=b))&&(A=~~E[0],S=~~E[1],!(Math.min(Math.abs(A),Math.abs(S))>=v));)if(g.x=x+A,g.y=y+S,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!FSe(g,p,e[0]))&&(!m||NSe(g,m))){for(var T=g.sprite,C=g.width>>5,O=e[0]>>5,F=g.x-(C<<4),I=F&127,D=32-I,N=g.y1-g.y0,M=(g.y+g.y0)*O+(F>>5),U,J=0;J<N;J++){U=0;for(var X=0;X<=C;X++)p[M+X]|=U<<D|(X<C?(U=T[J*C+X])>>>I:0);M+=O}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(c=p,f):c},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=uf(p),f):n},f.fontStyle=function(p){return arguments.length?(i=uf(p),f):i},f.fontWeight=function(p){return arguments.length?(s=uf(p),f):s},f.rotate=function(p){return arguments.length?(a=uf(p),f):a},f.text=function(p){return arguments.length?(t=uf(p),f):t},f.spiral=function(p){return arguments.length?(l=RSe[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=uf(p),f):r},f.padding=function(p){return arguments.length?(o=uf(p),f):o},f.random=function(p){return arguments.length?(u=p,f):u},f}function CSe(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(rm<<5)/s,p_/s);var a=0,o=0,l=0,c=n.length,u,f,h,d,p;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,u=i.measureText(t.text+"m").width*s,h=t.size<<1,t.rotate){var g=Math.sin(t.rotate*YA),m=Math.cos(t.rotate*YA),x=u*m,y=u*g,v=h*m,_=h*g;u=Math.max(Math.abs(x+_),Math.abs(x-_))+31>>5<<5,h=~~Math.max(Math.abs(y+v),Math.abs(y-v))}else u=u+31>>5<<5;if(h>l&&(l=h),a+u>=rm<<5&&(a=0,o+=l,l=0),o+h>=p_)break;i.translate((a+(u>>1))/s,(o+(h>>1))/s),t.rotate&&i.rotate(t.rotate*YA),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=h,t.xoff=a,t.yoff=o,t.x1=u>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=u}for(var b=i.getImageData(0,0,(rm<<5)/s,p_/s).data,w=[];--r>=0;)if(t=n[r],!!t.hasText){for(u=t.width,f=u>>5,h=t.y1-t.y0,d=0;d<h*f;d++)w[d]=0;if(a=t.xoff,a==null)return;o=t.yoff;var E=0,A=-1;for(p=0;p<h;p++){for(d=0;d<u;d++){var S=f*p+(d>>5),T=b[(o+p)*(rm<<5)+(a+d)<<2]?1<<31-d%32:0;w[S]|=T,E|=T}E?A=p:(t.y0++,h--,p--,o++)}t.y1=t.y0+A,t.sprite=w.slice(0,(t.y1-t.y0)*f)}}}function FSe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),a=s&127,o=32-a,l=e.y1-e.y0,c=(e.y+e.y0)*n+(s>>5),u,f=0;f<l;f++){u=0;for(var h=0;h<=i;h++)if((u<<o|(h<i?(u=r[f*i+h])>>>a:0))&t[c+h])return!0;c+=n}return!1}function OSe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function NSe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function BX(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function DSe(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var a=s<0?-1:1;switch(Math.sqrt(1+4*a*s)-a&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function $Se(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function uf(e){return typeof e=="function"?e:function(){return e}}var RSe={archimedean:BX,rectangular:DSe};const UX=["x","y","font","fontSize","fontStyle","fontWeight","angle"],ISe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function mD(e){oe.call(this,kSe(),e)}mD.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:UX}]};Oe(mD,oe,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&he("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return ft(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||ISe.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,a=e.as||UX;let o=e.fontSize||14,l;if(ft(o)?l=e.fontSizeRange:o=si(o),l){const p=o,g=zt("sqrt")().domain(Po(i,p)).range(l);o=m=>g(p(m))}i.forEach(p=>{p[a[0]]=NaN,p[a[1]]=NaN,p[a[3]]=0});const c=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(o).random(fa).layout(),u=s.size(),f=u[0]>>1,h=u[1]>>1,d=c.length;for(let p=0,g,m;p<d;++p)g=c[p],m=g.datum,m[a[0]]=g.x+f,m[a[1]]=g.y+h,m[a[2]]=g.font,m[a[3]]=g.size,m[a[4]]=g.style,m[a[5]]=g.weight,m[a[6]]=g.rotate;return t.reflow(r).modifies(a)}});const MSe=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:mD},Symbol.toStringTag,{value:"Module"})),LSe=e=>new Uint8Array(e),PSe=e=>new Uint16Array(e),Tm=e=>new Uint32Array(e);function BSe(){let e=8,t=[],n=Tm(0),r=ry(0,e),i=ry(0,e);return{data:()=>t,seen:()=>n=USe(n,t.length),add(s){for(let a=0,o=t.length,l=s.length,c;a<l;++a)c=s[a],c._index=o++,t.push(c)},remove(s,a){const o=t.length,l=Array(o-s),c=t;let u,f,h;for(f=0;!a[f]&&f<o;++f)l[f]=t[f],c[f]=f;for(h=f;f<o;++f)u=t[f],a[f]?c[f]=-1:(c[f]=h,r[h]=r[f],i[h]=i[f],l[h]=u,u._index=h++),r[f]=0;return t=l,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,a){r[s]|=a},clear(s,a){r[s]&=~a},resize(s,a){const o=r.length;(s>o||a>e)&&(e=Math.max(a,e),r=ry(s,e,r),i=ry(s,e))}}}function USe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function ry(e,t,n){const r=(t<257?LSe:t<65537?PSe:Tm)(e);return n&&r.set(n),r}function vL(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const a=this,o=a.bisect(a.range,i.value),l=i.index,c=o[0],u=o[1],f=l.length;let h;for(h=0;h<c;++h)s[l[h]]|=r;for(h=u;h<f;++h)s[l[h]]|=r;return a}}}function yL(){let e=Tm(0),t=[],n=0;function r(o,l,c){if(!l.length)return[];const u=n,f=l.length,h=Tm(f);let d=Array(f),p,g,m;for(m=0;m<f;++m)d[m]=o(l[m]),h[m]=m;if(d=zSe(d,h),u)p=t,g=e,t=Array(u+f),e=Tm(u+f),HSe(c,p,g,u,d,h,f,t,e);else{if(c>0)for(m=0;m<f;++m)h[m]+=c;t=d,e=h}return n=u+f,{index:h,value:d}}function i(o,l){const c=n;let u,f,h;for(f=0;!l[e[f]]&&f<c;++f);for(h=f;f<c;++f)l[u=e[f]]||(e[h]=u,t[h]=t[f],++h);n=c-o}function s(o){for(let l=0,c=n;l<c;++l)e[l]=o[e[l]]}function a(o,l){let c;return l?c=l.length:(l=t,c=n),[hle(l,o[0],0,c),hu(l,o[1],0,c)]}return{insert:r,remove:i,bisect:a,reindex:s,index:()=>e,size:()=>n}}function zSe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),gle(e,t)}function HSe(e,t,n,r,i,s,a,o,l){let c=0,u=0,f;for(f=0;c<r&&u<a;++f)t[c]<i[u]?(o[f]=t[c],l[f]=n[c++]):(o[f]=i[u],l[f]=s[u++]+e);for(;c<r;++c,++f)o[f]=t[c],l[f]=n[c];for(;u<a;++u,++f)o[f]=i[u],l[f]=s[u]+e}function xD(e){oe.call(this,BSe(),e),this._indices=null,this._dims=null}xD.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Oe(xD,oe,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],a=r.length;let o=0,l,c;for(;o<a;++o)l=n[o].fname,c=i[l]||(i[l]=yL()),s.push(vL(c,o,r[o]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,a=this._dims,o=this.value,l=o.curr(),c=o.prev(),u=o.all(),f=n.rem=n.add,h=n.mod,d=i.length,p={};let g,m,x,y,v,_,b,w,E;if(c.set(l),t.rem.length&&(v=this.remove(e,t,n)),t.add.length&&o.add(t.add),t.mod.length)for(_={},y=t.mod,b=0,w=y.length;b<w;++b)_[y[b]._index]=1;for(b=0;b<d;++b)E=r[b],(!a[b]||e.modified("fields",b)||t.modified(E.fields))&&(x=E.fname,(g=p[x])||(s[x]=m=yL(),p[x]=g=m.insert(E,t.source,0)),a[b]=vL(m,b,i[b]).onAdd(g,l));for(b=0,w=o.data().length;b<w;++b)v[b]||(c[b]!==l[b]?f.push(b):_[b]&&l[b]!==u&&h.push(b));return o.mask=(1<<d)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,a=this._indices,o=e.fields,l={},c=n.add,u=i.size()+r.length,f=s.length;let h=i.size(),d,p,g;i.resize(u,f),i.add(r);const m=i.curr(),x=i.prev(),y=i.all();for(d=0;d<f;++d)p=o[d].fname,g=l[p]||(l[p]=a[p].insert(o[d],r,h)),s[d].onAdd(g,m);for(;h<u;++h)x[h]=y,m[h]!==y&&c.push(h)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),a=e.mod;let o,l,c;for(o=0,l=a.length;o<l;++o)c=a[o]._index,i[c]!==s&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),a=i.prev(),o=i.all(),l={},c=n.rem,u=t.rem;let f,h,d,p;for(f=0,h=u.length;f<h;++f)d=u[f]._index,l[d]=1,a[d]=p=s[d],s[d]=o,p!==o&&c.push(d);for(d in r)r[d].remove(h,l);return this.reindex(t,h,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const a in r)r[a].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,a=r.length;let o=0,l,c;for(n.filters=0,c=0;c<a;++c)e.modified("query",c)&&(l=c,++o);if(o===1)o=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(c=0,o=0;c<a;++c)e.modified("query",c)&&(o|=r[c].one,this.incrementAll(r[c],i[c],s,n.add),n.rem=n.add);return o},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),a=i.curr(),o=i.prev(),l=e.index(),c=e.bisect(e.range),u=e.bisect(t),f=u[0],h=u[1],d=c[0],p=c[1],g=e.one;let m,x,y;if(f<d)for(m=f,x=Math.min(d,h);m<x;++m)y=l[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;else if(f>d)for(m=d,x=Math.min(f,p);m<x;++m)y=l[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;if(h>p)for(m=Math.max(f,p),x=h;m<x;++m)y=l[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;else if(h<p)for(m=Math.max(d,h),x=p;m<x;++m)y=l[m],s[y]!==n&&(o[y]=a[y],s[y]=n,r.push(y)),a[y]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),a=e.index(),o=e.bisect(e.range),l=e.bisect(t),c=l[0],u=l[1],f=o[0],h=o[1],d=e.one;let p,g,m;if(c<f)for(p=c,g=Math.min(f,u);p<g;++p)m=a[p],s[m]^=d,n.push(m);else if(c>f)for(p=f,g=Math.min(c,h);p<g;++p)m=a[p],s[m]^=d,r.push(m);if(u>h)for(p=Math.max(c,h),g=u;p<g;++p)m=a[p],s[m]^=d,n.push(m);else if(u<h)for(p=Math.max(f,u),g=h;p<g;++p)m=a[p],s[m]^=d,r.push(m);e.range=t.slice()}});function vD(e){oe.call(this,null,e)}vD.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Oe(vD,oe,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const s=t.fork(t.ALL),a=r.data(),o=r.curr(),l=r.prev(),c=u=>o[u]&n?null:a[u];return s.filter(s.MOD,c),i&i-1?(s.filter(s.ADD,u=>{const f=o[u]&n;return!f&&f^l[u]&n?a[u]:null}),s.filter(s.REM,u=>{const f=o[u]&n;return f&&!(f^(f^l[u]&n))?a[u]:null})):(s.filter(s.ADD,c),s.filter(s.REM,u=>(o[u]&n)===i?a[u]:null)),s.filter(s.SOURCE,u=>c(u._index))}});const VSe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:xD,resolvefilter:vD},Symbol.toStringTag,{value:"Module"})),WSe="RawCode",Sh="Literal",jSe="Property",GSe="Identifier",qSe="ArrayExpression",XSe="BinaryExpression",zX="CallExpression",YSe="ConditionalExpression",KSe="LogicalExpression",JSe="MemberExpression",ZSe="ObjectExpression",QSe="UnaryExpression";function Za(e){this.type=e}Za.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=eAe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function eAe(e){switch(e.type){case qSe:return e.elements;case XSe:case KSe:return[e.left,e.right];case zX:return[e.callee].concat(e.arguments);case YSe:return[e.test,e.consequent,e.alternate];case JSe:return[e.object,e.property];case ZSe:return e.properties;case jSe:return[e.key,e.value];case QSe:return[e.argument];case GSe:case Sh:case WSe:default:return[]}}var Jo,We,fe,ti,qt,gw=1,Dx=2,Ah=3,Vu=4,mw=5,td=6,Bi=7,$x=8,tAe=9;Jo={};Jo[gw]="Boolean";Jo[Dx]="<end>";Jo[Ah]="Identifier";Jo[Vu]="Keyword";Jo[mw]="Null";Jo[td]="Numeric";Jo[Bi]="Punctuator";Jo[$x]="String";Jo[tAe]="RegularExpression";var nAe="ArrayExpression",rAe="BinaryExpression",iAe="CallExpression",sAe="ConditionalExpression",HX="Identifier",aAe="Literal",oAe="LogicalExpression",lAe="MemberExpression",cAe="ObjectExpression",uAe="Property",fAe="UnaryExpression",fr="Unexpected token %0",hAe="Unexpected number",dAe="Unexpected string",pAe="Unexpected identifier",gAe="Unexpected reserved word",mAe="Unexpected end of input",QC="Invalid regular expression",KA="Invalid regular expression: missing /",VX="Octal literals are not allowed in strict mode.",xAe="Duplicate data property in object literal not allowed in strict mode",Er="ILLEGAL",w1="Disabled.",vAe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),yAe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function xw(e,t){if(!e)throw new Error("ASSERT: "+t)}function xl(e){return e>=48&&e<=57}function yD(e){return"0123456789abcdefABCDEF".includes(e)}function km(e){return"01234567".includes(e)}function _Ae(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function S1(e){return e===10||e===13||e===8232||e===8233}function Rx(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&vAe.test(String.fromCharCode(e))}function nb(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&yAe.test(String.fromCharCode(e))}const bAe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function WX(){for(;fe<ti;){const e=We.charCodeAt(fe);if(_Ae(e)||S1(e))++fe;else break}}function eF(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)fe<ti&&yD(We[fe])?(r=We[fe++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Pt({},fr,Er);return String.fromCharCode(i)}function EAe(){var e,t,n,r;for(e=We[fe],t=0,e==="}"&&Pt({},fr,Er);fe<ti&&(e=We[fe++],!!yD(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Pt({},fr,Er),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function jX(){var e,t;for(e=We.charCodeAt(fe++),t=String.fromCharCode(e),e===92&&(We.charCodeAt(fe)!==117&&Pt({},fr,Er),++fe,e=eF("u"),(!e||e==="\\"||!Rx(e.charCodeAt(0)))&&Pt({},fr,Er),t=e);fe<ti&&(e=We.charCodeAt(fe),!!nb(e));)++fe,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),We.charCodeAt(fe)!==117&&Pt({},fr,Er),++fe,e=eF("u"),(!e||e==="\\"||!nb(e.charCodeAt(0)))&&Pt({},fr,Er),t+=e);return t}function wAe(){var e,t;for(e=fe++;fe<ti;){if(t=We.charCodeAt(fe),t===92)return fe=e,jX();if(nb(t))++fe;else break}return We.slice(e,fe)}function SAe(){var e,t,n;return e=fe,t=We.charCodeAt(fe)===92?jX():wAe(),t.length===1?n=Ah:bAe.hasOwnProperty(t)?n=Vu:t==="null"?n=mw:t==="true"||t==="false"?n=gw:n=Ah,{type:n,value:t,start:e,end:fe}}function JA(){var e=fe,t=We.charCodeAt(fe),n,r=We[fe],i,s,a;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++fe,{type:Bi,value:String.fromCharCode(t),start:e,end:fe};default:if(n=We.charCodeAt(fe+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return fe+=2,{type:Bi,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:fe};case 33:case 61:return fe+=2,We.charCodeAt(fe)===61&&++fe,{type:Bi,value:We.slice(e,fe),start:e,end:fe}}}if(a=We.substr(fe,4),a===">>>=")return fe+=4,{type:Bi,value:a,start:e,end:fe};if(s=a.substr(0,3),s===">>>"||s==="<<="||s===">>=")return fe+=3,{type:Bi,value:s,start:e,end:fe};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return fe+=2,{type:Bi,value:i,start:e,end:fe};if(i==="//"&&Pt({},fr,Er),"<>=!+-*%&|^/".includes(r))return++fe,{type:Bi,value:r,start:e,end:fe};Pt({},fr,Er)}function AAe(e){let t="";for(;fe<ti&&yD(We[fe]);)t+=We[fe++];return t.length===0&&Pt({},fr,Er),Rx(We.charCodeAt(fe))&&Pt({},fr,Er),{type:td,value:parseInt("0x"+t,16),start:e,end:fe}}function TAe(e){let t="0"+We[fe++];for(;fe<ti&&km(We[fe]);)t+=We[fe++];return(Rx(We.charCodeAt(fe))||xl(We.charCodeAt(fe)))&&Pt({},fr,Er),{type:td,value:parseInt(t,8),octal:!0,start:e,end:fe}}function _L(){var e,t,n;if(n=We[fe],xw(xl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=fe,e="",n!=="."){if(e=We[fe++],n=We[fe],e==="0"){if(n==="x"||n==="X")return++fe,AAe(t);if(km(n))return TAe(t);n&&xl(n.charCodeAt(0))&&Pt({},fr,Er)}for(;xl(We.charCodeAt(fe));)e+=We[fe++];n=We[fe]}if(n==="."){for(e+=We[fe++];xl(We.charCodeAt(fe));)e+=We[fe++];n=We[fe]}if(n==="e"||n==="E")if(e+=We[fe++],n=We[fe],(n==="+"||n==="-")&&(e+=We[fe++]),xl(We.charCodeAt(fe)))for(;xl(We.charCodeAt(fe));)e+=We[fe++];else Pt({},fr,Er);return Rx(We.charCodeAt(fe))&&Pt({},fr,Er),{type:td,value:parseFloat(e),start:t,end:fe}}function kAe(){var e="",t,n,r,i,s=!1;for(t=We[fe],xw(t==="'"||t==='"',"String literal must starts with a quote"),n=fe,++fe;fe<ti;)if(r=We[fe++],r===t){t="";break}else if(r==="\\")if(r=We[fe++],!r||!S1(r.charCodeAt(0)))switch(r){case"u":case"x":We[fe]==="{"?(++fe,e+=EAe()):e+=eF(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:km(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),fe<ti&&km(We[fe])&&(s=!0,i=i*8+"01234567".indexOf(We[fe++]),"0123".includes(r)&&fe<ti&&km(We[fe])&&(i=i*8+"01234567".indexOf(We[fe++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&We[fe]===`
`&&++fe;else{if(S1(r.charCodeAt(0)))break;e+=r}return t!==""&&Pt({},fr,Er),{type:$x,value:e,octal:s,start:n,end:fe}}function CAe(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Pt({},QC)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Pt({},QC)}try{return new RegExp(e,t)}catch{return null}}function FAe(){var e,t,n,r,i;for(e=We[fe],xw(e==="/","Regular expression literal must start with a slash"),t=We[fe++],n=!1,r=!1;fe<ti;)if(e=We[fe++],t+=e,e==="\\")e=We[fe++],S1(e.charCodeAt(0))&&Pt({},KA),t+=e;else if(S1(e.charCodeAt(0)))Pt({},KA);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Pt({},KA),i=t.substr(1,t.length-2),{value:i,literal:t}}function OAe(){var e,t,n;for(t="",n="";fe<ti&&(e=We[fe],!!nb(e.charCodeAt(0)));)++fe,e==="\\"&&fe<ti?Pt({},fr,Er):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Pt({},QC,n),{value:n,literal:t}}function NAe(){var e,t,n,r;return qt=null,WX(),e=fe,t=FAe(),n=OAe(),r=CAe(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:fe}}function DAe(e){return e.type===Ah||e.type===Vu||e.type===gw||e.type===mw}function GX(){if(WX(),fe>=ti)return{type:Dx,start:fe,end:fe};const e=We.charCodeAt(fe);return Rx(e)?SAe():e===40||e===41||e===59?JA():e===39||e===34?kAe():e===46?xl(We.charCodeAt(fe+1))?_L():JA():xl(e)?_L():JA()}function Vi(){const e=qt;return fe=e.end,qt=GX(),fe=e.end,e}function qX(){const e=fe;qt=GX(),fe=e}function $Ae(e){const t=new Za(nAe);return t.elements=e,t}function bL(e,t,n){const r=new Za(e==="||"||e==="&&"?oAe:rAe);return r.operator=e,r.left=t,r.right=n,r}function RAe(e,t){const n=new Za(iAe);return n.callee=e,n.arguments=t,n}function IAe(e,t,n){const r=new Za(sAe);return r.test=e,r.consequent=t,r.alternate=n,r}function _D(e){const t=new Za(HX);return t.name=e,t}function im(e){const t=new Za(aAe);return t.value=e.value,t.raw=We.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function EL(e,t,n){const r=new Za(lAe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function MAe(e){const t=new Za(cAe);return t.properties=e,t}function wL(e,t,n){const r=new Za(uAe);return r.key=t,r.value=n,r.kind=e,r}function LAe(e,t){const n=new Za(fAe);return n.operator=e,n.argument=t,n.prefix=!0,n}function Pt(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,a)=>(xw(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=fe,n.description=i,n}function vw(e){e.type===Dx&&Pt(e,mAe),e.type===td&&Pt(e,hAe),e.type===$x&&Pt(e,dAe),e.type===Ah&&Pt(e,pAe),e.type===Vu&&Pt(e,gAe),Pt(e,fr,e.value)}function ni(e){const t=Vi();(t.type!==Bi||t.value!==e)&&vw(t)}function an(e){return qt.type===Bi&&qt.value===e}function ZA(e){return qt.type===Vu&&qt.value===e}function PAe(){const e=[];for(fe=qt.start,ni("[");!an("]");)an(",")?(Vi(),e.push(null)):(e.push(Th()),an("]")||ni(","));return Vi(),$Ae(e)}function SL(){fe=qt.start;const e=Vi();return e.type===$x||e.type===td?(e.octal&&Pt(e,VX),im(e)):_D(e.value)}function BAe(){var e,t,n,r;if(fe=qt.start,e=qt,e.type===Ah)return n=SL(),ni(":"),r=Th(),wL("init",n,r);if(e.type===Dx||e.type===Bi)vw(e);else return t=SL(),ni(":"),r=Th(),wL("init",t,r)}function UAe(){var e=[],t,n,r,i={},s=String;for(fe=qt.start,ni("{");!an("}");)t=BAe(),t.key.type===HX?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Pt({},xAe):i[r]=!0,e.push(t),an("}")||ni(",");return ni("}"),MAe(e)}function zAe(){ni("(");const e=bD();return ni(")"),e}const HAe={if:1};function VAe(){var e,t,n;if(an("("))return zAe();if(an("["))return PAe();if(an("{"))return UAe();if(e=qt.type,fe=qt.start,e===Ah||HAe[qt.value])n=_D(Vi().value);else if(e===$x||e===td)qt.octal&&Pt(qt,VX),n=im(Vi());else{if(e===Vu)throw new Error(w1);e===gw?(t=Vi(),t.value=t.value==="true",n=im(t)):e===mw?(t=Vi(),t.value=null,n=im(t)):an("/")||an("/=")?(n=im(NAe()),qX()):vw(Vi())}return n}function WAe(){const e=[];if(ni("("),!an(")"))for(;fe<ti&&(e.push(Th()),!an(")"));)ni(",");return ni(")"),e}function jAe(){fe=qt.start;const e=Vi();return DAe(e)||vw(e),_D(e.value)}function GAe(){return ni("."),jAe()}function qAe(){ni("[");const e=bD();return ni("]"),e}function XAe(){var e,t,n;for(e=VAe();;)if(an("."))n=GAe(),e=EL(".",e,n);else if(an("("))t=WAe(),e=RAe(e,t);else if(an("["))n=qAe(),e=EL("[",e,n);else break;return e}function AL(){const e=XAe();if(qt.type===Bi&&(an("++")||an("--")))throw new Error(w1);return e}function g_(){var e,t;if(qt.type!==Bi&&qt.type!==Vu)t=AL();else{if(an("++")||an("--"))throw new Error(w1);if(an("+")||an("-")||an("~")||an("!"))e=Vi(),t=g_(),t=LAe(e.value,t);else{if(ZA("delete")||ZA("void")||ZA("typeof"))throw new Error(w1);t=AL()}}return t}function TL(e){let t=0;if(e.type!==Bi&&e.type!==Vu)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function YAe(){var e,t,n,r,i,s,a,o,l,c;if(e=qt,l=g_(),r=qt,i=TL(r),i===0)return l;for(r.prec=i,Vi(),t=[e,qt],a=g_(),s=[l,r,a];(i=TL(qt))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)a=s.pop(),o=s.pop().value,l=s.pop(),t.pop(),n=bL(o,l,a),s.push(n);r=Vi(),r.prec=i,s.push(r),t.push(qt),n=g_(),s.push(n)}for(c=s.length-1,n=s[c],t.pop();c>1;)t.pop(),n=bL(s[c-1].value,s[c-2],n),c-=2;return n}function Th(){var e,t,n;return e=YAe(),an("?")&&(Vi(),t=Th(),ni(":"),n=Th(),e=IAe(e,t,n)),e}function bD(){const e=Th();if(an(","))throw new Error(w1);return e}function ED(e){We=e,fe=0,ti=We.length,qt=null,qX();const t=bD();if(qt.type!==Dx)throw new Error("Unexpect token after expression.");return t}var XX={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function YX(e){function t(a,o,l,c){let u=e(o[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+a+(c<0?"":c===0?"()":"("+o.slice(1).map(e).join(",")+")")}function n(a,o,l){return c=>t(a,c,o,l)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&he("Missing arguments to clamp function."),a.length>3&&he("Too many arguments to clamp function.");const o=a.map(e);return"Math.max("+o[1]+", Math.min("+o[2]+","+o[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:s,test:n("test",s),if:function(a){a.length<3&&he("Missing arguments to if function."),a.length>3&&he("Too many arguments to if function.");const o=a.map(e);return"("+o[0]+"?"+o[1]+":"+o[2]+")"}}}function KAe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function KX(e){e=e||{};const t=e.allowed?Va(e.allowed):{},n=e.forbidden?Va(e.forbidden):{},r=e.constants||XX,i=(e.functions||YX)(f),s=e.globalvar,a=e.fieldvar,o=ft(s)?s:p=>`${s}["${p}"]`;let l={},c={},u=0;function f(p){if(Pe(p))return p;const g=h[p.type];return g==null&&he("Unsupported type: "+p.type),g(p)}const h={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return u>0?g:Ze(n,g)?he("Illegal identifier: "+g):Ze(r,g)?r[g]:Ze(t,g)?g:(l[g]=1,o(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(u+=1);const x=f(p.property);return m===a&&(c[KAe(x)]=1),g&&(u-=1),m+(g?"."+x:"["+x+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&he("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,x=Ze(i,g)&&i[g];return x||he("Unrecognized function: "+g),ft(x)?x(m):x+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{u+=1;const g=f(p.key);return u-=1,g+":"+f(p.value)}};function d(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},g}return d.functions=i,d.constants=r,d}const kL=Symbol("vega_selection_getter");function JX(e){return(!e.getter||!e.getter[kL])&&(e.getter=la(e.field),e.getter[kL]=!0),e.getter}const wD="intersect",CL="union",JAe="vlMulti",ZAe="vlPoint",FL="or",QAe="and",yo="_vgsid_",A1=la(yo),eTe="E",tTe="R",nTe="R-E",rTe="R-LE",iTe="R-RE",rb="index:unit";function OL(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,a,o;s<i;++s)if(o=n[s],a=JX(o)(e),tu(a)&&(a=Xr(a)),tu(r[s])&&(r[s]=Xr(r[s])),me(r[s])&&tu(r[s][0])&&(r[s]=r[s].map(Xr)),o.type===eTe){if(me(r[s])?r[s].indexOf(a)<0:a!==r[s])return!1}else if(o.type===tTe){if(!qd(a,r[s]))return!1}else if(o.type===iTe){if(!qd(a,r[s],!0,!1))return!1}else if(o.type===nTe){if(!qd(a,r[s],!1,!1))return!1}else if(o.type===rTe&&!qd(a,r[s],!1,!0))return!1;return!0}function sTe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[rb]&&r[rb].value:void 0,a=n===wD,o=i.length,l=0,c,u,f,h,d;l<o;++l)if(c=i[l],s&&a){if(u=u||{},f=u[h=c.unit]||0,f===-1)continue;if(d=OL(t,c),u[h]=d?-1:++f,d&&s.size===1)return!0;if(!d&&f===s.get(h).count)return!1}else if(d=OL(t,c),a^d)return d;return o&&a}const ZX=wp(A1),aTe=ZX.left,oTe=ZX.right;function lTe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[rb]&&r[rb].value:void 0,a=n===wD,o=A1(t),l=aTe(i,o);if(l===i.length||A1(i[l])!==o)return!1;if(s&&a){if(s.size===1)return!0;if(oTe(i,o)-l<s.size)return!1}return!0}function cTe(e,t){return e.map(n=>ct(t.fields?{values:t.fields.map(r=>JX(r)(n.datum))}:{[yo]:A1(n.datum)},t))}function uTe(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],a={},o={},l={},c,u,f,h,d,p,g,m,x,y,v=s.length,_=0,b,w;_<v;++_)if(c=s[_],h=c.unit,u=c.fields,f=c.values,u&&f){for(b=0,w=u.length;b<w;++b)d=u[b],g=a[d.field]||(a[d.field]={}),m=g[h]||(g[h]=[]),l[d.field]=x=d.type.charAt(0),y=QA[`${x}_union`],g[h]=y(m,Le(f[b]));n&&(m=o[h]||(o[h]=[]),m.push(Le(f).reduce((E,A,S)=>(E[u[S].field]=A,E),{})))}else d=yo,p=A1(c),g=a[d]||(a[d]={}),m=g[h]||(g[h]=[]),m.push(p),n&&(m=o[h]||(o[h]=[]),m.push({[yo]:p}));if(t=t||CL,a[yo]?a[yo]=QA[`${yo}_${t}`](...Object.values(a[yo])):Object.keys(a).forEach(E=>{a[E]=Object.keys(a[E]).map(A=>a[E][A]).reduce((A,S)=>A===void 0?S:QA[`${l[E]}_${t}`](A,S))}),s=Object.keys(o),n&&s.length){const E=r?ZAe:JAe;a[E]=t===CL?{[FL]:s.reduce((A,S)=>(A.push(...o[S]),A),[])}:{[QAe]:s.map(A=>({[FL]:o[A]}))}}return a}var QA={[`${yo}_union`]:wle,[`${yo}_intersect`]:ble,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=Xr(t[0]),r=Xr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Xr(t[0]),r=Xr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const fTe=":",hTe="@";function SD(e,t,n,r){t[0].type!==Sh&&he("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&Ct(t).value,a="unit",o=hTe+a,l=fTe+i;s===wD&&!Ze(r,o)&&(r[o]=n.getData(i).indataRef(n,a)),Ze(r,l)||(r[l]=n.getData(i).tuplesRef())}function QX(e){const t=this.context.data[e];return t?t.values.value:[]}function dTe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function pTe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(ca).insert(t)),1}function gTe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Ix=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},mTe=Ix("format"),eY=Ix("timeFormat"),xTe=Ix("utcFormat"),vTe=Ix("timeParse"),yTe=Ix("utcParse"),iy=new Date(2e3,0,1);function yw(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(iy.setYear(2e3),iy.setMonth(e),iy.setDate(t),eY.call(this,iy,n))}function _Te(e){return yw.call(this,e,1,"%B")}function bTe(e){return yw.call(this,e,1,"%b")}function ETe(e){return yw.call(this,0,2+e,"%A")}function wTe(e){return yw.call(this,0,2+e,"%a")}const STe=":",ATe="@",tF="%",tY="$";function AD(e,t,n,r){t[0].type!==Sh&&he("First argument to data functions must be a string literal.");const i=t[0].value,s=STe+i;if(!Ze(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function TTe(e,t,n,r){t[0].type!==Sh&&he("First argument to indata must be a string literal."),t[1].type!==Sh&&he("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,a=ATe+s;Ze(a,r)||(r[a]=n.getData(i).indataRef(n,s))}function Ti(e,t,n,r){if(t[0].type===Sh)NL(n,r,t[0].value);else for(e in n.scales)NL(n,r,e)}function NL(e,t,n){const r=tF+n;if(!Ze(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Zo(e,t){if(ft(e))return e;if(Pe(e)){const n=t.scales[e];return n&&s_e(n.value)?n.value:void 0}}function kTe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ti,n._range=Ti,n._scale=Ti;const r=i=>"_["+(i.type===Sh?Ce(tF+i.value):Ce(tF)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function TD(e,t){return function(n,r,i){if(n){const s=Zo(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const CTe=TD("area",xde),FTe=TD("bounds",bde),OTe=TD("centroid",kde);function NTe(e,t){const n=Zo(e,(t||this).context);return n&&n.scale()}function DTe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function kD(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function $Te(){return kD(this.context.dataflow,"warn",arguments)}function RTe(){return kD(this.context.dataflow,"info",arguments)}function ITe(){return kD(this.context.dataflow,"debug",arguments)}function eT(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function nF(e){const t=pu(e),n=eT(t.r),r=eT(t.g),i=eT(t.b);return .2126*n+.7152*r+.0722*i}function MTe(e,t){const n=nF(e),r=nF(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function LTe(){const e=[].slice.call(arguments);return e.unshift({}),ct(...e)}function nY(e,t){return e===t||e!==e&&t!==t?!0:me(e)?me(t)&&e.length===t.length?PTe(e,t):!1:Me(e)&&Me(t)?rY(e,t):!1}function PTe(e,t){for(let n=0,r=e.length;n<r;++n)if(!nY(e[n],t[n]))return!1;return!0}function rY(e,t){for(const n in e)if(!nY(e[n],t[n]))return!1;return!0}function DL(e){return t=>rY(e,t)}function BTe(e,t,n,r,i,s){const a=this.context.dataflow,o=this.context.data[e],l=o.input,c=a.stamp();let u=o.changes,f,h;if(a._trigger===!1||!(l.value.length||t||r))return 0;if((!u||u.stamp<c)&&(o.changes=u=a.changeset(),u.stamp=c,a.runAfter(()=>{o.modified=!0,a.pulse(l,u).run()},!0,1)),n&&(f=n===!0?ca:me(n)||zE(n)?n:DL(n),u.remove(f)),t&&u.insert(t),r&&(f=DL(r),l.value.some(f)?u.remove(f):u.insert(r)),i)for(h in s)u.modify(i,h,s[h]);return 1}function UTe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function zTe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const $L={};function HTe(e,t){const n=$L[t]||($L[t]=la(t));return me(e)?e.map(n):n(e)}function CD(e){return me(e)||ArrayBuffer.isView(e)?e:null}function FD(e){return CD(e)||(Pe(e)?e:null)}function VTe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return CD(e).join(...n)}function WTe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return FD(e).indexOf(...n)}function jTe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return FD(e).lastIndexOf(...n)}function GTe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return FD(e).slice(...n)}function qTe(e,t,n){return ft(n)&&he("Function argument passed to replace."),String(e).replace(t,n)}function XTe(e){return CD(e).slice().reverse()}function YTe(e,t,n){return tN(e||0,t||0,n||0)}function KTe(e,t){const n=Zo(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function JTe(e,t){const n=Zo(e,(t||this).context);return n?n.copy():void 0}function ZTe(e,t){const n=Zo(e,(t||this).context);return n?n.domain():[]}function QTe(e,t,n){const r=Zo(e,(n||this).context);return r?me(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function eke(e,t){const n=Zo(e,(t||this).context);return n&&n.range?n.range():[]}function tke(e,t,n){const r=Zo(e,(n||this).context);return r?r(t):void 0}function nke(e,t,n,r,i){e=Zo(e,(i||this).context);const s=XG(t,n);let a=e.domain(),o=a[0],l=Ct(a),c=ii;return l-o?c=MG(e,o,l):e=(e.interpolator?zt("sequential")().interpolator(e.interpolator()):zt("linear")().interpolate(e.interpolate()).range(e.range())).domain([o=0,l=1]),e.ticks&&(a=e.ticks(+r||15),o!==a[0]&&a.unshift(o),l!==Ct(a)&&a.push(l)),a.forEach(u=>s.stop(c(u),e(u))),s}function rke(e,t,n){const r=Zo(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function ike(e){let t=null;return function(n){return n?y1(n,t=t||q0(e)):e}}const iY=e=>e.data;function sY(e,t){const n=QX.call(t,e);return n.root&&n.root.lookup||{}}function ske(e,t,n){const r=sY(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(iY):void 0}function ake(e,t){const n=sY(e,this)[t];return n?n.ancestors().map(iY):void 0}const aY=()=>typeof window<"u"&&window||null;function oke(){const e=aY();return e?e.screen:{}}function lke(){const e=aY();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function cke(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function oY(e,t,n){if(!e)return[];const[r,i]=e,s=new Un().set(r[0],r[1],i[0],i[1]),a=n||this.context.dataflow.scenegraph().root;return jq(a,s,uke(t))}function uke(e){let t=null;if(e){const n=Le(e.marktype),r=Le(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function fke(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Le(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function hke(e){return Le(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function dke(e,t,n){const{x:r,y:i,mark:s}=n,a=new Un().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,c]of t)l<a.x1&&(a.x1=l),l>a.x2&&(a.x2=l),c<a.y1&&(a.y1=c),c>a.y2&&(a.y2=c);return a.translate(r,i),oY([[a.x1,a.y1],[a.x2,a.y2]],e,s).filter(l=>pke(l.x,l.y,t))}function pke(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[a,o]=n[s],[l,c]=n[i];c>t!=o>t&&e<(a-l)*(t-c)/(o-c)+l&&r++}return r&1}const T1={random(){return fa()},cumulativeNormal:GE,cumulativeLogNormal:bO,cumulativeUniform:AO,densityNormal:mO,densityLogNormal:_O,densityUniform:SO,quantileNormal:qE,quantileLogNormal:EO,quantileUniform:TO,sampleNormal:jE,sampleLogNormal:yO,sampleUniform:wO,isArray:me,isBoolean:Hu,isDate:tu,isDefined(e){return e!==void 0},isNumber:Rt,isObject:Me,isRegExp:GW,isString:Pe,isTuple:zE,isValid(e){return e!=null&&e===e},toBoolean:eO,toDate(e){return tO(e)},toNumber:Xr,toString:nO,indexof:WTe,join:VTe,lastindexof:jTe,replace:qTe,reverse:XTe,slice:GTe,flush:WW,lerp:qW,merge:LTe,pad:KW,peek:Ct,pluck:HTe,span:gx,inrange:qd,truncate:JW,rgb:pu,lab:Q_,hcl:e2,hsl:J_,luminance:nF,contrast:MTe,sequence:xs,format:mTe,utcFormat:xTe,utcParse:yTe,utcOffset:fj,utcSequence:pj,timeFormat:eY,timeParse:vTe,timeOffset:uj,timeSequence:dj,timeUnitSpecifier:QW,monthFormat:_Te,monthAbbrevFormat:bTe,dayFormat:ETe,dayAbbrevFormat:wTe,quarter:UW,utcquarter:zW,week:tj,utcweek:ij,dayofyear:ej,utcdayofyear:rj,warn:$Te,info:RTe,debug:ITe,extent(e){return Po(e)},inScope:DTe,intersect:oY,clampRange:HW,pinchDistance:UTe,pinchAngle:zTe,screen:oke,containerSize:cke,windowSize:lke,bandspace:YTe,setdata:pTe,pathShape:ike,panLinear:MW,panLog:LW,panPow:PW,panSymlog:BW,zoomLinear:X4,zoomLog:Y4,zoomPow:L2,zoomSymlog:K4,encode:gTe,modify:BTe,lassoAppend:fke,lassoPath:hke,intersectLasso:dke},gke=["view","item","group","xy","x","y"],mke="event.vega.",lY="this.",OD={},cY={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Ce(tY+e)}]`,functions:xke,constants:XX,visitors:OD},rF=KX(cY);function xke(e){const t=YX(e);gke.forEach(n=>t[n]=mke+n);for(const n in T1)t[n]=lY+n;return ct(t,kTe(e,T1,OD)),t}function Rn(e,t,n){return arguments.length===1?T1[e]:(T1[e]=t,n&&(OD[e]=n),rF&&(rF.functions[e]=lY+e),this)}Rn("bandwidth",KTe,Ti);Rn("copy",JTe,Ti);Rn("domain",ZTe,Ti);Rn("range",eke,Ti);Rn("invert",QTe,Ti);Rn("scale",tke,Ti);Rn("gradient",nke,Ti);Rn("geoArea",CTe,Ti);Rn("geoBounds",FTe,Ti);Rn("geoCentroid",OTe,Ti);Rn("geoShape",rke,Ti);Rn("geoScale",NTe,Ti);Rn("indata",dTe,TTe);Rn("data",QX,AD);Rn("treePath",ske,AD);Rn("treeAncestors",ake,AD);Rn("vlSelectionTest",sTe,SD);Rn("vlSelectionIdTest",lTe,SD);Rn("vlSelectionResolve",uTe,SD);Rn("vlSelectionTuples",cTe);function Uo(e,t){const n={};let r;try{e=Pe(e)?e:Ce(e)+"",r=ED(e)}catch{he("Expression parse error: "+e)}r.visit(s=>{if(s.type!==zX)return;const a=s.callee.name,o=cY.visitors[a];o&&o(a,s.arguments,t,n)});const i=rF(r);return i.globals.forEach(s=>{const a=tY+s;!Ze(n,a)&&t.getSignal(s)&&(n[a]=t.signalRef(s))}),{$expr:ct({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function vke(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const yke=Va(["rule"]),RL=Va(["group","image","rect"]);function _ke(e,t){let n="";return yke[t]||(e.x2&&(e.x?(RL[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(RL[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function ND(e){return(e+"").toLowerCase()}function bke(e){return ND(e)==="operator"}function Eke(e){return ND(e)==="collect"}function bg(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function wke(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var Ske={operator:(e,t)=>bg(e,["_"],t.code),parameter:(e,t)=>bg(e,["datum","_"],t.code),event:(e,t)=>bg(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return bg(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const a="o["+Ce(s)+"]";i+=`$=${r[s].code};if(${a}!==$)${a}=$,m=1;`}return i+=_ke(r,n),i+="return m;",bg(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Ce).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,a)=>{const o=t[a];let l,c;return s.path?(l=`a${s.path}`,c=`b${s.path}`):((n=n||{})["f"+a]=s,l=`this.f${a}(a)`,c=`this.f${a}(b)`),wke(l,c,-o,o)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function Ake(e){const t=this;bke(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function Tke(e){const t=this;if(e.params){const n=t.get(e.id);n||he("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function kke(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=me(i)?i.map(s=>IL(s,n,t)):IL(i,n,t)}return t}function IL(e,t,n){if(!e||!Me(e))return e;for(let r=0,i=ML.length,s;r<i;++r)if(s=ML[r],Ze(e,s.key))return s.parse(e,t,n);return e}var ML=[{key:"$ref",parse:Cke},{key:"$key",parse:Oke},{key:"$expr",parse:Fke},{key:"$field",parse:Nke},{key:"$encode",parse:$ke},{key:"$compare",parse:Dke},{key:"$context",parse:Rke},{key:"$subflow",parse:Ike},{key:"$tupleid",parse:Mke}];function Cke(e,t){return t.get(e.$ref)||he("Operator not defined: "+e.$ref)}function Fke(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=as(t.parameterExpression(e.$expr),e.$fields))}function Oke(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Q4(e.$key,e.$flat,t.expr.codegen))}function Nke(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=la(e.$field,e.$name,t.expr.codegen))}function Dke(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Le(e.$compare).map(i=>i&&i.$tupleid?Ke:i);return t.fn[n]||(t.fn[n]=J4(r,e.$order,t.expr.codegen))}function $ke(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=as(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function Rke(e,t){return t}function Ike(e,t){const n=e.$subflow;return function(r,i,s){const a=t.fork().parse(n),o=a.get(n.operators[0].id),l=a.signals.parent;return l&&l.set(s),o.detachSubflow=()=>t.detach(a),o}}function Mke(){return Ke}function Lke(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&he("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function Pke(e){var t=this,n=Me(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,a=void 0;r||he("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(a=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,a)}const Bke={skip:!0};function Uke(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const a=t.signals[s];e.signals(s,a)&&(r[s]=a.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const a=t.data[s];e.data(s,a)&&(i[s]=a.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function zke(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],Bke)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(ca).insert(r[s]))}),(e.subcontext||[]).forEach((s,a)=>{const o=t.subcontext[a];o&&o.setState(s)})}function uY(e,t,n,r){return new fY(e,t,n,r)}function fY(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||Ske,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function LL(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}fY.prototype=LL.prototype={fork(){const e=new LL(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),Eke(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const a=n.data[s]||(n.data[s]={});e.data[s].forEach(o=>a[o]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[ND(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:vke,parseOperator:Ake,parseOperatorParameters:Tke,parseParameters:kke,parseStream:Lke,parseUpdate:Pke,getState:Uke,setState:zke};function Hke(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),hY(t,e.description()))}function hY(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function Vke(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const tT="default";function Wke(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:tT,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?Pe(i)?i:i.user:tT,a=r.item&&r.item.cursor||null;return i&&s===i.user&&a==i.item?i:{user:s,item:a}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Pe(r)||(i=r.item,r=r.user),iF(e,r&&r!==tT?r:i||r),i},{cursor:t})}function iF(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function ib(e,t){var n=e._runtime.data;return Ze(n,t)||he("Unrecognized data set: "+t),n[t]}function jke(e,t){return arguments.length<2?ib(this,e).values.value:_w.call(this,e,Qh().remove(ca).insert(t))}function _w(e,t){Rj(t)||he("Second argument to changes must be a changeset.");const n=ib(this,e);return n.modified=!0,this.pulse(n.input,t)}function Gke(e,t){return _w.call(this,e,Qh().insert(t))}function qke(e,t){return _w.call(this,e,Qh().remove(t))}function dY(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function pY(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function bw(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function Xke(e){var t=bw(e),n=dY(e),r=pY(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function Yke(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,a,o;return i&&(o=bw(e),a=t.changedTouches?t.changedTouches[0]:t,s=fw(a,i),s[0]-=o[0],s[1]-=o[1]),t.dataflow=e,t.item=n,t.vega=Kke(e,n,s),t}function Kke(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(a){var o=r,l;if(a){for(l=t;l;l=l.mark.group)if(l.mark.name===a){o=l;break}}return o&&o.mark&&o.mark.interactive?o:{}}function s(a){if(!a)return n;Pe(a)&&(a=i(a));const o=n.slice();for(;a;)o[0]-=a.x||0,o[1]-=a.y||0,a=a.mark&&a.mark.group;return o}return{view:si(e),item:si(t||{}),group:i,xy:s,x:a=>s(a)[0],y:a=>s(a)[1]}}const PL="view",Jke="timer",Zke="window",Qke={trap:!1};function eCe(e){const t=ct({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{me(r[s])&&(r[s]=Va(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function gY(e,t,n,r){e._eventListeners.push({type:n,sources:Le(t),handler:r})}function tCe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function sy(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Me(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function nCe(e,t,n){var r=this,i=new WE(n),s=function(c,u){r.runAsync(null,()=>{e===PL&&tCe(r,t)&&c.preventDefault(),i.receive(Yke(r,c,u))})},a;if(e===Jke)sy(r,"timer",t)&&r.timer(s,t);else if(e===PL)sy(r,"view",t)&&r.addEventListener(t,s,Qke);else if(e===Zke?sy(r,"window",t)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&sy(r,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),!a)r.warn("Can not resolve event source: "+e);else{for(var o=0,l=a.length;o<l;++o)a[o].addEventListener(t,s);gY(r,a,t,s)}return i}function BL(e){return e.item}function UL(e){return e.item.mark.source}function zL(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function rCe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",BL),UL,zL(e)),this.on(this.events("view","pointerout",BL),UL,zL(t)),this}function iCe(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,a,o,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(a=r[i],s=a.sources.length;--s>=0;)a.sources[s].removeEventListener(a.type,a.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,o=n[i].handler,this._handler.off(l,o);return this}function Es(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const sCe="vega-bind",aCe="vega-bind-name",oCe="vega-bind-radio";function lCe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:a=>{a!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,a)})}},r.debounce&&(i.update=Z4(r.debounce,i.update))),(r.input==null&&r.element?cCe:fCe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function cCe(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),gY(r,t,i,s),e.set=a=>{t.value=a,t.dispatchEvent(uCe(i))}}function uCe(e){return typeof Event<"u"?new Event(e):{type:e}}function fCe(e,t,n,r){const i=r.signal(n.signal),s=Es("div",{class:sCe}),a=n.input==="radio"?s:s.appendChild(Es("label"));a.appendChild(Es("span",{class:aCe},n.name||n.signal)),t.appendChild(s);let o=hCe;switch(n.input){case"checkbox":o=dCe;break;case"select":o=pCe;break;case"radio":o=gCe;break;case"range":o=mCe;break}o(e,a,n,i)}function hCe(e,t,n,r){const i=Es("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function dCe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=Es("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=a=>s.checked=!!a||null}function pCe(e,t,n,r){const i=Es("select",{name:n.signal}),s=n.labels||[];n.options.forEach((a,o)=>{const l={value:a};sb(a,r)&&(l.selected=!0),i.appendChild(Es("option",l,(s[o]||a)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=a=>{for(let o=0,l=n.options.length;o<l;++o)if(sb(n.options[o],a)){i.selectedIndex=o;return}}}function gCe(e,t,n,r){const i=Es("span",{class:oCe}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((a,o)=>{const l={type:"radio",name:n.signal,value:a};sb(a,r)&&(l.checked=!0);const c=Es("input",l);c.addEventListener("change",()=>e.update(a));const u=Es("label",{},(s[o]||a)+"");return u.prepend(c),i.appendChild(u),c}),e.set=a=>{const o=e.elements,l=o.length;for(let c=0;c<l;++c)sb(o[c].value,a)&&(o[c].checked=!0)}}function mCe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,a=n.step||du(s,i,100),o=Es("input",{type:"range",name:n.signal,min:s,max:i,step:a});o.value=r;const l=Es("span",{},+r);t.appendChild(o),t.appendChild(l);const c=()=>{l.textContent=o.value,e.update(+o.value)};o.addEventListener("input",c),o.addEventListener("change",c),e.elements=[o],e.set=u=>{o.value=u,l.textContent=u}}function sb(e,t){return e===t||e+""==t+""}function mY(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,dY(e),pY(e),bw(e),i,s).background(e.background())}function DD(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function xCe(e,t,n,r){const i=new r(e.loader(),DD(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,bw(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function vCe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=hw(r);e=n._el=e?nT(n,e,!0):null,Hke(n),s||n.error("Unrecognized renderer type: "+r);const a=s.handler||Nx,o=e?s.renderer:s.headless;return n._renderer=o?mY(n,n._renderer,e,o):null,n._handler=xCe(n,n._handler,e,a),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=nT(n,t,!0):e.appendChild(Es("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=nT(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{lCe(n,l.element||t,l)})),n}function nT(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Eg=e=>+e||0,yCe=e=>({top:e,bottom:e,left:e,right:e});function HL(e){return Me(e)?{top:Eg(e.top),bottom:Eg(e.bottom),left:Eg(e.left),right:Eg(e.right)}:yCe(Eg(e))}async function $D(e,t,n,r){const i=hw(t),s=i&&i.headless;return s||he("Unrecognized renderer type: "+t),await e.runAsync(),mY(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function _Ce(e,t){e!==Vc.Canvas&&e!==Vc.SVG&&e!==Vc.PNG&&he("Unrecognized image type: "+e);const n=await $D(this,e,t);return e===Vc.SVG?bCe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function bCe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function ECe(e,t){return(await $D(this,Vc.Canvas,e,t)).canvas()}async function wCe(e){return(await $D(this,Vc.SVG,e)).svg()}function SCe(e,t,n){return uY(e,V0,T1,n).parse(t)}function ACe(e){var t=this._runtime.scales;return Ze(t,e)||he("Unrecognized scale or projection: "+e),t[e].value}var xY="width",vY="height",RD="padding",VL={skip:!0};function yY(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===RD?r.left+r.right:0)}function _Y(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===RD?r.top+r.bottom:0)}function TCe(e){var t=e._signals,n=t[xY],r=t[vY],i=t[RD];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,o=>{e._width=o.size,e._viewWidth=yY(e,o.size),s()},{size:n}),e._resizeHeight=e.add(null,o=>{e._height=o.size,e._viewHeight=_Y(e,o.size),s()},{size:r});const a=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}function kCe(e,t,n,r,i,s){this.runAfter(a=>{let o=0;a._autosize=0,a.width()!==n&&(o=1,a.signal(xY,n,VL),a._resizeWidth.skip(!0)),a.height()!==r&&(o=1,a.signal(vY,r,VL),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),(a._origin[0]!==i[0]||a._origin[1]!==i[1])&&(a._resize=1,a._origin=i),o&&a.run("enter"),s&&a.runAfter(l=>l.resize())},!1,1)}function CCe(e){return this._runtime.getState(e||{data:FCe,signals:OCe,recurse:!0})}function FCe(e,t){return t.modified&&me(t.input.value)&&!e.startsWith("_:vega:_")}function OCe(e,t){return!(e==="parent"||t instanceof V0.proxy)}function NCe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function DCe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(Gue(n,t))}function $Ce(e,t,n,r){const i=e.element();i&&i.setAttribute("title",RCe(r))}function RCe(e){return e==null?"":me(e)?bY(e):Me(e)&&!tu(e)?ICe(e):e+""}function ICe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(me(n)?bY(n):EY(n))}).join(`
`)}function bY(e){return"["+e.map(EY).join(", ")+"]"}function EY(e){return me(e)?"[]":Me(e)&&!tu(e)?"{}":e}function MCe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function wY(e,t){const n=this;if(t=t||{},f0.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=ct({},e.locale,t.locale);n.locale(Sj(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Vc.Canvas,n._scenegraph=new vq;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||$Ce,n._redraw=!0,n._handler=new Nx().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=eCe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=SCe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:ct({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=yY(n,n._width),n._viewHeight=_Y(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,TCe(n),Vke(n),Wke(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function ay(e,t){return Ze(e._signals,t)?e._signals[t]:he("Unrecognized signal name: "+Ce(t))}function SY(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function WL(e,t,n,r){let i=SY(n,r);return i||(i=DD(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function jL(e,t,n){const r=SY(t,n);return r&&t._targets.remove(r),e}Oe(wY,f0,{async evaluate(e,t,n){if(await f0.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Xke(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&n_(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&hY(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=ay(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",HL(e)):HL(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(hw(e)||he("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(f0.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(ay(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:kCe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=DD(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return WL(this,e,ay(this,e),t)},removeSignalListener(e,t){return jL(this,ay(this,e),t)},addDataListener(e,t){return WL(this,e,ib(this,e).values,t)},removeDataListener(e,t){return jL(this,ib(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=iF(this,null);this._globalCursor=!!e,t&&iF(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:DCe,events:nCe,finalize:iCe,hover:rCe,data:jke,change:_w,insert:Gke,remove:qke,scale:ACe,initialize:vCe,toImageURL:_Ce,toCanvas:ECe,toSVG:wCe,getState:CCe,setState:NCe,_watchPixelRatio:MCe});const LCe="view",ab="[",ob="]",AY="{",TY="}",PCe=":",kY=",",BCe="@",UCe=">",zCe=/[[\]{}]/,HCe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let CY,FY;function Wu(e,t,n){return CY=t||LCe,FY=n||HCe,OY(e.trim()).map(sF)}function VCe(e){return FY[e]}function Cm(e,t,n,r,i){const s=e.length;let a=0,o;for(;t<s;++t){if(o=e[t],!a&&o===n)return t;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return t}function OY(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Cm(e,i,kY,ab+AY,ob+TY),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function sF(e){return e[0]==="["?WCe(e):jCe(e)}function WCe(e){const t=e.length;let n=1,r;if(n=Cm(e,n,ob,ab,ob),n===t)throw"Empty between selector: "+e;if(r=OY(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==UCe)throw"Expected '>' after between selector: "+e;r=r.map(sF);const i=sF(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function jCe(e){const t={source:CY},n=[];let r=[0,0],i=0,s=0,a=e.length,o=0,l,c;if(e[a-1]===TY){if(o=e.lastIndexOf(AY),o>=0){try{r=GCe(e.substring(o+1,a-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,o).trim(),a=e.length}else throw"Unmatched right brace: "+e;o=0}if(!a)throw e;if(e[0]===BCe&&(i=++o),l=Cm(e,o,PCe),l<a&&(n.push(e.substring(s,l).trim()),s=o=++l),o=Cm(e,o,ab),o===a)n.push(e.substring(s,a).trim());else if(n.push(e.substring(s,o).trim()),c=[],s=++o,s===a)throw"Unmatched left bracket: "+e;for(;o<a;){if(o=Cm(e,o,ob),o===a)throw"Unmatched left bracket: "+e;if(c.push(e.substring(s,o).trim()),o<a-1&&e[++o]!==ab)throw"Expected left bracket: "+e;s=++o}if(!(a=n.length)||zCe.test(n[a-1]))throw"Invalid event selector: "+e;return a>1?(t.type=n[1],i?t.markname=n[0].slice(1):VCe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function GCe(e){const t=e.split(kY);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function qCe(e){return Me(e)?e:{type:e||"pad"}}const wg=e=>+e||0,XCe=e=>({top:e,bottom:e,left:e,right:e});function YCe(e){return Me(e)?e.signal?e:{top:wg(e.top),bottom:wg(e.bottom),left:wg(e.left),right:wg(e.right)}:XCe(wg(e))}const hr=e=>Me(e)&&!me(e)?ct({},e):{value:e};function GL(e,t,n,r){return n!=null?(Me(n)&&!me(n)||me(n)&&n.length&&Me(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function kr(e,t,n){for(const r in t)GL(e,r,t[r]);for(const r in n)GL(e,r,n[r],"update")}function Lp(e,t,n){for(const r in t)n&&Ze(n,r)||(e[r]=ct(e[r]||{},t[r]));return e}function Bd(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const ID="mark",MD="frame",LD="scope",KCe="axis",JCe="axis-domain",ZCe="axis-grid",QCe="axis-label",eFe="axis-tick",tFe="axis-title",nFe="legend",rFe="legend-band",iFe="legend-entry",sFe="legend-gradient",NY="legend-label",aFe="legend-symbol",oFe="legend-title",lFe="title",cFe="title-text",uFe="title-subtitle";function fFe(e,t,n,r,i){const s={},a={};let o,l,c,u;l="lineBreak",t==="text"&&i[l]!=null&&!Bd(l,e)&&rT(s,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),u=n===MD?i.group:n===ID?ct({},i.mark,i[t]):null;for(l in u)c=Bd(l,e)||(l==="fill"||l==="stroke")&&(Bd("fill",e)||Bd("stroke",e)),c||rT(s,l,u[l]);Le(r).forEach(f=>{const h=i.style&&i.style[f];for(const d in h)Bd(d,e)||rT(s,d,h[d])}),e=ct({},e);for(l in s)u=s[l],u.signal?(o=o||{})[l]=u:a[l]=u;return e.enter=ct(a,e.enter),o&&(e.update=ct(o,e.update)),e}function rT(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const DY=e=>Pe(e)?Ce(e):e.signal?`(${e.signal})`:$Y(e);function Ew(e){if(e.gradient!=null)return dFe(e);let t=e.signal?`(${e.signal})`:e.color?hFe(e.color):e.field!=null?$Y(e.field):e.value!==void 0?Ce(e.value):void 0;return e.scale!=null&&(t=pFe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${m_(e.exponent)})`),e.mult!=null&&(t+=`*${m_(e.mult)}`),e.offset!=null&&(t+=`+${m_(e.offset)}`),e.round&&(t=`round(${t})`),t}const oy=(e,t,n,r)=>`(${e}(${[t,n,r].map(Ew).join(",")})+'')`;function hFe(e){return e.c?oy("hcl",e.h,e.c,e.l):e.h||e.s?oy("hsl",e.h,e.s,e.l):e.l||e.a?oy("lab",e.l,e.a,e.b):e.r||e.g||e.b?oy("rgb",e.r,e.g,e.b):null}function dFe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Ce(n));for(;t.length&&Ct(t)==null;)t.pop();return t.unshift(DY(e.gradient)),`gradient(${t.join(",")})`}function m_(e){return Me(e)?"("+Ew(e)+")":e}function $Y(e){return RY(Me(e)?e:{datum:e})}function RY(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):he("Invalid field reference: "+Ce(e));return e.signal||(r=Pe(r)?Yo(r).map(Ce).join("]["):RY(r)),t+"["+r+"]"}function pFe(e,t){const n=DY(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+m_(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function gFe(e){let t="";return e.forEach(n=>{const r=Ew(n);t+=n.test?`(${n.test})?${r}:`:r}),Ct(t)===":"&&(t+="null"),t}function IY(e,t,n,r,i,s){const a={};s=s||{},s.encoders={$encode:a},e=fFe(e,t,n,r,i.config);for(const o in e)a[o]=mFe(e[o],t,s,i);return s}function mFe(e,t,n,r){const i={},s={};for(const a in e)e[a]!=null&&(i[a]=vFe(xFe(e[a]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function xFe(e){return me(e)?gFe(e):Ew(e)}function vFe(e,t,n,r){const i=Uo(e,t);return i.$fields.forEach(s=>r[s]=1),ct(n,i.$params),i.$expr}const yFe="outer",_Fe=["value","update","init","react","bind"];function qL(e,t){he(e+' for "outer" push: '+Ce(t))}function MY(e,t){const n=e.name;if(e.push===yFe)t.signals[n]||qL("No prior signal definition",n),_Fe.forEach(r=>{e[r]!==void 0&&qL("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function aF(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function ww(e,t,n,r){return new aF(e,t,n,r)}function lb(e,t){return ww("operator",e,t)}function Ye(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function k1(e,t){return t?{$field:e,$name:t}:{$field:e}}const oF=k1("key");function XL(e,t){return{$compare:e,$order:t}}function bFe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const EFe="ascending",wFe="descending";function SFe(e){return Me(e)?(e.order===wFe?"-":"+")+Sw(e.op,e.field):""}function Sw(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const PD="scope",lF="view";function Zn(e){return e&&e.signal}function AFe(e){return e&&e.expr}function x_(e){if(Zn(e))return!0;if(Me(e)){for(const t in e)if(x_(e[t]))return!0}return!1}function ka(e,t){return e??t}function Zf(e){return e&&e.signal||e}const YL="timer";function C1(e,t){return(e.merge?kFe:e.stream?CFe:e.type?FFe:he("Invalid stream specification: "+Ce(e)))(e,t)}function TFe(e){return e===PD?lF:e||lF}function kFe(e,t){const n=e.merge.map(i=>C1(i,t)),r=BD({merge:n},e,t);return t.addStream(r).id}function CFe(e,t){const n=C1(e.stream,t),r=BD({stream:n},e,t);return t.addStream(r).id}function FFe(e,t){let n;e.type===YL?(n=t.event(YL,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(TFe(e.source),e.type);const r=BD({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function BD(e,t,n){let r=t.between;return r&&(r.length!==2&&he('Stream "between" parameter must have 2 entries: '+Ce(t)),e.between=[C1(r[0],n),C1(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(OFe(t.marktype,t.markname,t.markrole)),t.source===PD&&r.push("inScope(event.item)"),r.length&&(e.filter=Uo("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function OFe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const NFe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function DFe(e,t,n){const r=e.encode,i={target:n};let s=e.events,a=e.update,o=[];s||he("Signal update missing events specification."),Pe(s)&&(s=Wu(s,t.isSubscope()?PD:lF)),s=Le(s).filter(l=>l.signal||l.scale?(o.push(l),0):1),o.length>1&&(o=[RFe(o)]),s.length&&o.push(s.length>1?{merge:s}:s[0]),r!=null&&(a&&he("Signal encode and update are mutually exclusive."),a="encode(item(),"+Ce(r)+")"),i.update=Pe(a)?Uo(a,t):a.expr!=null?Uo(a.expr,t):a.value!=null?a.value:a.signal!=null?{$expr:NFe,$params:{$value:t.signalRef(a.signal)}}:he("Invalid signal update specification."),e.force&&(i.options={force:!0}),o.forEach(l=>t.addUpdate(ct($Fe(l,t),i)))}function $Fe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):C1(e,t)}}function RFe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function IFe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?he("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Uo(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>DFe(i,t,n.id))}const en=e=>(t,n,r)=>ww(e,n,t||void 0,r),LY=en("aggregate"),MFe=en("axisticks"),PY=en("bound"),Qa=en("collect"),KL=en("compare"),LFe=en("datajoin"),BY=en("encode"),PFe=en("expression"),BFe=en("facet"),UFe=en("field"),zFe=en("key"),HFe=en("legendentries"),VFe=en("load"),WFe=en("mark"),jFe=en("multiextent"),GFe=en("multivalues"),qFe=en("overlap"),XFe=en("params"),UY=en("prefacet"),YFe=en("projection"),KFe=en("proxy"),JFe=en("relay"),zY=en("render"),ZFe=en("scale"),nd=en("sieve"),QFe=en("sortitems"),HY=en("viewlayout"),e3e=en("values");let t3e=0;const VY={min:"min",max:"max",count:"sum"};function n3e(e,t){const n=e.type||"linear";OG(n)||he("Unrecognized scale type: "+Ce(n)),t.addScale(e.name,{type:n,domain:void 0})}function r3e(e,t){const n=t.getScale(e.name).params;let r;n.domain=WY(e.domain,e,t),e.range!=null&&(n.range=GY(e,t,n)),e.interpolate!=null&&d3e(e.interpolate,n),e.nice!=null&&(n.nice=h3e(e.nice,t)),e.bins!=null&&(n.bins=f3e(e.bins,t));for(r in e)Ze(n,r)||r==="name"||(n[r]=ea(e[r],t))}function ea(e,t){return Me(e)?e.signal?t.signalRef(e.signal):he("Unsupported object: "+Ce(e)):e}function v_(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>ea(n,t))}function Aw(e){he("Can not find data set: "+Ce(e))}function WY(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&he("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(me(e)?i3e:e.fields?a3e:s3e)(e,t,n)}function i3e(e,t,n){return e.map(r=>ea(r,n))}function s3e(e,t,n){const r=n.getData(e.data);return r||Aw(e.data),G0(t.type)?r.valuesRef(n,e.field,jY(e.sort,!1)):$G(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function a3e(e,t,n){const r=e.data,i=e.fields.reduce((s,a)=>(a=Pe(a)?{data:r,field:a}:me(a)||a.signal?o3e(a,n):a,s.push(a),s),[]);return(G0(t.type)?l3e:$G(t.type)?c3e:u3e)(e,n,i)}function o3e(e,t){const n="_:vega:_"+t3e++,r=Qa({});if(me(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Ce(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,nd({})]),{data:n,field:"data"}}function l3e(e,t,n){const r=jY(e.sort,!0);let i,s;const a=n.map(c=>{const u=t.getData(c.data);return u||Aw(c.data),u.countsRef(t,c.field,r)}),o={groupby:oF,pulse:a};r&&(i=r.op||"count",s=r.field?Sw(i,r.field):"count",o.ops=[VY[i]],o.fields=[t.fieldRef(s)],o.as=[s]),i=t.add(LY(o));const l=t.add(Qa({pulse:Ye(i)}));return s=t.add(e3e({field:oF,sort:t.sortRef(r),pulse:Ye(l)})),Ye(s)}function jY(e,t){return e&&(!e.field&&!e.op?Me(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?he("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!VY[e.op]&&he("Multiple domain scales can not be sorted using "+e.op)),e}function c3e(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||Aw(i.data),s.domainRef(t,i.field)});return Ye(t.add(GFe({values:r})))}function u3e(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||Aw(i.data),s.extentRef(t,i.field)});return Ye(t.add(jFe({extents:r})))}function f3e(e,t){return e.signal||me(e)?v_(e,t):t.objectProperty(e)}function h3e(e,t){return e.signal?t.signalRef(e.signal):Me(e)?{interval:ea(e.interval),step:ea(e.step)}:ea(e)}function d3e(e,t){t.interpolate=ea(e.type||e),e.gamma!=null&&(t.interpolateGamma=ea(e.gamma))}function GY(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Pe(i)){if(r&&Ze(r,i))return e=ct({},e,{range:r[i]}),GY(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=G0(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:he("Unrecognized scale range value: "+Ce(i))}else if(i.scheme){n.scheme=me(i.scheme)?v_(i.scheme,t):ea(i.scheme,t),i.extent&&(n.schemeExtent=v_(i.extent,t)),i.count&&(n.schemeCount=ea(i.count,t));return}else if(i.step){n.rangeStep=ea(i.step,t);return}else{if(G0(e.type)&&!me(i))return WY(i,e,t);me(i)||he("Unsupported range type: "+Ce(i))}return i.map(s=>(me(s)?v_:ea)(s,t))}function p3e(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=cF(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=cF(n[i],i,t));t.addProjection(e.name,r)}function cF(e,t,n){return me(e)?e.map(r=>cF(r,t,n)):Me(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:he("Unsupported parameter object: "+Ce(e)):e}const eo="top",Pp="left",Bp="right",bu="bottom",qY="center",g3e="vertical",m3e="start",x3e="middle",v3e="end",uF="index",UD="label",y3e="offset",J0="perc",_3e="perc2",ia="value",Mx="guide-label",zD="guide-title",b3e="group-title",E3e="group-subtitle",JL="symbol",y_="gradient",fF="discrete",hF="size",w3e="shape",S3e="fill",A3e="stroke",T3e="strokeWidth",k3e="strokeDash",C3e="opacity",HD=[hF,w3e,S3e,A3e,T3e,k3e,C3e],Lx={name:1,style:1,interactive:1},$t={value:0},sa={value:1},Tw="group",XY="rect",VD="rule",F3e="symbol",rd="text";function F1(e){return e.type=Tw,e.interactive=e.interactive||!1,e}function os(e,t){const n=(r,i)=>ka(e[r],ka(t[r],i));return n.isVertical=r=>g3e===ka(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>ka(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>ka(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>ka(e.columns,ka(t.columns,+n.isVertical(!0))),n}function YY(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function O3e(e,t,n){const r=t.config.style[n];return r&&r[e]}function kw(e,t,n){return`item.anchor === '${m3e}' ? ${e} : item.anchor === '${v3e}' ? ${t} : ${n}`}const WD=kw(Ce(Pp),Ce(Bp),Ce(qY));function N3e(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Me(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function KY(e,t){return t?e?Me(e)?Object.assign({},e,{offset:KY(e.offset,t)}):{value:e,offset:t}:t:e}function Fs(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Lp(e.encode,t,Lx)):e.interactive=!1,e}function D3e(e,t,n,r){const i=os(e,n),s=i.isVertical(),a=i.gradientThickness(),o=i.gradientLength();let l,c,u,f,h;s?(c=[0,1],u=[0,0],f=a,h=o):(c=[0,0],u=[1,0],f=o,h=a);const d={enter:l={opacity:$t,x:$t,y:$t,width:hr(f),height:hr(h)},update:ct({},l,{opacity:sa,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:$t}};return kr(d,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Fs({type:XY,role:sFe,encode:d},r)}function $3e(e,t,n,r,i){const s=os(e,n),a=s.isVertical(),o=s.gradientThickness(),l=s.gradientLength();let c,u,f,h,d="";a?(c="y",f="y2",u="x",h="width",d="1-"):(c="x",f="x2",u="y",h="height");const p={opacity:$t,fill:{scale:t,field:ia}};p[c]={signal:d+"datum."+J0,mult:l},p[u]=$t,p[f]={signal:d+"datum."+_3e,mult:l},p[h]=hr(o);const g={enter:p,update:ct({},p,{opacity:sa}),exit:{opacity:$t}};return kr(g,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),Fs({type:XY,role:rFe,key:ia,from:i,encode:g},r)}const R3e=`datum.${J0}<=0?"${Pp}":datum.${J0}>=1?"${Bp}":"${qY}"`,I3e=`datum.${J0}<=0?"${bu}":datum.${J0}>=1?"${eo}":"${x3e}"`;function ZL(e,t,n,r){const i=os(e,t),s=i.isVertical(),a=hr(i.gradientThickness()),o=i.gradientLength();let l=i("labelOverlap"),c,u,f,h,d="";const p={enter:c={opacity:$t},update:u={opacity:sa,text:{field:UD}},exit:{opacity:$t}};return kr(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:ka(e.labelLimit,t.gradientLabelLimit)}),s?(c.align={value:"left"},c.baseline=u.baseline={signal:I3e},f="y",h="x",d="1-"):(c.align=u.align={signal:R3e},c.baseline={value:"top"},f="x",h="y"),c[f]=u[f]={signal:d+"datum."+J0,mult:o},c[h]=u[h]=a,a.offset=ka(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+uF}:void 0,Fs({type:rd,role:NY,style:Mx,key:ia,from:r,encode:p,overlap:l},n)}function M3e(e,t,n,r,i){const s=os(e,t),a=n.entries,o=!!(a&&a.interactive),l=a?a.name:void 0,c=s("clipHeight"),u=s("symbolOffset"),f={data:"value"},h=`(${i}) ? datum.${y3e} : datum.${hF}`,d=c?hr(c):{field:hF},p=`datum.${uF}`,g=`max(1, ${i})`;let m,x,y,v,_;d.mult=.5,m={enter:x={opacity:$t,x:{signal:h,mult:.5,offset:u},y:d},update:y={opacity:sa,x:x.x,y:x.y},exit:{opacity:$t}};let b=null,w=null;e.fill||(b=t.symbolBaseFillColor,w=t.symbolBaseStrokeColor),kr(m,{fill:s("symbolFillColor",b),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",w),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),HD.forEach(T=>{e[T]&&(y[T]=x[T]={scale:e[T],field:ia})});const E=Fs({type:F3e,role:aFe,key:ia,from:f,clip:c?!0:void 0,encode:m},n.symbols),A=hr(u);A.offset=s("labelOffset"),m={enter:x={opacity:$t,x:{signal:h,offset:A},y:d},update:y={opacity:sa,text:{field:UD},x:x.x,y:x.y},exit:{opacity:$t}},kr(m,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const S=Fs({type:rd,role:NY,style:Mx,key:ia,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!c},width:$t,height:c?hr(c):$t,opacity:$t},exit:{opacity:$t},update:y={opacity:sa,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(v=`ceil(item.mark.items.length / ${g})`,y.row.signal=`${p}%${v}`,y.column.signal=`floor(${p} / ${v})`,_={field:["row",p]}):(y.row.signal=`floor(${p} / ${g})`,y.column.signal=`${p} % ${g}`,_={field:p}),y.column.signal=`(${i})?${y.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:uF}},F1({role:LD,from:r,encode:Lp(m,a,Lx),marks:[E,S],name:l,interactive:o,sort:_})}function L3e(e,t){const n=os(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const jD='item.orient === "left"',GD='item.orient === "right"',Cw=`(${jD} || ${GD})`,P3e=`datum.vgrad && ${Cw}`,B3e=kw('"top"','"bottom"','"middle"'),U3e=kw('"right"','"left"','"center"'),z3e=`datum.vgrad && ${GD} ? (${U3e}) : (${Cw} && !(datum.vgrad && ${jD})) ? "left" : ${WD}`,H3e=`item._anchor || (${Cw} ? "middle" : "start")`,V3e=`${P3e} ? (${jD} ? -90 : 90) : 0`,W3e=`${Cw} ? (datum.vgrad ? (${GD} ? "bottom" : "top") : ${B3e}) : "top"`;function j3e(e,t,n,r){const i=os(e,t),s={enter:{opacity:$t},update:{opacity:sa,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:$t}};return kr(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:H3e},angle:{signal:V3e},align:{signal:z3e},baseline:{signal:W3e},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Fs({type:rd,role:oFe,style:zD,from:r,encode:s},n)}function G3e(e,t){let n;return Me(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+QL(e.path)+")":e.sphere&&(n="geoShape("+QL(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function QL(e){return Me(e)&&e.signal?e.signal:Ce(e)}function JY(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===Tw?LD:t||ID}function q3e(e){return{marktype:e.type,name:e.name||void 0,role:e.role||JY(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function X3e(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function qD(e,t){const n=Lj(e.type);n||he("Unrecognized transform type: "+Ce(e.type));const r=ww(n.type.toLowerCase(),null,ZY(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function ZY(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const a=e.params[s];r[a.name]=Y3e(a,t,n)}return r}function Y3e(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return K3e(e,t,n);if(i===void 0){e.required&&he("Missing required "+Ce(t.type)+" parameter: "+Ce(e.name));return}else{if(r==="param")return J3e(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Zn(i)?i.map(s=>e8(e,s,n)):e8(e,i,n)}function e8(e,t,n){const r=e.type;if(Zn(t))return n8(r)?he("Expression references can not be signals."):iT(r)?n.fieldRef(t):r8(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||iT(r);return i&&Z3e(t)?n.exprRef(t.expr,t.as):i&&Q3e(t)?k1(t.field,t.as):n8(r)?Uo(t,n):e4e(r)?Ye(n.getData(t).values):iT(r)?k1(t):r8(r)?n.compareRef(t):t}}function K3e(e,t,n){return Pe(t.from)||he('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function J3e(e,t,n){const r=t[e.name];return e.array?(me(r)||he("Expected an array of sub-parameters. Instead: "+Ce(r)),r.map(i=>t8(e,i,n))):t8(e,r,n)}function t8(e,t,n){const r=e.params.length;let i;for(let a=0;a<r;++a){i=e.params[a];for(const o in i.key)if(i.key[o]!==t[o]){i=null;break}if(i)break}i||he("Unsupported parameter: "+Ce(t));const s=ct(ZY(i,t,n),i.key);return Ye(n.add(XFe(s)))}const Z3e=e=>e&&e.expr,Q3e=e=>e&&e.field,e4e=e=>e==="data",n8=e=>e==="expr",iT=e=>e==="field",r8=e=>e==="compare";function t4e(e,t,n){let r,i,s,a,o;return e?(r=e.facet)&&(t||he("Only group marks can be faceted."),r.field!=null?a=o=__(r,n):(e.data?o=Ye(n.getData(e.data).aggregate):(s=qD(ct({type:"aggregate",groupby:Le(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=__(r,n),a=o=Ye(n.add(s))),i=n.keyRef(r.groupby,!0))):a=Ye(n.add(Qa(null,[{}]))),a||(a=__(e,n)),{key:i,pulse:a,parent:o}}function __(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Ye(t.getData(e.data).output)}function kh(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}kh.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],a=null,o=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);o<n;++o)t[o].params.pulse=Ye(t[o-1]),e.add(t[o]),t[o].type==="aggregate"&&(a=t[o]);return new kh(e,s,i,r,a)};function QY(e){return Pe(e)?e:null}function i8(e,t,n){const r=Sw(n.op,n.field);let i;if(t.ops){for(let s=0,a=t.as.length;s<a;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Sg(e,t,n,r,i,s,a){const o=t[n]||(t[n]={}),l=SFe(s);let c=QY(i),u,f;if(c!=null&&(e=t.scope,c=c+(l?"|"+l:""),u=o[c]),!u){const h=s?{field:oF,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:Ye(t.output)};l&&(h.sort=e.sortRef(s)),f=e.add(ww(r,void 0,h)),a&&(t.index[i]=f),u=Ye(f),c!=null&&(o[c]=u)}return u}kh.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=QY(t);let a,o,l;return s!=null&&(e=r.scope,a=i[s]),a?n&&n.field&&i8(e,a.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Ye(r.output)},n&&n.field&&i8(e,l,n),o=e.add(LY(l)),a=e.add(Qa({pulse:Ye(o)})),a={agg:o,ref:Ye(a)},s!=null&&(i[s]=a)),a.ref},tuplesRef(){return Ye(this.values)},extentRef(e,t){return Sg(e,this,"extent","extent",t,!1)},domainRef(e,t){return Sg(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Sg(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Sg(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Sg(e,this,"indata","tupleindex",t,!0,!0)}};function n4e(e,t,n){const r=e.from.facet,i=r.name,s=__(r,t);let a;r.name||he("Facet must have a name: "+Ce(r)),r.data||he("Facet must reference a data set: "+Ce(r)),r.field?a=t.add(UY({field:t.fieldRef(r.field),pulse:s})):r.groupby?a=t.add(BFe({key:t.keyRef(r.groupby),group:Ye(t.proxy(n.parent)),pulse:s})):he("Facet must specify groupby or field: "+Ce(r));const o=t.fork(),l=o.add(Qa()),c=o.add(nd({pulse:Ye(l)}));o.addData(i,new kh(o,l,l,c)),o.addSignal("parent",null),a.params.subflow={$subflow:o.parse(e).toRuntime()}}function r4e(e,t,n){const r=t.add(UY({pulse:n.pulse})),i=t.fork();i.add(nd()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function eK(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,a=e.modify,o=e.values,l=t.add(lb()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,s,a,o].map(f=>f??"null").join(",")+"),0)",u=Uo(c,t);l.update=u.$expr,l.params=u.$params}function Fw(e,t){const n=JY(e),r=e.type===Tw,i=e.from&&e.from.facet,s=e.overlap;let a=e.layout||n===LD||n===MD,o,l,c,u,f,h,d;const p=n===ID||a||i,g=t4e(e.from,r,t);l=t.add(LFe({key:g.key||(e.key?k1(e.key):void 0),pulse:g.pulse,clean:!r}));const m=Ye(l);l=c=t.add(Qa({pulse:m})),l=t.add(WFe({markdef:q3e(e),interactive:X3e(e.interactive,t),clip:G3e(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Ye(l)}));const x=Ye(l);l=u=t.add(BY(IY(e.encode,e.type,n,e.style,t,{mod:!1,pulse:x}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(w=>{const E=qD(w,t),A=E.metadata;(A.generates||A.changes)&&he("Mark transforms should not generate new data."),A.nomod||(u.params.mod=!0),E.params.pulse=Ye(l),t.add(l=E)}),e.sort&&(l=t.add(QFe({sort:t.compareRef(e.sort),pulse:Ye(l)})));const y=Ye(l);(i||a)&&(a=t.add(HY({layout:t.objectProperty(e.layout),legends:t.legends,mark:x,pulse:y})),h=Ye(a));const v=t.add(PY({mark:x,pulse:h||y}));d=Ye(v),r&&(p&&(o=t.operators,o.pop(),a&&o.pop()),t.pushState(y,h||d,m),i?n4e(e,t,g):p?r4e(e,t,g):t.parse(e),t.popState(),p&&(a&&o.push(a),o.push(v))),s&&(d=i4e(s,d,t));const _=t.add(zY({pulse:d})),b=t.add(nd({pulse:Ye(_)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new kh(t,c,_,b)),e.on&&e.on.forEach(w=>{(w.insert||w.remove||w.toggle)&&he("Marks only support modify triggers."),eK(w,t,f)}))}function i4e(e,t,n){const r=e.method,i=e.bound,s=e.separation,a={separation:Zn(s)?n.signalRef(s.signal):s,method:Zn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=n.compareRef({field:e.order})),i){const o=i.tolerance;a.boundTolerance=Zn(o)?n.signalRef(o.signal):+o,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return Ye(n.add(qFe(a)))}function s4e(e,t){const n=t.config.legend,r=e.encode||{},i=os(e,n),s=r.legend||{},a=s.name||void 0,o=s.interactive,l=s.style,c={};let u=0,f,h,d;HD.forEach(v=>e[v]?(c[v]=e[v],u=u||e[v]):0),u||he("Missing valid scale for legend.");const p=a4e(e,t.scaleType(u)),g={title:e.title!=null,scales:c,type:p,vgrad:p!=="symbol"&&i.isVertical()},m=Ye(t.add(Qa(null,[g]))),x={enter:{x:{value:0},y:{value:0}}},y=Ye(t.add(HFe(h={type:p,scale:t.scaleRef(u),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===y_?(d=[D3e(e,u,n,r.gradient),ZL(e,n,r.labels,y)],h.count=h.count||t.signalRef(`max(2,2*floor((${Zf(i.gradientLength())})/100))`)):p===fF?d=[$3e(e,u,n,r.gradient,y),ZL(e,n,r.labels,y)]:(f=L3e(e,n),d=[M3e(e,n,r,y,Zf(f.columns))],h.size=c4e(e,t,d[0].marks)),d=[F1({role:iFe,from:m,encode:x,marks:d,layout:f,interactive:o})],g.title&&d.push(j3e(e,n,r.title,m)),Fw(F1({role:nFe,from:m,encode:Lp(l4e(i,e,n),s,Lx),marks:d,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:o,style:l}),t)}function a4e(e,t){let n=e.type||JL;return!e.type&&o4e(e)===1&&(e.fill||e.stroke)&&(n=aN(t)?y_:CC(t)?fF:JL),n!==y_?n:CC(t)?fF:y_}function o4e(e){return HD.reduce((t,n)=>t+(e[n]?1:0),0)}function l4e(e,t,n){const r={enter:{},update:{}};return kr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function c4e(e,t,n){const r=Zf(s8("size",e,n)),i=Zf(s8("strokeWidth",e,n)),s=Zf(u4e(n[1].encode,t,Mx));return Uo(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function s8(e,t,n){return t[e]?`scale("${t[e]}",datum)`:YY(e,n[0].encode)}function u4e(e,t,n){return YY("fontSize",e)||O3e("fontSize",t,n)}const f4e=`item.orient==="${Pp}"?-90:item.orient==="${Bp}"?90:0`;function h4e(e,t){e=Pe(e)?{text:e}:e;const n=os(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,a=i.interactive,o=i.style,l=[],c={},u=Ye(t.add(Qa(null,[c])));return l.push(g4e(e,n,d4e(e),u)),e.subtitle&&l.push(m4e(e,n,r.subtitle,u)),Fw(F1({role:lFe,from:u,encode:p4e(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:a,style:o}),t)}function d4e(e){const t=e.encode;return t&&t.title||ct({name:e.name,interactive:e.interactive,style:e.style},t)}function p4e(e,t){const n={enter:{},update:{}};return kr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:WD},angle:{signal:f4e},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Lp(n,t,Lx)}function g4e(e,t,n,r){const i={value:0},s=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return kr(a,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Fs({type:rd,role:cFe,style:b3e,from:r,encode:a},n)}function m4e(e,t,n,r){const i={value:0},s=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return kr(a,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Fs({type:rd,role:uFe,style:E3e,from:r,encode:a},n)}function x4e(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(qD(r,t))}),e.on&&e.on.forEach(r=>{eK(r,t,e.name)}),t.addDataPipeline(e.name,v4e(e,t,n))}function v4e(e,t,n){const r=[];let i=null,s=!1,a=!1,o,l,c,u,f;for(e.values?Zn(e.values)||x_(e.format)?(r.push(a8(t,e)),r.push(i=ff())):r.push(i=ff({$ingest:e.values,$format:e.format})):e.url?x_(e.url)||x_(e.format)?(r.push(a8(t,e)),r.push(i=ff())):r.push(i=ff({$request:e.url,$format:e.format})):e.source&&(i=o=Le(e.source).map(h=>Ye(t.getData(h).output)),r.push(null)),l=0,c=n.length;l<c;++l)u=n[l],f=u.metadata,!i&&!f.source&&r.push(i=ff()),r.push(u),f.generates&&(a=!0),f.modifies&&!a&&(s=!0),f.source?i=u:f.changes&&(i=null);return o&&(c=o.length-1,r[0]=JFe({derive:s,pulse:c?o:o[0]}),(s||c)&&r.splice(1,0,ff())),i||r.push(ff()),r.push(nd({})),r}function ff(e){const t=Qa({},e);return t.metadata={source:!0},t}function a8(e,t){return VFe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const tK=e=>e===bu||e===eo,Ow=(e,t,n)=>Zn(e)?E4e(e.signal,t,n):e===Pp||e===eo?t:n,dr=(e,t,n)=>Zn(e)?_4e(e.signal,t,n):tK(e)?t:n,za=(e,t,n)=>Zn(e)?b4e(e.signal,t,n):tK(e)?n:t,nK=(e,t,n)=>Zn(e)?w4e(e.signal,t,n):e===eo?{value:t}:{value:n},y4e=(e,t,n)=>Zn(e)?S4e(e.signal,t,n):e===Bp?{value:t}:{value:n},_4e=(e,t,n)=>rK(`${e} === '${eo}' || ${e} === '${bu}'`,t,n),b4e=(e,t,n)=>rK(`${e} !== '${eo}' && ${e} !== '${bu}'`,t,n),E4e=(e,t,n)=>XD(`${e} === '${Pp}' || ${e} === '${eo}'`,t,n),w4e=(e,t,n)=>XD(`${e} === '${eo}'`,t,n),S4e=(e,t,n)=>XD(`${e} === '${Bp}'`,t,n),rK=(e,t,n)=>(t=t!=null?hr(t):t,n=n!=null?hr(n):n,o8(t)&&o8(n)?(t=t?t.signal||Ce(t.value):null,n=n?n.signal||Ce(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[ct({test:e},t)].concat(n||[])),o8=e=>e==null||Object.keys(e).length===1,XD=(e,t,n)=>({signal:`${e} ? (${Kd(t)}) : (${Kd(n)})`}),A4e=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${Pp}' ? (${Kd(r)}) : `:"")+(n!=null?`${e} === '${bu}' ? (${Kd(n)}) : `:"")+(i!=null?`${e} === '${Bp}' ? (${Kd(i)}) : `:"")+(t!=null?`${e} === '${eo}' ? (${Kd(t)}) : `:"")+"(null)"}),Kd=e=>Zn(e)?e.signal:e==null?null:Ce(e),T4e=(e,t)=>t===0?0:Zn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},h0=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Fd(e,t,n,r){let i;if(t&&Ze(t,e))return t[e];if(Ze(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[zD][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Mx][i]}return null}function l8(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function k4e(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,a=e.orient,o,l,c;if(Zn(a)){const f=l8([n.axisX,n.axisY]),h=l8([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);o={};for(c of f)o[c]=dr(a,Fd(c,n.axisX,i,r),Fd(c,n.axisY,i,r));l={};for(c of h)l[c]=A4e(a.signal,Fd(c,n.axisTop,i,r),Fd(c,n.axisBottom,i,r),Fd(c,n.axisLeft,i,r),Fd(c,n.axisRight,i,r))}else o=a===eo||a===bu?n.axisX:n.axisY,l=n["axis"+a[0].toUpperCase()+a.slice(1)];return o||l||s?ct({},i,o,l,s):i}function C4e(e,t,n,r){const i=os(e,t),s=e.orient;let a,o;const l={enter:a={opacity:$t},update:o={opacity:sa},exit:{opacity:$t}};kr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=c8(e,0),u=c8(e,1);return a.x=o.x=dr(s,c,$t),a.x2=o.x2=dr(s,u),a.y=o.y=za(s,c,$t),a.y2=o.y2=za(s,u),Fs({type:VD,role:JCe,from:r,encode:l},n)}function c8(e,t){return{scale:e.scale,range:t}}function F4e(e,t,n,r,i){const s=os(e,t),a=e.orient,o=e.gridScale,l=Ow(a,1,-1),c=O4e(e.offset,l);let u,f,h;const d={enter:u={opacity:$t},update:h={opacity:sa},exit:f={opacity:$t}};kr(d,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:ia,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},g=dr(a,{signal:"height"},{signal:"width"}),m=o?{scale:o,range:0,mult:l,offset:c}:{value:0,offset:c},x=o?{scale:o,range:1,mult:l,offset:c}:ct(g,{mult:l,offset:c});return u.x=h.x=dr(a,p,m),u.y=h.y=za(a,p,m),u.x2=h.x2=za(a,x),u.y2=h.y2=dr(a,x),f.x=dr(a,p),f.y=za(a,p),Fs({type:VD,role:ZCe,key:ia,from:r,encode:d},n)}function O4e(e,t){if(t!==1)if(!Me(e))e=Zn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=ct({},e);for(;n.mult!=null;)if(Me(n.mult))n=n.mult=ct({},n.mult);else return n.mult=Zn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function N4e(e,t,n,r,i,s){const a=os(e,t),o=e.orient,l=Ow(o,-1,1);let c,u,f;const h={enter:c={opacity:$t},update:f={opacity:sa},exit:u={opacity:$t}};kr(h,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const d=hr(i);d.mult=l;const p={scale:e.scale,field:ia,band:s.band,extra:s.extra,offset:s.offset,round:a("tickRound")};return f.y=c.y=dr(o,$t,p),f.y2=c.y2=dr(o,d),u.x=dr(o,p),f.x=c.x=za(o,$t,p),f.x2=c.x2=za(o,d),u.y=za(o,p),Fs({type:VD,role:eFe,key:ia,from:r,encode:h},n)}function sT(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function D4e(e,t,n,r,i,s){const a=os(e,t),o=e.orient,l=e.scale,c=Ow(o,-1,1),u=Zf(a("labelFlush")),f=Zf(a("labelFlushOffset")),h=a("labelAlign"),d=a("labelBaseline");let p=u===0||!!u,g;const m=hr(i);m.mult=c,m.offset=hr(a("labelPadding")||0),m.offset.mult=c;const x={scale:l,field:ia,band:.5,offset:KY(s.offset,a("labelOffset"))},y=dr(o,p?sT(l,u,'"left"','"right"','"center"'):{value:"center"},y4e(o,"left","right")),v=dr(o,nK(o,"bottom","top"),p?sT(l,u,'"top"','"bottom"','"middle"'):{value:"middle"}),_=sT(l,u,`-(${f})`,f,0);p=p&&f;const b={opacity:$t,x:dr(o,x,m),y:za(o,x,m)},w={enter:b,update:g={opacity:sa,text:{field:UD},x:b.x,y:b.y,align:y,baseline:v},exit:{opacity:$t,x:b.x,y:b.y}};kr(w,{dx:!h&&p?dr(o,_):null,dy:!d&&p?za(o,_):null}),kr(w,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:h,baseline:d});const E=a("labelBound");let A=a("labelOverlap");return A=A||E?{separation:a("labelSeparation"),method:A,order:"datum.index",bound:E?{scale:l,orient:o,tolerance:E}:null}:void 0,g.align!==y&&(g.align=h0(g.align,y)),g.baseline!==v&&(g.baseline=h0(g.baseline,v)),Fs({type:rd,role:QCe,style:Mx,key:ia,from:r,encode:w,overlap:A},n)}function $4e(e,t,n,r){const i=os(e,t),s=e.orient,a=Ow(s,-1,1);let o,l;const c={enter:o={opacity:$t,anchor:hr(i("titleAnchor",null)),align:{signal:WD}},update:l=ct({},o,{opacity:sa,text:hr(e.title)}),exit:{opacity:$t}},u={signal:`lerp(range("${e.scale}"), ${kw(0,1,.5)})`};return l.x=dr(s,u),l.y=za(s,u),o.angle=dr(s,$t,T4e(a,90)),o.baseline=dr(s,nK(s,bu,eo),{value:bu}),l.angle=o.angle,l.baseline=o.baseline,kr(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),R4e(i,s,c,n),c.update.align=h0(c.update.align,o.align),c.update.angle=h0(c.update.angle,o.angle),c.update.baseline=h0(c.update.baseline,o.baseline),Fs({type:rd,role:tFe,style:zD,from:r,encode:c},n)}function R4e(e,t,n,r){const i=(o,l)=>o!=null?(n.update[l]=h0(hr(o),n.update[l]),!1):!Bd(l,r),s=i(e("titleX"),"x"),a=i(e("titleY"),"y");n.enter.auto=a===s?hr(a):dr(t,hr(a),hr(s))}function I4e(e,t){const n=k4e(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,a=i.interactive,o=i.style,l=os(e,n),c=N3e(l),u={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=Ye(t.add(Qa({},[u]))),h=Ye(t.add(MFe({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),d=[];let p;return u.grid&&d.push(F4e(e,n,r.grid,h,c)),u.ticks&&(p=l("tickSize"),d.push(N4e(e,n,r.ticks,h,p,c))),u.labels&&(p=u.ticks?p:0,d.push(D4e(e,n,r.labels,h,p,c))),u.domain&&d.push(C4e(e,n,r.domain,f)),u.title&&d.push($4e(e,n,r.title,f)),Fw(F1({role:KCe,from:f,encode:Lp(M4e(l,e),i,Lx),marks:d,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:s,interactive:a,style:o}),t)}function M4e(e,t){const n={enter:{},update:{}};return kr(n,{orient:e("orient"),offset:e("offset")||0,position:ka(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function iK(e,t,n){const r=Le(e.signals),i=Le(e.scales);return n||r.forEach(s=>MY(s,t)),Le(e.projections).forEach(s=>p3e(s,t)),i.forEach(s=>n3e(s,t)),Le(e.data).forEach(s=>x4e(s,t)),i.forEach(s=>r3e(s,t)),(n||r).forEach(s=>IFe(s,t)),Le(e.axes).forEach(s=>I4e(s,t)),Le(e.marks).forEach(s=>Fw(s,t)),Le(e.legends).forEach(s=>s4e(s,t)),e.title&&h4e(e.title,t),t.parseLambdas(),t}const L4e=e=>Lp({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function P4e(e,t){const n=t.config,r=Ye(t.root=t.add(lb())),i=B4e(e,n);i.forEach(c=>MY(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(Qa()),a=t.add(BY(IY(L4e(e.encode),Tw,MD,e.style,t,{pulse:Ye(s)}))),o=t.add(HY({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Ye(a)}));t.operators.pop(),t.pushState(Ye(a),Ye(o),null),iK(e,t,i),t.operators.push(o);let l=t.add(PY({mark:r,pulse:Ye(o)}));return l=t.add(zY({pulse:Ye(l)})),l=t.add(nd({pulse:Ye(l)})),t.addData("root",new kh(t,s,s,l)),t}function Ag(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function B4e(e,t){const n=a=>ka(e[a],t[a]),r=[Ag("background",n("background")),Ag("autosize",qCe(n("autosize"))),Ag("padding",YCe(n("padding"))),Ag("width",n("width")||0),Ag("height",n("height")||0)],i=r.reduce((a,o)=>(a[o.name]=o,a),{}),s={};return Le(e.signals).forEach(a=>{Ze(i,a.name)?a=ct(i[a.name],a):r.push(a),s[a.name]=a}),Le(t.signals).forEach(a=>{!Ze(s,a.name)&&!Ze(i,a.name)&&r.push(a)}),r}function sK(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function u8(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}sK.prototype=u8.prototype={parse(e){return iK(e,this)},fork(){return new u8(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof aF?Ye(e):e;return this.add(KFe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let a,o;r&&(a=r.data||(r.data={}),o=a[i]||(a[i]=[]),o.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Ye(this.add(nd({pulse:e})))),this._parent.push(t),this._lookup.push(n?Ye(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Ct(this._parent)},encode(){return Ct(this._encode)},lookup(){return Ct(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Pe(e))return k1(e,t);e.signal||he("Unsupported field reference: "+Ce(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Ye(this.add(UFe(i)))}return r},compareRef(e){let t=!1;const n=s=>Zn(s)?(t=!0,this.signalRef(s.signal)):AFe(s)?(t=!0,this.exprRef(s.expr)):s,r=Le(e.field).map(n),i=Le(e.order).map(n);return t?Ye(this.add(KL({fields:r,orders:i}))):XL(r,i)},keyRef(e,t){let n=!1;const r=s=>Zn(s)?(n=!0,Ye(i[s.signal])):s,i=this.signals;return e=Le(e).map(r),n?Ye(this.add(zFe({fields:e,flat:t}))):bFe(e,t)},sortRef(e){if(!e)return e;const t=Sw(e.op,e.field),n=e.order||EFe;return n.signal?Ye(this.add(KL({fields:t,orders:this.signalRef(n.signal)}))):XL(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Ze(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&he("Duplicate signal name: "+Ce(e));const n=t instanceof aF?t:this.add(lb(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||he("Unrecognized signal name: "+Ce(e)),this.signals[e]},signalRef(e){return this.signals[e]?Ye(this.signals[e]):(Ze(this.lambdas,e)||(this.lambdas[e]=this.add(lb(null))),Ye(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Uo(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Me(e)?e:this.signalRef(e.signal||YD(e))},exprRef(e,t){const n={expr:Uo(e,this)};return t&&(n.expr.$name=t),Ye(this.add(PFe(n)))},addBinding(e,t){this.bindings||he("Nested signals do not support binding: "+Ce(e)),this.bindings.push(ct({signal:e},t))},addScaleProj(e,t){Ze(this.scales,e)&&he("Duplicate scale or projection name: "+Ce(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,ZFe(t))},addProjection(e,t){this.addScaleProj(e,YFe(t))},getScale(e){return this.scales[e]||he("Unrecognized scale name: "+Ce(e)),this.scales[e]},scaleRef(e){return Ye(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Ze(this.data,e)&&he("Duplicate data set name: "+Ce(e)),this.data[e]=t},getData(e){return this.data[e]||he("Undefined data set name: "+Ce(e)),this.data[e]},addDataPipeline(e,t){return Ze(this.data,e)&&he("Duplicate data set name: "+Ce(e)),this.addData(e,kh.fromEntries(this,t))}};function YD(e){return(me(e)?U4e:z4e)(e)}function U4e(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Me(i)?i.signal||YD(i):Ce(i))}return n+"]"}function z4e(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Ce(r)+":"+(Me(i)?i.signal||YD(i):Ce(i));return t+"}"}function H4e(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function V4e(e,t,n){return Me(e)||he("Input Vega specification must be an object."),t=Fp(H4e(),t,e.config),P4e(e,new sK(t,n)).toRuntime()}var W4e="5.30.0";ct(V0,Kye,PEe,mwe,Uwe,qwe,_Se,Qwe,ESe,TSe,MSe,VSe);const j4e=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Un,CanvasHandler:Nx,CanvasRenderer:J2,DATE:es,DAY:Wr,DAYOFYEAR:Bo,Dataflow:f0,Debug:NW,Error:j4,EventStream:WE,Gradient:XG,GroupItem:iw,HOURS:Ts,Handler:ON,HybridHandler:Bq,HybridRenderer:BC,Info:OW,Item:rw,MILLISECONDS:Wa,MINUTES:ks,MONTH:ei,Marks:Cs,MultiPulse:fO,None:FW,Operator:tn,Parameters:VE,Pulse:nu,QUARTER:Qi,RenderType:Vc,Renderer:Ox,ResourceLoader:tq,SECONDS:ua,SVGHandler:Tq,SVGRenderer:MN,SVGStringRenderer:Pq,Scenegraph:vq,TIME_UNITS:rO,Transform:oe,View:wY,WEEK:Kn,Warn:G4,YEAR:Ar,accessor:as,accessorFields:Qr,accessorName:An,array:Le,ascending:LE,bandwidthNRD:gO,bin:Uj,bootstrapCI:zj,boundClip:Yq,boundContext:Tx,boundItem:RC,boundMark:pq,boundStroke:nc,changeset:Qh,clampRange:HW,codegenExpression:KX,compare:J4,constant:si,cumulativeLogNormal:bO,cumulativeNormal:GE,cumulativeUniform:AO,dayofyear:ej,debounce:Z4,defaultLocale:aO,definition:Lj,densityLogNormal:_O,densityNormal:mO,densityUniform:SO,domChild:qn,domClear:qs,domCreate:zc,domFind:FN,dotbin:Hj,error:he,expressionFunction:Rn,extend:ct,extent:Po,extentIndex:VW,falsy:wc,fastmap:Np,field:la,flush:WW,font:cw,fontFamily:Fx,fontSize:Ko,format:t_,formatLocale:P2,formats:cO,hasOwnProperty:Ze,id:px,identity:ii,inferType:Tj,inferTypes:kj,ingest:Vt,inherits:Oe,inrange:qd,interpolate:oN,interpolateColors:ew,interpolateRange:RG,intersect:jq,intersectBoxLine:Xd,intersectPath:pN,intersectPoint:gN,intersectRule:rq,isArray:me,isBoolean:Hu,isDate:tu,isFunction:ft,isIterable:jW,isNumber:Rt,isObject:Me,isRegExp:GW,isString:Pe,isTuple:zE,key:Q4,lerp:qW,lineHeight:vu,loader:BE,locale:Sj,logger:q4,lruCache:XW,markup:IN,merge:YW,mergeConfig:Fp,multiLineOffset:TN,one:Cp,pad:KW,panLinear:MW,panLog:LW,panPow:PW,panSymlog:BW,parse:V4e,parseExpression:ED,parseSelector:Wu,path:vE,pathCurves:fN,pathEqual:Kq,pathParse:q0,pathRectangle:JG,pathRender:y1,pathSymbols:KG,pathTrail:ZG,peek:Ct,point:fw,projection:pw,quantileLogNormal:EO,quantileNormal:qE,quantileUniform:TO,quantiles:dO,quantizeInterpolator:IG,quarter:UW,quartiles:pO,get random(){return fa},randomInteger:eye,randomKDE:vO,randomLCG:Qve,randomLogNormal:Wj,randomMixture:jj,randomNormal:xO,randomUniform:Gj,read:Oj,regressionConstant:kO,regressionExp:Xj,regressionLinear:CO,regressionLoess:Jj,regressionLog:qj,regressionPoly:Kj,regressionPow:Yj,regressionQuad:FO,renderModule:hw,repeat:qg,resetDefaultLocale:Kxe,resetSVGClipId:eq,resetSVGDefIds:nEe,responseType:Fj,runtimeContext:uY,sampleCurve:YE,sampleLogNormal:yO,sampleNormal:jE,sampleUniform:wO,scale:zt,sceneEqual:LN,sceneFromJSON:mq,scenePickVisit:V2,sceneToJSON:gq,sceneVisit:ja,sceneZOrder:mN,scheme:tw,serializeXML:Rq,setHybridRendererOptions:Zbe,setRandom:Jve,span:gx,splitAccessPath:Yo,stringValue:Ce,textMetrics:bs,timeBin:xj,timeFloor:oj,timeFormatLocale:m1,timeInterval:Dp,timeOffset:uj,timeSequence:dj,timeUnitSpecifier:QW,timeUnits:iO,toBoolean:eO,toDate:tO,toNumber:Xr,toSet:Va,toString:nO,transform:Pj,transforms:V0,truncate:JW,truthy:ca,tupleid:Ke,typeParsers:AC,utcFloor:lj,utcInterval:$p,utcOffset:fj,utcSequence:pj,utcdayofyear:rj,utcquarter:zW,utcweek:ij,version:W4e,visitArray:Nc,week:tj,writeConfig:Op,zero:Mc,zoomLinear:X4,zoomLog:Y4,zoomPow:L2,zoomSymlog:K4},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var G4e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),q4e=Object.prototype.hasOwnProperty;function dF(e,t){return q4e.call(e,t)}function pF(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)dF(e,i)&&r.push(i);return r}function vs(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function gF(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Af(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function aK(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function mF(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(mF(e[t]))return!0}else if(typeof e=="object"){for(var r=pF(e),i=r.length,s=0;s<i;s++)if(mF(e[r[s]]))return!0}}return!1}function f8(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var oK=function(e){G4e(t,e);function t(n,r,i,s,a){var o=this.constructor,l=e.call(this,f8(n,{name:r,index:i,operation:s,tree:a}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=a,Object.setPrototypeOf(l,o.prototype),l.message=f8(n,{name:r,index:i,operation:s,tree:a}),l}return t}(Error),bn=oK,X4e=vs,Jd={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=cb(n,this.path);r&&(r=vs(r));var i=Qf(n,{op:"remove",path:this.from}).removed;return Qf(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=cb(n,this.from);return Qf(n,{op:"add",path:this.path,value:vs(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:O1(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Y4e={add:function(e,t,n){return gF(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Jd.move,copy:Jd.copy,test:Jd.test,_get:Jd._get};function cb(e,t){if(t=="")return e;var n={op:"_get",path:t};return Qf(e,n),n.value}function Qf(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):ub(t,0)),t.path===""){var a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=cb(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=O1(e,t.value),a.test===!1)throw new bn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(n)throw new bn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return a}}else{r||(e=vs(e));var o=t.path||"",l=o.split("/"),c=e,u=1,f=l.length,h=void 0,d=void 0,p=void 0;for(typeof n=="function"?p=n:p=ub;;){if(d=l[u],d&&d.indexOf("~")!=-1&&(d=aK(d)),i&&(d=="__proto__"||d=="prototype"&&u>0&&l[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(c[d]===void 0?h=l.slice(0,u).join("/"):u==f-1&&(h=t.path),h!==void 0&&p(t,0,e,h)),u++,Array.isArray(c)){if(d==="-")d=c.length;else{if(n&&!gF(d))throw new bn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);gF(d)&&(d=~~d)}if(u>=f){if(n&&t.op==="add"&&d>c.length)throw new bn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var a=Y4e[t.op].call(t,c,d,e);if(a.test===!1)throw new bn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}}else if(u>=f){var a=Jd[t.op].call(t,c,d,e);if(a.test===!1)throw new bn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}if(c=c[d],n&&u<f&&(!c||typeof c!="object"))throw new bn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function Nw(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new bn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=vs(e));for(var s=new Array(t.length),a=0,o=t.length;a<o;a++)s[a]=Qf(e,t[a],n,!0,i,a),e=s[a].newDocument;return s.newDocument=e,s}function K4e(e,t,n){var r=Qf(e,t);if(r.test===!1)throw new bn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function ub(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new bn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Jd[e.op]){if(typeof e.path!="string")throw new bn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new bn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new bn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new bn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&mF(e.value))throw new bn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new bn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new bn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},o=lK([a],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new bn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new bn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function lK(e,t,n){try{if(!Array.isArray(e))throw new bn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Nw(vs(t),vs(e),n||!0);else{n=n||ub;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof bn)return i;throw i}}function O1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,a;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!O1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(e);if(s=o.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!O1(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}const J4e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:bn,_areEquals:O1,applyOperation:Qf,applyPatch:Nw,applyReducer:K4e,deepClone:X4e,getValueByPointer:cb,validate:lK,validator:ub},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var KD=new WeakMap,Z4e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Q4e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function eOe(e){return KD.get(e)}function tOe(e,t){return e.observers.get(t)}function nOe(e,t){e.observers.delete(t.callback)}function rOe(e,t){t.unobserve()}function iOe(e,t){var n=[],r,i=eOe(e);if(!i)i=new Z4e(e),KD.set(e,i);else{var s=tOe(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=vs(e),t){r.callback=t,r.next=null;var a=function(){xF(r)},o=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return r.patches=n,r.object=e,r.unobserve=function(){xF(r),clearTimeout(r.next),nOe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},i.observers.set(t,new Q4e(t,r)),r}function xF(e,t){t===void 0&&(t=!1);var n=KD.get(e.object);JD(n.value,e.object,e.patches,"",t),e.patches.length&&Nw(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function JD(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=pF(t),a=pF(e),o=!1,l=a.length-1;l>=0;l--){var c=a[l],u=e[c];if(dF(t,c)&&!(t[c]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var f=t[c];typeof u=="object"&&u!=null&&typeof f=="object"&&f!=null&&Array.isArray(u)===Array.isArray(f)?JD(u,f,n,r+"/"+Af(c),i):u!==f&&(i&&n.push({op:"test",path:r+"/"+Af(c),value:vs(u)}),n.push({op:"replace",path:r+"/"+Af(c),value:vs(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Af(c),value:vs(u)}),n.push({op:"remove",path:r+"/"+Af(c)}),o=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!o&&s.length==a.length))for(var l=0;l<s.length;l++){var c=s[l];!dF(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+Af(c),value:vs(t[c])})}}}function sOe(e,t,n){n===void 0&&(n=!1);var r=[];return JD(e,t,r,"",n),r}const aOe=Object.freeze(Object.defineProperty({__proto__:null,compare:sOe,generate:xF,observe:iOe,unobserve:rOe},Symbol.toStringTag,{value:"Module"}));Object.assign({},J4e,aOe,{JsonPatchError:oK,deepClone:vs,escapePathComponent:Af,unescapePathComponent:aK});function oOe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lOe=/("(?:[^\\"]|\\.)*")|[:,]/g,cOe=function(t,n){var r,i,s;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,s=n.replacer,function a(o,l,c){var u,f,h,d,p,g,m,x,y,v,_,b;if(o&&typeof o.toJSON=="function"&&(o=o.toJSON()),_=JSON.stringify(o,s),_===void 0)return _;if(m=i-l.length-c,_.length<=m&&(y=_.replace(lOe,function(w,E){return E||w+" "}),y.length<=m))return y;if(s!=null&&(o=JSON.parse(_),s=void 0),typeof o=="object"&&o!==null){if(x=l+r,h=[],f=0,Array.isArray(o))for(v="[",u="]",m=o.length;f<m;f++)h.push(a(o[f],x,f===m-1?0:1)||"null");else for(v="{",u="}",g=Object.keys(o),m=g.length;f<m;f++)d=g[f],p=JSON.stringify(d)+": ",b=a(o[d],x,p.length+(f===m-1?0:1)),b!==void 0&&h.push(p+b);if(h.length>0)return[v,r+h.join(`,
`+x),u].join(`
`+l)}return _}(t,"",0)};const aT=oOe(cOe);function uOe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var fOe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},hOe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},dOe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const pOe=Array.prototype.slice,hf=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,pOe.call(t,1))},gOe=(e,t,n,r,i,s,a)=>new Date(e,t||0,n??1,r||0,i||0,s||0,a||0);var mOe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:gOe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return hf("join",arguments)},indexof:function(){return hf("indexOf",arguments)},lastindexof:function(){return hf("lastIndexOf",arguments)},slice:function(){return hf("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return hf("substring",arguments,String)},split:function(){return hf("split",arguments,String)},replace:function(){return hf("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const xOe=["view","item","group","xy","x","y"],vF=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&vF.add(setImmediate);const vOe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:fOe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),vF.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||mOe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>hOe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>dOe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,vF.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function Tg(e,t,n,r,i,s){const a=o=>vOe[o.type](a,o);return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=r,a.event=i,a.item=s,xOe.forEach(o=>a.fn[o]=function(){return i.vega[o](...arguments)}),a(e)}var yOe={operator(e,t){const n=t.ast,r=e.functions;return i=>Tg(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,s)=>Tg(n,r,s,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Tg(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,s)=>{const a=s.item&&s.item.datum;return Tg(n,r,i,a,s)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,s=n==="group"||n==="image"||n==="rect";return(a,o)=>{const l=a.datum;let c=0,u;for(const f in r)u=Tg(r[f].ast,i,o,l,void 0,a),a[f]!==u&&(a[f]=u,c=1);return n!=="rule"&&uOe(a,r,s),c}}};const _Oe="vega-lite",bOe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',EOe="5.20.1",wOe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],SOe="https://vega.github.io/vega-lite/",AOe="Vega-Lite is a concise high-level language for interactive visualization.",TOe=["vega","chart","visualization"],kOe="build/vega-lite.js",COe="build/vega-lite.min.js",FOe="build/vega-lite.min.js",OOe="build/src/index",NOe="build/src/index.d.ts",DOe={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},$Oe=["bin","build","src","vega-lite*","tsconfig.json"],ROe={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},IOe={type:"git",url:"https://github.com/vega/vega-lite.git"},MOe="BSD-3-Clause",LOe={url:"https://github.com/vega/vega-lite/issues"},POe={"@babel/core":"^7.24.7","@babel/preset-env":"^7.24.7","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^26.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.13.0","@typescript-eslint/parser":"^7.13.0",ajv:"^8.16.0","ajv-formats":"^2.1.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.1.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.1.3","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.9.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.3.2",puppeteer:"^15.0.0","release-it":"17.2.1",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.1","ts-jest":"^29.1.4","ts-json-schema-generator":"^1.5.0",typescript:"~5.4.5","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.25.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},BOe={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.3","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},UOe={vega:"^5.24.0"},zOe={node:">=18"},HOe="yarn@1.22.19",VOe={name:_Oe,author:bOe,version:EOe,collaborators:wOe,homepage:SOe,description:AOe,keywords:TOe,main:kOe,unpkg:COe,jsdelivr:FOe,module:OOe,types:NOe,bin:DOe,files:$Oe,scripts:ROe,repository:IOe,license:MOe,bugs:LOe,devDependencies:POe,dependencies:BOe,peerDependencies:UOe,engines:zOe,packageManager:HOe};function ZD(e){return!!e.or}function QD(e){return!!e.and}function e$(e){return!!e.not}function b_(e,t){if(e$(e))b_(e.not,t);else if(QD(e))for(const n of e.and)b_(n,t);else if(ZD(e))for(const n of e.or)b_(n,t);else t(e)}function d0(e,t){return e$(e)?{not:d0(e.not,t)}:QD(e)?{and:e.and.map(n=>d0(n,t))}:ZD(e)?{or:e.or.map(n=>d0(n,t))}:t(e)}const st=structuredClone;function cK(e){throw new Error(e)}function Z0(e,t){const n={};for(const r of t)Ze(e,r)&&(n[r]=e[r]);return n}function Xi(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Qt(e)).join(",")})`};function wt(e){if(Rt(e))return e;const t=Pe(e)?e:Qt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function yF(e){return e===!1||e===null}function yt(e,t){return e.includes(t)}function Q0(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function t$(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function uK(e,...t){for(const n of t)WOe(e,n??{});return e}function WOe(e,t){for(const n of Ee(t))Op(e,n,t[n],!0)}function So(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function jOe(e,t){const n=Ee(e),r=Ee(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function fK(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function n$(e,t){for(const n of e)if(t.has(n))return!0;return!1}function _F(e){const t=new Set;for(const n of e){const i=Yo(n).map((a,o)=>o===0?a:`[${a}]`),s=i.map((a,o)=>i.slice(0,o+1).join(""));for(const a of s)t.add(a)}return t}function r$(e,t){return e===void 0||t===void 0?!0:n$(_F(e),_F(t))}function Zt(e){return Ee(e).length===0}const Ee=Object.keys,Tr=Object.values,Eu=Object.entries;function N1(e){return e===!0||e===!1}function fn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Fm(e,t){return e$(e)?`!(${Fm(e.not,t)})`:QD(e)?`(${e.and.map(n=>Fm(n,t)).join(") && (")})`:ZD(e)?`(${e.or.map(n=>Fm(n,t)).join(") || (")})`:t(e)}function fb(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&fb(e[n],t)&&delete e[n],Zt(e)}function Px(e){return e.charAt(0).toUpperCase()+e.substr(1)}function i$(e,t="datum"){const n=Yo(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(Ce).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function hK(e,t="datum"){return`${t}[${Ce(Yo(e).join("."))}]`}function GOe(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ha(e){return`${Yo(e).map(GOe).join("\\.")}`}function Ch(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Up(e){return`${Yo(e).join(".")}`}function ep(e){return e?Yo(e).length:0}function Nn(...e){for(const t of e)if(t!==void 0)return t}let dK=42;function pK(e){const t=++dK;return e?String(e)+t:t}function qOe(){dK=42}function gK(e){return mK(e)?e:`__${e}`}function mK(e){return e.startsWith("__")}function D1(e){if(e!==void 0)return(e%360+360)%360}function Dw(e){return Rt(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const h8=Object.getPrototypeOf(structuredClone({}));function ys(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ys(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!ys(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==h8.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==h8.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!ys(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Qt(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const a=t.push(r)-1,o=Object.keys(r).sort();for(s="",i=0;i<o.length;i++){const l=o[i],c=n(r[l]);c&&(s&&(s+=","),s+=JSON.stringify(l)+":"+c)}return t.splice(a,1),`{${s}}`}(e)}const Ll="row",Pl="column",$w="facet",dn="x",xr="y",to="x2",Qo="y2",ju="xOffset",zp="yOffset",no="radius",ic="radius2",xa="theta",sc="theta2",ro="latitude",io="longitude",so="latitude2",da="longitude2",ts="color",el="fill",tl="stroke",ns="shape",ac="size",id="angle",oc="opacity",Gu="fillOpacity",qu="strokeOpacity",Xu="strokeWidth",Yu="strokeDash",Bx="text",tp="order",Ux="detail",Rw="key",Fh="tooltip",Iw="href",Mw="url",Lw="description",XOe={x:1,y:1,x2:1,y2:1},xK={theta:1,theta2:1,radius:1,radius2:1};function vK(e){return e in xK}const s$={longitude:1,longitude2:1,latitude:1,latitude2:1};function yK(e){switch(e){case ro:return"y";case so:return"y2";case io:return"x";case da:return"x2"}}function _K(e){return e in s$}const YOe=Ee(s$),a$={...XOe,...xK,...s$,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function p0(e){return e===ts||e===el||e===tl}const bK={row:1,column:1,facet:1},ta=Ee(bK),o$={...a$,...bK},KOe=Ee(o$),{order:MQe,detail:LQe,tooltip:PQe,...JOe}=o$,{row:BQe,column:UQe,facet:zQe,...ZOe}=JOe;function QOe(e){return!!ZOe[e]}function EK(e){return!!o$[e]}const eNe=[to,Qo,so,da,sc,ic];function wK(e){return sd(e)!==e}function sd(e){switch(e){case to:return dn;case Qo:return xr;case so:return ro;case da:return io;case sc:return xa;case ic:return no}return e}function wu(e){if(vK(e))switch(e){case xa:return"startAngle";case sc:return"endAngle";case no:return"outerRadius";case ic:return"innerRadius"}return e}function nl(e){switch(e){case dn:return to;case xr:return Qo;case ro:return so;case io:return da;case xa:return sc;case no:return ic}}function rs(e){switch(e){case dn:case to:return"width";case xr:case Qo:return"height"}}function SK(e){switch(e){case dn:return"xOffset";case xr:return"yOffset";case to:return"x2Offset";case Qo:return"y2Offset";case xa:return"thetaOffset";case no:return"radiusOffset";case sc:return"theta2Offset";case ic:return"radius2Offset"}}function Pw(e){switch(e){case dn:return"xOffset";case xr:return"yOffset"}}function tNe(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const nNe=Ee(a$),{x:HQe,y:VQe,x2:WQe,y2:jQe,xOffset:GQe,yOffset:qQe,latitude:XQe,longitude:YQe,latitude2:KQe,longitude2:JQe,theta:ZQe,theta2:QQe,radius:eet,radius2:tet,...l$}=a$,rNe=Ee(l$),c$={x:1,y:1},lc=Ee(c$);function Dn(e){return e in c$}const u$={theta:1,radius:1},iNe=Ee(u$);function Bw(e){return e==="width"?dn:xr}const AK={xOffset:1,yOffset:1};function zx(e){return e in AK}const{text:net,tooltip:ret,href:iet,url:set,description:aet,detail:oet,key:cet,order:uet,...TK}=l$,sNe=Ee(TK);function aNe(e){return!!l$[e]}function oNe(e){switch(e){case ts:case el:case tl:case ac:case ns:case oc:case Xu:case Yu:return!0;case Gu:case qu:case id:return!1}}const kK={...c$,...u$,...AK,...TK},f$=Ee(kK);function rl(e){return!!kK[e]}function lNe(e,t){return uNe(e)[t]}const CK={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:fet,...cNe}=CK;function uNe(e){switch(e){case ts:case el:case tl:case Lw:case Ux:case Rw:case Fh:case Iw:case tp:case oc:case Gu:case qu:case Xu:case $w:case Ll:case Pl:return CK;case dn:case xr:case ju:case zp:case ro:case io:return cNe;case to:case Qo:case so:case da:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case ac:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Yu:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ns:return{point:"always",geoshape:"always"};case Bx:return{text:"always"};case id:return{point:"always",square:"always",text:"always"};case Mw:return{image:"always"};case xa:return{text:"always",arc:"always"};case no:return{text:"always",arc:"always"};case sc:case ic:return{arc:"always"}}}function oT(e){switch(e){case dn:case xr:case xa:case no:case ju:case zp:case ac:case id:case Xu:case oc:case Gu:case qu:case to:case Qo:case sc:case ic:return;case $w:case Ll:case Pl:case ns:case Yu:case Bx:case Fh:case Iw:case Mw:case Lw:return"discrete";case ts:case el:case tl:return"flexible";case ro:case io:case so:case da:case Ux:case Rw:case tp:return}}const fNe={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},hNe={count:1,min:1,max:1};function Kl(e){return!!e&&!!e.argmin}function Ku(e){return!!e&&!!e.argmax}function h$(e){return Pe(e)&&!!fNe[e]}const dNe=new Set(["count","valid","missing","distinct"]);function Uw(e){return Pe(e)&&dNe.has(e)}function pNe(e){return Pe(e)&&yt(["min","max"],e)}const gNe=new Set(["count","sum","distinct","valid","missing"]),mNe=new Set(["mean","average","median","q1","q3","min","max"]);function FK(e){return Hu(e)&&(e=Zw(e,void 0)),"bin"+Ee(e).map(t=>zw(e[t])?fn(`_${t}_${Eu(e[t])}`):fn(`_${t}_${e[t]}`)).join("")}function sn(e){return e===!0||ad(e)&&!e.binned}function yr(e){return e==="binned"||ad(e)&&e.binned===!0}function ad(e){return Me(e)}function zw(e){return e==null?void 0:e.param}function d8(e){switch(e){case Ll:case Pl:case ac:case ts:case el:case tl:case Xu:case oc:case Gu:case qu:case ns:return 6;case Yu:return 4;default:return 10}}function Hx(e){return!!(e!=null&&e.expr)}function zr(e,{level:t}={level:0}){const n=Ee(e||{}),r={};for(const i of n)r[i]=t===0?ms(e[i]):zr(e[i],{level:t-1});return r}function OK(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:a,color:o,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:f,subtitleFontWeight:h,subtitleLineHeight:d,subtitlePadding:p,...g}=e,m={...g,...o?{fill:o}:{}},x={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...a!==void 0?{limit:a}:{}},y={...l?{subtitleColor:l}:{},...c?{subtitleFont:c}:{},...u?{subtitleFontSize:u}:{},...f?{subtitleFontStyle:f}:{},...h?{subtitleFontWeight:h}:{},...d?{subtitleLineHeight:d}:{},...p?{subtitlePadding:p}:{}},v=Z0(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:m,subtitleMarkConfig:v,nonMarkTitleProperties:x,subtitle:y}}function Rc(e){return Pe(e)||me(e)&&Pe(e[0])}function Ge(e){return!!(e!=null&&e.signal)}function Ju(e){return!!e.step}function xNe(e){return me(e)?!1:"fields"in e&&!("data"in e)}function vNe(e){return me(e)?!1:"fields"in e&&"data"in e}function kl(e){return me(e)?!1:"field"in e&&"data"in e}const yNe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},_Ne=Ee(yNe),bNe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},bF=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function NK(e){const t=me(e.condition)?e.condition.map(p8):p8(e.condition);return{...ms(e),condition:t}}function ms(e){if(Hx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function p8(e){if(Hx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function rn(e){if(Hx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Ge(e)?e:e!==void 0?{value:e}:void 0}function EF(e){return Ge(e)?e.signal:Ce(e)}function g8(e){return Ge(e)?e.signal:Ce(e.value)}function Ma(e){return Ge(e)?e.signal:e==null?null:Ce(e)}function ENe(e,t,n){for(const r of n){const i=zo(r,t.markDef,t.config);i!==void 0&&(e[r]=rn(i))}return e}function DK(e){return[].concat(e.type,e.style??[])}function Xt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:zo(e,t,n,r)}function zo(e,t,n,{vgChannel:r}={}){return Nn(r?hb(e,t,n.style):void 0,hb(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function hb(e,t,n){return $K(e,DK(t),n)}function $K(e,t,n){t=Le(t);let r;for(const i of t){const s=n[i];s&&s[e]!==void 0&&(r=s[e])}return r}function RK(e,t){return Le(e).reduce((n,r)=>(n.field.push(Re(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function IK(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(ys(i,r))return;n.push(r)}),n}function MK(e,t){return ys(e,t)||!t?e:e?[...Le(e),...Le(t)].join(", "):t}function LK(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Rc(n)||Ge(n))&&(Rc(r)||Ge(r)))return{explicit:e.explicit,value:MK(n,r)};if(Rc(n)||Ge(n))return{explicit:e.explicit,value:n};if(Rc(r)||Ge(r))return{explicit:e.explicit,value:r};if(!Rc(n)&&!Ge(n)&&!Rc(r)&&!Ge(r))return{explicit:e.explicit,value:IK(n,r)};throw new Error("It should never reach here")}function d$(e){return`Invalid specification ${Qt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const wNe='Autosize "fit" only works for single views and layered views.';function m8(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function x8(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function v8(e){return e?`Dropping "fit-${e}" because spec has discrete ${rs(e)}.`:'Dropping "fit" because spec has discrete size.'}function p$(e){return`Unknown field for ${e}. Cannot calculate view size.`}function y8(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function SNe(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function ANe(e){return`The "nearest" transform is not supported for ${e} marks.`}function PK(e){return`Selection not supported for ${e} yet.`}function TNe(e){return`Cannot find a selection named "${e}".`}const kNe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",CNe="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",FNe="Legend bindings are only supported for selections over an individual field or encoding channel.";function ONe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function NNe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const DNe="The same selection must be used to override scale domains in a layered view.",$Ne='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function RNe(e){return`Unknown repeated value "${e}".`}function _8(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const INe="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function MNe(e){return`Unrecognized parse "${e}".`}function b8(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const LNe="Attempt to add the same child twice.";function PNe(e){return`Ignoring an invalid transform: ${Qt(e)}.`}const BNe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function E8(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function UNe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Qt(t)} is overridden by a child projection ${Qt(n)}.`}const zNe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function HNe(e){return`${e}Offset dropped because ${e} is continuous`}function VNe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Qt(n)}}.`}function BK(e){return`Invalid field type "${e}".`}function WNe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function jNe(e){return`Invalid aggregation operator "${e}".`}function UK(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function GNe(e){return`Position range does not support relative band size for ${e}.`}function wF(e,t){return`Dropping ${Qt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const qNe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Hw(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function XNe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function YNe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function KNe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function JNe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function lT(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function ZNe(e){return`The ${e} for range marks cannot be an expression`}function QNe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function eDe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function tDe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function nDe(e){return`Cannot use the relative band size with ${e} scale.`}function rDe(e){return`Using unaggregated domain with raw field has no effect (${Qt(e)}).`}function iDe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function sDe(e){return`Unaggregated domain is currently unsupported for log scale (${Qt(e)}).`}function aDe(e){return`Cannot apply size to non-oriented mark "${e}".`}function oDe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function lDe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function zK(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function HK(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function cDe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Qt(n)} and ${Qt(r)}). Using ${Qt(n)}.`}function uDe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Qt(n)} and ${Qt(r)}). Using the union of the two domains.`}function fDe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function hDe(e){return`Dropping sort property ${Qt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const w8="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",dDe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",pDe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",gDe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function mDe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function xDe(e){return`Stack is applied to a non-linear scale (${e}).`}function vDe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function db(e,t){return`Invalid ${e}: ${Qt(t)}.`}function yDe(e){return`Dropping day from datetime ${Qt(e)} as day cannot be combined with other units.`}function _De(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function bDe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function EDe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function S8(e){return`1D error band does not support ${e}.`}function VK(e){return`Channel ${e} is required for "binned" bin.`}function wDe(e){return`Channel ${e} should not be used with "binned" bin.`}function SDe(e){return`Domain for ${e} is required for threshold scale.`}const WK=q4(G4);let np=WK;function ADe(e){return np=e,np}function TDe(){return np=WK,np}function we(...e){np.warn(...e)}function kDe(...e){np.debug(...e)}function od(e){if(e&&Me(e)){for(const t of m$)if(t in e)return!0}return!1}const jK=["january","february","march","april","may","june","july","august","september","october","november","december"],CDe=jK.map(e=>e.substr(0,3)),GK=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],FDe=GK.map(e=>e.substr(0,3));function ODe(e){if(Dw(e)&&(e=+e),Rt(e))return e>4&&we(db("quarter",e)),e-1;throw new Error(db("quarter",e))}function NDe(e){if(Dw(e)&&(e=+e),Rt(e))return e-1;{const t=e.toLowerCase(),n=jK.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=CDe.indexOf(r);if(i!==-1)return i;throw new Error(db("month",e))}}function DDe(e){if(Dw(e)&&(e=+e),Rt(e))return e%7;{const t=e.toLowerCase(),n=GK.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=FDe.indexOf(r);if(i!==-1)return i;throw new Error(db("day",e))}}function g$(e,t){const n=[];if(t&&e.day!==void 0&&Ee(e).length>1&&(we(yDe(e)),e=st(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?NDe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?ODe(e.quarter):e.quarter;n.push(Rt(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?DDe(e.day):e.day;n.push(Rt(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Oh(e){const n=g$(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function $De(e){const n=g$(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function RDe(e){const t=g$(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const qK={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},m$=Ee(qK);function IDe(e){return!!qK[e]}function ld(e){return Me(e)?e.binned:XK(e)}function XK(e){return e&&e.startsWith("binned")}function x$(e){return e.startsWith("utc")}function MDe(e){return e.substring(3)}const LDe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Vw(e){return m$.filter(t=>KK(e,t))}function YK(e){const t=Vw(e);return t[t.length-1]}function KK(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function PDe(e,t,{end:n}={end:!1}){const r=i$(t),i=x$(e)?"utc":"";function s(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let a;const o={};for(const l of m$)KK(e,l)&&(o[l]=s(l),a=l);return n&&(o[a]+="+1"),$De(o)}function JK(e){if(!e)return;const t=Vw(e);return`timeUnitSpecifier(${Qt(t)}, ${Qt(LDe)})`}function BDe(e,t,n){if(!e)return;const r=JK(e);return`${n||x$(e)?"utc":"time"}Format(${t}, ${r})`}function pr(e){if(!e)return;let t;return Pe(e)?XK(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Me(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),x$(t.unit)&&(t.utc=!0,t.unit=MDe(t.unit)),t}function UDe(e){const{utc:t,...n}=pr(e);return n.unit?(t?"utc":"")+Ee(n).map(r=>fn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+Ee(n).map(r=>fn(`_${r}_${n[r]}`)).join("")}function ZK(e,t=n=>n){const n=pr(e),r=YK(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:a}=QK(r,n.step),o={...i,[a]:+i[a]+s};return`${t(Oh(o))} - ${t(Oh(i))}`}}const zDe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function HDe(e){return!!zDe[e]}function QK(e,t=1){if(HDe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function VDe(e){return e==null?void 0:e.param}function v$(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function y$(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function _$(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function b$(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function E$(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function w$(e){if(e!=null&&e.field){if(me(e.range)&&e.range.length===2)return!0;if(Ge(e.range))return!0}return!1}function S$(e){return!!(e!=null&&e.field)&&(me(e.oneOf)||me(e.in))}function WDe(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function eJ(e){return S$(e)||v$(e)||w$(e)||y$(e)||b$(e)||_$(e)||E$(e)}function fo(e,t){return Qw(e,{timeUnit:t,wrapTime:!0})}function jDe(e,t){return e.map(n=>fo(n,t))}function tJ(e,t=!0){const{field:n}=e,r=pr(e.timeUnit),{unit:i,binned:s}=r||{},a=Re(e,{expr:"datum"}),o=i?`time(${s?a:PDe(i,n)})`:a;if(v$(e))return`${o}===${fo(e.equal,i)}`;if(y$(e)){const l=e.lt;return`${o}<${fo(l,i)}`}else if(b$(e)){const l=e.gt;return`${o}>${fo(l,i)}`}else if(_$(e)){const l=e.lte;return`${o}<=${fo(l,i)}`}else if(E$(e)){const l=e.gte;return`${o}>=${fo(l,i)}`}else{if(S$(e))return`indexof([${jDe(e.oneOf,i).join(",")}], ${o}) !== -1`;if(WDe(e))return Ww(o,e.valid);if(w$(e)){const{range:l}=e,c=Ge(l)?{signal:`${l.signal}[0]`}:l[0],u=Ge(l)?{signal:`${l.signal}[1]`}:l[1];if(c!==null&&u!==null&&t)return"inrange("+o+", ["+fo(c,i)+", "+fo(u,i)+"])";const f=[];return c!==null&&f.push(`${o} >= ${fo(c,i)}`),u!==null&&f.push(`${o} <= ${fo(u,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Qt(e)}`)}function Ww(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function GDe(e){return eJ(e)&&e.timeUnit?{...e,timeUnit:pr(e.timeUnit)}:e}const Vx={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function qDe(e){return e==="quantitative"||e==="temporal"}function nJ(e){return e==="ordinal"||e==="nominal"}const Nh=Vx.quantitative,A$=Vx.ordinal,rp=Vx.temporal,T$=Vx.nominal,Hp=Vx.geojson;function XDe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Nh:return"quantitative";case"t":case rp:return"temporal";case"o":case A$:return"ordinal";case"n":case T$:return"nominal";case Hp:return"geojson"}}const _r={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},SF={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function YDe(e,t){const n=SF[e],r=SF[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const KDe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function A8(e){return KDe[e]}const rJ=new Set(["linear","log","pow","sqrt","symlog"]),iJ=new Set([...rJ,"time","utc"]);function sJ(e){return rJ.has(e)}const aJ=new Set(["quantile","quantize","threshold"]),JDe=new Set([...iJ,...aJ,"sequential","identity"]),ZDe=new Set(["ordinal","bin-ordinal","point","band"]);function gr(e){return ZDe.has(e)}function Ga(e){return JDe.has(e)}function Ao(e){return iJ.has(e)}function ip(e){return aJ.has(e)}const QDe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function e$e(e){return!Pe(e)&&!!e.name}function oJ(e){return e==null?void 0:e.param}function t$e(e){return e==null?void 0:e.unionWith}function n$e(e){return Me(e)&&"field"in e}const r$e={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:het,domain:det,range:pet,rangeMax:get,rangeMin:met,scheme:xet,...i$e}=r$e,s$e=Ee(i$e);function AF(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Ao(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Ao(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Ao(e);case"nice":return Ao(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Ga(e)&&!yt(["log","time","utc","threshold","quantile"],e)}}function lJ(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return p0(e)?void 0:tDe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function a$e(e,t){return yt([A$,T$],t)?e===void 0||gr(e):t===rp?yt([_r.TIME,_r.UTC,void 0],e):t===Nh?sJ(e)||ip(e)||e===void 0:!0}function o$e(e,t,n=!1){if(!rl(e))return!1;switch(e){case dn:case xr:case ju:case zp:case xa:case no:return Ao(t)||t==="band"?!0:t==="point"?!n:!1;case ac:case Xu:case oc:case Gu:case qu:case id:return Ao(t)||ip(t)||yt(["band","point","ordinal"],t);case ts:case el:case tl:return t!=="band";case Yu:case ns:return t==="ordinal"||ip(t)}}function l$e(e){return Me(e)&&"value"in e}const Ri={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},cJ=Ri.arc,jw=Ri.area,Gw=Ri.bar,c$e=Ri.image,qw=Ri.line,Xw=Ri.point,u$e=Ri.rect,pb=Ri.rule,uJ=Ri.text,k$=Ri.tick,f$e=Ri.trail,C$=Ri.circle,F$=Ri.square,fJ=Ri.geoshape;function Zu(e){return["line","area","trail"].includes(e)}function $1(e){return["rect","bar","image","arc"].includes(e)}const h$e=new Set(Ee(Ri));function Ho(e){return e.type}const d$e=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],p$e=["fill","fillOpacity"],g$e=[...d$e,...p$e],m$e={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},T8=Ee(m$e),x$e={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},v$e={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},y$e={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},hJ=Ee(y$e);function Dh(e){return e&&e.band!=null}const _$e={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},dJ=5,b$e={binSpacing:1,continuousBandSize:dJ,minBandSize:.25,timeUnitBandPosition:.5},E$e={binSpacing:0,continuousBandSize:dJ,minBandSize:.25,timeUnitBandPosition:.5},w$e={thickness:1};function S$e(e){return Ho(e)?e.type:e}function pJ(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function O$({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var o,l;if(!r||!Ga(r)||i)return"always-valid";const s=pJ(Xt("invalid",e,t),{isPath:Zu(e.type)});return((l=(o=t.scale)==null?void 0:o.invalid)==null?void 0:l[n])!==void 0?"show":s}function A$e(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function gJ({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,s=`peek(${r})`,a=t.domainHasZero();return a==="definitely"?{scale:e,value:0}:a==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:s})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:s})`}}function mJ({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:s}){var u;const a=n==null?void 0:n.get("type"),o=Xa(t),l=Uw(o==null?void 0:o.aggregate),c=O$({scaleChannel:e,markDef:i,config:s,scaleType:a,isCountAggregate:l});if(o&&c==="show"){const f=((u=s.scale.invalid)==null?void 0:u[e])??"zero-or-min";return{test:Ww(Re(o,{expr:"datum"}),!1),...T$e(f,n,r)}}}function T$e(e,t,n){if(l$e(e)){const{value:r}=e;return Ge(r)?{signal:r.signal}:{value:r}}return gJ({scale:t,scaleName:n,mode:"zeroOrMin"})}function N$(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:s,config:a}=e,o=sd(t),l=D$(e),c=mJ({scaleChannel:o,channelDef:n,scale:i,scaleName:s,markDef:r,config:a});return c!==void 0?[c,l]:l}function k$e(e){const{datum:t}=e;return od(t)?Oh(t):`${Qt(t)}`}function eh(e,t,n,r){const i={};if(t&&(i.scale=t),il(e)){const{datum:s}=e;od(s)?i.signal=Oh(s):Ge(s)?i.signal=s.signal:Hx(s)?i.signal=s.expr:i.value=s}else i.field=Re(e,n);if(r){const{offset:s,band:a}=r;s&&(i.offset=s),a&&(i.band=a)}return i}function gb({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:a=.5}){const o=!Ge(a)&&0<a&&a<1?"datum":void 0,l=Re(t,{expr:o,suffix:i}),c=n!==void 0?Re(n,{expr:o}):Re(t,{suffix:s,expr:o}),u={};if(a===0||a===1){u.scale=e;const f=a===0?l:c;u.field=f}else{const f=Ge(a)?`(1-${a.signal}) * ${l} + ${a.signal} * ${c}`:`${1-a} * ${l} + ${a} * ${c}`;u.signal=`scale("${e}", ${f})`}return r&&(u.offset=r),u}function C$e({scaleName:e,fieldDef:t}){const n=Re(t,{expr:"datum"}),r=Re(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function D$({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:a,stack:o,offset:l,defaultRef:c,bandPosition:u}){if(t){if(at(t)){const f=a==null?void 0:a.get("type");if(Di(t)){u??(u=Su({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:h,timeUnit:d,type:p}=t;if(sn(h)||u&&d&&p===rp)return o!=null&&o.impute?eh(t,s,{binSuffix:"mid"},{offset:l}):u&&!gr(f)?gb({scaleName:s,fieldOrDatumDef:t,bandPosition:u,offset:l}):eh(t,s,Xx(t,e)?{binSuffix:"range"}:{},{offset:l});if(yr(h)){if(ke(n))return gb({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:u,offset:l});we(VK(e===dn?to:Qo))}}return eh(t,s,gr(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?u??t.bandPosition??.5:void 0})}else if(qa(t)){const f=t.value,h=l?{offset:l}:{};return{...Om(e,f),...h}}}return ft(c)&&(c=c()),c&&{...c,...l?{offset:l}:{}}}function Om(e,t){return yt(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:yt(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:rn(t)}function $h(e){return e&&e!=="number"&&e!=="time"}function xJ(e,t,n){return`${e}(${t}${n?`, ${Qt(n)}`:""})`}const F$e="  ";function $$({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){var l,c;if($h(n))return La({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const a=vJ(e,r,i),o=sp(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(o==="quantitative"){if(i&&s.normalizedNumberFormatType)return La({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return La({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(o==="temporal"&&s.timeFormatType&&ke(e)&&e.timeUnit===void 0)return La({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(op(e)){const u=N$e({field:a,timeUnit:ke(e)?(l=pr(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:cd(e)&&((c=e.scale)==null?void 0:c.type)===_r.UTC});return u?{signal:u}:void 0}if(t=TF({type:o,specifiedFormat:t,config:s,normalizeStack:i}),ke(e)&&sn(e.bin)){const u=Re(e,{expr:r,binSuffix:"end"});return{signal:Wx(a,u,t,n,s)}}else return t||sp(e)==="quantitative"?{signal:`${bJ(a,t)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function vJ(e,t,n){return ke(e)?n?`${Re(e,{expr:t,suffix:"end"})}-${Re(e,{expr:t,suffix:"start"})}`:Re(e,{expr:t}):k$e(e)}function La({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:a}){if(a??(a=vJ(e,r,i)),a!=="datum.value"&&ke(e)&&sn(e.bin)){const o=Re(e,{expr:r,binSuffix:"end"});return{signal:Wx(a,o,t,n,s)}}return{signal:xJ(n,a,t)}}function yJ(e,t,n,r,i,s){var a;if(!(Pe(r)&&$h(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&sp(e)==="quantitative"&&(i.normalizedNumberFormatType&&ap(e)&&e.stack==="normalize"||i.numberFormatType))){if(ap(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return TF({type:"quantitative",config:i,normalizeStack:!0});if(op(e)){const o=ke(e)?(a=pr(e.timeUnit))==null?void 0:a.unit:void 0;return o===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:O$e({specifiedFormat:n,timeUnit:o,config:i,omitTimeFormatConfig:s})}return TF({type:t,specifiedFormat:n,config:i})}}function _J(e,t,n){var r;if(e&&(Ge(e)||e==="number"||e==="time"))return e;if(op(t)&&n!=="time"&&n!=="utc")return ke(t)&&((r=pr(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function TF({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Pe(t))return t;if(e===Nh)return r?n.normalizedNumberFormat:n.numberFormat}function O$e({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:JK(t)}:r?void 0:n.timeFormat)}function bJ(e,t){return`format(${e}, "${t||""}")`}function k8(e,t,n,r){return $h(n)?xJ(n,e,t):bJ(e,(Pe(t)?t:void 0)??r.numberFormat)}function Wx(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Wx(e,t,i.numberFormat,i.numberFormatType,i);const s=k8(e,n,r,i),a=k8(t,n,r,i);return`${Ww(e,!1)} ? "null" : ${s} + "${F$e}" + ${a}`}function N$e({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Pe(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):BDe(t,e,s)}const Yw="min",D$e={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function C8(e){return e in D$e}function $$e(e){return!!(e!=null&&e.encoding)}function Bl(e){return e&&(e.op==="count"||!!e.field)}function EJ(e){return e&&me(e)}function jx(e){return"row"in e||"column"in e}function R$(e){return!!e&&"header"in e}function Kw(e){return"facet"in e}function R$e(e){return e.param}function I$e(e){return e&&!Pe(e)&&"repeat"in e}function F8(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function I$(e){return"sort"in e}function Su({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(at(e)&&e.bandPosition!==void 0)return e.bandPosition;if(ke(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return zo("timeUnitBandPosition",n,r);if(sn(s))return .5}}function wJ({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:a}){var c,u,f;const o=rs(e),l=Xt(a?"size":o,r,i,{vgChannel:o});if(l!==void 0)return l;if(ke(t)){const{timeUnit:h,bin:d}=t;if(h&&!n)return{band:zo("timeUnitBandSize",r,i)};if(sn(d)&&!gr(s))return{band:1}}if($1(r.type))return s?gr(s)?((c=i[r.type])==null?void 0:c.discreteBandSize)||{band:1}:(u=i[r.type])==null?void 0:u.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function SJ(e,t,n,r){return sn(e.bin)||e.timeUnit&&Di(e)&&e.type==="temporal"?Su({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function AJ(e){return e&&!!e.sort&&!e.field}function Gx(e){return e&&"condition"in e}function Jw(e){const t=e==null?void 0:e.condition;return!!t&&!me(t)&&ke(t)}function qx(e){const t=e==null?void 0:e.condition;return!!t&&!me(t)&&at(t)}function M$e(e){const t=e==null?void 0:e.condition;return!!t&&(me(t)||qa(t))}function ke(e){return e&&(!!e.field||e.aggregate==="count")}function sp(e){return e==null?void 0:e.type}function il(e){return e&&"datum"in e}function qc(e){return Di(e)&&!xb(e)||mb(e)}function O8(e){return Di(e)&&e.type==="quantitative"&&!e.bin||mb(e)}function mb(e){return il(e)&&Rt(e.datum)}function at(e){return ke(e)||il(e)}function Di(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function qa(e){return e&&"value"in e&&"value"in e}function cd(e){return e&&("scale"in e||"sort"in e)}function ap(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function TJ(e){return e&&"legend"in e}function kJ(e){return e&&("format"in e||"formatType"in e)}function L$e(e){return Xi(e,["legend","axis","header","scale"])}function P$e(e){return"op"in e}function Re(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(U$e(e))n=gK("count");else{let a;if(!t.nofn)if(P$e(e))a=e.op;else{const{bin:o,aggregate:l,timeUnit:c}=e;sn(o)?(a=FK(o),i=(t.binSuffix??"")+(t.suffix??"")):l?Ku(l)?(s=`["${n}"]`,n=`argmax_${l.argmax}`):Kl(l)?(s=`["${n}"]`,n=`argmin_${l.argmin}`):a=String(l):c&&!ld(c)&&(a=UDe(c),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}a&&(n=n?`${a}_${n}`:a)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Up(n):t.expr?hK(n,t.expr)+s:ha(n)+s}function xb(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ke(e)&&!!e.bin;case"temporal":return!1}throw new Error(BK(e.type))}function B$e(e){var t;return cd(e)&&ip((t=e.scale)==null?void 0:t.type)}function U$e(e){return e.aggregate==="count"}function z$e(e,t){var a;const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(sn(r))return`${n} (binned)`;if(i&&!ld(i)){const o=(a=pr(i))==null?void 0:a.unit;if(o)return`${n} (${Vw(o).join("-")})`}else if(s)return Ku(s)?`${n} for max ${s.argmax}`:Kl(s)?`${n} for min ${s.argmin}`:`${Px(s)} of ${n}`;return n}function H$e(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Ku(t))return`${i} for argmax(${t.argmax})`;if(Kl(t))return`${i} for argmin(${t.argmin})`;const s=r&&!ld(r)?pr(r):void 0,a=t||(s==null?void 0:s.unit)||(s==null?void 0:s.maxbins)&&"timeunit"||sn(n)&&"bin";return a?`${a.toUpperCase()}(${i})`:i}const CJ=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return H$e(e);default:return z$e(e,t)}};let FJ=CJ;function OJ(e){FJ=e}function V$e(){OJ(CJ)}function g0(e,t,{allowDisabling:n,includeDefault:r=!0}){var o;const i=(o=M$(e))==null?void 0:o.title;if(!ke(e))return i??e.title;const s=e,a=r?L$(s,t):void 0;return n?Nn(i,s.title,a):i??s.title??a}function M$(e){if(ap(e)&&e.axis)return e.axis;if(TJ(e)&&e.legend)return e.legend;if(R$(e)&&e.header)return e.header}function L$(e,t){return FJ(e,t)}function vb(e){if(kJ(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=M$(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function W$e(e,t){var s;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(I$(e)&&me(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Ku(n)&&!Kl(n))return"quantitative";if(cd(e)&&((s=e.scale)!=null&&s.type))switch(SF[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Xa(e){if(ke(e))return e;if(Jw(e))return e.condition}function Jn(e){if(at(e))return e;if(qx(e))return e.condition}function NJ(e,t,n,r={}){if(Pe(e)||Rt(e)||Hu(e)){const i=Pe(e)?"string":Rt(e)?"number":"boolean";return we(VNe(t,i,e)),{value:e}}return at(e)?yb(e,t,n,r):qx(e)?{...e,condition:yb(e.condition,t,n,r)}:e}function yb(e,t,n,r){if(kJ(e)){const{format:i,formatType:s,...a}=e;if($h(s)&&!n.customFormatTypes)return we(E8(t)),yb(a,t,n,r)}else{const i=ap(e)?"axis":TJ(e)?"legend":R$(e)?"header":null;if(i&&e[i]){const{format:s,formatType:a,...o}=e[i];if($h(a)&&!n.customFormatTypes)return we(E8(t)),yb({...e,[i]:o},t,n,r)}}return ke(e)?P$(e,t,r):j$e(e)}function j$e(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Rt(n)?"quantitative":Pe(n)?"nominal":od(n)?"temporal":void 0,{...e,type:t}}function P$(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:a}=e,o={...e};if(!n&&r&&!h$(r)&&!Ku(r)&&!Kl(r)&&(we(jNe(r)),delete o.aggregate),i&&(o.timeUnit=pr(i)),a&&(o.field=`${a}`),sn(s)&&(o.bin=Zw(s,t)),yr(s)&&!Dn(t)&&we(wDe(t)),Di(o)){const{type:l}=o,c=XDe(l);l!==c&&(o.type=c),l!=="quantitative"&&Uw(r)&&(we(WNe(l,r)),o.type="quantitative")}else if(!wK(t)){const l=W$e(o,t);o.type=l}if(Di(o)){const{compatible:l,warning:c}=G$e(o,t)||{};l===!1&&we(c)}if(I$(o)&&Pe(o.sort)){const{sort:l}=o;if(C8(l))return{...o,sort:{encoding:l}};const c=l.substr(1);if(l.charAt(0)==="-"&&C8(c))return{...o,sort:{encoding:c,order:"descending"}}}if(R$(o)){const{header:l}=o;if(l){const{orient:c,...u}=l;if(c)return{...o,header:{...u,labelOrient:l.labelOrient||c,titleOrient:l.titleOrient||c}}}}return o}function Zw(e,t){return Hu(e)?{maxbins:d8(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:d8(t)}:e}const Od={compatible:!0};function G$e(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Ll:case Pl:case $w:return xb(e)?Od:{compatible:!1,warning:YNe(t)};case dn:case xr:case ju:case zp:case ts:case el:case tl:case Bx:case Ux:case Rw:case Fh:case Iw:case Mw:case id:case xa:case no:case Lw:return Od;case io:case da:case ro:case so:return n!==Nh?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Od;case oc:case Gu:case qu:case Xu:case ac:case sc:case ic:case to:case Qo:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Od;case ns:case Yu:return!xb(e)&&!B$e(e)?{compatible:!1,warning:KNe(t)}:Od;case tp:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Od}}function op(e){const{formatType:t}=vb(e);return t==="time"||!t&&q$e(e)}function q$e(e){return e&&(e.type==="temporal"||ke(e)&&!!e.timeUnit)}function Qw(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const s=t&&((l=pr(t))==null?void 0:l.unit);let a=s||n==="temporal",o;return Hx(e)?o=e.expr:Ge(e)?o=e.signal:od(e)?(a=!0,o=Oh(e)):(Pe(e)||Rt(e))&&a&&(o=`datetime(${Qt(e)})`,IDe(s)&&(Rt(e)&&e<1e4||Pe(e)&&isNaN(Date.parse(e)))&&(o=Oh({[s]:e}))),o?r&&a?`time(${o})`:o:i?void 0:Qt(e)}function DJ(e,t){const{type:n}=e;return t.map(r=>{const i=ke(e)&&!ld(e.timeUnit)?e.timeUnit:void 0,s=Qw(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function Xx(e,t){return sn(e.bin)?rl(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const N8={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Yx(e){return e==null?void 0:e.condition}const $J=["domain","grid","labels","ticks","title"],X$e={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},RJ={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Y$e={...RJ,style:1,labelExpr:1,encoding:1};function D8(e){return!!Y$e[e]}const K$e={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},IJ=Ee(K$e);function cc(e){return"mark"in e}class eS{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return cc(t)?S$e(t.mark)===this.name:!1}}function th(e,t){const n=e&&e[t];return n?me(n)?Q0(n,r=>!!r.field):ke(n)||Jw(n):!1}function MJ(e,t){const n=e&&e[t];return n?me(n)?Q0(n,r=>!!r.field):ke(n)||il(n)||qx(n):!1}function LJ(e,t){if(Dn(t)){const n=e[t];if((ke(n)||il(n))&&(nJ(n.type)||ke(n)&&n.timeUnit)){const r=Pw(t);return MJ(e,r)}}return!1}function PJ(e){return Q0(KOe,t=>{if(th(e,t)){const n=e[t];if(me(n))return Q0(n,r=>!!r.aggregate);{const r=Xa(n);return r&&!!r.aggregate}}return!1})}function BJ(e,t){const n=[],r=[],i=[],s=[],a={};return B$(e,(o,l)=>{if(ke(o)){const{field:c,aggregate:u,bin:f,timeUnit:h,...d}=o;if(u||h||f){const p=M$(o),g=p==null?void 0:p.title;let m=Re(o,{forAs:!0});const x={...g?[]:{title:g0(o,t,{allowDisabling:!0})},...d,field:m};if(u){let y;if(Ku(u)?(y="argmax",m=Re({op:"argmax",field:u.argmax},{forAs:!0}),x.field=`${m}.${c}`):Kl(u)?(y="argmin",m=Re({op:"argmin",field:u.argmin},{forAs:!0}),x.field=`${m}.${c}`):u!=="boxplot"&&u!=="errorbar"&&u!=="errorband"&&(y=u),y){const v={op:y,as:m};c&&(v.field=c),s.push(v)}}else if(n.push(m),Di(o)&&sn(f)){if(r.push({bin:f,field:c,as:m}),n.push(Re(o,{binSuffix:"end"})),Xx(o,l)&&n.push(Re(o,{binSuffix:"range"})),Dn(l)){const y={field:`${m}_end`};a[`${l}2`]=y}x.bin="binned",wK(l)||(x.type=Nh)}else if(h&&!ld(h)){i.push({timeUnit:h,field:c,as:m});const y=Di(o)&&o.type!==rp&&"time";y&&(l===Bx||l===Fh?x.formatType=y:aNe(l)?x.legend={formatType:y,...x.legend}:Dn(l)&&(x.axis={formatType:y,...x.axis}))}a[l]=x}else n.push(c),a[l]=e[l]}else a[l]=e[l]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:a}}function J$e(e,t,n){const r=lNe(t,n);if(r){if(r==="binned"){const i=e[t===to?dn:xr];return!!(ke(i)&&ke(e[t])&&yr(i.bin))}}else return!1;return!0}function Z$e(e,t,n,r){const i={};for(const s of Ee(e))EK(s)||we(XNe(s));for(let s of nNe){if(!e[s])continue;const a=e[s];if(zx(s)){const o=tNe(s),l=i[o];if(ke(l)&&qDe(l.type)&&ke(a)&&!l.timeUnit){we(HNe(o));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(we(zNe),s=xa),!J$e(e,s,t)){we(Hw(s,t));continue}if(s===ac&&t==="line"){const o=Xa(e[s]);if(o!=null&&o.aggregate){we(qNe);continue}}if(s===ts&&(n?"fill"in e:"stroke"in e)){we(UK("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===Ux||s===tp&&!me(a)&&!qa(a)||s===Fh&&me(a)){if(a){if(s===tp){const o=e[s];if(AJ(o)){i[s]=o;continue}}i[s]=Le(a).reduce((o,l)=>(ke(l)?o.push(P$(l,s)):we(wF(l,s)),o),[])}}else{if(s===Fh&&a===null)i[s]=null;else if(!ke(a)&&!il(a)&&!qa(a)&&!Gx(a)&&!Ge(a)){we(wF(a,s));continue}i[s]=NJ(a,s,r)}}return i}function tS(e,t){const n={};for(const r of Ee(e)){const i=NJ(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function Q$e(e){const t=[];for(const n of Ee(e))if(th(e,n)){const r=e[n],i=Le(r);for(const s of i)ke(s)?t.push(s):Jw(s)&&t.push(s.condition)}return t}function B$(e,t,n){if(e)for(const r of Ee(e)){const i=e[r];if(me(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function eRe(e,t,n,r){return e?Ee(e).reduce((i,s)=>{const a=e[s];return me(a)?a.reduce((o,l)=>t.call(r,o,l,s),i):t.call(r,i,a,s)},n):n}function UJ(e,t){return Ee(t).reduce((n,r)=>{switch(r){case dn:case xr:case Iw:case Lw:case Mw:case to:case Qo:case ju:case zp:case xa:case sc:case no:case ic:case ro:case io:case so:case da:case Bx:case ns:case id:case Fh:return n;case tp:if(e==="line"||e==="trail")return n;case Ux:case Rw:{const i=t[r];if(me(i)||ke(i))for(const s of Le(i))s.aggregate||n.push(Re(s,{}));return n}case ac:if(e==="trail")return n;case ts:case el:case tl:case oc:case Gu:case qu:case Yu:case Xu:{const i=Xa(t[r]);return i&&!i.aggregate&&n.push(Re(i,{})),n}}},[])}function tRe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(me(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return me(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function kF(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:a,titlePrefix:o})=>{const l=r?` of ${U$(t)}`:"";return{field:a+t.field,type:t.type,title:Ge(o)?{signal:`${o}"${escape(l)}"`}:o+l}}),s=Q$e(n).map(L$e);return{tooltip:[...i,...So(s,wt)]}}function U$(e){const{title:t,field:n}=e;return Nn(t,n)}function z$(e,t,n,r,i){const{scale:s,axis:a}=n;return({partName:o,mark:l,positionPrefix:c,endPositionPrefix:u=void 0,extraEncoding:f={}})=>{const h=U$(n);return zJ(e,o,i,{mark:l,encoding:{[t]:{field:`${c}_${n.field}`,type:n.type,...h!==void 0?{title:h}:{},...s!==void 0?{scale:s}:{},...a!==void 0?{axis:a}:{}},...Pe(u)?{[`${t}2`]:{field:`${u}_${n.field}`}}:{},...r,...f}})}}function zJ(e,t,n,r){const{clip:i,color:s,opacity:a}=e,o=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...a?{opacity:a}:{},...Ho(r.mark)?r.mark:{type:r.mark},style:`${o}-${String(t)}`,...Hu(e[t])?{}:e[t]}}]:[]}function HJ(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],a=r[`${i}2`],o=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:ly(s,n),continuousAxisChannelDef2:ly(a,n),continuousAxisChannelDefError:ly(o,n),continuousAxisChannelDefError2:ly(l,n),continuousAxis:i}}function ly(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&we(EDe(n,t)),r}else return e}function VJ(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(Ho(n)&&n.orient)return n.orient;if(qc(i)){if(qc(s)){const a=ke(i)&&i.aggregate,o=ke(s)&&s.aggregate;if(!a&&o===t)return"vertical";if(!o&&a===t)return"horizontal";if(a===t&&o===t)throw new Error("Both x and y cannot have aggregate");return op(s)&&!op(i)?"horizontal":"vertical"}return"horizontal"}else{if(qc(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const _b="boxplot",nRe=["box","median","outliers","rule","ticks"],rRe=new eS(_b,jJ);function WJ(e){return Rt(e)?"tukey":e}function jJ(e,{config:t}){e={...e,encoding:tS(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...a}=e,o=Ho(n)?n:{type:n};i&&we(PK("boxplot"));const l=o.extent??t.boxplot.extent,c=Xt("size",o,t),u=o.invalid,f=WJ(l),{bins:h,timeUnits:d,transform:p,continuousAxisChannelDef:g,continuousAxis:m,groupby:x,aggregate:y,encodingWithoutContinuousAxis:v,ticksOrient:_,boxOrient:b,customTooltipWithoutAggregatedField:w}=iRe(e,l,t),E=Up(g.field),{color:A,size:S,...T}=v,C=ne=>z$(o,m,g,ne,t.boxplot),O=C(T),F=C(v),I=(Me(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",D=C({...T,...S?{size:S}:{},color:{condition:{test:`datum['lower_box_${g.field}'] >= datum['upper_box_${g.field}']`,...A||{value:I}}}}),N=kF([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,v),M={type:"tick",color:"black",opacity:1,orient:_,invalid:u,aria:!1},U=f==="min-max"?N:kF([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,v),J=[...O({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:U}),...O({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:U}),...O({partName:"ticks",mark:M,positionPrefix:"lower_whisker",extraEncoding:U}),...O({partName:"ticks",mark:M,positionPrefix:"upper_whisker",extraEncoding:U})],X=[...f!=="tukey"?J:[],...F({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:b,invalid:u,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:N}),...D({partName:"median",mark:{type:"tick",invalid:u,...Me(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:N})];if(f==="min-max")return{...a,transform:(a.transform??[]).concat(p),layer:X};const ce=`datum["lower_box_${g.field}"]`,ve=`datum["upper_box_${g.field}"]`,_e=`(${ve} - ${ce})`,de=`${ce} - ${l} * ${_e}`,Fe=`${ve} + ${l} * ${_e}`,Ne=`datum["${g.field}"]`,je={joinaggregate:GJ(g.field),groupby:x},z={transform:[{filter:`(${de} <= ${Ne}) && (${Ne} <= ${Fe})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${E}`},{op:"max",field:g.field,as:`upper_whisker_${E}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${E}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${E}`},...y],groupby:x}],layer:J},{tooltip:q,...G}=T,{scale:H,axis:K}=g,k=U$(g),P=Xi(K,["title"]),Y=zJ(o,"outliers",t.boxplot,{transform:[{filter:`(${Ne} < ${de}) || (${Ne} > ${Fe})`}],mark:"point",encoding:{[m]:{field:g.field,type:g.type,...k!==void 0?{title:k}:{},...H!==void 0?{scale:H}:{},...Zt(P)?{}:{axis:P}},...G,...A?{color:A}:{},...w?{tooltip:w}:{}}})[0];let Z;const ee=[...h,...d,je];return Y?Z={transform:ee,layer:[Y,z]}:(Z=z,Z.transform.unshift(...ee)),{...a,layer:[Z,{transform:p,layer:X}]}}function GJ(e){const t=Up(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function iRe(e,t,n){const r=VJ(e,_b),{continuousAxisChannelDef:i,continuousAxis:s}=HJ(e,r,_b),a=i.field,o=Up(a),l=WJ(t),c=[...GJ(a),{op:"median",field:a,as:`mid_box_${o}`},{op:"min",field:a,as:(l==="min-max"?"lower_whisker_":"min_")+o},{op:"max",field:a,as:(l==="min-max"?"upper_whisker_":"max_")+o}],u=l==="min-max"||l==="tukey"?[]:[{calculate:`datum["upper_box_${o}"] - datum["lower_box_${o}"]`,as:`iqr_${o}`},{calculate:`min(datum["upper_box_${o}"] + datum["iqr_${o}"] * ${t}, datum["max_${o}"])`,as:`upper_whisker_${o}`},{calculate:`max(datum["lower_box_${o}"] - datum["iqr_${o}"] * ${t}, datum["min_${o}"])`,as:`lower_whisker_${o}`}],{[s]:f,...h}=e.encoding,{customTooltipWithoutAggregatedField:d,filteredEncoding:p}=tRe(h),{bins:g,timeUnits:m,aggregate:x,groupby:y,encoding:v}=BJ(p,n),_=r==="vertical"?"horizontal":"vertical",b=r,w=[...g,...m,{aggregate:[...x,...c],groupby:y},...u];return{bins:g,timeUnits:m,transform:w,groupby:y,aggregate:x,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:v,ticksOrient:_,boxOrient:b,customTooltipWithoutAggregatedField:d}}const H$="errorbar",sRe=["ticks","rule"],aRe=new eS(H$,qJ);function qJ(e,{config:t}){e={...e,encoding:tS(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:a,markDef:o,outerSpec:l,tooltipEncoding:c}=XJ(e,H$,t);delete s.size;const u=z$(o,i,r,s,t.errorbar),f=o.thickness,h=o.size,d={type:"tick",orient:a,aria:!1,...f!==void 0?{thickness:f}:{},...h!==void 0?{size:h}:{}},p=[...u({partName:"ticks",mark:d,positionPrefix:"lower",extraEncoding:c}),...u({partName:"ticks",mark:d,positionPrefix:"upper",extraEncoding:c}),...u({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function oRe(e,t){const{encoding:n}=e;if(lRe(n))return{orient:VJ(e,t),inputType:"raw"};const r=cRe(n),i=uRe(n),s=n.x,a=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const o=n.x2,l=n.y2;if(at(o)&&at(l))throw new Error(`${t} cannot have both x2 and y2`);if(at(o)){if(qc(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(at(l)){if(qc(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const o=n.xError,l=n.xError2,c=n.yError,u=n.yError2;if(at(l)&&!at(o))throw new Error(`${t} cannot have xError2 without xError`);if(at(u)&&!at(c))throw new Error(`${t} cannot have yError2 without yError`);if(at(o)&&at(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(at(o)){if(qc(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(at(c)){if(qc(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function lRe(e){return(at(e.x)||at(e.y))&&!at(e.x2)&&!at(e.y2)&&!at(e.xError)&&!at(e.xError2)&&!at(e.yError)&&!at(e.yError2)}function cRe(e){return at(e.x2)||at(e.y2)}function uRe(e){return at(e.xError)||at(e.xError2)||at(e.yError)||at(e.yError2)}function XJ(e,t,n){const{mark:r,encoding:i,params:s,projection:a,...o}=e,l=Ho(r)?r:{type:r};s&&we(PK(t));const{orient:c,inputType:u}=oRe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:h,continuousAxisChannelDefError:d,continuousAxisChannelDefError2:p,continuousAxis:g}=HJ(e,c,t),{errorBarSpecificAggregate:m,postAggregateCalculates:x,tooltipSummary:y,tooltipTitleWithFieldName:v}=fRe(l,f,h,d,p,u,t,n),{[g]:_,[g==="x"?"x2":"y2"]:b,[g==="x"?"xError":"yError"]:w,[g==="x"?"xError2":"yError2"]:E,...A}=i,{bins:S,timeUnits:T,aggregate:C,groupby:O,encoding:F}=BJ(A,n),I=[...C,...m],D=u!=="raw"?[]:O,N=kF(y,f,F,v);return{transform:[...o.transform??[],...S,...T,...I.length===0?[]:[{aggregate:I,groupby:D}],...x],groupby:D,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:F,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:o,tooltipEncoding:N}}function fRe(e,t,n,r,i,s,a,o){let l=[],c=[];const u=t.field;let f,h=!1;if(s==="raw"){const d=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":o.errorbar.center,p=e.extent?e.extent:d==="mean"?"stderr":"iqr";if(d==="median"!=(p==="iqr")&&we(bDe(d,p,a)),p==="stderr"||p==="stdev")l=[{op:p,field:u,as:`extent_${u}`},{op:d,field:u,as:`center_${u}`}],c=[{calculate:`datum["center_${u}"] + datum["extent_${u}"]`,as:`upper_${u}`},{calculate:`datum["center_${u}"] - datum["extent_${u}"]`,as:`lower_${u}`}],f=[{fieldPrefix:"center_",titlePrefix:Px(d)},{fieldPrefix:"upper_",titlePrefix:$8(d,p,"+")},{fieldPrefix:"lower_",titlePrefix:$8(d,p,"-")}],h=!0;else{let g,m,x;p==="ci"?(g="mean",m="ci0",x="ci1"):(g="median",m="q1",x="q3"),l=[{op:m,field:u,as:`lower_${u}`},{op:x,field:u,as:`upper_${u}`},{op:g,field:u,as:`center_${u}`}],f=[{fieldPrefix:"upper_",titlePrefix:g0({field:u,aggregate:x,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:g0({field:u,aggregate:m,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:g0({field:u,aggregate:g,type:"quantitative"},o,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&we(_De(e.center,e.extent)),s==="aggregated-upper-lower"?(f=[],c=[{calculate:`datum["${n.field}"]`,as:`upper_${u}`},{calculate:`datum["${u}"]`,as:`lower_${u}`}]):s==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`datum["${u}"] + datum["${r.field}"]`,as:`upper_${u}`}],i?c.push({calculate:`datum["${u}"] + datum["${i.field}"]`,as:`lower_${u}`}):c.push({calculate:`datum["${u}"] - datum["${r.field}"]`,as:`lower_${u}`}));for(const d of c)f.push({fieldPrefix:d.as.substring(0,6),titlePrefix:Ch(Ch(d.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:h}}function $8(e,t,n){return`${Px(e)} ${n} ${t}`}const V$="errorband",hRe=["band","borders"],dRe=new eS(V$,YJ);function YJ(e,{config:t}){e={...e,encoding:tS(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:a,outerSpec:o,tooltipEncoding:l}=XJ(e,V$,t),c=a,u=z$(c,i,r,s,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let h={type:f?"area":"rect"},d={type:f?"line":"rule"};const p={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return f?(h={...h,...p,ariaRoleDescription:"errorband"},d={...d,...p,aria:!1}):c.interpolate?we(S8("interpolate")):c.tension&&we(S8("tension")),{...o,transform:n,layer:[...u({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...u({partName:"borders",mark:d,positionPrefix:"lower",extraEncoding:l}),...u({partName:"borders",mark:d,positionPrefix:"upper",extraEncoding:l})]}}const KJ={};function W$(e,t,n){const r=new eS(e,t);KJ[e]={normalizer:r,parts:n}}function pRe(){return Ee(KJ)}W$(_b,jJ,nRe);W$(H$,qJ,sRe);W$(V$,YJ,hRe);const gRe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],JJ={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},ZJ={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},mRe=Ee(JJ),xRe=Ee(ZJ),vRe={header:1,headerRow:1,headerColumn:1,headerFacet:1},QJ=Ee(vRe),eZ=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],yRe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},_Re={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ya="_vgsid_",bRe={point:{on:"click",fields:[Ya],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function j$(e){return e==="legend"||!!(e!=null&&e.legend)}function cT(e){return j$(e)&&Me(e)}function G$(e){return!!(e!=null&&e.select)}function tZ(e){const t=[];for(const n of e||[]){if(G$(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const a={...s,bind:i,init:r};t.push(a)}else{const a={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(a)}}return t}function ERe(e){return nS(e)||X$(e)||q$(e)}function q$(e){return"concat"in e}function nS(e){return"vconcat"in e}function X$(e){return"hconcat"in e}function nZ({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Vo(e){return Me(e)&&e.step!==void 0}function R8(e){return e.view||e.width||e.height}const I8=20,wRe={align:1,bounds:1,center:1,columns:1,spacing:1},SRe=Ee(wRe);function ARe(e,t,n){const r=n[t],i={},{spacing:s,columns:a}=r;s!==void 0&&(i.spacing=s),a!==void 0&&(Kw(e)&&!jx(e.facet)||q$(e))&&(i.columns=a),nS(e)&&(i.columns=1);for(const o of SRe)if(e[o]!==void 0)if(o==="spacing"){const l=e[o];i[o]=Rt(l)?l:{row:l.row??s,column:l.column??s}}else i[o]=e[o];return i}function CF(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function bb(e,t){const n=Eb(e,t);return Vo(n)?n.step:rZ}function Eb(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Nn(n,{step:e.step})}const rZ=20,TRe={continuousWidth:200,continuousHeight:200,step:rZ},kRe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:TRe,mark:v$e,arc:{},area:{},bar:b$e,circle:{},geoshape:{},image:{},line:{},point:{},rect:E$e,rule:{color:"black"},square:{},text:{color:"black"},tick:w$e,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:QDe,projection:{},legend:yRe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:bRe,style:{},title:{},facet:{spacing:I8},concat:{spacing:I8},normalizedNumberFormat:".0%"},fl=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],M8={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},L8={blue:fl[0],orange:fl[1],red:fl[2],teal:fl[3],green:fl[4],yellow:fl[5],purple:fl[6],pink:fl[7],brown:fl[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function CRe(e={}){return{signals:[{name:"color",value:Me(e)?{...L8,...e}:L8}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function FRe(e){return{signals:[{name:"fontSize",value:Me(e)?{...M8,...e}:M8}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function ORe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function iZ(e){const t=Ee(e||{}),n={};for(const r of t){const i=e[r];n[r]=Yx(i)?NK(i):ms(i)}return n}function NRe(e){const t=Ee(e),n={};for(const r of t)n[r]=iZ(e[r]);return n}const DRe=[...hJ,...IJ,...QJ,"background","padding","legend","lineBreak","scale","style","title","view"];function sZ(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,a=Fp({},st(kRe),n?ORe(n):{},t?CRe(t):{},r?FRe(r):{},s||{});i&&Op(a,"selection",i,!0);const o=Xi(a,DRe);for(const l of["background","lineBreak","padding"])a[l]&&(o[l]=ms(a[l]));for(const l of hJ)a[l]&&(o[l]=zr(a[l]));for(const l of IJ)a[l]&&(o[l]=iZ(a[l]));for(const l of QJ)a[l]&&(o[l]=zr(a[l]));if(a.legend&&(o.legend=zr(a.legend)),a.scale){const{invalid:l,...c}=a.scale,u=zr(l,{level:1});o.scale={...zr(c),...Ee(u).length>0?{invalid:u}:{}}}return a.style&&(o.style=NRe(a.style)),a.title&&(o.title=zr(a.title)),a.view&&(o.view=zr(a.view)),o}const $Re=new Set(["view",...h$e]),RRe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],IRe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...x$e};function MRe(e){e=st(e);for(const t of RRe)delete e[t];if(e.axis)for(const t in e.axis)Yx(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of gRe)delete e.legend[t];if(e.mark){for(const t of T8)delete e.mark[t];e.mark.tooltip&&Me(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(tZ(e.params)),delete e.params);for(const t of $Re){for(const r of T8)delete e[t][r];const n=IRe[t];if(n)for(const r of n)delete e[t][r];PRe(e,t)}for(const t of pRe())delete e[t];LRe(e);for(const t in e)Me(e[t])&&Zt(e[t])&&delete e[t];return Zt(e)?void 0:e}function LRe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=OK(e.title);Zt(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Zt(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Zt(r)?delete e.title:e.title=r}function PRe(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};Zt(s)||(e.style[n??t]=s),delete e[t]}function rS(e){return"layer"in e}function BRe(e){return"repeat"in e}function URe(e){return!me(e.repeat)&&e.repeat.layer}class Y${map(t,n){return Kw(t)?this.mapFacet(t,n):BRe(t)?this.mapRepeat(t,n):X$(t)?this.mapHConcat(t,n):nS(t)?this.mapVConcat(t,n):q$(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(rS(t))return this.mapLayer(t,n);if(cc(t))return this.mapUnit(t,n);throw new Error(d$(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const zRe={zero:1,center:1,normalize:1};function HRe(e){return e in zRe}const VRe=new Set([cJ,Gw,jw,pb,Xw,C$,F$,qw,uJ,k$]),WRe=new Set([Gw,jw,cJ]);function Nd(e){return ke(e)&&sp(e)==="quantitative"&&!e.bin}function P8(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),a=e[t],o=e[i];if(ke(a)&&ke(o))if(Nd(a)&&Nd(o)){if(a.stack)return t;if(o.stack)return i;const l=ke(a)&&!!a.aggregate,c=ke(o)&&!!o.aggregate;if(l!==c)return l?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Nd(a))return t;if(Nd(o))return i}else{if(Nd(a))return s&&n==="vertical"?void 0:t;if(Nd(o))return s&&n==="horizontal"?void 0:i}}function jRe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function aZ(e,t){var g,m;const n=Ho(e)?e:{type:e},r=n.type;if(!VRe.has(r))return null;const i=P8(t,"x",n)||P8(t,"theta",n);if(!i)return null;const s=t[i],a=ke(s)?Re(s,{}):void 0,o=jRe(i),l=[],c=new Set;if(t[o]){const x=t[o],y=ke(x)?Re(x,{}):void 0;y&&y!==a&&(l.push(o),c.add(y))}const u=o==="x"?"xOffset":"yOffset",f=t[u],h=ke(f)?Re(f,{}):void 0;h&&h!==a&&(l.push(u),c.add(h));const d=rNe.reduce((x,y)=>{if(y!=="tooltip"&&th(t,y)){const v=t[y];for(const _ of Le(v)){const b=Xa(_);if(b.aggregate)continue;const w=Re(b,{});(!w||!c.has(w))&&x.push({channel:y,fieldDef:b})}}return x},[]);let p;return s.stack!==void 0?Hu(s.stack)?p=s.stack?"zero":null:p=s.stack:WRe.has(r)&&(p="zero"),!p||!HRe(p)||PJ(t)&&d.length===0?null:((g=s==null?void 0:s.scale)!=null&&g.type&&((m=s==null?void 0:s.scale)==null?void 0:m.type)!==_r.LINEAR&&s!=null&&s.stack&&we(xDe(s.scale.type)),at(t[nl(i)])?(s.stack!==void 0&&we(mDe(i)),null):(ke(s)&&s.aggregate&&!gNe.has(s.aggregate)&&we(vDe(s.aggregate)),{groupbyChannels:l,groupbyFields:c,fieldChannel:i,impute:s.impute===null?!1:Zu(r),stackBy:d,offset:p}))}function oZ(e,t,n){const r=zr(e),i=Xt("orient",r,n);if(r.orient=YRe(r.type,t,i),i!==void 0&&i!==r.orient&&we(eDe(r.orient,i)),r.type==="bar"&&r.orient){const l=Xt("cornerRadiusEnd",r,n);if(l!==void 0){const c=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:_$e[r.orient];for(const u of c)r[u]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=Xt("opacity",r,n),a=Xt("fillOpacity",r,n);return s===void 0&&a===void 0&&(r.opacity=qRe(r.type,t)),Xt("cursor",r,n)===void 0&&(r.cursor=GRe(r,t,n)),r}function GRe(e,t,n){return t.href||e.href||Xt("href",e,n)?"pointer":e.cursor}function qRe(e,t){if(yt([Xw,k$,C$,F$],e)&&!PJ(t))return .7}function XRe(e,t,{graticule:n}){if(n)return!1;const r=zo("filled",e,t),i=e.type;return Nn(r,i!==Xw&&i!==qw&&i!==pb)}function YRe(e,t,n){switch(e){case Xw:case C$:case F$:case uJ:case u$e:case c$e:return}const{x:r,y:i,x2:s,y2:a}=t;switch(e){case Gw:if(ke(r)&&(yr(r.bin)||ke(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ke(i)&&(yr(i.bin)||ke(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||s){if(n)return n;if(!s)return(ke(r)&&r.type===Nh&&!sn(r.bin)||mb(r))&&ke(i)&&yr(i.bin)?"horizontal":"vertical";if(!a)return(ke(i)&&i.type===Nh&&!sn(i.bin)||mb(i))&&ke(r)&&yr(r.bin)?"vertical":"horizontal"}case pb:if(s&&!(ke(r)&&yr(r.bin))&&a&&!(ke(i)&&yr(i.bin)))return;case jw:if(a)return ke(i)&&yr(i.bin)?"horizontal":"vertical";if(s)return ke(r)&&yr(r.bin)?"vertical":"horizontal";if(e===pb){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case qw:case k$:{const o=O8(r),l=O8(i);if(n)return n;if(o&&!l)return e!=="tick"?"horizontal":"vertical";if(!o&&l)return e!=="tick"?"vertical":"horizontal";if(o&&l)return"vertical";{const c=Di(r)&&r.type===rp,u=Di(i)&&i.type===rp;if(c&&!u)return"vertical";if(!c&&u)return"horizontal"}return}}return"vertical"}function KRe(e){const{point:t,line:n,...r}=e;return Ee(r).length>1?r:r.type}function JRe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Xi(e[t],["point","line"])});return e}function uT(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Me(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Me(t.point)?t.point:{}:void 0}function B8(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class ZRe{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(cc(t)){const{mark:r,encoding:i}=t,s=Ho(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!uT(s,n[s.type],i);case"area":return!!uT(s,n[s.type],i)||!!B8(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:a,mark:o,name:l,encoding:c,...u}=t,f=tS(c,i),h=Ho(o)?o:{type:o},d=uT(h,i[h.type],f),p=h.type==="area"&&B8(h,i[h.type]),g=[{name:l,...s?{params:s}:{},mark:KRe({...h.type==="area"&&h.opacity===void 0&&h.fillOpacity===void 0?{opacity:.7}:{},...h}),encoding:Xi(f,["shape"])}],m=aZ(oZ(h,f,i),f);let x=f;if(m){const{fieldChannel:y,offset:v}=m;x={...f,[y]:{...f[y],...v?{stack:v}:{}}}}return x=Xi(x,["y2","x2"]),p&&g.push({...a?{projection:a}:{},mark:{type:"line",...Z0(h,["clip","interpolate","tension","tooltip"]),...p},encoding:x}),d&&g.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...Z0(h,["clip","tooltip"]),...d},encoding:x}),r({...u,layer:g},{...n,config:JRe(i)})}}function QRe(e,t){return t?jx(e)?cZ(e,t):lZ(e,t):e}function fT(e,t){return t?cZ(e,t):e}function FF(e,t,n){const r=t[e];if(I$e(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};we(RNe(r.repeat));return}return t}function lZ(e,t){if(e=FF("field",e,t),e!==void 0){if(e===null)return null;if(I$(e)&&Bl(e.sort)){const n=FF("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function U8(e,t){if(ke(e))return lZ(e,t);{const n=FF("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function z8(e,t){if(at(e)){const n=U8(e,t);if(n)return n;if(Gx(e))return{condition:e.condition}}else{if(qx(e)){const n=U8(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function cZ(e,t){const n={};for(const r in e)if(Ze(e,r)){const i=e[r];if(me(i))n[r]=i.map(s=>z8(s,t)).filter(s=>s);else{const s=z8(i,t);s!==void 0&&(n[r]=s)}}return n}class eIe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(cc(t)){const{encoding:n,mark:r}=t;if(r==="line"||Ho(r)&&r.type==="line")for(const i of eNe){const s=sd(i),a=n[s];if(n[i]&&(ke(a)&&!yr(a.bin)||il(a)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return we(QNe(!!i.x2,!!i.y2)),r({...t,mark:Me(s)?{...s,type:"rule"}:"rule"},n)}}class tIe extends Y${constructor(){super(...arguments),this.nonFacetUnitNormalizers=[rRe,aRe,dRe,new ZRe,new eIe]}map(t,n){if(cc(t)){const r=th(t.encoding,Ll),i=th(t.encoding,Pl),s=th(t.encoding,$w);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=fT(t.encoding,n.repeater),a={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(a,n);const o=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(a,n.config))return l.run(a,n,o);return a}mapRepeat(t,n){return URe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:a,column:o,layer:l}=r,{repeater:c={},repeaterPrefix:u=""}=n;return a||o?this.mapRepeat({...t,repeat:{...a?{row:a}:{},...o?{column:o}:{}},spec:{repeat:{layer:l},spec:i}},n):{...s,layer:l.map(f=>{const h={...c,layer:f},d=`${(i.name?`${i.name}_`:"")+u}child__layer_${fn(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:h,repeaterPrefix:d});return p.name=d,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...a}=t;!me(r)&&t.columns&&(t=Xi(t,["columns"]),we(_8("repeat")));const o=[],{repeater:l={},repeaterPrefix:c=""}=n,u=!me(r)&&r.row||[l?l.row:null],f=!me(r)&&r.column||[l?l.column:null],h=me(r)&&r||[l?l.repeat:null];for(const p of h)for(const g of u)for(const m of f){const x={repeat:p,row:g,column:m,layer:l.layer},y=(i.name?`${i.name}_`:"")+c+"child__"+(me(r)?`${fn(p)}`:(r.row?`row_${fn(g)}`:"")+(r.column?`column_${fn(m)}`:"")),v=this.map(i,{...n,repeater:x,repeaterPrefix:y});v.name=y,o.push(Xi(v,["data"]))}const d=me(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...a,columns:d,concat:o}}mapFacet(t,n){const{facet:r}=t;return jx(r)&&t.columns&&(t=Xi(t,["columns"]),we(_8("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:a,config:o}=n,l=V8({parentProjection:a,projection:i}),c=H8({parentEncoding:s,encoding:fT(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...c?{encoding:c}:{}},{config:o})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...a}=t.encoding,{mark:o,width:l,projection:c,height:u,view:f,params:h,encoding:d,...p}=t,{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),x=fT(a,n.repeater);return this.mapFacet({...p,...m,facet:g,spec:{...l?{width:l}:{},...u?{height:u}:{},...f?{view:f}:{},...c?{projection:c}:{},mark:o,encoding:x,...h?{params:h}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&we(JNe([...r?[Ll]:[],...i?[Pl]:[]]));const a={},o={};for(const l of[Ll,Pl]){const c=t[l];if(c){const{align:u,center:f,spacing:h,columns:d,...p}=c;a[l]=p;for(const g of["align","center","spacing"])c[g]!==void 0&&(o[g]??(o[g]={}),o[g][l]=c[g])}}return{facetMapping:a,layout:o}}else{const{align:a,center:o,spacing:l,columns:c,...u}=s;return{facetMapping:QRe(u,n.repeater),layout:{...a?{align:a}:{},...o?{center:o}:{},...l?{spacing:l}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:a,...o}=t,l={...i,parentEncoding:H8({parentEncoding:n,encoding:s,layer:!0}),parentProjection:V8({parentProjection:r,projection:a})};return super.mapLayer({...o,...t.name?{name:[l.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},l)}}function H8({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...Ee(e),...Ee(t)]);for(const s of i){const a=t[s],o=e[s];if(at(a)){const l={...o,...a};r[s]=l}else qx(a)?r[s]={...a,condition:{...o,...a.condition}}:a||a===null?r[s]=a:(n||qa(o)||Ge(o)||at(o)||me(o))&&(r[s]=o)}}else r=t;return!r||Zt(r)?void 0:r}function V8(e){const{parentProjection:t,projection:n}=e;return t&&n&&we(UNe({parentProjection:t,projection:n})),n??t}function K$(e){return"filter"in e}function nIe(e){return(e==null?void 0:e.stop)!==void 0}function uZ(e){return"lookup"in e}function rIe(e){return"data"in e}function iIe(e){return"param"in e}function sIe(e){return"pivot"in e}function aIe(e){return"density"in e}function oIe(e){return"quantile"in e}function lIe(e){return"regression"in e}function cIe(e){return"loess"in e}function uIe(e){return"sample"in e}function fIe(e){return"window"in e}function hIe(e){return"joinaggregate"in e}function dIe(e){return"flatten"in e}function pIe(e){return"calculate"in e}function fZ(e){return"bin"in e}function gIe(e){return"impute"in e}function mIe(e){return"timeUnit"in e}function xIe(e){return"aggregate"in e}function vIe(e){return"stack"in e}function yIe(e){return"fold"in e}function _Ie(e){return"extent"in e&&!("density"in e)&&!("regression"in e)}function bIe(e){return e.map(t=>K$(t)?{filter:d0(t.filter,GDe)}:t)}class EIe extends Y${map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=W8(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=W8(t,n),t.encoding){const r={};for(const[i,s]of Eu(t.encoding))r[i]=hZ(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Eu(r).map(([s,a])=>{const{init:o,bind:l,empty:c,...u}=a;u.type==="single"?(u.type="point",u.toggle=!1):u.type==="multi"&&(u.type="point"),n.emptySelections[s]=c!=="none";for(const f of Tr(n.selectionPredicates[s]??{}))f.empty=c!=="none";return{name:s,value:o,select:u,bind:l}})}:t}}function W8(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(K$(s))return{filter:OF(s,t)};if(fZ(s)&&ad(s.bin))return{...s,bin:dZ(s.bin)};if(uZ(s)){const{selection:a,...o}=s.from;return a?{...s,from:{param:a,...o}}:s}return s});return{...r,transform:i}}return e}function hZ(e,t){var r,i;const n=st(e);if(ke(n)&&ad(n.bin)&&(n.bin=dZ(n.bin)),cd(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:s,...a}=n.scale.domain;n.scale.domain={...a,...s?{param:s}:{}}}if(Gx(n))if(me(n.condition))n.condition=n.condition.map(s=>{const{selection:a,param:o,test:l,...c}=s;return o?s:{...c,test:OF(s,t)}});else{const{selection:s,param:a,test:o,...l}=hZ(n.condition,t);n.condition=a?n.condition:{...l,test:OF(n.condition,t)}}return n}function dZ(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function OF(e,t){const n=r=>d0(r,i=>{var s;const a=t.emptySelections[i]??!0,o={param:i,empty:a};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(o),o});return e.selection?n(e.selection):d0(e.test||e.filter,r=>r.selection?n(r.selection):r)}class NF extends Y${map(t,n){const r=n.selections??[];if(t.params&&!cc(t)){const i=[];for(const s of t.params)G$(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const a of r)if(!a.views||!a.views.length)s.push(a);else for(const o of a.views)(Pe(o)&&(o===t.name||i.includes(o))||me(o)&&o.map(l=>i.indexOf(l)).every((l,c,u)=>l!==-1&&(c===0||l>u[c-1])))&&s.push(a);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=NF.prototype[e];NF.prototype[e]=function(n,r){return t.call(this,n,wIe(n,r))}}function wIe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function pZ(e,t){t===void 0&&(t=sZ(e.config));const n=kIe(e,t),{width:r,height:i}=e,s=CIe(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const SIe=new tIe,AIe=new EIe,TIe=new NF;function kIe(e,t={}){const n={config:t};return TIe.map(SIe.map(AIe.map(e,n),n),n)}function j8(e){return Pe(e)?{type:e}:e??{}}function CIe(e,t,n){let{width:r,height:i}=t;const s=cc(e)||rS(e),a={};s?r=="container"&&i=="container"?(a.type="fit",a.contains="padding"):r=="container"?(a.type="fit-x",a.contains="padding"):i=="container"&&(a.type="fit-y",a.contains="padding"):(r=="container"&&(we(m8("width")),r=void 0),i=="container"&&(we(m8("height")),i=void 0));const o={type:"pad",...a,...n?j8(n.autosize):{},...j8(e.autosize)};if(o.type==="fit"&&!s&&(we(wNe),o.type="pad"),r=="container"&&!(o.type=="fit"||o.type=="fit-x")&&we(x8("width")),i=="container"&&!(o.type=="fit"||o.type=="fit-y")&&we(x8("height")),!ys(o,{type:"pad"}))return o}function FIe(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function OIe(e){return e?`fit-${Bw(e)}`:"fit"}const NIe=["background","padding"];function G8(e,t){const n={};for(const r of NIe)e&&e[r]!==void 0&&(n[r]=ms(e[r]));return t&&(n.params=e.params),n}class uc{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new uc(st(this.explicit),st(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Nn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of Ee(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function vo(e){return{explicit:!0,value:e}}function cs(e){return{explicit:!1,value:e}}function gZ(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:iS(t,n,r,i)}}function iS(e,t,n,r){return e.explicit&&t.explicit&&we(cDe(n,r,e.value,t.value)),e}function Au(e,t,n,r,i=iS){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:ys(e.value,t.value)?e:i(e,t,n,r)}class DIe extends uc{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function lp(e){return"url"in e}function R1(e){return"values"in e}function mZ(e){return"name"in e&&!lp(e)&&!R1(e)&&!su(e)}function su(e){return e&&(xZ(e)||vZ(e)||J$(e))}function xZ(e){return"sequence"in e}function vZ(e){return"sphere"in e}function J$(e){return"graticule"in e}var Sn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Sn||(Sn={}));function yZ({invalid:e,isPath:t}){switch(pJ(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function $Ie(e){const{marks:t,scales:n}=yZ(e);return t===n?Sn.Main:n==="include-invalid-values"?Sn.PreFilterInvalid:Sn.PostFilterInvalid}function _Z(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=ha(i.field),i}function Rh(e,t=!0,n=ii){if(me(e)){const r=e.map(i=>Rh(i,t,n));return t?`[${r.join(", ")}]`:r}else if(od(e))return n(t?Oh(e):RDe(e));return t?n(Qt(e)):e}function RIe(e,t){for(const n of Tr(e.component.selection??{})){const r=n.name;let i=`${r}${ku}, ${n.resolve==="global"?"true":`{unit: ${nh(e)}}`}`;for(const s of lS)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+uMe,on:[{events:{signal:n.name+ku},update:`modify(${Ce(n.name+Ih)}, ${i})`}]})}return Z$(t)}function IIe(e,t){if(e.component.selection&&Ee(e.component.selection).length){const n=Ce(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Wu("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return Z$(t)}function MIe(e,t){let n=!1;for(const r of Tr(e.component.selection??{})){const i=r.name,s=Ce(i+Ih);if(t.filter(o=>o.name===i).length===0){const o=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${PZ}(${s}, ${Ce(o)}${l}`})}n=!0;for(const o of lS)o.defined(r)&&o.topLevelSignals&&(t=o.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),Z$(t)}function LIe(e,t){const n=[...t],r=nh(e,{escape:!1});for(const i of Tr(e.component.selection??{})){const s={name:i.name+Ih};if(i.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Ya}}]),i.init){const o=i.project.items.map(_Z);s.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[Ya]:Rh(l,!1)[0]})):i.init.map(l=>({unit:r,fields:o,values:Rh(l,!1)}))}n.filter(o=>o.name===i.name+Ih).length||n.push(s)}return n}function bZ(e,t){for(const n of Tr(e.component.selection??{}))for(const r of lS)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function PIe(e,t){for(const n of e.children)xn(n)&&(t=bZ(n,t));return t}function BIe(e,t,n,r){const i=VZ(e,t.param,t);return{signal:Ga(n.get("type"))&&me(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function Z$(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Kt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){we(LNe);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Yi extends Kt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${pK()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function hT(e){return e.as!==void 0}function q8(e){return`${e}_end`}class Oo extends Kt{clone(){return new Oo(null,st(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,a)=>{const{field:o,timeUnit:l}=s;if(l){let c;if(ld(l)){if(xn(n)){const{mark:u,markDef:f,config:h}=n,d=Su({fieldDef:s,markDef:f,config:h});($1(u)||d)&&(c={timeUnit:pr(l),field:o})}}else c={as:Re(s,{forAs:!0}),field:o,timeUnit:l};if(xn(n)){const{mark:u,markDef:f,config:h}=n,d=Su({fieldDef:s,markDef:f,config:h});$1(u)&&Dn(a)&&d!==.5&&(c.rectBandPosition=d)}c&&(i[wt(c)]=c)}return i},{});return Zt(r)?null:new Oo(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=pr(r),a={...i,timeUnit:s};return new Oo(t,{[wt(a)]:a})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Eu(this.timeUnits)){const s=hT(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Tr(this.timeUnits).map(t=>hT(t)?t.as:q8(t.field)))}dependentFields(){return new Set(Tr(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${wt(this.timeUnits)}`}assemble(){const t=[];for(const n of Tr(this.timeUnits)){const{rectBandPosition:r}=n,i=pr(n.timeUnit);if(hT(n)){const{field:s,as:a}=n,{unit:o,utc:l,...c}=i,u=[a,`${a}_end`];t.push({field:ha(s),type:"timeunit",...o?{units:Vw(o)}:{},...l?{timezone:"utc"}:{},...c,as:u}),t.push(...X8(u,r,i))}else if(n){const{field:s}=n,a=s.replaceAll("\\.","."),o=EZ({timeUnit:i,field:a}),l=q8(a);t.push({type:"formula",expr:o,as:l}),t.push(...X8([a,l],r,i))}}return t}}const sS="offsetted_rect_start",aS="offsetted_rect_end";function EZ({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=YK(r),{part:a,step:o}=QK(s,e.step);return`${i?"utcOffset":"timeOffset"}('${a}', datum['${t}'], ${n?-o:o})`}function X8([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,s=`datum['${t}']`;return[{type:"formula",expr:Y8([EZ({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${sS}`},{type:"formula",expr:Y8([i,s],n+.5),as:`${e}_${aS}`}]}return[]}function Y8([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Kx="_tuple_fields";class UIe{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const zIe={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new UIe),s={},a={},o=new Set,l=(p,g)=>{const m=g==="visual"?p.channel:p.field;let x=fn(`${r}_${m}`);for(let y=1;o.has(x);y++)x=fn(`${r}_${m}_${y}`);return o.add(x),{[g]:x}},c=t.type,u=e.config.selection[c],f=n.value!==void 0?Le(n.value):null;let{fields:h,encodings:d}=Me(n.select)?n.select:{};if(!h&&!d&&f){for(const p of f)if(Me(p))for(const g of Ee(p))QOe(g)?(d||(d=[])).push(g):c==="interval"?(we($Ne),d=u.encodings):(h??(h=[])).push(g)}!h&&!d&&(d=u.encodings,"fields"in u&&(h=u.fields));for(const p of d??[]){const g=e.fieldDef(p);if(g){let m=g.field;if(g.aggregate){we(SNe(p,g.aggregate));continue}else if(!m){we(y8(p));continue}if(g.timeUnit&&!ld(g.timeUnit)){m=e.vgField(p);const x={timeUnit:g.timeUnit,as:m,field:g.field};a[wt(x)]=x}if(!s[m]){const x=c==="interval"&&rl(p)&&Ga(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",y={field:m,channel:p,type:x,index:i.items.length};y.signals={...l(y,"data"),...l(y,"visual")},i.items.push(s[m]=y),i.hasField[m]=s[m],i.hasSelectionId=i.hasSelectionId||m===Ya,_K(p)?(y.geoChannel=p,y.channel=yK(p),i.hasChannel[y.channel]=s[m]):i.hasChannel[p]=s[m]}}else we(y8(p))}for(const p of h??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===Ya}f&&(t.init=f.map(p=>i.items.map(g=>Me(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),Zt(a)||(i.timeUnit=new Oo(null,a))},signals:(e,t,n)=>{const r=t.name+Kx;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(_Z)})}},Ul={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!rl(i))continue;const s=e.getScaleComponent(i),a=s?s.get("type"):void 0;if(a=="sequential"&&we(CNe),!s||!Ga(a)){we(kNe);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(a=>n.filter(o=>o.name===a.signals.data).length===0);if(!e.parent||K8(e)||r.length===0)return n;const i=n.find(a=>a.name===t.name);let s=i.update;if(s.includes(PZ))i.update=`{${r.map(a=>`${Ce(ha(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of r){const o=`${Ce(ha(a.field))}: ${a.signals.data}`;s.includes(o)||(s=`${s.substring(0,s.length-1)}, ${o}}`)}i.update=s}return n.concat(r.map(a=>({name:a.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!K8(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function DF(e,t){return`domain(${Ce(e.scaleName(t))})`}function K8(e){return e.parent&&qp(e.parent)&&!e.parent.parent}const m0="_brush",wZ="_scale_trigger",kg="geo_interval_init_tick",SZ="_init",HIe="_center",VIe={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Me(n.select)?n.select:{}};i.fields=[Ya],i.encodings||(i.encodings=n.value?Ee(n.value):[io,ro]),n.select={type:"interval",...i}}if(t.translate&&!Ul.defined(t)){const i=`!event.item || event.item.mark.name !== ${Ce(t.name+m0)}`;for(const s of t.events){if(!s.between){we(`${s} is not an ordered event stream for interval selections.`);continue}const a=Le((r=s.between[0]).filter??(r.filter=[]));a.includes(i)||a.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+ku,s=Tr(t.project.hasChannel).filter(o=>o.channel===dn||o.channel===xr),a=t.init?t.init[0]:null;if(n.push(...s.reduce((o,l)=>o.concat(WIe(e,t,l,a&&a[l.index])),[])),e.hasProjection){const o=Ce(e.projectionName()),l=e.projectionName()+HIe,{x:c,y:u}=t.project.hasChannel,f=c&&c.signals.visual,h=u&&u.signals.visual,d=c?a&&a[c.index]:`${l}[0]`,p=u?a&&a[u.index]:`${l}[1]`,g=b=>e.getSizeSignalRef(b).signal,m=`[[${f?f+"[0]":"0"}, ${h?h+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${h?h+"[1]":g("height")}]]`;a&&(n.unshift({name:r+SZ,init:`[scale(${o}, [${c?d[0]:d}, ${u?p[0]:p}]), scale(${o}, [${c?d[1]:d}, ${u?p[1]:p}])]`}),(!c||!u)&&(n.find(w=>w.name===l)||n.unshift({name:l,update:`invert(${o}, [${g("width")}/2, ${g("height")}/2])`})));const x=`intersect(${m}, {markname: ${Ce(e.getName("marks"))}}, unit.mark)`,y=`{unit: ${nh(e)}}`,v=`vlSelectionTuples(${x}, ${y})`,_=s.map(b=>b.signals.visual);return n.concat({name:i,on:[{events:[..._.length?[{signal:_.join(" || ")}]:[],...a?[{signal:kg}]:[]],update:v}]})}else{if(!Ul.defined(t)){const c=r+wZ,u=s.map(f=>{const h=f.channel,{data:d,visual:p}=f.signals,g=Ce(e.scaleName(h)),m=e.getScaleComponent(h).get("type"),x=Ga(m)?"+":"";return`(!isArray(${d}) || (${x}invert(${g}, ${p})[0] === ${x}${d}[0] && ${x}invert(${g}, ${p})[1] === ${x}${d}[1]))`});u.length&&n.push({name:c,value:{},on:[{events:s.map(f=>({scale:e.scaleName(f.channel)})),update:u.join(" && ")+` ? ${c} : {}`}]})}const o=s.map(c=>c.signals.data),l=`unit: ${nh(e)}, fields: ${r+Kx}, values`;return n.concat({name:i,...a?{init:`{${l}: ${Rh(a)}}`}:{},...o.length?{on:[{events:[{signal:o.join(" || ")}],update:`${o.join(" && ")} ? {${l}: [${o}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(xn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===kg).length||n.unshift({name:kg,value:null,on:[{events:"timer{1}",update:`${kg} === null ? {} : ${kg}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,a=i==null?void 0:i.signals.visual,o=s==null?void 0:s.signals.visual,l=`data(${Ce(t.name+Ih)})`;if(Ul.defined(t)||!i&&!s)return n;const c={x:i!==void 0?{signal:`${a}[0]`}:{value:0},y:s!==void 0?{signal:`${o}[0]`}:{value:0},x2:i!==void 0?{signal:`${a}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${o}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of Ee(c))c[m]=[{test:`${l}.length && ${l}[0].unit === ${nh(e)}`,...c[m]},{value:0}];const{fill:u,fillOpacity:f,cursor:h,...d}=t.mark,p=Ee(d).reduce((m,x)=>(m[x]=[{test:[i!==void 0&&`${a}[0] !== ${a}[1]`,s!==void 0&&`${o}[0] !== ${o}[1]`].filter(y=>y).join(" && "),value:d[x]},{value:null}],m),{}),g=h??(t.translate?"move":null);return[{name:`${r+m0}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:u},fillOpacity:{value:f}},update:c}},...n,{name:r+m0,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...c,...p}}}]}};function WIe(e,t,n,r){const i=!e.hasProjection,s=n.channel,a=n.signals.visual,o=Ce(i?e.scaleName(s):e.projectionName()),l=h=>`scale(${o}, ${h})`,c=e.getSizeSignalRef(s===dn?"width":"height").signal,u=`${s}(unit)`,f=t.events.reduce((h,d)=>[...h,{events:d.between[0],update:`[${u}, ${u}]`},{events:d,update:`[${a}[0], clamp(${u}, 0, ${c})]`}],[]);if(i){const h=n.signals.data,d=Ul.defined(t),p=e.getScaleComponent(s),g=p?p.get("type"):void 0,m=r?{init:Rh(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+wZ},update:Ga(g)?`[${l(`${h}[0]`)}, ${l(`${h}[1]`)}]`:"[0, 0]"}),d?[{name:h,on:[]}]:[{name:a,...m,on:f},{name:h,...r?{init:Rh(r)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${o}, ${a})`}]}]}else{const h=s===dn?0:1,d=t.name+SZ,p=r?{init:`[${d}[0][${h}], ${d}[1][${h}]]`}:{value:[]};return[{name:a,...p,on:f}]}}const jIe={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+Kx,s=t.project,a="(item().isVoronoi ? datum.datum : datum)",o=Tr(e.component.selection??{}).reduce((f,h)=>h.type==="interval"?f.concat(h.name+m0):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${o?` && ${o}`:""}`;let c=`unit: ${nh(e)}, `;if(t.project.hasSelectionId)c+=`${Ya}: ${a}[${Ce(Ya)}]`;else{const f=s.items.map(h=>{const d=e.fieldDef(h.channel);return d!=null&&d.bin?`[${a}[${Ce(e.vgField(h.channel,{}))}], ${a}[${Ce(e.vgField(h.channel,{binSuffix:"end"}))}]]`:`${a}[${Ce(h.field)}]`}).join(", ");c+=`fields: ${i}, values: [${f}]`}const u=t.events;return n.concat([{name:r+ku,on:u?[{events:u,update:`${l} ? {${c}} : null`,force:!0}]:[]}])}};function Vp({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const s=Gx(t)&&t.condition;let a=[];s&&(a=Le(s).map(c=>{const u=i(c);if(R$e(c)){const{param:f,empty:h}=c;return{test:HZ(e,{param:f,empty:h}),...u}}else return{test:Ab(e,c.test),...u}})),r!==void 0&&a.push(r);const o=i(t);return o!==void 0&&a.push(o),a.length>1||a.length===1&&a[0].test?{[n]:a}:a.length===1?{[n]:a[0]}:{}}function Q$(e,t="text"){const n=e.encoding[t];return Vp({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>oS(r,e.config),invalidValueRef:void 0})}function oS(e,t,n="datum"){if(e){if(qa(e))return rn(e.value);if(at(e)){const{format:r,formatType:i}=vb(e);return $$({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function AZ(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,a=n.tooltip;if(me(a))return{tooltip:J8({tooltip:a},s,i,t)};{const o=t.reactiveGeom?"datum.datum":"datum";return Vp({model:e,channelDef:a,vgChannel:"tooltip",mainRefFn:c=>{const u=oS(c,i,o);if(u)return u;if(c===null)return;let f=Xt("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),Pe(f))return{value:f};if(Me(f))return Ge(f)?f:f.content==="encoding"?J8(n,s,i,t):{signal:o}},invalidValueRef:void 0})}}function TZ(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s={},a=r?"datum.datum":"datum",o=[];function l(u,f){const h=sd(f),d=Di(u)?u:{...u,type:e[h].type},p=d.title||L$(d,i),g=Le(p).join(", ").replaceAll(/"/g,'\\"');let m;if(Dn(f)){const x=f==="x"?"x2":"y2",y=Xa(e[x]);if(yr(d.bin)&&y){const v=Re(d,{expr:a}),_=Re(y,{expr:a}),{format:b,formatType:w}=vb(d);m=Wx(v,_,b,w,i),s[x]=!0}}if((Dn(f)||f===xa||f===no)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:x,formatType:y}=vb(d);m=$$({fieldOrDatumDef:d,format:x,formatType:y,expr:a,config:i,normalizeStack:!0}).signal}m??(m=oS(d,i,a).signal),o.push({channel:f,key:g,value:m})}B$(e,(u,f)=>{ke(u)?l(u,f):Jw(u)&&l(u.condition,f)});const c={};for(const{channel:u,key:f,value:h}of o)!s[u]&&!c[f]&&(c[f]=h);return c}function J8(e,t,n,{reactiveGeom:r}={}){const i=TZ(e,t,n,{reactiveGeom:r}),s=Eu(i).map(([a,o])=>`"${a}": ${o}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function GIe(e){const{markDef:t,config:n}=e,r=Xt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...qIe(e),...XIe(e)}}function qIe(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Xt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in bNe?{}:{ariaRoleDescription:{value:t}}}function XIe(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return Vp({model:e,channelDef:s,vgChannel:"description",mainRefFn:l=>oS(l,e.config),invalidValueRef:void 0});const a=Xt("description",n,r);if(a!=null)return{description:rn(a)};if(r.aria===!1)return{};const o=TZ(t,i,r);if(!Zt(o))return{description:{signal:Eu(o).map(([l,c],u)=>`"${u>0?"; ":""}${l}: " + (${c})`).join(" + ")}}}function ar(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:a}=n;let{defaultRef:o,defaultValue:l}=n;const c=i[e];o===void 0&&(l??(l=Xt(e,r,s,{vgChannel:a,ignoreVgConfig:!Gx(c)})),l!==void 0&&(o=rn(l)));const u={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=mJ({...u,scaleChannel:e,channelDef:c});return Vp({model:t,channelDef:c,vgChannel:a??e,invalidValueRef:f,mainRefFn:d=>D$({...u,channel:e,channelDef:d,stack:null,defaultRef:o})})}function kZ(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,a=t.filled??Xt("filled",n,i),o=yt(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,l=Xt(a===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[a===!0&&"color"]??o,c=Xt(a===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[a===!1&&"color"],u=a?"fill":"stroke",f={...l?{fill:rn(l)}:{},...c?{stroke:rn(c)}:{}};return n.color&&(a?n.fill:n.stroke)&&we(UK("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...ar("color",e,{vgChannel:u,defaultValue:a?l:c}),...ar("fill",e,{defaultValue:r.fill?l:void 0}),...ar("stroke",e,{defaultValue:r.stroke?c:void 0})}}function YIe(e){const{encoding:t,mark:n}=e,r=t.order;return!Zu(n)&&qa(r)?Vp({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>rn(i.value),invalidValueRef:void 0}):{}}function cp({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,a=t[s],o=n[s];if((s==="xOffset"||s==="yOffset")&&o)return{offsetType:"encoding",offset:D$({channel:s,channelDef:o,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:rn(a),bandPosition:i})};const l=t[s];return l?{offsetType:"visual",offset:l}:{}}function Yr(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:a,stack:o}=t,l=i[e],c=i[nl(e)],u=t.scaleName(e),f=t.getScaleComponent(e),{offset:h,offsetType:d}=cp({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=eR({model:t,defaultPos:n,channel:e,scaleName:u,scale:f}),g=!l&&Dn(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:KIe({channel:e,channelDef:l,channel2Def:c,markDef:s,config:a,scaleName:u,scale:f,stack:o,offset:h,defaultRef:p,bandPosition:d==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function KIe(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:a}=e;if(at(n)&&i&&t===i.fieldChannel){if(ke(n)){let o=n.bandPosition;if(o===void 0&&a.type==="text"&&(t==="radius"||t==="theta")&&(o=.5),o!==void 0)return gb({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:o,offset:s})}return eh(n,r,{suffix:"end"},{offset:s})}return N$(e)}function eR({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:a}=e;return()=>{const o=sd(n),l=wu(n),c=Xt(n,s,a,{vgChannel:l});if(c!==void 0)return Om(n,c);switch(t){case"zeroOrMin":return Z8({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:o,config:a});case"zeroOrMax":return Z8({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:o,config:a});case"mid":return{...e[rs(n)],mult:.5}}}}function Z8({mainChannel:e,config:t,...n}){const r=gJ(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:s,heightSignal:a}=i.zeroOrMax;return{signal:`min(${s},${a})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const JIe={left:"x",center:"xc",right:"x2"},ZIe={top:"y",middle:"yc",bottom:"y2"};function CZ(e,t,n,r="middle"){if(e==="radius"||e==="theta")return wu(e);const i=e==="x"?"align":"baseline",s=Xt(i,t,n);let a;return Ge(s)?(we(ZNe(i)),a=void 0):a=s,e==="x"?JIe[a||(r==="top"?"left":"center")]:ZIe[a||r]}function wb(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?FZ(e,t,{defaultPos:n,defaultPos2:r}):Yr(e,t,{defaultPos:n})}function FZ(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,a=nl(e),o=rs(e),l=QIe(t,r,a),c=l[o]?CZ(e,i,s):wu(e);return{...Yr(e,t,{defaultPos:n,vgChannel:c}),...l}}function QIe(e,t,n){const{encoding:r,mark:i,markDef:s,stack:a,config:o}=e,l=sd(n),c=rs(n),u=wu(n),f=r[l],h=e.scaleName(l),d=e.getScaleComponent(l),{offset:p}=n in r||n in s?cp({channel:n,markDef:s,encoding:r,model:e}):cp({channel:l,markDef:s,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const m=rs(n),x=e.markDef[m];return x!=null?{[m]:{value:x}}:{[u]:{field:e.getName(n)}}}const g=eMe({channel:n,channelDef:f,channel2Def:r[n],markDef:s,config:o,scaleName:h,scale:d,stack:a,offset:p,defaultRef:void 0});return g!==void 0?{[u]:g}:cy(n,s)||cy(n,{[n]:hb(n,s,o.style),[c]:hb(c,s,o.style)})||cy(n,o[i])||cy(n,o.mark)||{[u]:eR({model:e,defaultPos:t,channel:n,scaleName:h,scale:d})()}}function eMe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:a,stack:o,offset:l,defaultRef:c}){return at(t)&&o&&e.charAt(0)===o.fieldChannel.charAt(0)?eh(t,s,{suffix:"start"},{offset:l}):N$({channel:e,channelDef:n,scaleName:s,scale:a,stack:o,markDef:r,config:i,offset:l,defaultRef:c})}function cy(e,t){const n=rs(e),r=wu(e);if(t[r]!==void 0)return{[r]:Om(e,t[r])};if(t[e]!==void 0)return{[r]:Om(e,t[e])};if(t[n]){const i=t[n];if(Dh(i))we(GNe(n));else return{[n]:Om(e,i)}}}function Tu(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,a=nl(t),o=rs(t),l=r[t],c=r[a],u=e.getScaleComponent(t),f=u?u.get("type"):void 0,h=i.orient,d=r[o]??r.size??Xt("size",i,n,{vgChannel:o}),p=SK(t),g=s==="bar"&&(t==="x"?h==="vertical":h==="horizontal");return ke(l)&&(sn(l.bin)||yr(l.bin)||l.timeUnit&&!c)&&!(d&&!Dh(d))&&!r[p]&&!gr(f)?rMe({fieldDef:l,fieldDef2:c,channel:t,model:e}):(at(l)&&gr(f)||g)&&!c?nMe(l,t,e):FZ(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function tMe(e,t,n,r,i,s,a){if(Dh(i))if(n){const l=n.get("type");if(l==="band"){let c=`bandwidth('${t}')`;i.band!==1&&(c=`${i.band} * ${c}`);const u=zo("minBandSize",{type:a},r);return{signal:u?`max(${Ma(u)}, ${c})`:c}}else i.band!==1&&(we(nDe(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Ge(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(Ju(l)&&Rt(l.step))return{value:l.step-2}}if(!s){const{bandPaddingInner:l,barBandPaddingInner:c,rectBandPaddingInner:u}=r.scale,f=Nn(l,a==="bar"?c:u);if(Ge(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Rt(f))return{signal:`${1-f} * ${e}`}}return{value:bb(r.view,e)-2}}function nMe(e,t,n){var S,T;const{markDef:r,encoding:i,config:s,stack:a}=n,o=r.orient,l=n.scaleName(t),c=n.getScaleComponent(t),u=rs(t),f=nl(t),h=SK(t),d=n.scaleName(h),p=n.getScaleComponent(Pw(t)),g=o==="horizontal"&&t==="y"||o==="vertical"&&t==="x";let m;(i.size||r.size)&&(g?m=ar("size",n,{vgChannel:u,defaultRef:rn(r.size)}):we(aDe(r.type)));const x=!!m,y=wJ({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(S=c||p)==null?void 0:S.get("type"),useVlSizeChannel:g});m=m||{[u]:tMe(u,d||l,p||c,s,y,!!e,r.type)};const v=((T=c||p)==null?void 0:T.get("type"))==="band"&&Dh(y)&&!x?"top":"middle",_=CZ(t,r,s,v),b=_==="xc"||_==="yc",{offset:w,offsetType:E}=cp({channel:t,markDef:r,encoding:i,model:n,bandPosition:b?.5:0}),A=N$({channel:t,channelDef:e,markDef:r,config:s,scaleName:l,scale:c,stack:a,offset:w,defaultRef:eR({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:c}),bandPosition:b?E==="encoding"?0:.5:Ge(y)?{signal:`(1-${y})/2`}:Dh(y)?(1-y.band)/2:0});if(u)return{[_]:A,...m};{const C=wu(f),O=m[u],F=w?{...O,offset:w}:O;return{[_]:A,[C]:me(A)?[A[0],{...A[1],offset:F}]:{...A,offset:F}}}}function Q8(e,t,n,r,i,s,a){if(vK(e))return 0;const o=e==="x"||e==="y2",l=o?-t/2:t/2;if(Ge(n)||Ge(i)||Ge(r)||s){const c=Ma(n),u=Ma(i),f=Ma(r),h=Ma(s),p=s?`(${a} < ${h} ? ${o?"":"-"}0.5 * (${h} - (${a})) : ${l})`:l,g=f?`${f} + `:"",m=c?`(${c} ? -1 : 1) * `:"",x=u?`(${u} + ${p})`:p;return{signal:g+m+x}}else return i=i||0,r+(n?-i-l:+i+l)}function rMe({fieldDef:e,fieldDef2:t,channel:n,model:r}){var T;const{config:i,markDef:s,encoding:a}=r,o=r.getScaleComponent(n),l=r.scaleName(n),c=o?o.get("type"):void 0,u=o.get("reverse"),f=wJ({channel:n,fieldDef:e,markDef:s,config:i,scaleType:c}),h=(T=r.component.axes[n])==null?void 0:T[0],d=(h==null?void 0:h.get("translate"))??.5,p=Dn(n)?Xt("binSpacing",s,i)??0:0,g=nl(n),m=wu(n),x=wu(g),y=zo("minBandSize",s,i),{offset:v}=cp({channel:n,markDef:s,encoding:a,model:r,bandPosition:0}),{offset:_}=cp({channel:g,markDef:s,encoding:a,model:r,bandPosition:0}),b=C$e({fieldDef:e,scaleName:l}),w=Q8(n,p,u,d,v,y,b),E=Q8(g,p,u,d,_??v,y,b),A=Ge(f)?{signal:`(1-${f.signal})/2`}:Dh(f)?(1-f.band)/2:.5,S=Su({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(sn(e.bin)||e.timeUnit){const C=e.timeUnit&&S!==.5;return{[x]:eP({fieldDef:e,scaleName:l,bandPosition:A,offset:E,useRectOffsetField:C}),[m]:eP({fieldDef:e,scaleName:l,bandPosition:Ge(A)?{signal:`1-${A.signal}`}:1-A,offset:w,useRectOffsetField:C})}}else if(yr(e.bin)){const C=eh(e,l,{},{offset:E});if(ke(t))return{[x]:C,[m]:eh(t,l,{},{offset:w})};if(ad(e.bin)&&e.bin.step)return{[x]:C,[m]:{signal:`scale("${l}", ${Re(e,{expr:"datum"})} + ${e.bin.step})`,offset:w}}}we(VK(g))}function eP({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return gb({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:sS,endSuffix:aS}:{}})}const iMe=new Set(["aria","width","height"]);function va(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?kZ(e):{};return{...sMe(e.markDef,t),...tP("fill",n),...tP("stroke",r),...ar("opacity",e),...ar("fillOpacity",e),...ar("strokeOpacity",e),...ar("strokeWidth",e),...ar("strokeDash",e),...YIe(e),...AZ(e),...Q$(e,"href"),...GIe(e)}}function tP(e,t){return t?{[e]:t}:{}}function sMe(e,t){return _Ne.reduce((n,r)=>(!iMe.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=rn(e[r])),n),{})}function tR(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,s)=>{var c;let a;if(!rl(s)||!(a=e.getScaleType(s)))return;const o=Uw(i.aggregate),l=O$({scaleChannel:s,markDef:n,config:t,scaleType:a,isCountAggregate:o});if(A$e(l)){const u=e.vgField(s,{expr:"datum",binSuffix:(c=e.stack)!=null&&c.impute?"mid":void 0});u&&r.add(u)}}),r.size>0)return{defined:{signal:[...r].map(s=>Ww(s,!0)).join(" && ")}}}function nP(e,t){if(t!==void 0)return{[e]:rn(t)}}const dT="voronoi",OZ={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(dT)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(Zu(s))return we(ANe(s)),n;const a={name:e.getName(dT),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...AZ(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let o=0,l=!1;return n.forEach((c,u)=>{const f=c.name??"";f===e.component.mark[0].name?o=u:f.includes(dT)&&(l=!0)}),l||n.splice(o+1,0,a),n}},NZ={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!j$(e.bind),parse:(e,t,n)=>BZ(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,a=t.init&&t.init[0],o=OZ.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,c)=>{const u=fn(`${r}_${l.field}`);n.filter(h=>h.name===u).length||n.unshift({name:u,...a?{init:Rh(a[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${o}[${Ce(l.field)}] : null`}]:[],bind:s[l.field]??s[l.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(c=>c.name===r+ku),a=r+Kx,o=i.items.map(c=>fn(`${r}_${c.field}`)),l=o.map(c=>`${c} !== null`).join(" && ");return o.length&&(s.update=`${l} ? {fields: ${a}, values: [${o.join(", ")}]} : null`),delete s.value,delete s.on,n}},Sb="_toggle",DZ={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+Sb,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+ku,r=t.name+Sb;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${nh(e)}}, `)+`${r} ? ${n} : null`}},aMe={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=Pe(t.clear)?Wu(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(NZ.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===fn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(a=>a.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const a=n.findIndex(o=>o.name===i.signals.data);r(a,"null")}}else{let i=n.findIndex(s=>s.name===t.name+ku);r(i,"null"),DZ.defined(t)&&(i=n.findIndex(s=>s.name===t.name+Sb),r(i,"false"))}return n}},$Z={defined:e=>{const t=e.resolve==="global"&&e.bind&&j$(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Ya;return t&&!n&&we(FNe),t&&n},parse:(e,t,n)=>{const r=st(n);if(r.select=Pe(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},BZ(t,r),Me(n.select)&&(n.select.on||n.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const o of t.events)o.filter=Le(o.filter??[]),o.filter.includes(a)||o.filter.push(a)}const i=cT(t.bind)?t.bind.legend:"click",s=Pe(i)?Wu(i,"view"):Le(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=cT(t.bind)&&t.bind.legend,s=a=>o=>{const l=st(o);return l.markname=a,l};for(const a of t.project.items){if(!a.hasLegend)continue;const o=`${fn(a.field)}_legend`,l=`${r}_${o}`;if(n.filter(u=>u.name===l).length===0){const u=i.merge.map(s(`${o}_symbols`)).concat(i.merge.map(s(`${o}_labels`))).concat(i.merge.map(s(`${o}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:u,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(h=>h.name===r+ku),a=r+Kx,o=i.items.filter(h=>h.hasLegend).map(h=>fn(`${r}_${fn(h.field)}_legend`)),c=`${o.map(h=>`${h} !== null`).join(" && ")} ? {fields: ${a}, values: [${o.join(", ")}]} : null`;t.events&&o.length>0?s.on.push({events:o.map(h=>({signal:h})),update:c}):o.length>0&&(s.update=c,delete s.value,delete s.on);const u=n.find(h=>h.name===r+Sb),f=cT(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push({...u.on[0],events:f}):u.on[0].events=f),n}};function oMe(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const s of Tr(e.component.selection??{})){const a=s.project.hasField[r]??s.project.hasChannel[t];if(a&&$Z.defined(s)){const o=n.get("selections")??[];o.push(s.name),n.set("selections",o,!1),a.hasLegend=!0}}}const RZ="_translate_anchor",IZ="_translate_delta",lMe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Ul.defined(t),s=r+RZ,{x:a,y:o}=t.project.hasChannel;let l=Wu(t.translate,"scope");return i||(l=l.map(c=>(c.between[0].markname=r+m0,c))),n.push({name:s,value:{},on:[{events:l.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(a!==void 0?`, extent_x: ${i?DF(e,dn):`slice(${a.signals.visual})`}`:"")+(o!==void 0?`, extent_y: ${i?DF(e,xr):`slice(${o.signals.visual})`}`:"")+"}"}]},{name:r+IZ,value:{},on:[{events:l,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),a!==void 0&&rP(e,t,a,"width",n),o!==void 0&&rP(e,t,o,"height",n),n}};function rP(e,t,n,r,i){const s=t.name,a=s+RZ,o=s+IZ,l=n.channel,c=Ul.defined(t),u=i.find(b=>b.name===n.signals[c?"data":"visual"]),f=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(l),d=h&&h.get("type"),p=h&&h.get("reverse"),g=c?l===dn?p?"":"-":p?"-":"":"",m=`${a}.extent_${l}`,x=`${g}${o}.${l} / ${c?`${f}`:`span(${m})`}`,y=!c||!h?"panLinear":d==="log"?"panLog":d==="symlog"?"panSymlog":d==="pow"?"panPow":"panLinear",v=c?d==="pow"?`, ${h.get("exponent")??1}`:d==="symlog"?`, ${h.get("constant")??1}`:"":"",_=`${y}(${m}, ${x}${v})`;u.on.push({events:{signal:o},update:c?_:`clampRange(${_}, 0, ${f})`})}const MZ="_zoom_anchor",LZ="_zoom_delta",cMe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Ul.defined(t),s=r+LZ,{x:a,y:o}=t.project.hasChannel,l=Ce(e.scaleName(dn)),c=Ce(e.scaleName(xr));let u=Wu(t.zoom,"scope");return i||(u=u.map(f=>(f.markname=r+m0,f))),n.push({name:r+MZ,on:[{events:u,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),a!==void 0&&iP(e,t,a,"width",n),o!==void 0&&iP(e,t,o,"height",n),n}};function iP(e,t,n,r,i){const s=t.name,a=n.channel,o=Ul.defined(t),l=i.find(y=>y.name===n.signals[o?"data":"visual"]),c=e.getSizeSignalRef(r).signal,u=e.getScaleComponent(a),f=u&&u.get("type"),h=o?DF(e,a):l.name,d=s+LZ,p=`${s}${MZ}.${a}`,g=!o||!u?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",m=o?f==="pow"?`, ${u.get("exponent")??1}`:f==="symlog"?`, ${u.get("constant")??1}`:"":"",x=`${g}(${h}, ${p}, ${d}${m})`;l.on.push({events:{signal:d},update:o?x:`clampRange(${x}, 0, ${c})`})}const Ih="_store",ku="_tuple",uMe="_modify",PZ="vlSelectionResolve",lS=[jIe,VIe,zIe,DZ,NZ,Ul,$Z,aMe,lMe,cMe,OZ];function fMe(e){let t=e.parent;for(;t&&!ws(t);)t=t.parent;return t}function nh(e,{escape:t}={escape:!0}){let n=t?Ce(e.name):e.name;const r=fMe(e);if(r){const{facet:i}=r;for(const s of ta)i[s]&&(n+=` + '__facet_${s}_' + (facet[${Ce(r.vgField(s))}])`)}return n}function nR(e){return Tr(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function BZ(e,t){(Pe(t.select)||!t.select.on)&&delete e.events,(Pe(t.select)||!t.select.clear)&&delete e.clear,(Pe(t.select)||!t.select.toggle)&&delete e.toggle}function $F(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...$F(e.object)),t.push(...$F(e.property))),t)}function UZ(e){return e.object.type==="MemberExpression"?UZ(e.object):e.object.name==="datum"}function zZ(e){const t=ED(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&UZ(r)&&n.add($F(r).slice(1).join("."))}),n}class Wp extends Kt{clone(){return new Wp(null,this.model,st(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=Ab(this.model,this.filter,this),this._dependentFields=zZ(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function hMe(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const s=fn(i.name),a=i.select,o=Pe(a)?a:a.type,l=Me(a)?st(a):{type:o},c=r[o];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(l[h]={...c[h],...l[h]}),(l[h]===void 0||l[h]===!0)&&(l[h]=st(c[h]??l[h])));const u=n[s]={...l,name:s,type:o,init:i.value,bind:i.bind,events:Pe(l.on)?Wu(l.on,"scope"):Le(st(l.on))},f=st(i);for(const h of lS)h.defined(u)&&h.parse&&h.parse(e,u,f)}return n}function HZ(e,t,n,r="datum"){const i=Pe(t)?t:t.param,s=fn(i),a=Ce(s+Ih);let o;try{o=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(o.project.timeUnit){const h=n??e.component.data.raw,d=o.project.timeUnit.clone();h.parent?d.insertAsParentOf(h):h.parent=d}const l=o.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=o.resolve==="global"?")":`, ${Ce(o.resolve)})`,u=`${l}${a}, ${r}${c}`,f=`length(data(${a}))`;return t.empty===!1?`${f} && ${u}`:`!${f} || ${u}`}function VZ(e,t,n){const r=fn(t),i=n.encoding;let s=n.field,a;try{a=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=a.project.items[0].field,a.project.items.length>1&&we(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Ce(s)}.`);else if(i&&!s){const o=a.project.items.filter(l=>l.channel===i);!o.length||o.length>1?(s=a.project.items[0].field,we((o.length?"Multiple ":"No ")+`matching ${Ce(i)} encoding found for selection ${Ce(n.param)}. Using "field": ${Ce(s)}.`)):s=o[0].field}return`${a.name}[${Ce(ha(s))}]`}function dMe(e,t){for(const[n,r]of Eu(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Yi(new Wp(t,e,{param:n}),i,Sn.Lookup,e.component.data.outputNodeRefCounts)}}function Ab(e,t,n){return Fm(t,r=>Pe(r)?r:VDe(r)?HZ(e,r,n):tJ(r))}function pMe(e,t){if(e)return me(e)&&!Rc(e)?e.map(n=>L$(n,t)).join(", "):e}function pT(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function sm(e,t,n,r={header:!1}){var f,h;const{disable:i,orient:s,scale:a,labelExpr:o,title:l,zindex:c,...u}=e.combine();if(!i){for(const d in u){const p=X$e[d],g=u[d];if(p&&p!==t&&p!=="both")delete u[d];else if(Yx(g)){const{condition:m,...x}=g,y=Le(m),v=N8[d];if(v){const{vgProp:_,part:b}=v,w=[...y.map(E=>{const{test:A,...S}=E;return{test:Ab(null,A),...S}}),x];pT(u,b,_,w),delete u[d]}else if(v===null){const _={signal:y.map(b=>{const{test:w,...E}=b;return`${Ab(null,w)} ? ${g8(E)} : `}).join("")+g8(x)};u[d]=_}}else if(Ge(g)){const m=N8[d];if(m){const{vgProp:x,part:y}=m;pT(u,y,x,g),delete u[d]}}yt(["labelAlign","labelBaseline"],d)&&u[d]===null&&delete u[d]}if(t==="grid"){if(!u.grid)return;if(u.encode){const{grid:d}=u.encode;u.encode={...d?{grid:d}:{}},Zt(u.encode)&&delete u.encode}return{scale:a,orient:s,...u,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Nn(c,0)}}else{if(!r.header&&e.mainExtracted)return;if(o!==void 0){let p=o;(h=(f=u.encode)==null?void 0:f.labels)!=null&&h.update&&Ge(u.encode.labels.update.text)&&(p=Ch(o,"datum.label",u.encode.labels.update.text.signal)),pT(u,"labels","text",{signal:p})}if(u.labelAlign===null&&delete u.labelAlign,u.encode){for(const p of $J)e.hasAxisPart(p)||delete u.encode[p];Zt(u.encode)&&delete u.encode}const d=pMe(l,n);return{scale:a,orient:s,grid:!1,...d?{title:d}:{},...u,...n.aria===!1?{aria:!1}:{},zindex:Nn(c,0)}}}}function WZ(e){const{axes:t}=e.component,n=[];for(const r of lc)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",a=e.getSizeSignalRef(s).signal;s!==a&&n.push({name:s,update:a})}}return n}function gMe(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>sm(i,"grid",t)),...r.map(i=>sm(i,"grid",t)),...n.map(i=>sm(i,"main",t)),...r.map(i=>sm(i,"main",t))].filter(i=>i)}function sP(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",a=t[n==="x"?"axisBottom":"axisLeft"]||{},o=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...Ee(a),...Ee(o)]),c={};for(const u of l.values())c[u]={signal:`${r.signal} === "${s}" ? ${Ma(a[u])} : ${Ma(o[u])}`};return c}return t[i]})])}function mMe(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:sJ(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",a=Ge(n)?"axisOrient":`axis${Px(n)}`,o=[...i,...i.map(c=>s+c.substr(4))],l=["axis",a,s];return{vlOnlyAxisConfig:sP(o,r,e,n),vgAxisConfig:sP(l,r,e,n),axisConfigStyle:xMe([...l,...o],r)}}function xMe(e,t){var r;const n=[{}];for(const i of e){let s=(r=t[i])==null?void 0:r.style;if(s){s=Le(s);for(const a of s)n.push(t.style[a])}}return Object.assign.apply(null,n)}function RF(e,t,n,r={}){var s;const i=$K(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[a])==null?void 0:s[e])!==void 0)return{configFrom:a,configValue:r[a][e]};return{}}const aP={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??vMe(n,e),gridScale:({model:e,channel:t})=>yMe(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||GZ(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||jZ(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??bMe(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??EMe(t.type,n,ke(t)&&!!t.timeUnit,ke(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,a=s?t.getSizeSignalRef(s):void 0;return n.tickCount??SMe({fieldOrDatumDef:r,scaleType:i,size:a,values:n.values})},tickMinStep:AMe,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=qZ(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",a=t.fieldDef(s);return IK(i?[F8(i)]:[],ke(a)?[F8(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>TMe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??kMe(n,t)};function vMe(e,t){return!gr(e)&&ke(t)&&!sn(t==null?void 0:t.bin)&&!yr(t==null?void 0:t.bin)}function yMe(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function _Me(e,t,n,r,i){const s=t==null?void 0:t.labelAngle;if(s!==void 0)return Ge(s)?s:D1(s);{const{configValue:a}=RF("labelAngle",r,t==null?void 0:t.style,i);return a!==void 0?D1(a):n===dn&&yt([T$,A$],e.type)&&!(ke(e)&&e.timeUnit)?270:void 0}}function IF(e){return`(((${e.signal} % 360) + 360) % 360)`}function jZ(e,t,n,r){if(e!==void 0)if(n==="x"){if(Ge(e)){const i=IF(e),s=Ge(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Ge(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Ge(e)){const i=IF(e),s=Ge(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Ge(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function GZ(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(Ge(e)){const a=IF(e),o=Ge(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${a} + 90)`:a} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${a} && ${a} < ${180+i}) === ${o} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Ge(t)){const a=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${a} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function bMe(e,t){if(t==="x"&&yt(["quantitative","temporal"],e))return!0}function EMe(e,t,n,r){if(n&&!Me(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function wMe(e){return e==="x"?"bottom":"left"}function SMe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!gr(t)&&t!=="log"){if(ke(e)){if(sn(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&yt(["month","hours","day","quarter"],(i=pr(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function AMe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(ke(t)){const{timeUnit:n}=t;if(n){const r=ZK(n);if(r)return{signal:r}}}}function qZ(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,a=i?i.title:void 0;if(s&&a)return MK(s,a);if(s)return s;if(a)return a;if(s!==void 0)return s;if(a!==void 0)return a}function TMe(e,t){const n=e.values;if(me(n))return DJ(t,n);if(Ge(n))return n}function kMe(e,t){return e==="rect"&&xb(t)?1:0}class up extends Kt{clone(){return new up(null,st(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=zZ(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(cd(r)&&EJ(r.sort)){const{field:s,timeUnit:a}=r,o=r.sort,l=o.map((c,u)=>`${tJ({field:s,timeUnit:a,equal:c})} ? ${u} : `).join("")+o.length;t=new up(t,{calculate:l,as:fp(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${wt(this.transform)}`}}function fp(e,t,n){return Re(e,{prefix:t,suffix:"sort_index",...n})}function cS(e,t){return yt(["top","bottom"],t)?"column":yt(["left","right"],t)||e==="row"?"row":"column"}function hp(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Nn((t||{})[e],i[e],n.header[e])}function uS(e,t,n,r){const i={};for(const s of e){const a=hp(s,t||{},n,r);a!==void 0&&(i[s]=a)}return i}const rR=["row","column"],iR=["header","footer"];function CMe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:a,titleOrient:o}=uS(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=cS(t,o),c=D1(a);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...YZ(c,l),...XZ(l,c,s),...KZ(r,i,t,mRe,JJ)}}}function XZ(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=GZ(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function YZ(e,t){const n=jZ(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function FMe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of iR)if(n[i])for(const s of n[i]){const a=NMe(e,t,i,n,s);a!=null&&r.push(a)}return r}function OMe(e,t){const{sort:n}=e;return Bl(n)?{field:Re(n,{expr:"datum"}),order:n.order??"ascending"}:me(n)?{field:fp(e,t,{expr:"datum"}),order:"ascending"}:{field:Re(e,{expr:"datum"}),order:n??"ascending"}}function MF(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:a,labelOrient:o,labelExpr:l}=uS(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=$$({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=cS(t,o);return{text:{signal:l?Ch(Ch(l,"datum.label",c),"datum.value",Re(e,{expr:"parent"})):c},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...YZ(s,u),...XZ(u,s,a),...KZ(n,e,t,xRe,ZJ)}}function NMe(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:a}=r,o=e.config?e.config:void 0;if(a&&i.labels){const{labelOrient:f}=uS(["labelOrient"],a.header,o,t);(t==="row"&&!yt(["top","bottom"],f)||t==="column"&&!yt(["left","right"],f))&&(s=MF(a,t,o))}const l=ws(e)&&!jx(e.facet),c=i.axes,u=(c==null?void 0:c.length)>0;if(s||u){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:OMe(a,t)}:{},...u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...u?{axes:c}:{}}}}return null}const DMe={column:{start:0,end:1},row:{start:1,end:0}};function $Me(e,t){return DMe[t][e]}function RMe(e,t){const n={};for(const r of ta){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:s,titleOrient:a}=uS(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),o=cS(r,a),l=$Me(s,o);l!==void 0&&(n[o]=l)}}return Zt(n)?void 0:n}function KZ(e,t,n,r,i){const s={};for(const a of r){if(!i[a])continue;const o=hp(a,t==null?void 0:t.header,e,n);o!==void 0&&(s[i[a]]=o)}return s}function sR(e){return[...uy(e,"width"),...uy(e,"height"),...uy(e,"childWidth"),...uy(e,"childHeight")]}function uy(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const a=s.get("type"),o=s.get("range");if(gr(a)&&Ju(o)){const l=e.scaleName(n);return ws(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[oP(l,o)]:[oP(l,o),{name:i,update:JZ(l,s,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),a=s?"containerSize()[0]":"containerSize()[1]",o=CF(e.config.view,s?"width":"height"),l=`isFinite(${a}) ? ${a} : ${o}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function oP(e,t){const n=`${e}_step`;return Ge(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function JZ(e,t,n){const r=t.get("type"),i=t.get("padding"),s=Nn(t.get("paddingOuter"),i);let a=t.get("paddingInner");return a=r==="band"?a!==void 0?a:i:1,`bandspace(${n}, ${Ma(a)}, ${Ma(s)}) * ${e}_step`}function ZZ(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function QZ(e,t){return Ee(e).reduce((n,r)=>({...n,...Vp({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>rn(i.value),invalidValueRef:void 0})}),{})}function eQ(e,t){if(ws(t))return e==="theta"?"independent":"shared";if(qp(t))return"shared";if(hR(t))return Dn(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function aR(e,t){const n=e.scale[t],r=Dn(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&we(fDe(t)),"independent"):e[r][t]||"shared"}const IMe={..._Re,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},tQ=Ee(IMe);class MMe extends uc{}const lP={symbols:LMe,gradient:PMe,labels:BMe,entries:UMe};function LMe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:a,encoding:o,config:l,mark:c}=n,u=a.filled&&c!=="trail";let f={...ENe({},n,g$e),...kZ(n,{filled:u})};const h=i.get("symbolOpacity")??l.legend.symbolOpacity,d=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=h===void 0?nQ(o.opacity)??a.opacity:void 0;if(f.fill){if(r==="fill"||u&&r===ts)delete f.fill;else if(f.fill.field)d?delete f.fill:(f.fill=rn(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=rn(g??1));else if(me(f.fill)){const m=LF(o.fill??o.color)??a.fill??(u&&a.color);m&&(f.fill=rn(m))}}if(f.stroke){if(r==="stroke"||!u&&r===ts)delete f.stroke;else if(f.stroke.field||p)delete f.stroke;else if(me(f.stroke)){const m=Nn(LF(o.stroke||o.color),a.stroke,u?a.color:void 0);m&&(f.stroke={value:m})}}if(r!==oc){const m=ke(t)&&iQ(n,i,t);m?f.opacity=[{test:m,...rn(g??1)},rn(l.legend.unselectedOpacity)]:g&&(f.opacity=rn(g))}return f={...f,...e},Zt(f)?void 0:f}function PMe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:a}=t;let o={};const c=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?nQ(a.opacity)||s.opacity:void 0;return c&&(o.opacity=rn(c)),o={...o,...e},Zt(o)?void 0:o}function BMe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},a=n.config,o=ke(t)?iQ(n,i,t):void 0,l=o?[{test:o,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:c,formatType:u}=s;let f;$h(u)?f=La({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:u,config:a}):c===void 0&&u===void 0&&a.customFormatTypes&&(t.type==="quantitative"&&a.numberFormatType?f=La({fieldOrDatumDef:t,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):t.type==="temporal"&&a.timeFormatType&&ke(t)&&t.timeUnit===void 0&&(f=La({fieldOrDatumDef:t,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const h={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Zt(h)?void 0:h}function UMe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function nQ(e){return rQ(e,(t,n)=>Math.max(t,n.value))}function LF(e){return rQ(e,(t,n)=>Nn(t,n.value))}function rQ(e,t){if(M$e(e))return Le(e.condition).reduce(t,e.value);if(qa(e))return e.value}function iQ(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Ce(n.field);return r.map(s=>`(!length(data(${Ce(fn(s)+Ih)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const cP={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return yJ(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return _J(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??qMe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??XMe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??HMe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>g0(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(p0(n)&&Ao(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>zMe(t,e)};function zMe(e,t){const n=e.values;if(me(n))return DJ(t,n);if(Ge(n))return n}function HMe(e,t,n,r){if(t!=="shape"){const i=LF(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function VMe(e){const{legend:t}=e;return Nn(t.type,WMe(e))}function WMe({channel:e,timeUnit:t,scaleType:n}){if(p0(e)){if(yt(["quarter","month","day"],t))return"symbol";if(Ao(n))return"gradient"}return"symbol"}function jMe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??GMe(n,t)}function GMe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function qMe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:a,gradientVerticalMaxLength:o,gradientVerticalMinLength:l}=e;if(Ao(i))return n==="horizontal"?r==="top"||r==="bottom"?uP(t,"width",a,s):a:uP(t,"height",l,o)}function uP(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function XMe(e){if(yt(["quantile","threshold","log","symlog"],e))return"greedy"}function sQ(e){const t=xn(e)?YMe(e):QMe(e);return e.component.legends=t,t}function YMe(e){const{encoding:t}=e,n={};for(const r of[ts,...eZ]){const i=Jn(t[r]);!i||!e.getScaleComponent(r)||r===ns&&ke(i)&&i.type===Hp||(n[r]=ZMe(e,r))}return n}function KMe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function JMe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function ZMe(e,t){var _;let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,a=s.legend,o=new MMe({},KMe(e,t));oMe(e,t,o);const l=n!==void 0?!n:a.disable;if(o.set("disable",l,n!==void 0),l)return o;n=n||{};const c=e.getScaleComponent(t).get("type"),u=Jn(i[t]),f=ke(u)?(_=pr(u.timeUnit))==null?void 0:_.unit:void 0,h=n.orient||s.legend.orient||"right",d=VMe({legend:n,channel:t,timeUnit:f,scaleType:c}),p=jMe({legend:n,legendType:d,orient:h,legendConfig:a}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:u,legendConfig:a,config:s,scaleType:c,orient:h,legendType:d,direction:p};for(const b of tQ){if(d==="gradient"&&b.startsWith("symbol")||d==="symbol"&&b.startsWith("gradient"))continue;const w=b in cP?cP[b](g):n[b];if(w!==void 0){const E=JMe(w,b,n,e.fieldDef(t));(E||s.legend[b]===void 0)&&o.set(b,w,E)}}const m=(n==null?void 0:n.encoding)??{},x=o.get("selections"),y={},v={fieldOrDatumDef:u,model:e,channel:t,legendCmpt:o,legendType:d};for(const b of["labels","legend","title","symbols","gradient","entries"]){const w=QZ(m[b]??{},e),E=b in lP?lP[b](w,v):w;E!==void 0&&!Zt(E)&&(y[b]={...x!=null&&x.length&&ke(u)?{name:`${fn(u.field)}_legend_${b}`}:{},...x!=null&&x.length?{interactive:!!x}:{},update:E})}return Zt(y)||o.set("encode",y,!!(n!=null&&n.encoding)),o}function QMe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){sQ(r);for(const i of Ee(r.component.legends))n.legend[i]=aR(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=aQ(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of Ee(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function aQ(e,t){var s,a,o,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const c of tQ){const u=Au(e.getWithExplicit(c),t.getWithExplicit(c),c,"legend",(f,h)=>{switch(c){case"symbolType":return e6e(f,h);case"title":return LK(f,h);case"type":return i=!0,cs("symbol")}return iS(f,h,c,"legend")});e.setWithExplicit(c,u)}return i&&((a=(s=e.implicit)==null?void 0:s.encode)!=null&&a.gradient&&fb(e.implicit,["encode","gradient"]),(l=(o=e.explicit)==null?void 0:o.encode)!=null&&l.gradient&&fb(e.explicit,["encode","gradient"])),e}function e6e(e,t){return t.value==="circle"?t:e}function t6e(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function oQ(e){const t=e.component.legends,n={};for(const i of Ee(t)){const s=e.getScaleComponent(i),a=Qt(s.get("domains"));if(n[a])for(const o of n[a])aQ(o,t[i])||n[a].push(t[i]);else n[a]=[t[i].clone()]}return Tr(n).flat().map(i=>n6e(i,e.config)).filter(i=>i!==void 0)}function n6e(e,t){var a,o,l;const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),(a=s.encode)!=null&&a.symbols){const c=s.encode.symbols.update;c.fill&&c.fill.value!=="transparent"&&!c.stroke&&!s.stroke&&(c.stroke={value:"transparent"});for(const u of eZ)s[u]&&delete c[u]}if(s.title||delete s.title,r!==void 0){let c=r;(l=(o=s.encode)==null?void 0:o.labels)!=null&&l.update&&Ge(s.encode.labels.update.text)&&(c=Ch(r,"datum.label",s.encode.labels.update.text.signal)),t6e(s,"labels","text",{signal:c})}return s}}function r6e(e){return qp(e)||hR(e)?i6e(e):lQ(e)}function i6e(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),lQ(e))}function lQ(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(a=>a.signal).join(", ")}]`},s=t.data.reduce((a,o)=>{const l=Ge(o)?o.signal:`data('${e.lookupDataSource(o)}')`;return yt(a,l)||a.push(l),a},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const s6e=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class cQ extends uc{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function uQ(e){e.component.projection=xn(e)?a6e(e):c6e(e)}function a6e(e){if(e.hasProjection){const t=zr(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?o6e(e):void 0,s=new cQ(e.projectionName(!0),{...zr(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function o6e(e){const t=[],{encoding:n}=e;for(const r of[[io,ro],[da,so]])(Jn(n[r[0]])||Jn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ns)&&e.typedFieldDef(ns).type===Hp&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Sn.Main)),t}function l6e(e,t){const n=t$(s6e,i=>!!(!Ze(e.explicit,i)&&!Ze(t.explicit,i)||Ze(e.explicit,i)&&Ze(t.explicit,i)&&ys(e.get(i),t.get(i))));if(ys(e.size,t.size)){if(n)return e;if(ys(e.explicit,{}))return t;if(ys(t.explicit,{}))return e}return null}function c6e(e){if(e.children.length===0)return;let t;for(const r of e.children)uQ(r);const n=t$(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=l6e(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new cQ(r,t.specifiedProjection,t.size,st(t.data));for(const s of e.children){const a=s.component.projection;a&&(a.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(a.get("name"),r),a.merged=!0)}return i}}function u6e(e,t,n,r){if(Xx(t,n)){const i=xn(e)?e.axis(n)??e.legend(n)??{}:{},s=Re(t,{expr:"datum"}),a=Re(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Re(t,{binSuffix:"range",forAs:!0}),formula:Wx(s,a,i.format,i.formatType,r)}}return{}}function fQ(e,t){return`${FK(e)}_${t}`}function f6e(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function oR(e,t,n){const r=Zw(n,void 0)??{},i=fQ(r,t);return e.getName(`${i}_bins`)}function h6e(e){return"as"in e}function fP(e,t,n){let r,i;h6e(e)?r=Pe(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Re(e,{forAs:!0}),Re(e,{binSuffix:"end",forAs:!0})];const s={...Zw(t,void 0)},a=fQ(s,e.field),{signal:o,extentSignal:l}=f6e(n,a);if(zw(s.extent)){const u=s.extent;i=VZ(n,u.param,u),delete s.extent}const c={bin:s,field:e.field,as:[r],...o?{signal:o}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:a,binComponent:c}}class No extends Kt{clone(){return new No(null,st(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,a)=>{if(Di(s)&&sn(s.bin)){const{key:o,binComponent:l}=fP(s,s.bin,n);i[o]={...l,...i[o],...u6e(n,s,a,n.config)}}return i},{});return Zt(r)?null:new No(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=fP(n,n.bin,r);return new No(t,{[i]:s})}merge(t,n){for(const r of Ee(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=So([...this.bins[r].as,...t.bins[r].as],wt)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Tr(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Tr(this.bins).map(t=>t.field))}hash(){return`Bin ${wt(this.bins)}`}assemble(){return Tr(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...a}=t.bin,o={type:"bin",field:ha(t.field),as:r,signal:t.signal,...zw(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...a};!s&&t.extentSignal&&(n.push({type:"extent",field:ha(t.field),signal:t.extentSignal}),o.extent={signal:t.extentSignal}),n.push(o);for(const l of i)for(let c=0;c<2;c++)n.push({type:"formula",expr:Re({field:r[c]},{expr:"datum"}),as:l[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function d6e(e,t,n,r){var s;const i=xn(r)?r.encoding[nl(t)]:void 0;if(Di(n)&&xn(r)&&SJ(n,i,r.markDef,r.config)){e.add(Re(n,{})),e.add(Re(n,{suffix:"end"}));const{mark:a,markDef:o,config:l}=r,c=Su({fieldDef:n,markDef:o,config:l});$1(a)&&c!==.5&&Dn(t)&&(e.add(Re(n,{suffix:sS})),e.add(Re(n,{suffix:aS}))),n.bin&&Xx(n,t)&&e.add(Re(n,{binSuffix:"range"}))}else if(_K(t)){const a=yK(t);e.add(r.getName(a))}else e.add(Re(n));return cd(n)&&n$e((s=n.scale)==null?void 0:s.range)&&e.add(n.scale.range.field),e}function p6e(e,t){for(const n of Ee(t)){const r=t[n];for(const i of Ee(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Ha extends Kt{clone(){return new Ha(null,new Set(this.dimensions),st(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(a=>{a.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((a,o)=>{const{aggregate:l,field:c}=a;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([Re(a,{forAs:!0})]);else{if(Kl(l)||Ku(l)){const u=Kl(l)?"argmin":"argmax",f=l[u];i[f]??(i[f]={}),i[f][u]=new Set([Re({op:u,field:f},{forAs:!0})])}else i[c]??(i[c]={}),i[c][l]=new Set([Re(a,{forAs:!0})]);rl(o)&&n.scaleDomain(o)==="unaggregated"&&(i[c]??(i[c]={}),i[c].min=new Set([Re({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([Re({field:c,aggregate:"max"},{forAs:!0})]))}else d6e(s,o,a,n)}),s.size+Ee(i).length===0)?null:new Ha(t,s,i)}static makeFromTransform(t,n){var r;const i=new Set,s={};for(const a of n.aggregate){const{op:o,field:l,as:c}=a;o&&(o==="count"?(s["*"]??(s["*"]={}),s["*"].count=new Set([c||Re(a,{forAs:!0})])):(s[l]??(s[l]={}),(r=s[l])[o]??(r[o]=new Set),s[l][o].add(c||Re(a,{forAs:!0}))))}for(const a of n.groupby??[])i.add(a);return i.size+Ee(s).length===0?null:new Ha(t,i,s)}merge(t){return fK(this.dimensions,t.dimensions)?(p6e(this.measures,t.measures),!0):(kDe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Ee(this.measures)])}producedFields(){const t=new Set;for(const n of Ee(this.measures))for(const r of Ee(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${wt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of Ee(this.measures))for(const a of Ee(this.measures[s]))for(const o of this.measures[s][a])r.push(o),t.push(a),n.push(s==="*"?null:ha(s));return{type:"aggregate",groupby:[...this.dimensions].map(ha),ops:t,fields:n,as:r}}}class jp extends Kt{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of ta){const a=n.facet[s];if(a){const{bin:o,sort:l}=a;this[s]={name:n.getName(`${s}_domain`),fields:[Re(a),...sn(o)?[Re(a,{binSuffix:"end"})]:[]],...Bl(l)?{sortField:l}:me(l)?{sortIndexField:fp(a,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of ta)this[n]&&(t+=` ${n.charAt(0)}:${wt(this[n])}`);return t}get fields(){var n;const t=[];for(const r of ta)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of ta)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of lc){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(gr(i)&&Ju(s)){const a=fS(this.childModel,n),o=fR(a);o?t[n]=o:we(p$(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],a=[],o=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),a.push("max")):(s.push(r[i]),a.push("distinct")),o.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:c}=this[t];if(l){const{op:u=Yw,field:f}=l;s.push(f),a.push(u),o.push(Re(l,{forAs:!0}))}else c&&(s.push(c),a.push("max"),o.push(c));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:a,as:o}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const c of rR){for(const u of iR){const f=(r[c]&&r[c][u])??[];for(const h of f)if(((l=h.axes)==null?void 0:l.length)>0){s[c]=!0;break}}if(s[c]){const u=`length(data("${this.facet.name}"))`,f=c==="row"?n?{signal:`ceil(${u} / ${n})`}:1:n?{signal:`min(${u}, ${n})`}:{signal:u};i.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:a,column:o}=s;return(a||o)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:a}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(r.x??[],r.y??[]),l=o.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:o,ops:l}]})}for(const o of[Pl,Ll])this[o]&&t.push(this.assembleRowColumnHeaderData(o,n,r));if(a){const o=this.assembleFacetHeaderData(r);o&&t.push(...o)}return t}}function hP(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function g6e(e,t){const n=i$(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=hP(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=hP(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return we(MNe(t)),null}function m6e(e){const t={};return b_(e.filter,n=>{if(eJ(n)){let r=null;v$(n)?r=ms(n.equal):_$(n)?r=ms(n.lte):y$(n)?r=ms(n.lt):b$(n)?r=ms(n.gt):E$(n)?r=ms(n.gte):w$(n)?r=n.range[0]:S$(n)&&(r=(n.oneOf??n.in)[0]),r&&(od(r)?t[n.field]="date":Rt(r)?t[n.field]="number":Pe(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function x6e(e){const t={};function n(r){op(r)?t[r.field]="date":r.type==="quantitative"&&pNe(r.aggregate)?t[r.field]="number":ep(r.field)>1?r.field in t||(t[r.field]="flatten"):cd(r)&&Bl(r.sort)&&ep(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((xn(e)||ws(e))&&e.forEachFieldDef((r,i)=>{if(Di(r))n(r);else{const s=sd(i),a=e.fieldDef(s);n({...r,type:a.type})}}),xn(e)){const{mark:r,markDef:i,encoding:s}=e;if(Zu(r)&&!e.encoding.order){const a=i.orient==="horizontal"?"y":"x",o=s[a];ke(o)&&o.type==="quantitative"&&!(o.field in t)&&(t[o.field]="number")}}return t}function v6e(e){const t={};if(xn(e)&&e.component.selection)for(const n of Ee(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&ep(i.field)>1&&(t[i.field]="flatten")}return t}class Kr extends Kt{clone(){return new Kr(null,st(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${wt(this._parse)}`}static makeExplicit(t,n,r){var a;let i={};const s=n.data;return!su(s)&&((a=s==null?void 0:s.format)!=null&&a.parse)&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const o of Ee(r)){const l=i.getWithExplicit(o);l.value!==void 0&&(l.explicit||l.value===r[o]||l.value==="derived"||r[o]==="flatten"?delete r[o]:we(b8(o,r[o],l.value)))}for(const o of Ee(n)){const l=i.get(o);l!==void 0&&(l===n[o]?delete n[o]:we(b8(o,n[o],l)))}const s=new uc(n,r);i.copyAll(s);const a={};for(const o of Ee(s.combine())){const l=s.get(o);l!==null&&(a[o]=l)}return Ee(a).length===0||i.parseNothing?null:new Kr(t,a)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of Ee(this._parse)){const r=this._parse[n];ep(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(Ee(this._parse))}dependentFields(){return new Set(Ee(this._parse))}assembleTransforms(t=!1){return Ee(this._parse).filter(n=>t?ep(n)>1:!0).map(n=>{const r=g6e(n,this._parse[n]);return r?{type:"formula",expr:r,as:Up(n)}:null}).filter(n=>n!==null)}}class Cu extends Kt{clone(){return new Cu(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ya])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ya}}}class Jx extends Kt{clone(){return new Jx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${wt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Zx extends Kt{clone(){return new Zx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${wt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Mh extends Kt{constructor(t){super(null),t??(t={name:"source"});let n;if(su(t)||(n=t.format?{...Xi(t.format,["parse"])}:{}),R1(t))this._data={values:t.values};else if(lp(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];yt(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else vZ(t)?this._data={values:[{type:"Sphere"}]}:(mZ(t)||su(t))&&(this._data={});this._generator=su(t),t.name&&(this._name=t.name),n&&!Zt(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var dP=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},y6e=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},am;function lR(e){return e instanceof Mh||e instanceof Jx||e instanceof Zx}class cR{constructor(){am.set(this,void 0),dP(this,am,!1,"f")}setModified(){dP(this,am,!0,"f")}get modifiedFlag(){return y6e(this,am,"f")}}am=new WeakMap;class ud extends cR{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class uR extends cR{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class _6e extends uR{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of Ee(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class b6e extends uR{constructor(t){super(),this.requiresSelectionId=t&&nR(t)}run(t){t instanceof Cu&&(this.requiresSelectionId&&(lR(t.parent)||t.parent instanceof Ha||t.parent instanceof Kr)||(this.setModified(),t.remove()))}}class E6e extends cR{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Oo&&(r=t.producedFields(),n$(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class w6e extends uR{constructor(){super()}run(t){t instanceof Yi&&!t.isRequired()&&(this.setModified(),t.remove())}}class S6e extends ud{run(t){if(!lR(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Kr)if(t instanceof Kr)this.setModified(),t.merge(n);else{if(r$(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class A6e extends ud{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Kr);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const a of r){const o=a.parse;for(const l of Ee(o))l in i?i[l]!==o[l]&&s.add(l):i[l]=o[l]}for(const a of s)delete i[a];if(!Zt(i)){this.setModified();const a=new Kr(t,i);for(const o of n){if(o instanceof Kr)for(const l of Ee(i))delete o.parse[l];t.removeChild(o),o.parent=a,o instanceof Kr&&Ee(o.parse).length===0&&o.remove()}}}}}class T6e extends ud{run(t){t instanceof Yi||t.numChildren()>0||t instanceof jp||t instanceof Mh||(this.setModified(),t.remove())}}class k6e extends ud{run(t){const n=t.children.filter(i=>i instanceof Oo),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class C6e extends ud{run(t){const n=t.children.filter(i=>i instanceof Ha),r={};for(const i of n){const s=wt(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of Ee(r)){const s=r[i];if(s.length>1){const a=s.pop();for(const o of s)a.merge(o)&&(t.removeChild(o),o.parent=a,o.remove(),this.setModified())}}}}class F6e extends ud{constructor(t){super(),this.model=t}run(t){const n=!(lR(t)||t instanceof Wp||t instanceof Kr||t instanceof Cu),r=[],i=[];for(const s of t.children)s instanceof No&&(n&&!r$(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const a of r)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof No?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const a of i)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class O6e extends ud{run(t){const n=[...t.children];if(!Q0(n,a=>a instanceof Yi)||t.numChildren()<=1)return;const i=[];let s;for(const a of n)if(a instanceof Yi){let o=a;for(;o.numChildren()===1;){const[l]=o.children;if(l instanceof Yi)o=l;else break}i.push(...o.children),s?(t.removeChild(a),a.parent=s.parent,s.parent.removeChild(s),s.parent=o,this.setModified()):s=o}else i.push(a);if(i.length){this.setModified();for(const a of i)a.parent.removeChild(a),a.parent=s}}}class fd extends Kt{clone(){return new fd(null,st(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=So(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Re(t)}hash(){return`JoinAggregateTransform ${wt(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class dp extends Kt{clone(){return new dp(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:s}=n,{marks:a,scales:o}=r;if(a==="include-invalid-values"&&o==="include-invalid-values")return null;const l=n.reduceFieldDef((c,u,f)=>{const h=rl(f)&&n.getScaleComponent(f);if(h){const d=h.get("type"),{aggregate:p}=u,g=O$({scaleChannel:f,markDef:s,config:i,scaleType:d,isCountAggregate:Uw(p)});g!=="show"&&g!=="always-valid"&&(c[u.field]=u)}return c},{});return Ee(l).length?new dp(t,l):null}dependentFields(){return new Set(Ee(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${wt(this.filter)}`}assemble(){const t=Ee(this.filter).reduce((n,r)=>{const i=this.filter[r],s=Re(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (${PF(s)}))`):i.type==="quantitative"&&n.push(PF(s))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function PF(e){return`isValid(${e}) && isFinite(+${e})`}function N6e(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Re(r);return i&&t.push(i),t},[])}function D6e(e){return me(e)&&e.every(t=>Pe(t))&&e.length>1}class zl extends Kt{clone(){return new zl(null,st(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:a="zero"}=n,o=[],l=[];if(n.sort!==void 0)for(const f of n.sort)o.push(f.field),l.push(Nn(f.order,"ascending"));const c={field:o,order:l};let u;return D6e(s)?u=s:Pe(s)?u=[s,`${s}_end`]:u=[`${n.stack}_start`,`${n.stack}_end`],new zl(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:a,sort:c,facetby:[],as:u})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:a,offset:o,impute:l}=r,c=s.map(d=>{const p=i[d];return Xa(p)}).filter(d=>!!d),u=N6e(n),f=n.encoding.order;let h;if(me(f)||ke(f))h=RK(f);else{const d=AJ(f)?f.sort:a==="y"?"descending":"ascending";h=u.reduce((p,g)=>(p.field.includes(g)||(p.field.push(g),p.order.push(d)),p),{field:[],order:[]})}return new zl(t,{dimensionFieldDefs:c,stackField:n.vgField(a),facetby:[],stackby:u,sort:h,offset:o,impute:l,as:[n.vgField(a,{suffix:"start",forAs:!0}),n.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${wt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Re(i,{binSuffix:"mid"})]:[Re(i,{}),Re(i,{binSuffix:"end"})]:[Re(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:a,offset:o,impute:l,as:c}=this._stack;if(l)for(const u of r){const{bandPosition:f=.5,bin:h}=u;if(h){const d=Re(u,{expr:"datum"}),p=Re(u,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${PF(d)} ? ${f}*${d}+${1-f}*${p} : ${d}`,as:Re(u,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:Re(u,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:a,as:c,offset:o}),t}}class Gp extends Kt{clone(){return new Gp(null,st(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=So(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Re(t)}hash(){return`WindowTransform ${wt(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const s=this.transform.frame,a=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(f=>h$(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...a!==void 0?{groupby:a}:{}};const o=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)o.push(f.field),l.push(f.order??"ascending");const c={field:o,order:l},u=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:c,...u!==void 0?{ignorePeers:u}:{},...a!==void 0?{groupby:a}:{},...s!==void 0?{frame:s}:{}}}}function $6e(e){function t(n){if(!(n instanceof jp)){const r=n.clone();if(r instanceof Yi){const i=UF+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Ha||r instanceof zl||r instanceof Gp||r instanceof fd)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function BF(e){if(e instanceof jp)if(e.numChildren()===1&&!(e.children[0]instanceof Yi)){const t=e.children[0];(t instanceof Ha||t instanceof zl||t instanceof Gp||t instanceof fd)&&t.addDimensions(e.fields),t.swapWithParent(),BF(e)}else{const t=e.model.component.data.main;hQ(t);const n=$6e(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(BF)}function hQ(e){if(e instanceof Yi&&e.type===Sn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof jp||(t.swapWithParent(),hQ(e))}}const UF="scale_",fy=5;function zF(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!zF(t.children))return!1}return!0}function Ea(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function pP(e,t,n){let r=e.sources,i=!1;return i=Ea(new w6e,r)||i,i=Ea(new b6e(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=Ea(new T6e,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=Ea(new S6e,r)||i,i=Ea(new F6e(t),r)||i,i=Ea(new E6e,r)||i,i=Ea(new A6e,r)||i,i=Ea(new C6e,r)||i,i=Ea(new k6e,r)||i,i=Ea(new _6e,r)||i,i=Ea(new O6e,r)||i),e.sources=r,i}function R6e(e,t){zF(e.sources);let n=0,r=0;for(let i=0;i<fy&&pP(e,t,!0);i++)n++;e.sources.map(BF);for(let i=0;i<fy&&pP(e,t,!1);i++)r++;zF(e.sources),Math.max(n,r)===fy&&we(`Maximum optimization runs(${fy}) reached.`)}class sr{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new sr(()=>t(n))}}function dQ(e){xn(e)?I6e(e):M6e(e)}function I6e(e){const t=e.component.scales;for(const n of Ee(t)){const r=P6e(e,n);if(t[n].setWithExplicit("domains",r),U6e(e,n),e.component.data.isFaceted){let s=e;for(;!ws(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const o of r.value)kl(o)&&(o.data=UF+o.data.replace(UF,""))}}}function M6e(e){for(const n of e.children)dQ(n);const t=e.component.scales;for(const n of Ee(t)){let r,i=null;for(const s of e.children){const a=s.component.scales[n];if(a){r===void 0?r=a.getWithExplicit("domains"):r=Au(r,a.getWithExplicit("domains"),"domains","scale",HF);const o=a.get("selectionExtent");i&&o&&i.param!==o.param&&we(DNe),i=o}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function L6e(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=gP(t,n);if(!i){we(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=gP(t,n);if(i)return"unaggregated"}return e}function P6e(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=L6e(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Jn(r.x2)?Jn(r.x)?Au(Ac(n,i,e,"x"),Ac(n,i,e,"x2"),"domain","scale",HF):Ac(n,i,e,"x2"):t==="y"&&Jn(r.y2)?Jn(r.y)?Au(Ac(n,i,e,"y"),Ac(n,i,e,"y2"),"domain","scale",HF):Ac(n,i,e,"y2"):Ac(n,i,e,t)}function B6e(e,t,n){return e.map(r=>({signal:`{data: ${Qw(r,{timeUnit:n,type:t})}}`}))}function gT(e,t,n){var i;const r=(i=pr(n))==null?void 0:i.unit;return t==="temporal"||r?B6e(e,t,r):[e]}function Ac(e,t,n,r){const{encoding:i,markDef:s,mark:a,config:o,stack:l}=n,c=Jn(i[r]),{type:u}=c,f=c.timeUnit,h=$Ie({invalid:zo("invalid",s,o),isPath:Zu(a)});if(t$e(t)){const g=Ac(e,void 0,n,r),m=gT(t.unionWith,u,f);return vo([...m,...g.value])}else{if(Ge(t))return vo([t]);if(t&&t!=="unaggregated"&&!oJ(t))return vo(gT(t,u,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return cs([[0,1]]);const g=n.requestDataName(h);return cs([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const d=rl(r)&&ke(c)?z6e(n,r,e):void 0;if(il(c)){const g=gT([c.datum],u,f);return cs(g)}const p=c;if(t==="unaggregated"){const{field:g}=c;return cs([{data:n.requestDataName(h),field:Re({field:g,aggregate:"min"})},{data:n.requestDataName(h),field:Re({field:g,aggregate:"max"})}])}else if(sn(p.bin)){if(gr(e))return cs(e==="bin-ordinal"?[]:[{data:N1(d)?n.requestDataName(h):n.requestDataName(Sn.Raw),field:n.vgField(r,Xx(p,r)?{binSuffix:"range"}:{}),sort:d===!0||!Me(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:g}=p;if(sn(g)){const m=oR(n,p.field,g);return cs([new sr(()=>{const x=n.getSignalName(m);return`[${x}.start, ${x}.stop]`})])}else return cs([{data:n.requestDataName(h),field:n.vgField(r,{})}])}}else if(p.timeUnit&&yt(["time","utc"],e)){const g=i[nl(r)];if(SJ(p,g,s,o)){const m=n.requestDataName(h),x=Su({fieldDef:p,fieldDef2:g,markDef:s,config:o}),y=$1(a)&&x!==.5&&Dn(r);return cs([{data:m,field:n.vgField(r,y?{suffix:sS}:{})},{data:m,field:n.vgField(r,{suffix:y?aS:"end"})}])}}return cs(d?[{data:N1(d)?n.requestDataName(h):n.requestDataName(Sn.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(h),field:n.vgField(r)}])}function mT(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":Yw),...r?{field:ha(r)}:{},...i?{order:i}:{}}}function U6e(e,t){var o;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(o=e.fieldDef(t))==null?void 0:o.bin,s=oJ(r)&&r,a=ad(i)&&zw(i.extent)&&i.extent;(s||a)&&n.set("selectionExtent",s??a,!0)}function z6e(e,t,n){if(!gr(n))return;const r=e.fieldDef(t),i=r.sort;if(EJ(i))return{op:"min",field:fp(r,t),order:"ascending"};const{stack:s}=e,a=s?new Set([...s.groupbyFields,...s.stackBy.map(o=>o.fieldDef.field)]):void 0;if(Bl(i)){const o=s&&!a.has(i.field);return mT(i,o)}else if($$e(i)){const{encoding:o,order:l}=i,c=e.fieldDef(o),{aggregate:u,field:f}=c,h=s&&!a.has(f);if(Kl(u)||Ku(u))return mT({field:Re(c),order:l},h);if(h$(u)||!u)return mT({op:u,field:f,order:l},h)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(yt(["ascending",void 0],i))return!0}}function gP(e,t){const{aggregate:n,type:r}=e;return n?Pe(n)&&!mNe.has(n)?{valid:!1,reason:iDe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:sDe(e)}:{valid:!0}:{valid:!1,reason:rDe(e)}}function HF(e,t,n,r){return e.explicit&&t.explicit&&we(uDe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function H6e(e){const t=So(e.map(a=>{if(kl(a)){const{sort:o,...l}=a;return l}return a}),wt),n=So(e.map(a=>{if(kl(a)){const o=a.sort;return o!==void 0&&!N1(o)&&("op"in o&&o.op==="count"&&delete o.field,o.order==="ascending"&&delete o.order),o}}).filter(a=>a!==void 0),wt);if(t.length===0)return;if(t.length===1){const a=e[0];if(kl(a)&&n.length>0){let o=n[0];if(n.length>1){we(w8);const l=n.filter(c=>Me(c)&&"op"in c&&c.op!=="min");n.every(c=>Me(c)&&"op"in c)&&l.length===1?o=l[0]:o=!0}else if(Me(o)&&"field"in o){const l=o.field;a.field===l&&(o=o.order?{order:o.order}:!0)}return{...a,sort:o}}return a}const r=So(n.map(a=>N1(a)||!("op"in a)||Pe(a.op)&&a.op in hNe?a:(we(hDe(a)),!0)),wt);let i;r.length===1?i=r[0]:r.length>1&&(we(w8),i=!0);const s=So(e.map(a=>kl(a)?a.data:null),a=>a);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(o=>o.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function fR(e){if(kl(e)&&Pe(e.field))return e.field;if(xNe(e)){let t;for(const n of e.fields)if(kl(n)&&Pe(n.field)){if(!t)t=n.field;else if(t!==n.field)return we(dDe),t}return we(pDe),t}else if(vNe(e)){we(gDe);const t=e.fields[0];return Pe(t)?t:void 0}}function fS(e,t){const r=e.component.scales[t].get("domains").map(i=>(kl(i)&&(i.data=e.lookupDataSource(i.data)),i));return H6e(r)}function pQ(e){return qp(e)||hR(e)?e.children.reduce((t,n)=>t.concat(pQ(n)),mP(e)):mP(e)}function mP(e){return Ee(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:a,selectionExtent:o,domains:l,range:c,reverse:u,...f}=i,h=V6e(i.range,s,n,e),d=fS(e,n),p=o?BIe(e,o,r,d):null;return t.push({name:s,type:a,...d?{domain:d}:{},...p?{domainRaw:p}:{},range:h,...u!==void 0?{reverse:u}:{},...f}),t},[])}function V6e(e,t,n,r){if(Dn(n)){if(Ju(e))return{step:{signal:`${t}_step`}}}else if(Me(e)&&kl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class gQ extends uc{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(yt([_r.LOG,_r.TIME,_r.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&yt([_r.LINEAR,_r.SQRT,_r.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,s=!1,a=!1;for(const o of r){if(me(o)){const l=o[0],c=o[o.length-1];if(Rt(l)&&Rt(c))if(l<=0&&c>=0){i=!0;continue}else{s=!0;continue}}a=!0}if(i)return"definitely";if(s&&!a)return"definitely-not"}return"maybe"}}const W6e=["range","scheme"];function j6e(e){const t=e.component.scales;for(const n of f$){const r=t[n];if(!r)continue;const i=G6e(n,e);r.setWithExplicit("range",i)}}function xP(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,s=rs(t),a=e.getName(s);if(Me(r)&&r.binned&&r.step!==void 0)return new sr(()=>{const o=e.scaleName(t),l=`(domain("${o}")[1] - domain("${o}")[0]) / ${r.step}`;return`${e.getSignalName(a)} / (${l})`});if(sn(r)){const o=oR(e,i,r);return new sr(()=>{const l=e.getSignalName(o),c=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(a)} / (${c})`})}}}function G6e(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const f of W6e)if(n[f]!==void 0){const h=AF(s,f),d=lJ(e,f);if(!h)we(zK(s,f,e));else if(d)we(d);else switch(f){case"range":{const p=n.range;if(me(p)){if(Dn(e))return vo(p.map(g=>{if(g==="width"||g==="height"){const m=t.getName(g),x=t.getSignalName.bind(t);return sr.fromName(x,m)}return g}))}else if(Me(p))return vo({data:t.requestDataName(Sn.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return vo(p)}case"scheme":return vo(q6e(n[f]))}}const a=e===dn||e==="xOffset"?"width":"height",o=r[a];if(Vo(o)){if(Dn(e))if(gr(s)){const f=xQ(o,t,e);if(f)return vo({step:f})}else we(HK(a));else if(zx(e)){const f=e===ju?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=vQ(o,s);if(p)return vo(p)}}}const{rangeMin:l,rangeMax:c}=n,u=X6e(e,t);return(l!==void 0||c!==void 0)&&AF(s,"rangeMin")&&me(u)&&u.length===2?vo([l??u[0],c??u[1]]):cs(u)}function q6e(e){return e$e(e)?{scheme:e.name,...Xi(e,["name"])}:{scheme:e}}function mQ(e,t,n,{center:r}={}){const i=rs(e),s=t.getName(i),a=t.getSignalName.bind(t);return e===xr&&Ga(n)?r?[sr.fromName(o=>`${a(o)}/2`,s),sr.fromName(o=>`-${a(o)}/2`,s)]:[sr.fromName(a,s),0]:r?[sr.fromName(o=>`-${a(o)}/2`,s),sr.fromName(o=>`${a(o)}/2`,s)]:[0,sr.fromName(a,s)]}function X6e(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:a}=Jn(s[e]),l=t.getScaleComponent(e).get("type"),{domain:c,domainMid:u}=t.specifiedScales[e];switch(e){case dn:case xr:{if(yt(["point","band"],l)){const f=yQ(e,n,r.view);if(Vo(f))return{step:xQ(f,t,e)}}return mQ(e,t,l)}case ju:case zp:return Y6e(e,t,l);case ac:{const f=Z6e(i,r),h=Q6e(i,n,t,r);return ip(l)?J6e(f,h,K6e(l,r,c,e)):[f,h]}case xa:return[0,Math.PI*2];case id:return[0,360];case no:return[0,new sr(()=>{const f=t.getSignalName(ws(t.parent)?"child_width":"width"),h=t.getSignalName(ws(t.parent)?"child_height":"height");return`min(${f},${h})/2`})];case Xu:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Yu:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ns:return"symbol";case ts:case el:case tl:return l==="ordinal"?a==="nominal"?"category":"ordinal":u!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case oc:case Gu:case qu:return[r.scale.minOpacity,r.scale.maxOpacity]}}function xQ(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=Pw(n),a=r[s];if(nZ({step:e,offsetIsDiscrete:at(a)&&nJ(a.type)})==="offset"&&MJ(r,s)){const l=t.getScaleComponent(s);let u=`domain('${t.scaleName(s)}').length`;if(l.get("type")==="band"){const h=l.get("paddingInner")??l.get("padding")??0,d=l.get("paddingOuter")??l.get("padding")??0;u=`bandspace(${u}, ${h}, ${d})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${u} / (1-${EF(f)})`}}else return e.step}function vQ(e,t){if(nZ({step:e,offsetIsDiscrete:gr(t)})==="offset")return{step:e.step}}function Y6e(e,t,n){const r=e===ju?"x":"y",i=t.getScaleComponent(r);if(!i)return mQ(r,t,n,{center:!0});const s=i.get("type"),a=t.scaleName(r),{markDef:o,config:l}=t;if(s==="band"){const c=yQ(r,t.size,t.config.view);if(Vo(c)){const u=vQ(c,n);if(u)return u}return[0,{signal:`bandwidth('${a}')`}]}else{const c=t.encoding[r];if(ke(c)&&c.timeUnit){const u=ZK(c.timeUnit,p=>`scale('${a}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,h=Su({fieldDef:c,markDef:o,config:l})-.5,d=h!==0?` + ${h}`:"";if(f){const p=Ge(f)?`${f.signal}/2`+d:`${f/2+h}`,g=Ge(f)?`(1 - ${f.signal}/2)`+d:`${1-f/2+h}`;return[{signal:`${p} * (${u})`},{signal:`${g} * (${u})`}]}return[0,{signal:u}]}return cK(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function yQ(e,t,n){const r=e===dn?"width":"height",i=t[r];return i||Eb(n,r)}function K6e(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&me(n)?n.length+1:(we(SDe(r)),3)}}function J6e(e,t,n){const r=()=>{const i=Ma(t),s=Ma(e),a=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${a}, ${a})`};return Ge(t)?new sr(r):{signal:r()}}function Z6e(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(Hw("size",e))}const vP=.95;function Q6e(e,t,n,r){const i={x:xP(n,"x"),y:xP(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=yP(t,i,r.view);return Rt(s)?s-1:new sr(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=yP(t,i,r.view);return Rt(s)?Math.pow(vP*s,2):new sr(()=>`pow(${vP} * ${s.signal}, 2)`)}}throw new Error(Hw("size",e))}function yP(e,t,n){const r=Vo(e.width)?e.width.step:bb(n,"width"),i=Vo(e.height)?e.height.step:bb(n,"height");return t.x||t.y?new sr(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function _Q(e,t){xn(e)?e5e(e,t):EQ(e,t)}function e5e(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:a}=e;for(const o of Ee(n)){const l=a[o],c=n[o],u=e.getScaleComponent(o),f=Jn(i[o]),h=l[t],d=u.get("type"),p=u.get("padding"),g=u.get("paddingInner"),m=AF(d,t),x=lJ(o,t);if(h!==void 0&&(m?x&&we(x):we(zK(d,t,o))),m&&x===void 0)if(h!==void 0){const y=f.timeUnit,v=f.type;switch(t){case"domainMax":case"domainMin":od(l[t])||v==="temporal"||y?c.set(t,{signal:Qw(l[t],{type:v,timeUnit:y})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const y=t in _P?_P[t]({model:e,channel:o,fieldOrDatumDef:f,scaleType:d,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:s,config:r,hasNestedOffsetScale:LJ(i,o),hasSecondaryRangeChannel:!!i[nl(o)]}):r.scale[t];y!==void 0&&c.set(t,y,!1)}}}const _P={bins:({model:e,fieldOrDatumDef:t})=>ke(t)?t5e(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>n5e(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>r5e(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>i5e(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>s5e(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>a5e(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=ke(e)?e.sort:void 0;return o5e(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:a})=>l5e(e,t,n,r,i,s.scale,a)};function bQ(e){xn(e)?j6e(e):EQ(e,"range")}function EQ(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?bQ(r):_Q(r,t);for(const r of Ee(n)){let i;for(const s of e.children){const a=s.component.scales[r];if(a){const o=a.getWithExplicit(t);i=Au(i,o,t,"scale",gZ((l,c)=>{switch(t){case"range":return l.step&&c.step?l.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function t5e(e,t){const n=t.bin;if(sn(n)){const r=oR(e,t.field,n);return new sr(()=>e.getSignalName(r))}else if(yr(n)&&ad(n)&&n.step!==void 0)return{step:n.step}}function n5e(e,t){if(yt([ts,el,tl],e)&&t!=="nominal")return"hcl"}function r5e(e,t,n,r,i,s){var a;if(!((a=Xa(s))!=null&&a.bin||me(n)||i!=null||r!=null||yt([_r.TIME,_r.UTC],e)))return Dn(t)?!0:void 0}function i5e(e,t,n,r,i,s){if(Dn(e)){if(Ao(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:a,orient:o}=i;if(a==="bar"&&!(ke(r)&&(r.bin||r.timeUnit))&&(o==="vertical"&&e==="x"||o==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===_r.POINT)return n.pointPadding}}function s5e(e,t,n,r,i,s=!1){if(e===void 0){if(Dn(t)){const{bandPaddingInner:a,barBandPaddingInner:o,rectBandPaddingInner:l,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:u}=i;return s?u:Nn(a,n==="bar"?o:n==="tick"?c:l)}else if(zx(t)&&r===_r.BAND)return i.offsetBandPaddingInner}}function a5e(e,t,n,r,i,s=!1){if(e===void 0){if(Dn(t)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:o}=i;if(s)return o;if(n===_r.BAND)return Nn(a,Ge(r)?{signal:`${r.signal}/2`}:r/2)}else if(zx(t)){if(n===_r.POINT)return .5;if(n===_r.BAND)return i.offsetBandPaddingOuter}}}function o5e(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Ga(e)&&t==="descending"?Ge(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Ga(e)&&t==="descending")return!0}function l5e(e,t,n,r,i,s,a){if(!!n&&n!=="unaggregated"&&Ga(i)){if(me(n)){const l=n[0],c=n[n.length-1];if(Rt(l)&&l<=0&&Rt(c)&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!ip(i))return!0;if(!(ke(t)&&t.bin)&&yt([...lc,...iNe],e)){const{orient:l,type:c}=r;return yt(["bar","area","line","trail"],c)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:yt(["bar","area"],c)&&!a?!0:s==null?void 0:s.zero}return!1}function c5e(e,t,n,r,i=!1){const s=u5e(t,n,r,i),{type:a}=e;return rl(t)?a!==void 0?o$e(t,a)?ke(n)&&!a$e(a,n.type)?(we(lDe(a,s)),s):a:(we(oDe(t,a,s)),s):s:null}function u5e(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(p0(e)||oT(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&we(lT(e,"ordinal")),"ordinal";if(Dn(e)||zx(e)){if(yt(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in u$)return"band";const s=n[rs(e)];return Dh(s)||ap(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return p0(e)?"time":oT(e)==="discrete"?(we(lT(e,"temporal")),"ordinal"):ke(t)&&t.timeUnit&&pr(t.timeUnit).utc?"utc":"time";case"quantitative":return p0(e)?ke(t)&&sn(t.bin)?"bin-ordinal":"linear":oT(e)==="discrete"?(we(lT(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(BK(t.type))}function f5e(e,{ignoreRange:t}={}){wQ(e),dQ(e);for(const n of s$e)_Q(e,n);t||bQ(e)}function wQ(e){xn(e)?e.component.scales=h5e(e):e.component.scales=p5e(e)}function h5e(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of f$){const a=Jn(t[s]);if(a&&n===fJ&&s===ns&&a.type===Hp)continue;let o=a&&a.scale;if(a&&o!==null&&o!==!1){o??(o={});const l=LJ(t,s),c=c5e(o,s,a,r,l);i[s]=new gQ(e.scaleName(`${s}`,!0),{value:c,explicit:o.type===c})}}return i}const d5e=gZ((e,t)=>A8(e)-A8(t));function p5e(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){wQ(s);for(const a of Ee(s.component.scales))if((t=i.scale)[a]??(t[a]=eQ(a,e)),i.scale[a]==="shared"){const o=r[a],l=s.component.scales[a].getWithExplicit("type");o?YDe(o.value,l.value)?r[a]=Au(o,l,"type","scale",d5e):(i.scale[a]="independent",delete r[a]):r[a]=l}}for(const s of Ee(r)){const a=e.scaleName(s,!0),o=r[s];n[s]=new gQ(a,o);for(const l of e.children){const c=l.component.scales[s];c&&(l.renameScale(c.get("name"),a),c.merged=!0)}}return n}class xT{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function xn(e){return(e==null?void 0:e.type)==="unit"}function ws(e){return(e==null?void 0:e.type)==="facet"}function hR(e){return(e==null?void 0:e.type)==="concat"}function qp(e){return(e==null?void 0:e.type)==="layer"}class dR{constructor(t,n,r,i,s,a,o){this.type=n,this.parent=r,this.config=s,this.correctDataNames=l=>{var c,u,f;return(c=l.from)!=null&&c.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(u=l.from)==null?void 0:u.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=s,this.view=zr(o),this.name=t.name??i,this.title=Rc(t.title)?{text:t.title}:t.title?zr(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new xT,this.projectionNameMap=r?r.projectionNameMap:new xT,this.signalNameMap=r?r.signalNameMap:new xT,this.data=t.data,this.description=t.description,this.transforms=bIe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:ARe(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Kw(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new uc,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?st(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){f5e(this)}parseProjection(){uQ(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){sQ(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of Ee(r)){const a=r[s];a!==void 0&&(i[s]=rn(a))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=rn(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Zt(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=RMe(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of ta)t[r].title&&n.push(CMe(this,r));for(const r of rR)n=n.concat(FMe(this,r));return n}assembleAxes(){return gMe(this.component.axes,this.config)}assembleLegends(){return oQ(this)}assembleProjections(){return r6e(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...OK(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return yt(["unit","layer"],this.type)?yt(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Zt(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||ws(this.parent)?pQ(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const a=this.assembleLegends();return a.length>0&&(n.legends=a),n}getName(t){return fn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Sn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(ws(this.parent)){const n=ZZ(t),r=Bw(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),a=i.get("range");if(gr(s)&&Ju(a)){const o=i.get("name"),l=fS(this,r),c=fR(l);if(c){const u=Re({aggregate:"distinct",field:c},{expr:"datum"});return{signal:JZ(o,i,u)}}else return we(p$(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(EK(t)&&rl(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(TNe(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class SQ extends dR{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Re(r,n)}reduceFieldDef(t,n){return eRe(this.getMapping(),(r,i,s)=>{const a=Xa(i);return a?t(r,a,s):r},n)}forEachFieldDef(t,n){B$(this.getMapping(),(r,i)=>{const s=Xa(r);s&&t(s,i)},n)}}class hS extends Kt{clone(){return new hS(null,st(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=st(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${wt(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class dS extends Kt{clone(){return new dS(null,st(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=st(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${wt(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class pS extends Kt{clone(){return new pS(this.parent,st(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=st(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,a)=>i[a]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${wt(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class gS extends Kt{clone(){return new gS(null,st(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=st(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${wt(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class x0 extends Kt{clone(){return new x0(null,st(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[io,ro],[da,so]]){const s=i.map(a=>{const o=Jn(n.encoding[a]);return ke(o)?o.field:il(o)?{expr:`${o.datum}`}:qa(o)?{expr:`${o.value}`}:void 0});(s[0]||s[1])&&(t=new x0(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(ns)){const i=n.typedFieldDef(ns);i.type===Hp&&(t=new x0(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Pe);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${wt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class I1 extends Kt{clone(){return new I1(null,this.projection,st(this.fields),st(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[io,ro],[da,so]]){const i=r.map(a=>{const o=Jn(n.encoding[a]);return ke(o)?o.field:il(o)?{expr:`${o.datum}`}:qa(o)?{expr:`${o.value}`}:void 0}),s=r[0]===da?"2":"";(i[0]||i[1])&&(t=new I1(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Pe))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${wt(this.fields)} ${wt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class rh extends Kt{clone(){return new rh(null,st(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new rh(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(ke(i)&&ke(s)){const a=i.impute?i:s.impute?s:void 0;if(a===void 0)return;const o=i.impute?s:s.impute?i:void 0,{method:l,value:c,frame:u,keyvals:f}=a.impute,h=UJ(n.mark,r);return new rh(t,{impute:a.field,key:o.field,...l?{method:l}:{},...c!==void 0?{value:c}:{},...u?{frame:u}:{},...f!==void 0?{keyvals:f}:{},...h.length?{groupby:h}:{}})}return null}hash(){return`Impute ${wt(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:a,frame:o=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:nIe(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?a:null};if(i&&i!=="value"){const c={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:o,ignorePeers:!1,...s?{groupby:s}:{}},u={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,c,u]}else return[l]}}class mS extends Kt{clone(){return new mS(null,st(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=st(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${wt(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class M1 extends Kt{clone(){return new M1(null,st(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:a}=r;let o=null;if(rIe(a)){let l=kQ(a.data,s);l||(l=new Mh(a.data),s.push(l));const c=n.getName(`lookup_${i}`);o=new Yi(l,c,Sn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[c]=o}else if(iIe(a)){const l=a.param;r={as:l,...r};let c;try{c=n.getSelectionComponent(fn(l),l)}catch{throw new Error(ONe(l))}if(o=c.materialized,!o)throw new Error(NNe(l))}return new M1(t,r,o.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Le(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${wt({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Le(this.transform.as)}:{}};else{let n=this.transform.as;Pe(n)||(we(BNe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class xS extends Kt{clone(){return new xS(null,st(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=st(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${wt(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class vS extends Kt{clone(){return new vS(null,st(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=st(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${wt(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class yS extends Kt{clone(){return new yS(null,st(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=So((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${wt(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class _S extends Kt{clone(){return new _S(null,st(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${wt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function AQ(e){let t=0;function n(r,i){if(r instanceof Mh&&!r.isGenerator&&!lp(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Kr&&(r.parent instanceof Mh&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof jp){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Jx||r instanceof Zx||r instanceof dp||r instanceof Wp||r instanceof up||r instanceof I1||r instanceof Ha||r instanceof M1||r instanceof Gp||r instanceof fd||r instanceof gS||r instanceof pS||r instanceof hS||r instanceof mS||r instanceof xS||r instanceof vS||r instanceof Cu||r instanceof _S||r instanceof yS||r instanceof dS)&&i.transform.push(r.assemble()),(r instanceof No||r instanceof Oo||r instanceof rh||r instanceof zl||r instanceof x0)&&i.transform.push(...r.assemble()),r instanceof Yi&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Yi?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Yi&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const a of r.children)n(a,{name:null,source:s,transform:[]});break}}}return n}function g5e(e){const t=[],n=AQ(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function m5e(e,t){const n=[],r=AQ(n);let i=0;for(const a of e.sources){a.hasName()||(a.dataName=`source_${i++}`);const o=a.assemble();r(a,o)}for(const a of n)a.transform.length===0&&delete a.transform;let s=0;for(const[a,o]of n.entries())(o.transform??[]).length===0&&!o.source&&n.splice(s++,0,n.splice(a,1)[0]);for(const a of n)for(const o of a.transform??[])o.type==="lookup"&&(o.from=e.outputNodes[o.from].getSource());for(const a of n)a.name in t&&(a.values=t[a.name]);return n}function x5e(e){return e==="top"||e==="left"||Ge(e)?"header":"footer"}function v5e(e){for(const t of ta)y5e(e,t);bP(e,"x"),bP(e,"y")}function y5e(e,t){var a;const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const o=n[t],l=hp("title",null,r,t);let c=g0(o,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(c=me(c)?c.join(", "):c,c+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=hp("labelOrient",o.header,r,t),f=o.header!==null?Nn((a=o.header)==null?void 0:a.labels,r.header.labels,!0):!1,h=yt(["bottom","right"],u)?"footer":"header";s.layoutHeaders[t]={title:o.header!==null?c:null,facetFieldDef:o,[h]:t==="facet"?[]:[TQ(e,t,f)]}}}function TQ(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function bP(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=aR(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",a=r[s];for(const o of n.component.axes[t]){const l=x5e(o.get("orient"));a[l]??(a[l]=[TQ(e,s,!1)]);const c=sm(o,"main",e.config,{header:!0});c&&a[l][0].axes.push(c),o.mainExtracted=!0}}}}function _5e(e){pR(e),Tb(e,"width"),Tb(e,"height")}function b5e(e){pR(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";Tb(e,t),Tb(e,n)}function pR(e){for(const t of e.children)t.parseLayoutSize()}function Tb(e,t){const n=ZZ(t),r=Bw(n),i=e.component.resolve,s=e.component.layoutSize;let a;for(const o of e.children){const l=o.component.layoutSize.getWithExplicit(n),c=i.scale[r]??eQ(r,e);if(c==="independent"&&l.value==="step"){a=void 0;break}if(a){if(c==="independent"&&a.value!==l.value){a=void 0;break}a=Au(a,l,n,"")}else a=l}if(a){for(const o of e.children)e.renameSignal(o.getName(n),e.getName(t)),o.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,a)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function E5e(e){const{size:t,component:n}=e;for(const r of lc){const i=rs(r);if(t[i]){const s=t[i];n.layoutSize.set(i,Vo(s)?"step":s,!0)}else{const s=w5e(e,i);n.layoutSize.set(i,s,!1)}}}function w5e(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),a=i.get("range");if(gr(s)){const o=Eb(r.view,t);return Ju(a)||Vo(o)?"step":o}else return CF(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return CF(r.view,t);{const s=Eb(r.view,t);return Vo(s)?s.step:s}}}function VF(e,t,n){return Re(t,{suffix:`by_${Re(e)}`,...n})}class Nm extends SQ{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=yR(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!jx(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=Ee(t),r={};for(const i of n){if(![Ll,Pl].includes(i)){we(Hw(i,"facet"));break}const s=t[i];if(s.field===void 0){we(wF(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=P$(t,n);return r.header?r.header=zr(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=bS(this),this.child.parseData()}parseLayoutSize(){pR(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),v5e(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of ta)for(const r of iR){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:a}=i;if(a){const o=hp("titleOrient",a.header,this.config,n);if(["right","bottom"].includes(o)){const l=cS(n,o);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(s!=null&&s[0]){const o=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(o)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Nm))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Nm?{...this.channelHasField("column")?{encode:{update:{columns:{field:Re(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Nm){if(this.child.channelHasField("column")){const i=Re(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of lc){const s=this.child.component.scales[i];if(s&&!s.merged){const a=s.get("type"),o=s.get("range");if(gr(a)&&Ju(o)){const l=fS(this.child,i),c=fR(l);c?(t.push(c),n.push("distinct"),r.push(`distinct_${c}`)):we(p$(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:a,as:o}=this.getCardinalityAggregateForChild(),l=[];for(const u of ta){const f=this.facet[u];if(f){l.push(Re(f));const{bin:h,sort:d}=f;if(sn(h)&&l.push(Re(f,{binSuffix:"end"})),Bl(d)){const{field:p,op:g=Yw}=d,m=VF(f,d);r&&i?(s.push(m),a.push("max"),o.push(m)):(s.push(p),a.push(g),o.push(m))}else if(me(d)){const p=fp(f,u);s.push(p),a.push("max"),o.push(p)}}}const c=!!r&&!!i;return{name:t,data:n,groupby:l,...c||s.length>0?{aggregate:{...c?{cross:c}:{},...s.length?{fields:s,ops:a,as:o}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Bl(r.sort)?[VF(r,r.sort,{expr:"datum"})]:me(r.sort)?[fp(r,t,{expr:"datum"})]:[Re(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Bl(i)?i.order:!me(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return MF(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of rR)if(t[s]){const a=hp("labelOrient",(i=t[s])==null?void 0:i.header,n,s);if(r[s].includes(a))return MF(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=g5e(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:ta.map(l=>this.facetSortFields(l)).flat(),order:ta.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(IIe(this,[]))}]}getMapping(){return this.facet}}function S5e(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(Bl(s.sort)){const{field:a,op:o=Yw}=s.sort;e=i=new fd(e,{joinaggregate:[{op:o,field:a,as:VF(s,s.sort,{forAs:!0})}],groupby:[Re(s)]})}return i}return null}function kQ(e,t){var n,r,i,s;for(const a of t){const o=a.data;if(e.name&&a.hasName()&&e.name!==a.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,c=(r=o.format)==null?void 0:r.feature;if(l&&c)continue;const u=(i=e.format)==null?void 0:i.feature;if((u||c)&&u!==c)continue;const f=(s=o.format)==null?void 0:s.mesh;if(!((l||f)&&l!==f)){if(R1(e)&&R1(o)){if(ys(e.values,o.values))return a}else if(lp(e)&&lp(o)){if(e.url===o.url)return a}else if(mZ(e)&&e.name===a.dataName)return a}}return null}function A5e(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Mh({values:[]});return t.push(r),r}const n=kQ(e.data,t);if(n)return su(e.data)||(n.data.format=uK({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Mh(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function T5e(e,t,n){let r=0;for(const i of t.transforms){let s,a;if(pIe(i))a=e=new up(e,i),s="derived";else if(K$(i)){const o=m6e(i);a=e=Kr.makeWithAncestors(e,{},o,n)??e,e=new Wp(e,t,i.filter)}else if(fZ(i))a=e=No.makeFromTransform(e,i,t),s="number";else if(mIe(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new Kr(e,{[i.field]:s}),n.set(i.field,s,!1)),a=e=Oo.makeFromTransform(e,i);else if(xIe(i))a=e=Ha.makeFromTransform(e,i),s="number",nR(t)&&(e=new Cu(e));else if(uZ(i))a=e=M1.make(e,t,i,r++),s="derived";else if(fIe(i))a=e=new Gp(e,i),s="number";else if(hIe(i))a=e=new fd(e,i),s="number";else if(vIe(i))a=e=zl.makeFromTransform(e,i),s="derived";else if(yIe(i))a=e=new gS(e,i),s="derived";else if(_Ie(i))a=e=new dS(e,i),s="derived";else if(dIe(i))a=e=new pS(e,i),s="derived";else if(sIe(i))a=e=new yS(e,i),s="derived";else if(uIe(i))e=new _S(e,i);else if(gIe(i))a=e=rh.makeFromTransform(e,i),s="derived";else if(aIe(i))a=e=new hS(e,i),s="derived";else if(oIe(i))a=e=new xS(e,i),s="derived";else if(lIe(i))a=e=new vS(e,i),s="derived";else if(cIe(i))a=e=new mS(e,i),s="derived";else{we(PNe(i));continue}if(a&&s!==void 0)for(const o of a.producedFields()??[])n.set(o,s,!1)}return e}function bS(e){var m;let t=A5e(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,a=!(i&&(su(i)||lp(i)||R1(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new DIe;su(i)?(xZ(i)?t=new Zx(t,i.sequence):J$(i)&&(t=new Jx(t,i.graticule)),a.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(a.parseNothing=!0),t=Kr.makeExplicit(t,e,a)??t,t=new Cu(t);const o=e.parent&&qp(e.parent);(xn(e)||ws(e))&&o&&(t=No.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=T5e(t,e,a));const l=v6e(e),c=x6e(e);t=Kr.makeWithAncestors(t,{},{...l,...c},a)??t,xn(e)&&(t=x0.parseAll(t,e),t=I1.parseAll(t,e)),(xn(e)||ws(e))&&(o||(t=No.makeFromEncoding(t,e)??t),t=Oo.makeFromEncoding(t,e)??t,t=up.parseAllForSortIndex(t,e));const u=t=hy(Sn.Raw,e,t);if(xn(e)){const x=Ha.makeFromEncoding(t,e);x&&(t=x,nR(e)&&(t=new Cu(t))),t=rh.makeFromEncoding(t,e)??t,t=zl.makeFromEncoding(t,e)??t}let f,h;if(xn(e)){const{markDef:x,mark:y,config:v}=e,_=Xt("invalid",x,v),{marks:b,scales:w}=h=yZ({invalid:_,isPath:Zu(y)});b!==w&&w==="include-invalid-values"&&(f=t=hy(Sn.PreFilterInvalid,e,t)),b==="exclude-invalid-values"&&(t=dp.make(t,e,h)??t)}const d=t=hy(Sn.Main,e,t);let p;if(xn(e)&&h){const{marks:x,scales:y}=h;x==="include-invalid-values"&&y==="exclude-invalid-values"&&(t=dp.make(t,e,h)??t,p=t=hy(Sn.PostFilterInvalid,e,t))}xn(e)&&dMe(e,d);let g=null;if(ws(e)){const x=e.getName("facet");t=S5e(t,e.facet)??t,g=new jp(t,e,x,d.getSource()),n[x]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:u,main:d,facetRoot:g,ancestorParse:a,preFilterInvalid:f,postFilterInvalid:p}}function hy(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),a=new Yi(n,s,e,i);return r[s]=a,a}class k5e extends dR{constructor(t,n,r,i){var s,a,o,l;super(t,"concat",n,r,i,t.resolve),(((a=(s=t.resolve)==null?void 0:s.axis)==null?void 0:a.x)==="shared"||((l=(o=t.resolve)==null?void 0:o.axis)==null?void 0:l.y)==="shared")&&we(INe),this.children=this.getChildren(t).map((c,u)=>yR(c,this,this.getName(`concat_${u}`),void 0,i))}parseData(){this.component.data=bS(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ee(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return nS(t)?t.vconcat:X$(t)?t.hconcat:t.concat}parseLayoutSize(){b5e(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=sR(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function C5e(e){return e===!1||e===null}const F5e={disable:1,gridScale:1,scale:1,...RJ,labelExpr:1,encode:1},CQ=Ee(F5e);class gR extends uc{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new gR(st(this.explicit),st(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!C5e(this.get(t))}hasOrientSignalRef(){return Ge(this.explicit.orient)}}function O5e(e,t,n){const{encoding:r,config:i}=e,s=Jn(r[t])??Jn(r[nl(t)]),a=e.axis(t)||{},{format:o,formatType:l}=a;if($h(l))return{text:La({fieldOrDatumDef:s,field:"datum.value",format:o,formatType:l,config:i}),...n};if(o===void 0&&l===void 0&&i.customFormatTypes){if(sp(s)==="quantitative"){if(ap(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:La({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:La({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(sp(s)==="temporal"&&i.timeFormatType&&ke(s)&&!s.timeUnit)return{text:La({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function N5e(e){return lc.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[P5e(n,e)]),t),{})}const D5e={bottom:"top",top:"bottom",left:"right",right:"left"};function $5e(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of Ee(i.component.axes))n.axis[s]=aR(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=R5e(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of lc){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const a of s.component.axes[i]){const{value:o,explicit:l}=a.getWithExplicit("orient");if(!Ge(o)){if(r[o]>0&&!l){const c=D5e[o];r[o]>r[c]&&a.set("orient",c,!1)}r[o]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,a]of(t[i]||[]).entries())s>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}function R5e(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const a=i.getWithExplicit("orient"),o=s.getWithExplicit("orient");if(a.explicit&&o.explicit&&a.value!==o.value)return;e[r]=I5e(i,s)}}}else return t.map(n=>n.clone());return e}function I5e(e,t){for(const n of CQ){const r=Au(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return LK(i,s);case"gridScale":return{explicit:i.explicit,value:Nn(i.value,s.value)}}return iS(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function M5e(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Ge(n.labelAngle)?n.labelAngle:D1(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===qZ(r,i))return!0}return e===n[t]}const L5e=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function P5e(e,t){var x,y;let n=t.axis(e);const r=new gR,i=Jn(t.encoding[e]),{mark:s,config:a}=t,o=(n==null?void 0:n.orient)||((x=a[e==="x"?"axisX":"axisY"])==null?void 0:x.orient)||((y=a.axis)==null?void 0:y.orient)||wMe(e),l=t.getScaleComponent(e).get("type"),c=mMe(e,l,o,t.config),u=n!==void 0?!n:RF("disable",a.style,n==null?void 0:n.style,c).configValue;if(r.set("disable",u,n!==void 0),u)return r;n=n||{};const f=_Me(i,n,e,a.style,c),h=_J(n.formatType,i,l),d=yJ(i,i.type,n.format,n.formatType,a,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:o,labelAngle:f,format:d,formatType:h,mark:s,config:a};for(const v of CQ){const _=v in aP?aP[v](p):D8(v)?n[v]:void 0,b=_!==void 0,w=M5e(_,v,n,t,e);if(b&&w)r.set(v,_,w);else{const{configValue:E=void 0,configFrom:A=void 0}=D8(v)&&v!=="values"?RF(v,a.style,n.style,c):{},S=E!==void 0;b&&!S?r.set(v,_,w):(A!=="vgAxisConfig"||L5e.has(v)&&S||Yx(E)||Ge(E))&&r.set(v,E,!1)}}const g=n.encoding??{},m=$J.reduce((v,_)=>{if(!r.hasAxisPart(_))return v;const b=QZ(g[_]??{},t),w=_==="labels"?O5e(t,e,b):b;return w!==void 0&&!Zt(w)&&(v[_]={update:w}),v},{});return Zt(m)||r.set("encode",m,!!n.encoding||n.labelAngle!==void 0),r}function B5e({encoding:e,size:t}){for(const n of lc){const r=rs(n);Vo(t[r])&&qc(e[n])&&(delete t[r],we(HK(r)))}return t}const U5e={vgMark:"arc",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Yr("x",e,{defaultPos:"mid"}),...Yr("y",e,{defaultPos:"mid"}),...Tu(e,"radius"),...Tu(e,"theta")})},z5e={vgMark:"area",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...wb("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...wb("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...tR(e)})},H5e={vgMark:"rect",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Tu(e,"x"),...Tu(e,"y")})},V5e={vgMark:"shape",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&ke(n)&&n.type===Hp?{field:Re(n,{expr:"datum"})}:{}}]}},W5e={vgMark:"image",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Tu(e,"x"),...Tu(e,"y"),...Q$(e,"url")})},j5e={vgMark:"line",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Yr("x",e,{defaultPos:"mid"}),...Yr("y",e,{defaultPos:"mid"}),...ar("size",e,{vgChannel:"strokeWidth"}),...tR(e)})},G5e={vgMark:"trail",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Yr("x",e,{defaultPos:"mid"}),...Yr("y",e,{defaultPos:"mid"}),...ar("size",e),...tR(e)})};function mR(e,t){const{config:n}=e;return{...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Yr("x",e,{defaultPos:"mid"}),...Yr("y",e,{defaultPos:"mid"}),...ar("size",e),...ar("angle",e),...q5e(e,n,t)}}function q5e(e,t,n){return n?{shape:{value:n}}:ar("shape",e)}const X5e={vgMark:"symbol",encodeEntry:e=>mR(e)},Y5e={vgMark:"symbol",encodeEntry:e=>mR(e,"circle")},K5e={vgMark:"symbol",encodeEntry:e=>mR(e,"square")},J5e={vgMark:"rect",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Tu(e,"x"),...Tu(e,"y")})},Z5e={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...wb("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...wb("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...ar("size",e,{vgChannel:"strokeWidth"})}}},Q5e={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...va(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Yr("x",e,{defaultPos:"mid"}),...Yr("y",e,{defaultPos:"mid"}),...Q$(e),...ar("size",e,{vgChannel:"fontSize"}),...ar("angle",e),...nP("align",eLe(e.markDef,n,t)),...nP("baseline",tLe(e.markDef,n,t)),...Yr("radius",e,{defaultPos:null}),...Yr("theta",e,{defaultPos:null})}}};function eLe(e,t,n){if(Xt("align",e,n)===void 0)return"center"}function tLe(e,t,n){if(Xt("baseline",e,n)===void 0)return"middle"}const nLe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",s=r==="horizontal"?"height":"width";return{...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Yr("x",e,{defaultPos:"mid",vgChannel:"xc"}),...Yr("y",e,{defaultPos:"mid",vgChannel:"yc"}),...ar("size",e,{defaultRef:rLe(e),vgChannel:i}),[s]:rn(Xt("thickness",n,t))}}};function rLe(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",s=r==="horizontal"?"x":"y",a=Pw(s),o=e.getScaleComponent(a)||e.getScaleComponent(s),l=e.scaleName(a)||e.scaleName(s),c=Xt("size",n,t,{vgChannel:i})??t.tick.bandSize;if(c!==void 0)return rn(c);if((o==null?void 0:o.get("type"))==="band")return{scale:l,band:1};const u=o==null?void 0:o.get("range"),{tickBandPaddingInner:f}=t.scale,h=u&&Ju(u)?u.step:bb(t.view,i);return Rt(h)&&Rt(f)?{value:h*(1-f)}:{signal:`${EF(f)} * ${EF(h)}`}}const dy={arc:U5e,area:z5e,bar:H5e,circle:Y5e,geoshape:V5e,image:W5e,line:j5e,point:X5e,rect:J5e,rule:Z5e,square:K5e,text:Q5e,tick:nLe,trail:G5e};function iLe(e){if(yt([qw,jw,f$e],e.mark)){const t=UJ(e.mark,e.encoding);if(t.length>0)return sLe(e,t)}else if(e.mark===Gw){const t=bF.some(n=>Xt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return aLe(e)}return xR(e)}const EP="faceted_path_";function sLe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:EP+e.requestDataName(Sn.Main),data:e.requestDataName(Sn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:xR(e,{fromPrefix:EP})}]}const wP="stack_group_";function aLe(e){var c;const[t]=xR(e,{fromPrefix:wP}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,f)=>{const h=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${u}(${h.map(d=>`scale('${n}',${d})`).join(",")})`};let s,a;e.stack.fieldChannel==="x"?(s={...Z0(t.encode.update,["y","yc","y2","height",...bF]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Xi(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...Z0(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Xi(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of bF){const f=zo(u,e.markDef,e.config);t.encode.update[u]?(s[u]=t.encode.update[u],delete t.encode.update[u]):f&&(s[u]=rn(f)),f&&(t.encode.update[u]={value:0})}const o=[];if(((c=e.stack.groupbyChannels)==null?void 0:c.length)>0)for(const u of e.stack.groupbyChannels){const f=e.fieldDef(u),h=Re(f);h&&o.push(h),(f!=null&&f.bin||f!=null&&f.timeUnit)&&o.push(Re(f,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,f)=>{if(t.encode.update[f])return{...u,[f]:t.encode.update[f]};{const h=zo(f,e.markDef,e.config);return h!==void 0?{...u,[f]:rn(h)}:u}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Sn.Main),name:wP+e.requestDataName(Sn.Main),groupby:o,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}function oLe(e){const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,a=t.order;if(!(!me(a)&&qa(a)&&yF(a.value)||!a&&yF(Xt("order",i,s)))){if((me(a)||ke(a))&&!n)return RK(a,{expr:"datum"});if(Zu(r)){const o=i.orient==="horizontal"?"y":"x",l=t[o];if(ke(l))return{field:o}}}}function xR(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,a=Nn(r.clip,lLe(e),cLe(e)),o=DK(r),l=i.key,c=oLe(e),u=uLe(e),f=Xt("aria",r,s),h=dy[n].postEncodingTransform?dy[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:dy[n].vgMark,...a?{clip:a}:{},...o?{style:o}:{},...l?{key:l.field}:{},...c?{sort:c}:{},...u||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Sn.Main)},encode:{update:dy[n].encodeEntry(e)},...h?{transform:h}:{}}]}function lLe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function cLe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function uLe(e){if(!e.component.selection)return null;const t=Ee(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=Ee(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class FQ extends SQ{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,R8(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const a=Ho(t.mark)?{...t.mark}:{type:t.mark},o=a.type;a.filled===void 0&&(a.filled=XRe(a,s,{graticule:t.data&&J$(t.data)}));const l=this.encoding=Z$e(t.encoding||{},o,a.filled,s);this.markDef=oZ(a,l,s),this.size=B5e({encoding:l,size:R8(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=aZ(this.markDef,l),this.specifiedScales=this.initScales(o,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>G$(c))}get hasProjection(){const{encoding:t}=this,n=this.mark===fJ,r=t&&YOe.some(i=>at(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return f$.reduce((r,i)=>{const s=Jn(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=zr(t);return me(n)&&(i.domain=n.map(ms)),me(r)&&(i.range=r.map(ms)),i}initAxes(t){return lc.reduce((n,r)=>{const i=t[r];if(at(i)||r===dn&&at(t.x2)||r===xr&&at(t.y2)){const s=at(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=Ee(t),r={};for(const i of n){const s=t[i];r[i]=Yx(s)?NK(s):ms(s)}return r}initLegends(t){return sNe.reduce((n,r)=>{const i=Jn(t[r]);if(i&&oNe(r)){const s=i.legend;n[r]=s&&zr(s)}return n},{})}parseData(){this.component.data=bS(this)}parseLayoutSize(){E5e(this)}parseSelections(){this.component.selection=hMe(this,this.selection)}parseMarkGroup(){this.component.mark=iLe(this)}parseAxesAndHeaders(){this.component.axes=N5e(this)}assembleSelectionTopLevelSignals(t){return MIe(this,t)}assembleSignals(){return[...WZ(this),...RIe(this,[])]}assembleSelectionData(t){return LIe(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return sR(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!qp(this.parent))&&(t=bZ(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return th(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Xa(n)}typedFieldDef(t){const n=this.fieldDef(t);return Di(n)?n:null}}class vR extends dR{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const a={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((o,l)=>{if(rS(o))return new vR(o,this,this.getName(`layer_${l}`),a,s);if(cc(o))return new FQ(o,this,this.getName(`layer_${l}`),a,s);throw new Error(d$(o))})}parseData(){this.component.data=bS(this);for(const t of this.children)t.parseData()}parseLayoutSize(){_5e(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ee(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){$5e(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),WZ(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),sR(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Le(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return PIe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),oQ(this))}}function yR(e,t,n,r,i){if(Kw(e))return new Nm(e,t,n,i);if(rS(e))return new vR(e,t,n,r,i);if(cc(e))return new FQ(e,t,n,r,i);if(ERe(e))return new k5e(e,t,n,i);throw new Error(d$(e))}function fLe(e,t={}){t.logger&&ADe(t.logger),t.fieldTitle&&OJ(t.fieldTitle);try{const n=sZ(Fp(t.config,e.config)),r=pZ(e,n),i=yR(r,null,"",void 0,n);return i.parse(),R6e(i.component.data,i),{spec:dLe(i,hLe(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&TDe(),t.fieldTitle&&V$e()}}function hLe(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Pe(t)&&(t={type:t}),i&&s&&FIe(t.type)){if(i==="step"&&s==="step")we(v8()),t.type="pad";else if(i==="step"||s==="step"){const a=i==="step"?"width":"height";we(v8(Bw(a)));const o=a==="width"?"height":"width";t.type=OIe(o)}}return{...Ee(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...G8(n,!1),...G8(e,!0)}}function dLe(e,t,n={},r){const i=e.config?MRe(e.config):void 0,s=[].concat(e.assembleSelectionData([]),m5e(e.component.data,n)),a=e.assembleProjections(),o=e.assembleTitle(),l=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let u=e.assembleLayoutSignals();u=u.filter(d=>(d.name==="width"||d.name==="height")&&d.value!==void 0?(t[d.name]=+d.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...o?{title:o}:{},...l?{style:l}:{},...c?{encode:{update:c}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...u,...e.assembleSelectionTopLevelSignals([]),...tZ(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const pLe=VOe.version,gLe=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:ep,accessPathWithDatum:i$,compile:fLe,contains:yt,deepEqual:ys,deleteNestedProperty:fb,duplicate:st,entries:Eu,every:t$,fieldIntersection:r$,flatAccessWithDatum:hK,getFirstDefined:Nn,hasIntersection:n$,hash:wt,internalField:gK,isBoolean:N1,isEmpty:Zt,isEqual:jOe,isInternalField:mK,isNullOrFalse:yF,isNumeric:Dw,keys:Ee,logicalExpr:Fm,mergeDeep:uK,never:cK,normalize:pZ,normalizeAngle:D1,omit:Xi,pick:Z0,prefixGenerator:_F,removePathFromField:Up,replaceAll:Ch,replacePathInField:ha,resetIdCounter:qOe,setEqual:fK,some:Q0,stringify:Qt,titleCase:Px,unique:So,uniqueId:pK,vals:Tr,varName:fn,version:pLe},Symbol.toStringTag,{value:"Module"}));function OQ(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var mLe="vega-themes",xLe="2.15.0",vLe="Themes for stylized Vega and Vega-Lite visualizations.",yLe=["vega","vega-lite","themes","style"],_Le="BSD-3-Clause",bLe={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},ELe=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],wLe="build/vega-themes.js",_R="build/vega-themes.module.js",SLe="build/vega-themes.min.js",ALe="build/vega-themes.min.js",TLe="build/vega-themes.module.d.ts",kLe={type:"git",url:"https://github.com/vega/vega-themes.git"},CLe=["src","build"],FLe={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},OLe={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},NLe={vega:"*","vega-lite":"*"},DLe={},$Le={name:mLe,version:xLe,description:vLe,keywords:yLe,license:_Le,author:bLe,contributors:ELe,main:wLe,module:_R,unpkg:SLe,jsdelivr:ALe,types:TLe,repository:kLe,files:CLe,scripts:FLe,devDependencies:OLe,peerDependencies:NLe,dependencies:DLe};const Dd="#fff",SP="#888",RLe={background:"#333",view:{stroke:SP},title:{color:Dd,subtitleColor:Dd},style:{"guide-label":{fill:Dd},"guide-title":{fill:Dd}},axis:{domainColor:Dd,gridColor:SP,tickColor:Dd}},df="#4572a7",ILe={background:"#fff",arc:{fill:df},area:{fill:df},line:{stroke:df,strokeWidth:2},path:{stroke:df},rect:{fill:df},shape:{stroke:df},symbol:{fill:df,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},pf="#30a2da",vT="#cbcbcb",MLe="#999",LLe="#333",AP="#f0f0f0",TP="#333",PLe={arc:{fill:pf},area:{fill:pf},axis:{domainColor:vT,grid:!0,gridColor:vT,gridWidth:1,labelColor:MLe,labelFontSize:10,titleColor:LLe,tickColor:vT,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:AP,group:{fill:AP},legend:{labelColor:TP,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:TP,titleFontSize:14,titlePadding:10},line:{stroke:pf,strokeWidth:2},path:{stroke:pf,strokeWidth:.5},rect:{fill:pf},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:pf},bar:{binSpacing:2,fill:pf,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},gf="#000",BLe={group:{fill:"#e5e5e5"},arc:{fill:gf},area:{fill:gf},line:{stroke:gf},path:{stroke:gf},rect:{fill:gf},shape:{stroke:gf},symbol:{fill:gf,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},ULe=22,zLe="normal",kP="Benton Gothic, sans-serif",CP=11.5,HLe="normal",mf="#82c6df",yT="Benton Gothic Bold, sans-serif",FP="normal",OP=13,Cg={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},VLe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:yT,fontSize:ULe,fontWeight:zLe},arc:{fill:mf},area:{fill:mf},line:{stroke:mf,strokeWidth:2},path:{stroke:mf},rect:{fill:mf},shape:{stroke:mf},symbol:{fill:mf,size:30},axis:{labelFont:kP,labelFontSize:CP,labelFontWeight:HLe,titleFont:yT,titleFontSize:OP,titleFontWeight:FP},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:kP,labelFontSize:CP,symbolType:"square",titleFont:yT,titleFontSize:OP,titleFontWeight:FP},range:{category:Cg["category-6"],diverging:Cg["fireandice-6"],heatmap:Cg["fire-7"],ordinal:Cg["fire-7"],ramp:Cg["fire-7"]}},xf="#ab5787",py="#979797",WLe={background:"#f9f9f9",arc:{fill:xf},area:{fill:xf},line:{stroke:xf},path:{stroke:xf},rect:{fill:xf},shape:{stroke:xf},symbol:{fill:xf,size:30},axis:{domainColor:py,domainWidth:.5,gridWidth:.2,labelColor:py,tickColor:py,tickWidth:.2,titleColor:py},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},vf="#3e5c69",jLe={background:"#fff",arc:{fill:vf},area:{fill:vf},line:{stroke:vf},path:{stroke:vf},rect:{fill:vf},shape:{stroke:vf},symbol:{fill:vf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},zs="#1696d2",NP="#000000",GLe="#FFFFFF",gy="Lato",_T="Lato",qLe="Lato",XLe="#DEDDDD",YLe=18,Fg={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},KLe={background:GLe,title:{anchor:"start",fontSize:YLe,font:gy},axisX:{domain:!0,domainColor:NP,domainWidth:1,grid:!1,labelFontSize:12,labelFont:_T,labelAngle:0,tickColor:NP,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:gy},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:XLe,gridWidth:1,labelFontSize:12,labelFont:_T,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:gy,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:_T,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:gy,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Fg["six-groups-cat-1"],diverging:Fg["diverging-colors"],heatmap:Fg["diverging-colors"],ordinal:Fg["six-groups-seq"],ramp:Fg["shades-blue"]},area:{fill:zs},rect:{fill:zs},line:{color:zs,stroke:zs,strokeWidth:5},trail:{color:zs,stroke:zs,strokeWidth:0,size:1},path:{stroke:zs,strokeWidth:.5},point:{filled:!0},text:{font:qLe,color:zs,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:zs,stroke:null}},arc:{fill:zs},shape:{stroke:zs},symbol:{fill:zs,size:30}},yf="#3366CC",DP="#ccc",my="Arial, sans-serif",JLe={arc:{fill:yf},area:{fill:yf},path:{stroke:yf},rect:{fill:yf},shape:{stroke:yf},symbol:{stroke:yf},circle:{fill:yf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:my,fontSize:12},"guide-title":{font:my,fontSize:12},"group-title":{font:my,fontSize:12}},title:{font:my,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:DP,tickColor:DP,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},bR=e=>e*(1/3+1),$P=bR(9),RP=bR(10),IP=bR(12),Og="Segoe UI",MP="wf_standard-font, helvetica, arial, sans-serif",LP="#252423",Ng="#605E5C",PP="transparent",ZLe="#C8C6C4",Aa="#118DFF",QLe="#12239E",e8e="#E66C37",t8e="#6B007B",n8e="#E044A7",r8e="#744EC2",i8e="#D9B300",s8e="#D64550",NQ=Aa,DQ="#DEEFFF",BP=[DQ,NQ],a8e=[DQ,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",NQ],o8e={view:{stroke:PP},background:PP,font:Og,header:{titleFont:MP,titleFontSize:IP,titleColor:LP,labelFont:Og,labelFontSize:RP,labelColor:Ng},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Ng,labelFontSize:$P,titleFont:MP,titleColor:LP,titleFontSize:IP,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:ZLe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Aa},line:{stroke:Aa,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Og,fontSize:$P,fill:Ng},arc:{fill:Aa},area:{fill:Aa,line:!0,opacity:.6},path:{stroke:Aa},rect:{fill:Aa},point:{fill:Aa,filled:!0,size:75},shape:{stroke:Aa},symbol:{fill:Aa,strokeWidth:1.5,size:50},legend:{titleFont:Og,titleFontWeight:"bold",titleColor:Ng,labelFont:Og,labelFontSize:RP,labelColor:Ng,symbolType:"circle",symbolSize:75},range:{category:[Aa,QLe,e8e,t8e,n8e,r8e,i8e,s8e],diverging:BP,heatmap:BP,ordinal:a8e}},bT='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',l8e='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',ET=400,xy={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},c8e=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],u8e=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function ES({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=xy.gridBg[e],i=xy.textPrimary[e],s=xy.textSecondary[e],a=n==="dark"?c8e:u8e,o=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:bT,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:l8e,labelFontWeight:ET,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:xy.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:bT,fill:s,fontWeight:ET},"guide-title":{font:bT,fill:s,fontWeight:ET}},range:{category:a,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const f8e=ES({theme:"white",background:"#ffffff"}),h8e=ES({theme:"g10",background:"#f4f4f4"}),d8e=ES({theme:"g90",background:"#262626"}),p8e=ES({theme:"g100",background:"#161616"}),g8e=$Le.version,m8e=Object.freeze(Object.defineProperty({__proto__:null,carbong10:h8e,carbong100:p8e,carbong90:d8e,carbonwhite:f8e,dark:RLe,excel:ILe,fivethirtyeight:PLe,ggplot2:BLe,googlecharts:JLe,latimes:VLe,powerbi:o8e,quartz:WLe,urbaninstitute:KLe,version:g8e,vox:jLe},Symbol.toStringTag,{value:"Module"}));function x8e(e,t,n,r){if(me(e))return`[${e.map(i=>t(Pe(i)?i:UP(i,n))).join(", ")}]`;if(Me(e)){let i="";const{title:s,image:a,...o}=e;s&&(i+=`<h2>${t(s)}</h2>`),a&&(i+=`<img src="${new URL(t(a),r||location.href).href}">`);const l=Object.keys(o);if(l.length>0){i+="<table>";for(const c of l){let u=o[c];u!==void 0&&(Me(u)&&(u=UP(u,n)),i+=`<tr><td class="key">${t(c)}</td><td class="value">${t(u)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function v8e(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function UP(e,t){return JSON.stringify(e,v8e(t))}var y8e=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const $Q="vg-tooltip-element",_8e={offsetX:10,offsetY:10,id:$Q,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:b8e,maxDepth:2,formatTooltip:x8e,baseURL:""};function b8e(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function E8e(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return y8e.toString().replace($Q,e)}function w8e(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let s=e.clientY+r;return s+t.height>window.innerHeight&&(s=+e.clientY-r-t.height),{x:i,y:s}}class S8e{constructor(t){this.options={..._8e,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=E8e(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:a}=w8e(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${a}px`,this.el.style.left=`${s}px`}}var wT={};function A8e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class T8e{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var k8e=T8e;const C8e=Object.freeze({loose:!0}),F8e=Object.freeze({}),O8e=e=>e?typeof e!="object"?C8e:e:F8e;var ER=O8e,WF={exports:{}};const N8e="2.0.0",RQ=256,D8e=Number.MAX_SAFE_INTEGER||9007199254740991,$8e=16,R8e=RQ-6,I8e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var wR={MAX_LENGTH:RQ,MAX_SAFE_COMPONENT_LENGTH:$8e,MAX_SAFE_BUILD_LENGTH:R8e,MAX_SAFE_INTEGER:D8e,RELEASE_TYPES:I8e,SEMVER_SPEC_VERSION:N8e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const M8e=typeof process=="object"&&wT&&wT.NODE_DEBUG&&/\bsemver\b/i.test(wT.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var wS=M8e;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=wR,s=wS;t=e.exports={};const a=t.re=[],o=t.safeRe=[],l=t.src=[],c=t.t={};let u=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],d=g=>{for(const[m,x]of h)g=g.split(`${m}*`).join(`${m}{0,${x}}`).split(`${m}+`).join(`${m}{1,${x}}`);return g},p=(g,m,x)=>{const y=d(m),v=u++;s(g,v,m),c[g]=v,l[v]=m,a[v]=new RegExp(m,x?"g":void 0),o[v]=new RegExp(y,x?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),p("FULL",`^${l[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),p("LOOSE",`^${l[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),p("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[c.COERCE],!0),p("COERCERTLFULL",l[c.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(WF,WF.exports);var SR=WF.exports;const zP=/^[0-9]+$/,IQ=(e,t)=>{const n=zP.test(e),r=zP.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},L8e=(e,t)=>IQ(t,e);var P8e={compareIdentifiers:IQ,rcompareIdentifiers:L8e};const vy=wS,{MAX_LENGTH:HP,MAX_SAFE_INTEGER:yy}=wR,{safeRe:VP,t:WP}=SR,B8e=ER,{compareIdentifiers:$d}=P8e;let U8e=class ho{constructor(t,n){if(n=B8e(n),t instanceof ho){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>HP)throw new TypeError(`version is longer than ${HP} characters`);vy("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?VP[WP.LOOSE]:VP[WP.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>yy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>yy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>yy||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<yy)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(vy("SemVer.compare",this.version,this.options,t),!(t instanceof ho)){if(typeof t=="string"&&t===this.version)return 0;t=new ho(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof ho||(t=new ho(t,this.options)),$d(this.major,t.major)||$d(this.minor,t.minor)||$d(this.patch,t.patch)}comparePre(t){if(t instanceof ho||(t=new ho(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(vy("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return $d(r,i)}while(++n)}compareBuild(t){t instanceof ho||(t=new ho(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(vy("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return $d(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),$d(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var AR=U8e;const jP=AR,z8e=(e,t,n)=>new jP(e,n).compare(new jP(t,n));var Xp=z8e;const H8e=Xp,V8e=(e,t,n)=>H8e(e,t,n)===0;var W8e=V8e;const j8e=Xp,G8e=(e,t,n)=>j8e(e,t,n)!==0;var q8e=G8e;const X8e=Xp,Y8e=(e,t,n)=>X8e(e,t,n)>0;var K8e=Y8e;const J8e=Xp,Z8e=(e,t,n)=>J8e(e,t,n)>=0;var Q8e=Z8e;const ePe=Xp,tPe=(e,t,n)=>ePe(e,t,n)<0;var nPe=tPe;const rPe=Xp,iPe=(e,t,n)=>rPe(e,t,n)<=0;var sPe=iPe;const aPe=W8e,oPe=q8e,lPe=K8e,cPe=Q8e,uPe=nPe,fPe=sPe,hPe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return aPe(e,n,r);case"!=":return oPe(e,n,r);case">":return lPe(e,n,r);case">=":return cPe(e,n,r);case"<":return uPe(e,n,r);case"<=":return fPe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var dPe=hPe,ST,GP;function pPe(){if(GP)return ST;GP=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=n(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,f).test(u.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}ST=t;const n=ER,{safeRe:r,t:i}=SR,s=dPe,a=wS,o=AR,l=MQ();return ST}var AT,qP;function MQ(){if(qP)return AT;qP=1;class e{constructor(I,D){if(D=r(D),I instanceof e)return I.loose===!!D.loose&&I.includePrerelease===!!D.includePrerelease?I:new e(I.raw,D);if(I instanceof i)return this.raw=I.value,this.set=[[I]],this.format(),this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=I.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(M=>!p(M[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const M of this.set)if(M.length===1&&g(M[0])){this.set=[M];break}}}this.format()}format(){return this.range=this.set.map(I=>I.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(I){const N=((this.options.includePrerelease&&h)|(this.options.loose&&d))+":"+I,M=n.get(N);if(M)return M;const U=this.options.loose,J=U?o[l.HYPHENRANGELOOSE]:o[l.HYPHENRANGE];I=I.replace(J,C(this.options.includePrerelease)),s("hyphen replace",I),I=I.replace(o[l.COMPARATORTRIM],c),s("comparator trim",I),I=I.replace(o[l.TILDETRIM],u),s("tilde trim",I),I=I.replace(o[l.CARETTRIM],f),s("caret trim",I);let X=I.split(" ").map(de=>x(de,this.options)).join(" ").split(/\s+/).map(de=>T(de,this.options));U&&(X=X.filter(de=>(s("loose invalid filter",de,this.options),!!de.match(o[l.COMPARATORLOOSE])))),s("range list",X);const ce=new Map,ve=X.map(de=>new i(de,this.options));for(const de of ve){if(p(de))return[de];ce.set(de.value,de)}ce.size>1&&ce.has("")&&ce.delete("");const _e=[...ce.values()];return n.set(N,_e),_e}intersects(I,D){if(!(I instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>m(N,D)&&I.set.some(M=>m(M,D)&&N.every(U=>M.every(J=>U.intersects(J,D)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new a(I,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(O(this.set[D],I,this.options))return!0;return!1}}AT=e;const t=k8e,n=new t,r=ER,i=pPe(),s=wS,a=AR,{safeRe:o,t:l,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:f}=SR,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:d}=wR,p=F=>F.value==="<0.0.0-0",g=F=>F.value==="",m=(F,I)=>{let D=!0;const N=F.slice();let M=N.pop();for(;D&&N.length;)D=N.every(U=>M.intersects(U,I)),M=N.pop();return D},x=(F,I)=>(s("comp",F,I),F=b(F,I),s("caret",F),F=v(F,I),s("tildes",F),F=E(F,I),s("xrange",F),F=S(F,I),s("stars",F),F),y=F=>!F||F.toLowerCase()==="x"||F==="*",v=(F,I)=>F.trim().split(/\s+/).map(D=>_(D,I)).join(" "),_=(F,I)=>{const D=I.loose?o[l.TILDELOOSE]:o[l.TILDE];return F.replace(D,(N,M,U,J,X)=>{s("tilde",F,N,M,U,J,X);let ce;return y(M)?ce="":y(U)?ce=`>=${M}.0.0 <${+M+1}.0.0-0`:y(J)?ce=`>=${M}.${U}.0 <${M}.${+U+1}.0-0`:X?(s("replaceTilde pr",X),ce=`>=${M}.${U}.${J}-${X} <${M}.${+U+1}.0-0`):ce=`>=${M}.${U}.${J} <${M}.${+U+1}.0-0`,s("tilde return",ce),ce})},b=(F,I)=>F.trim().split(/\s+/).map(D=>w(D,I)).join(" "),w=(F,I)=>{s("caret",F,I);const D=I.loose?o[l.CARETLOOSE]:o[l.CARET],N=I.includePrerelease?"-0":"";return F.replace(D,(M,U,J,X,ce)=>{s("caret",F,M,U,J,X,ce);let ve;return y(U)?ve="":y(J)?ve=`>=${U}.0.0${N} <${+U+1}.0.0-0`:y(X)?U==="0"?ve=`>=${U}.${J}.0${N} <${U}.${+J+1}.0-0`:ve=`>=${U}.${J}.0${N} <${+U+1}.0.0-0`:ce?(s("replaceCaret pr",ce),U==="0"?J==="0"?ve=`>=${U}.${J}.${X}-${ce} <${U}.${J}.${+X+1}-0`:ve=`>=${U}.${J}.${X}-${ce} <${U}.${+J+1}.0-0`:ve=`>=${U}.${J}.${X}-${ce} <${+U+1}.0.0-0`):(s("no pr"),U==="0"?J==="0"?ve=`>=${U}.${J}.${X}${N} <${U}.${J}.${+X+1}-0`:ve=`>=${U}.${J}.${X}${N} <${U}.${+J+1}.0-0`:ve=`>=${U}.${J}.${X} <${+U+1}.0.0-0`),s("caret return",ve),ve})},E=(F,I)=>(s("replaceXRanges",F,I),F.split(/\s+/).map(D=>A(D,I)).join(" ")),A=(F,I)=>{F=F.trim();const D=I.loose?o[l.XRANGELOOSE]:o[l.XRANGE];return F.replace(D,(N,M,U,J,X,ce)=>{s("xRange",F,N,M,U,J,X,ce);const ve=y(U),_e=ve||y(J),de=_e||y(X),Fe=de;return M==="="&&Fe&&(M=""),ce=I.includePrerelease?"-0":"",ve?M===">"||M==="<"?N="<0.0.0-0":N="*":M&&Fe?(_e&&(J=0),X=0,M===">"?(M=">=",_e?(U=+U+1,J=0,X=0):(J=+J+1,X=0)):M==="<="&&(M="<",_e?U=+U+1:J=+J+1),M==="<"&&(ce="-0"),N=`${M+U}.${J}.${X}${ce}`):_e?N=`>=${U}.0.0${ce} <${+U+1}.0.0-0`:de&&(N=`>=${U}.${J}.0${ce} <${U}.${+J+1}.0-0`),s("xRange return",N),N})},S=(F,I)=>(s("replaceStars",F,I),F.trim().replace(o[l.STAR],"")),T=(F,I)=>(s("replaceGTE0",F,I),F.trim().replace(o[I.includePrerelease?l.GTE0PRE:l.GTE0],"")),C=F=>(I,D,N,M,U,J,X,ce,ve,_e,de,Fe)=>(y(N)?D="":y(M)?D=`>=${N}.0.0${F?"-0":""}`:y(U)?D=`>=${N}.${M}.0${F?"-0":""}`:J?D=`>=${D}`:D=`>=${D}${F?"-0":""}`,y(ve)?ce="":y(_e)?ce=`<${+ve+1}.0.0-0`:y(de)?ce=`<${ve}.${+_e+1}.0-0`:Fe?ce=`<=${ve}.${_e}.${de}-${Fe}`:F?ce=`<${ve}.${_e}.${+de+1}-0`:ce=`<=${ce}`,`${D} ${ce}`.trim()),O=(F,I,D)=>{for(let N=0;N<F.length;N++)if(!F[N].test(I))return!1;if(I.prerelease.length&&!D.includePrerelease){for(let N=0;N<F.length;N++)if(s(F[N].semver),F[N].semver!==i.ANY&&F[N].semver.prerelease.length>0){const M=F[N].semver;if(M.major===I.major&&M.minor===I.minor&&M.patch===I.patch)return!0}return!1}return!0};return AT}const gPe=MQ(),mPe=(e,t,n)=>{try{t=new gPe(t,n)}catch{return!1}return t.test(e)};var xPe=mPe,LQ=A8e(xPe);function vPe(e,t,n){const r=e.open(t),i=1e4,s=250,{origin:a}=new URL(t);let o=~~(i/s);function l(u){u.source===r&&(o=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function c(){o<=0||(r.postMessage(n,a),setTimeout(c,s),o-=1)}setTimeout(c,s)}var yPe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function PQ(e,...t){for(const n of t)_Pe(e,n);return e}function _Pe(e,t){for(const n of Object.keys(t))Op(e,n,t[n],!0)}const go=j4e;let L1=gLe;const _y=typeof window<"u"?window:void 0;var L7;L1===void 0&&((L7=_y==null?void 0:_y.vl)!=null&&L7.compile)&&(L1=_y.vl);const bPe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},EPe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},om={vega:"Vega","vega-lite":"Vega-Lite"},kb={vega:go.version,"vega-lite":L1?L1.version:"not available"},wPe={vega:e=>e,"vega-lite":(e,t)=>L1.compile(e,{config:t}).spec},SPe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,APe="chart-wrapper";function TPe(e){return typeof e=="function"}function XP(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+e+s),a.document.title=`${om[r]} JSON Source`}function kPe(e,t){if(e.$schema){const n=OQ(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${om[n.library]}, but mode argument sets ${om[t]??t}.`);const r=n.library;return LQ(kb[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${om[r]} ${n.version}, but the current version of ${om[r]} is v${kb[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function BQ(e){return!!(e&&"load"in e)}function YP(e){return BQ(e)?e:go.loader(e)}function CPe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Pe(t.defaultStyle)&&(t.defaultStyle=!1),t}async function jF(e,t,n={}){let r,i;Pe(t)?(i=YP(n.loader),r=JSON.parse(await i.load(t))):r=t;const s=CPe(r),a=s.loader;(!i||a)&&(i=YP(n.loader??a));const o=await KP(s,i),l=await KP(n,i),c={...PQ(l,o),config:Fp(l.config??{},o.config??{})};return await OPe(e,r,c,i)}async function KP(e,t){const n=Pe(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Pe(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function FPe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function OPe(e,t,n={},r){const i=n.theme?Fp(m8e[n.theme],n.config??{}):n.config,s=Hu(n.actions)?n.actions:PQ({},bPe,n.actions??{}),a={...EPe,...n.i18n},o=n.renderer??"canvas",l=n.logLevel??go.Warn,c=n.downloadFileName??"visualization",u=typeof e=="string"?document.querySelector(e):e;if(!u)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const b="vega-embed-style",{root:w,rootContainer:E}=FPe(u);if(!w.getElementById(b)){const A=document.createElement("style");A.id=b,A.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?yPe.toString():n.defaultStyle,E.appendChild(A)}}const f=kPe(t,n.mode);let h=wPe[f](t,i);if(f==="vega-lite"&&h.$schema){const b=OQ(h.$schema);LQ(kb.vega,`^${b.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${b.version}, but current version is v${kb.vega}.`)}u.classList.add("vega-embed"),s&&u.classList.add("has-actions"),u.innerHTML="";let d=u;if(s){const b=document.createElement("div");b.classList.add(APe),u.appendChild(b),d=b}const p=n.patch;if(p&&(h=p instanceof Function?p(h):Nw(h,p,!0,!1).newDocument),n.formatLocale&&go.formatLocale(n.formatLocale),n.timeFormatLocale&&go.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const b in n.expressionFunctions){const w=n.expressionFunctions[b];"fn"in w?go.expressionFunction(b,w.fn,w.visitor):w instanceof Function&&go.expressionFunction(b,w)}const{ast:g}=n,m=go.parse(h,f==="vega-lite"?{}:i,{ast:g}),x=new(n.viewClass||go.View)(m,{loader:r,logLevel:l,renderer:o,...g?{expr:go.expressionInterpreter??n.expr??yOe}:{}});if(x.addSignalListener("autosize",(b,w)=>{const{type:E}=w;E=="fit-x"?(d.classList.add("fit-x"),d.classList.remove("fit-y")):E=="fit-y"?(d.classList.remove("fit-x"),d.classList.add("fit-y")):E=="fit"?d.classList.add("fit-x","fit-y"):d.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:b,tooltip:w}=n,E=b&&!BQ(b)?b==null?void 0:b.baseURL:void 0,A=TPe(w)?w:new S8e({baseURL:E,...w===!0?{}:w}).call;x.tooltip(A)}let{hover:y}=n;if(y===void 0&&(y=f==="vega"),y){const{hoverSet:b,updateSet:w}=typeof y=="boolean"?{}:y;x.hover(b,w)}n&&(n.width!=null&&x.width(n.width),n.height!=null&&x.height(n.height),n.padding!=null&&x.padding(n.padding)),await x.initialize(d,n.bind).runAsync();let v;if(s!==!1){let b=u;if(n.defaultStyle!==!1||n.forceActionsMenu){const E=document.createElement("details");E.title=a.CLICK_TO_VIEW_ACTIONS,u.append(E),b=E;const A=document.createElement("summary");A.innerHTML=SPe,E.append(A),v=S=>{E.contains(S.target)||E.removeAttribute("open")},document.addEventListener("click",v)}const w=document.createElement("div");if(b.append(w),w.classList.add("vega-actions"),s===!0||s.export!==!1){for(const E of["svg","png"])if(s===!0||s.export===!0||s.export[E]){const A=a[`${E.toUpperCase()}_ACTION`],S=document.createElement("a"),T=Me(n.scaleFactor)?n.scaleFactor[E]:n.scaleFactor;S.text=A,S.href="#",S.target="_blank",S.download=`${c}.${E}`,S.addEventListener("mousedown",async function(C){C.preventDefault();const O=await x.toImageURL(E,T);this.href=O}),w.append(S)}}if(s===!0||s.source!==!1){const E=document.createElement("a");E.text=a.SOURCE_ACTION,E.href="#",E.addEventListener("click",function(A){XP(aT(t),n.sourceHeader??"",n.sourceFooter??"",f),A.preventDefault()}),w.append(E)}if(f==="vega-lite"&&(s===!0||s.compiled!==!1)){const E=document.createElement("a");E.text=a.COMPILED_ACTION,E.href="#",E.addEventListener("click",function(A){XP(aT(h),n.sourceHeader??"",n.sourceFooter??"","vega"),A.preventDefault()}),w.append(E)}if(s===!0||s.editor!==!1){const E=n.editorUrl??"https://vega.github.io/editor/",A=document.createElement("a");A.text=a.EDITOR_ACTION,A.href="#",A.addEventListener("click",function(S){vPe(window,E,{config:i,mode:p?"vega":f,renderer:o,spec:aT(p?h:t)}),S.preventDefault()}),w.append(A)}}function _(){v&&document.removeEventListener("click",v),x.finalize()}return{view:x,spec:t,vgSpec:h,finalize:_,embedOptions:n}}const NPe="https://vega.github.io/schema/vega/v5.json",DPe={top:50,bottom:10},$Pe={type:"fit",contains:"padding"},RPe=[{name:"width",init:"containerSize()[0]",on:[{events:"window:resize",update:"containerSize()[0]"}]},{name:"height",init:"containerSize()[1]",on:[{events:"window:resize",update:"containerSize()[1]"}]},{name:"active",value:null,on:[{events:"shape:mouseover",update:'datum["properties"]["cartogram_id"]'},{events:"mouseover[!event.item]",update:"null"}]},{name:"colorScheme",value:"pastel1"}],IPe=[{name:"source_csv",url:"./static/usa-data.csv",format:{type:"csv",delimiter:","}},{name:"source_geojson",url:"./static/usa-population.json",format:{property:"features",type:"json",parse:{}}},{name:"geo_1",source:"source_geojson",transform:[{type:"filter",expr:"datum.properties.name != 'Dividers'"},{type:"lookup",from:"source_csv",key:"Region",fields:["properties.name"],as:["cartogram_data"],default:{Color:"lightgrey",ColorGroup:"-1"}},{type:"formula",expr:"geoArea('source_projection', datum.geometry)",as:"Area"},{type:"formula",expr:'datum["properties"]["label"]["x"]',as:"x"},{type:"formula",expr:'datum["properties"]["label"]["y"]',as:"y"}]},{name:"geo_1_dividers",source:"source_geojson",transform:[{type:"filter",expr:"datum.properties.name == 'Dividers'"}]}],MPe=[{name:"source_projection",size:{signal:"[width, height]"},fit:{signal:"data('source_geojson')"},type:"identity",reflectY:!0}],LPe=[{name:"font_size",type:"band",domain:{data:"geo_1",field:"Area",sort:!0},range:[8,12]},{name:"color_group",type:"ordinal",domain:{data:"source_csv",field:"ColorGroup"},range:{scheme:{signal:"colorScheme"}}}],PPe=[{name:"polygon_marks",type:"shape",style:["geoshape"],from:{data:"geo_1"},encode:{update:{description:{signal:'"geoshape_" + datum["properties"]["cartogram_id"]'},stroke:{value:"black"},strokeWidth:{signal:'datum["properties"]["cartogram_id"] == active? 1 : 0.2'},tooltip:{signal:"datum.cartogram_data"},fill:[{test:"isValid(datum.cartogram_data.Color)",field:"cartogram_data.Color"},{test:"isValid(datum.cartogram_data.ColorGroup)",scale:"color_group",field:"cartogram_data.ColorGroup"},{value:"lightgrey"}],ariaRoleDescription:{value:"geoshape"}}},transform:[{type:"geoshape",projection:"source_projection"}]},{name:"divider_marks",type:"shape",style:["geoshape"],from:{data:"geo_1_dividers"},encode:{update:{description:{value:"dividers"},stroke:{value:"white"},strokeWidth:{value:8},strokeCap:{value:"round"},ariaRoleDescription:{value:"geoshape"}}},transform:[{type:"geoshape",projection:"source_projection"}]},{name:"divider_marks_border",type:"shape",style:["geoshape"],from:{data:"geo_1_dividers"},encode:{update:{description:{value:"dividers"},stroke:{value:"black"},strokeWidth:{value:1},ariaRoleDescription:{value:"geoshape"}}},transform:[{type:"geoshape",projection:"source_projection"}]},{name:"label_marks",type:"text",style:["text"],from:{data:"geo_1"},encode:{enter:{text:{field:"cartogram_data.RegionLabel"}},update:{x:{field:"x"},y:{field:"y"},description:{signal:'"geolabel_" + datum["properties"]["cartogram_id"]'},align:{value:"center"},baseline:{value:"middle"},fontSize:[{test:"datum.Area < 1000",scale:"font_size",field:"Area"},{value:12}],opacity:{signal:"datum.Area < 400 ? 0:1"},ariaRoleDescription:{value:"geolabel"}}},transform:[{type:"geopoint",fields:["x","y"],projection:"source_projection"}],interactive:!1}],UQ={$schema:NPe,padding:DPe,autosize:$Pe,signals:RPe,data:IPe,projections:MPe,scales:LPe,marks:PPe},BPe=e=>(q1("data-v-49371528"),e=e(),X1(),e),UPe={class:"d-flex flex-column card-body p-0"},zPe={class:"d-flex position-absolute z-1"},HPe=["id","width"],VPe=["x2"],WPe=["x1","x2"],jPe=["cx"],GPe=["id","width","height"],qPe=["id"],XPe=["width","height"],YPe=["id"],KPe=["innerHTML"],JPe=["innerHTML"],ZPe=["id"],QPe=["id"],e9e=["id"],t9e=["id"],n9e=["id"],r9e=BPe(()=>Q("path",{fill:"none",stroke:"#5A5A5A","stroke-width":"2","stroke-opacity":"0.3"},null,-1)),i9e=[r9e],s9e=["fill"],Hs=3,a9e=.3,o9e=Fr({__name:"CPanelLegend",props:{panelID:{},mapDBKey:{},versionKey:{},affineScale:{default:[1,1]}},emits:["gridChanged","versionUpdated"],setup(e,{expose:t,emit:n}){const r=Jh(),i=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language,s=jf("colorScheme");var a=JSON.parse(JSON.stringify(UQ));const o=Ei();var l,c,u,f,h,d=-1,p=0;const g=e,m=Ms({version:r.versions[g.versionKey],legendUnit:"",legendTotal:"",currentGridIndex:1,gridDataKeys:[1],gridData:{},handlePosition:0,scalePowerOf10:1});t({getCurrentScale:w});const x=n;$a(()=>g.versionKey,(N,M)=>{m.version=r.versions[g.versionKey],y()}),$a(()=>r.highlightedRegionID,(N,M)=>{D(N)}),$a(()=>r.options.numberOfPanels,(N,M)=>{v()}),$a(()=>g.affineScale,(N,M)=>{C()},{deep:!0}),ec(async()=>{if(!m.version)return;a.data[0].url=e_(r.currentMapName,g.mapDBKey,"data.csv"),a.data[1].url=e_(r.currentMapName,g.mapDBKey,m.version.name+".json"),r.currentMapName==="world"&&m.version.name==="Land Area"&&(pw("cylindricalEqualArea",gxe),a.projections[0].type="cylindricalEqualArea",a.projections[0].reflectY=!1,a.projections[0].parallel=45),l=lf("#"+g.panelID+"-vis"),c=lf("#"+g.panelID+"-offscreen"),u=(await jF("#"+g.panelID+"-vis",a,{renderer:"svg",actions:!1})).view,u.signal("colorScheme",s).runAsync();let[M,U]=l5(m.version.header,u.data("geo_1"),u.data("source_csv"));f=M,h=U,u.addResizeListener(function(){f=zme(u.data("geo_1")),_()}),u.addSignalListener("active",function(J,X){r.highlightedRegionID=X}),u.addEventListener("pointerup",function(J,X){let ce=X==null?void 0:X.datum.cartogram_data;u.tooltip()(u,J,X,ce)}),_()});async function y(){a.data[1].url=e_(r.currentMapName,g.mapDBKey,m.version.name+".json");var N=0;let M=await jF("#"+g.panelID+"-offscreen",a,{renderer:"svg",actions:!1}),[U,J]=l5(m.version.header,M.view.data("geo_1"),M.view.data("source_csv"));f=U,h=J,_();function X(){M.view.runAfter(()=>x("versionUpdated")),M.view.initialize("#"+g.panelID+"-vis").runAsync(),u=M.view}l.selectAll('path[aria-roledescription="geoshape"]').each(function(){let ce=lf(this).attr("aria-label"),ve=ce.replace("geoshape","geolabel"),_e=c.select('path[aria-label="'+ce+'"]').attr("d");if(lf(this).transition().ease(Yy).duration(1e3).attr("d",_e).on("start",function(){N++}).on("end",function(){--N===0&&X()}),!ve||ve==="dividers")return;let de=c.select('text[aria-label="'+ve+'"]'),Fe=de.attr("transform"),Ne=de.attr("opacity"),je=de.attr("font-size");l.select('text[aria-label="'+ve+'"]').transition().ease(Yy).duration(1e3).attr("transform",Fe).attr("opacity",Ne).attr("font-size",je).on("start",function(){N++}).on("end",function(){--N===0&&X()})})}async function v(){await u.resize(),await u.width(u.container().offsetWidth).runAsync(),_()}async function _(){if(!m.version)return;b(),await uh(),E(m.currentGridIndex);const N=Math.floor(Math.log10(h)),M=h/Math.pow(10,N);m.legendTotal=O(M,N),F()}function b(){if(h===0||f===0)return;const N=h/f;let M=h/100,U=Math.sqrt(M/N);for(;U<20;)M*=2,U=Math.sqrt(M/N);let J=[],[X,ce]=TW(M),ve=Qy.indexOf(X),_e=ve===0?ve:ve-1,de=_e+Hs+1;for(;de>=Qy.length&&_e>0;)de--,_e--;let Fe=Qy.slice(_e,de);for(let Ne=0;Ne<=Hs;Ne++)J[Ne]=U*Math.sqrt(Fe[Ne]*Math.pow(10,ce)/M);for(let Ne=0;Ne<=Hs;Ne++)m.gridData[Ne]={width:J[Ne],scaleNiceNumber:Fe[Ne]};m.gridDataKeys=[m.currentGridIndex],m.scalePowerOf10=ce}function w(){var N;return((N=m.gridData[m.currentGridIndex])==null?void 0:N.scaleNiceNumber)/(g.affineScale[0]*g.affineScale[1])}async function E(N){var M;m.currentGridIndex=N,m.gridDataKeys=[m.currentGridIndex],await uh();for(let U=0;U<=Hs;U++)U<=N?lf("#"+g.panelID+"-legend"+U+" rect").attr("fill","#EEEEEE"):lf("#"+g.panelID+"-legend"+U+" rect").attr("fill","#D6D6D6");C(),I((M=m.gridData[N])==null?void 0:M.width)}function A(N){N.isPrimary&&(o.value.setPointerCapture(N.pointerId),d=N.pointerId,m.handlePosition=N.offsetX)}function S(N){if(d===N.pointerId){var M=N.pageX-p,U=m.handlePosition+M;m.handlePosition=Math.max(0,Math.min(U,m.gridData[Hs].width)),p=N.pageX}}function T(N){if(d===N.pointerId){o.value.releasePointerCapture(N.pointerId),d=-1;var M=0,U=Number.MAX_VALUE;for(let X=0;X<=Hs;X++){var J=Math.abs(m.handlePosition-m.gridData[X].width);J<U&&(U=J,M=X)}E(M),x("gridChanged")}}function C(){if(!m.gridData[Hs])return;let N=m.gridData[m.currentGridIndex].scaleNiceNumber;N=N/(g.affineScale[0]*g.affineScale[1]),m.legendUnit=O(N,m.scalePowerOf10)}function O(N,M){let U=N*Math.pow(10,M);const J=Intl.NumberFormat(i,{notation:"compact",compactDisplay:"short"});let X="";return X+=J.format(U),X}function F(){if(!m.gridData[Hs])return;const N=m.gridData[m.currentGridIndex].width||20;I(N)}function I(N){if(isNaN(N))return;let M=r.options.showGrid?a9e:0;const U=lf("#"+g.panelID+"-grid");U.select("path").attr("stroke-opacity",M).attr("d","M "+N*5+" 0 L 0 0 0 "+N*5),U.attr("width")?U.transition().ease(Yy).duration(1e3).attr("width",N).attr("height",N):U.attr("width",N).attr("height",N),m.handlePosition=N}function D(N){u==null||u.signal("active",N).runAsync()}return(N,M)=>{var U;return Be(),Ue("div",UPe,[Q("div",zPe,[m.gridData[Hs]?(Be(),Ue("svg",{key:0,ref_key:"legendSvgEl",ref:o,class:"d-flex position-absolute z-2",style:{cursor:"pointer",top:"-15px","touch-action":"none"},height:"30px",stroke:"#AAAAAA","stroke-width":"2px",id:g.panelID+"-slider",width:m.gridData[Hs].width+15,onPointerdown:Pc(A,["stop","prevent"]),onPointermove:Pc(S,["stop","prevent"]),onPointerup:Pc(T,["stop","prevent"])},[Q("line",{x1:"0",y1:"15",x2:m.gridData[Hs].width,y2:"15"},null,8,VPe),(Be(!0),Ue(xt,null,Gr(m.gridData,J=>(Be(),Ue("line",{x1:J.width,y1:"8",x2:J.width,y2:"16"},null,8,WPe))),256)),Q("circle",{id:"handle",r:"5",cx:m.handlePosition,cy:"15","stroke-width":"0px"},null,8,jPe)],40,HPe)):qi("",!0),m.gridData[Hs]?(Be(),Ue("svg",{key:1,id:g.panelID+"-legend",style:{cursor:"pointer",opacity:"0.5"},width:m.gridData[m.currentGridIndex].width+2,height:m.gridData[m.currentGridIndex].width+2},[(Be(!0),Ue(xt,null,Gr(m.gridDataKeys,J=>(Be(),Ue("g",{id:g.panelID+"-legend"+J,"stroke-width":"2px",fill:"#EEEEEE",stroke:"#AAAAAA"},[Q("rect",{x:"1",y:"1",width:m.gridData[J].width,height:m.gridData[J].width},null,8,XPe)],8,qPe))),256))],8,GPe)):qi("",!0),Q("div",{id:g.panelID+"-legend-num",class:"flex-fill p-1"},[Q("span",{innerHTML:m.legendUnit},null,8,KPe),Si(" "+lr((U=m.version)==null?void 0:U.unit)+" ",1),Q("div",null,[Si("Total: "),Q("span",{innerHTML:m.legendTotal},null,8,JPe)])],8,YPe)]),Q("div",{id:g.panelID,class:"d-flex flex-fill position-relative"},[Q("div",null,[Q("div",{id:g.panelID+"-offscreen",class:"vis-area offscreen"},null,8,QPe),Q("div",{id:g.panelID+"-vis",class:"vis-area"},null,8,e9e),FB(N.$slots,"default",{},void 0,!0)]),(Be(),Ue("svg",{width:"100%",height:"100%",id:g.panelID+"-grid-area"},[Q("defs",null,[Q("pattern",{id:g.panelID+"-grid",patternUnits:"userSpaceOnUse"},i9e,8,n9e)]),vn(r).options.showGrid?(Be(),Ue("rect",{key:0,width:"100%",height:"100%",fill:"url(#"+g.panelID+"-grid)"},null,8,s9e)):qi("",!0)],8,t9e))],8,ZPe)])}}}),l9e=dx(o9e,[["__scopeId","data-v-49371528"]]),c9e=e=>(q1("data-v-8163542d"),e=e(),X1(),e),u9e={class:"btn-group d-flex flex-shrink-1",style:{"min-width":"40px"},role:"group","aria-label":"Data"},f9e=["disabled"],h9e=c9e(()=>Q("i",{class:"fas fa-play"},null,-1)),d9e=[h9e],p9e=["onClick"],g9e={key:0,class:"fas fa-check"},m9e=Fr({__name:"CPanelSelectVersion",props:{currentVersionName:{}},emits:["version_changed"],setup(e,{emit:t}){const n=Jh(),r=e,i=t,s=Ms({isPlaying:!1});function a(){s.isPlaying=!0;let o=Object.keys(n.versions),l=0;i("version_changed",o[l++]);let c=setInterval(function(){i("version_changed",o[l++]),l>=o.length&&(clearInterval(c),s.isPlaying=!1)},1e3)}return(o,l)=>(Be(),Ue("div",u9e,[Object.keys(vn(n).versions).length>2?(Be(),Ue("button",{key:0,class:"btn btn-primary",disabled:s.isPlaying,onClick:l[0]||(l[0]=c=>a())},d9e,8,f9e)):qi("",!0),(Be(!0),Ue(xt,null,Gr(vn(n).versions,(c,u)=>(Be(),Ue("button",{type:"button",class:To(["btn btn-outline-primary version",{active:r.currentVersionName===u.toString()}]),onClick:()=>{i("version_changed",u.toString())}},[Si(lr(c.name)+" ",1),vn(n).versions.length===2&&r.currentVersionName===u.toString()?(Be(),Ue("i",g9e)):qi("",!0)],10,p9e))),256))]))}}),x9e=dx(m9e,[["__scopeId","data-v-8163542d"]]),v9e=["data-bs-target","title"],y9e=Q("i",{class:"fas fa-download"},null,-1),_9e=[y9e],b9e=["id"],E9e={class:"modal-dialog"},w9e={class:"modal-content"},S9e=Q("div",{class:"modal-header"},[Q("h1",{class:"modal-title fs-5"},"Your map is ready!"),Q("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),A9e={class:"modal-body"},T9e=Q("p",{class:"lead text-center"},"Download",-1),k9e={class:"text-center"},C9e=["href"],F9e=Fr({__name:"CPanelBtnDownload",props:{mapDBKey:{},versionKey:{},panelID:{}},setup(e){const t=Jh(),n=e,r=Zc(()=>t.versions[n.versionKey]),i=Zc(()=>e_(t.currentMapName,n.mapDBKey,t.versions[n.versionKey].name+".json"));function s(){var a='<?xml version="1.0" encoding="UTF-8" standalone="no"?>';let o=document.getElementById(n.panelID+"-vis").querySelector("svg").cloneNode(!0);o.setAttribute("xmlns","http://www.w3.org/2000/svg");let l=document.getElementById(n.panelID+"-legend").cloneNode(!0);o.appendChild(l);let c=document.getElementById(n.panelID+"-legend-num").textContent||"",u=document.createElement("text"),f=2+parseFloat(l.getAttribute("width"));u.innerHTML=c,u.setAttribute("font-family","sans-serif"),u.setAttribute("font-size","12px"),u.setAttribute("x",f.toString()),u.setAttribute("y","20"),o.appendChild(u),o.appendChild(document.getElementById(n.panelID+"-grid-area").cloneNode(!0));const h=document.createElement("a");h.href="data:image/svg+xml;base64,"+window.btoa(a+o.outerHTML.replace(//g,"&#xD7;")),h.download=t.versions[n.versionKey].name+".svg",document.body.appendChild(h),h.click(),document.body.removeChild(h)}return(a,o)=>(Be(),Ue(xt,null,[Q("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#downloadModal"+r.value.key,title:"Download "+r.value.name},_9e,8,v9e),Q("div",{class:"modal fade text-wrap",id:"downloadModal"+r.value.key,tabindex:"-1","aria-hidden":"true"},[Q("div",E9e,[Q("div",w9e,[S9e,Q("div",A9e,[T9e,Q("p",k9e,[Q("a",{onClick:o[0]||(o[0]=l=>s()),class:"btn btn-lg btn-primary mx-3"},"SVG"),Q("a",{href:i.value,download:"",class:"btn btn-lg btn-primary"},"GeoJSON",8,C9e)]),Et(kW)])])])],8,b9e)],64))}}),O9e={class:"card w-100"},N9e={class:"d-flex flex-column card-body"},D9e=Q("img",{class:"position-absolute bottom-0 end-0 z-3",src:"/static/img/by.svg",alt:"cc-by"},null,-1),$9e={class:"position-absolute end-0",style:{width:"2.5rem"}},R9e=["title"],I9e={key:0,class:"fas fa-unlock"},M9e={key:1,class:"fas fa-lock"},L9e={key:2,class:"fas fa-unlock"},P9e={key:3,class:"fas fa-arrows-alt-h"},B9e={key:4,class:"fas fa-arrows-alt-v"},U9e=Q("i",{class:"fas fa-crosshairs"},null,-1),z9e=[U9e],H9e={class:"card-footer d-flex justify-content-between"},JP=300,V9e=Fr({__name:"CPanel",props:{panelID:{},defaultVersionKey:{},mapDBKey:{default:""}},setup(e){let t=new Q1e;var n,r,i,s=0;const a="ontouchstart"in window||navigator.maxTouchPoints,o=Ei(),l=e,c=Ms({versionKey:l.defaultVersionKey,cursor:"grab",isLockRatio:!0,touchLenght:0,lastMove:0,stretchDirection:"x",affineMatrix:Gv(),affineScale:[1,1]});function u(y){t.set(y),c.touchLenght=t.length();var v=new Date().getTime(),_=v-s;if(t.length()===1&&_<JP&&_>0)m();else{const b=t.getMergedPoints();b.length>0&&(n=b.length>1&&Math.atan2(b[1][1]-b[0][1],b[1][0]-b[0][0]),r=[Ef(b,w=>w[0])||0,Ef(b,w=>w[1])||0],i=b.length>1&&Math.hypot(b[1][1]-b[0][1],b[1][0]-b[0][0]))}s=new Date().getTime(),c.lastMove=s}function f(y){if(o.value.$el.releasePointerCapture(y.pointerId),t.clear(y),c.touchLenght=t.length(),x(),t.length()===0)r=null;else{const v=t.getMergedPoints();v.length>0&&(n=v.length>1&&Math.atan2(v[1][1]-v[0][1],v[1][0]-v[0][0]),r=[Ef(v,_=>_[0])||0,Ef(v,_=>_[1])||0],i=v.length>1&&Math.hypot(v[1][1]-v[0][1],v[1][0]-v[0][0]))}}function h(y){var F;if(t.update(y),t.length()<1||t.length()>3||!r)return;(F=document.getElementById("vg-tooltip-element"))==null||F.classList.remove("visible"),o.value.$el.setPointerCapture(y.pointerId);const v=t.getMergedPoints();var _=Gv(),b=0,w=[0,0],E=[1,1],A=new Date().getTime();if(v.length>1&&(t.length()===3||t.length()===2&&!c.isLockRatio)){var S=Math.atan2(v[1][1]-v[0][1],v[1][0]-v[0][0]);n&&typeof n=="number"?b=S-n:b=0,n=S,_=xc(_,dg(b));var T=Math.hypot(v[1][1]-v[0][1],v[1][0]-v[0][0]);i&&typeof i=="number"?E[0]=T/i:E[0]=0,c.affineScale[0]*=E[0],i=T,E[0]!==0&&(_=xc(_,dg(n)),_=xc(_,qv(E[0],1)),_=xc(_,dg(-n)))}else if(v.length>1){if(n&&typeof n=="number"){var S=Math.atan2(v[1][1]-v[0][1],v[1][0]-v[0][0]);b=S-n,n=S,_=xc(_,dg(b))}if(i&&typeof i=="number"){var T=Math.hypot(v[1][1]-v[0][1],v[1][0]-v[0][0]);E[0]=T/i,E[1]=T/i,c.affineScale[0]*=E[0],c.affineScale[1]*=E[1],i=T,E[0]!==0&&E[1]!==0&&(_=xc(_,qv(E[0],E[1])))}}var C=A-s;if(t.length()>1||t.length()===1&&C>JP){var O=[Ef(v,I=>I[0])||0,Ef(v,I=>I[1])||0];w[0]=O[0]-r[0],w[1]=O[1]-r[1],r=O,_=xc(_,Hme(w[0],w[1]))}g(_,c.affineMatrix),c.lastMove=new Date().getTime()}function d(y){var v=[];if(y.shiftKey)v=dg(y.wheelDelta/1e3);else{var _=1+y.wheelDelta/1e3,b;c.isLockRatio?b=[_,_]:c.stretchDirection==="x"?b=[_,1]:b=[1,_],c.affineScale[0]*=b[0],c.affineScale[1]*=b[1],v=qv(b[0],b[1])}g(v,c.affineMatrix)}function p(){a?c.isLockRatio=!c.isLockRatio:c.isLockRatio?(c.stretchDirection="x",c.isLockRatio=!1):c.stretchDirection==="x"?c.stretchDirection="y":c.isLockRatio=!0}function g(y,v){c.affineMatrix=xc(y,v),iue("#"+l.panelID+" g.root").attr("transform","matrix("+c.affineMatrix[0][0]+" "+c.affineMatrix[1][0]+" "+c.affineMatrix[0][1]+" "+c.affineMatrix[1][1]+" "+c.affineMatrix[0][2]+" "+c.affineMatrix[1][2]+")")}function m(){c.affineMatrix=Gv(),c.affineScale=[1,1],g(c.affineMatrix,c.affineMatrix)}function x(){let y=o.value.getCurrentScale();if(y===0)return;let[v,_]=TW(y),b=v*Math.pow(10,_),w=Math.sqrt(y/b);c.affineScale[0]*=w,c.affineScale[1]*=w;var E=qv(w,w);g(E,c.affineMatrix)}return(y,v)=>(Be(),Ue(xt,null,[Q("div",O9e,[Q("div",N9e,[Et(l9e,{ref_key:"legendEl",ref:o,style:Iu([{"touch-action":"none"},{cursor:c.cursor}]),panelID:l.panelID,mapDBKey:l.mapDBKey,versionKey:c.versionKey,affineScale:c.affineScale,onGridChanged:x,onPointerdown:Pc(u,["stop","prevent"]),onPointermove:Pc(h,["stop","prevent"]),onPointerup:Pc(f,["stop","prevent"]),onWheel:Pc(d,["stop","prevent"]),onVersionUpdated:v[0]||(v[0]=_=>g(c.affineMatrix,Gv()))},{default:Zb(()=>[D9e]),_:1},8,["style","panelID","mapDBKey","versionKey","affineScale"]),Q("div",$9e,[Q("button",{class:"btn btn-secondary w-100 my-1",onClick:v[1]||(v[1]=_=>p()),title:c.isLockRatio?"Switch to free transform":"Switch to lock ratio"},[c.touchLenght===3?(Be(),Ue("i",I9e)):c.isLockRatio?(Be(),Ue("i",M9e)):vn(a)?(Be(),Ue("i",L9e)):c.stretchDirection==="x"?(Be(),Ue("i",P9e)):(Be(),Ue("i",B9e))],8,R9e),Q("button",{class:"btn btn-secondary w-100 my-1",onClick:v[2]||(v[2]=_=>m()),title:"Reset"},z9e)])]),Q("div",H9e,[Et(x9e,{currentVersionName:c.versionKey,onVersion_changed:v[3]||(v[3]=_=>c.versionKey=_)},null,8,["currentVersionName"]),Et(F9e,{mapDBKey:l.mapDBKey,versionKey:c.versionKey,panelID:l.panelID},null,8,["mapDBKey","versionKey","panelID"])])]),(Be(),Z1(rxe,{key:c.lastMove,touchInfo:vn(t),touchLenght:c.touchLenght},null,8,["touchInfo","touchLenght"]))],64))}}),W9e=Fr({__name:"Cartogram",props:{maps:{},mapName:{},mapTitle:{},mapDBKey:{},mode:{}},setup(e){const t=Jh(),n=e,r=Ms({mapkey:-1,versionKeys:[]});K1(()=>{t.currentMapName=n.mapName?n.mapName:""});async function i(){r.mapkey=Date.now(),r.versionKeys=Object.keys(t.versions)}return(s,a)=>(Be(),Ue(xt,null,[Et(Z1e,{isEmbed:n.mode==="embed",maps:n.maps,mapTitle:n.mapTitle,mapDBKey:n.mapDBKey,onMap_changed:i},null,8,["isEmbed","maps","mapTitle","mapDBKey"]),r.versionKeys.length>0?(Be(),Ue("div",{id:"cartogram",class:"d-flex flex-fill card-group position-relative mx-2",key:r.mapkey},[(Be(!0),Ue(xt,null,Gr(vn(t).options.numberOfPanels,o=>(Be(),Z1(V9e,{panelID:"c-area"+o.toString(),defaultVersionKey:vn(t).options.numberOfPanels===1?r.versionKeys[r.versionKeys.length-1]:o===1?r.versionKeys[0]:r.versionKeys[r.versionKeys.length-1],mapDBKey:n.mapDBKey},null,8,["panelID","defaultVersionKey","mapDBKey"]))),256))])):qi("",!0)],64))}});var ki="top",Os="bottom",Ns="right",Ci="left",SS="auto",Yp=[ki,Os,Ns,Ci],Lh="start",pp="end",zQ="clippingParents",TR="viewport",Ud="popper",HQ="reference",GF=Yp.reduce(function(e,t){return e.concat([t+"-"+Lh,t+"-"+pp])},[]),kR=[].concat(Yp,[SS]).reduce(function(e,t){return e.concat([t,t+"-"+Lh,t+"-"+pp])},[]),VQ="beforeRead",WQ="read",jQ="afterRead",GQ="beforeMain",qQ="main",XQ="afterMain",YQ="beforeWrite",KQ="write",JQ="afterWrite",ZQ=[VQ,WQ,jQ,GQ,qQ,XQ,YQ,KQ,JQ];function Wo(e){return e?(e.nodeName||"").toLowerCase():null}function Ds(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ph(e){var t=Ds(e).Element;return e instanceof t||e instanceof Element}function aa(e){var t=Ds(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function CR(e){if(typeof ShadowRoot>"u")return!1;var t=Ds(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function j9e(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!aa(s)||!Wo(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function G9e(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),o=a.reduce(function(l,c){return l[c]="",l},{});!aa(i)||!Wo(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const FR={name:"applyStyles",enabled:!0,phase:"write",fn:j9e,effect:G9e,requires:["computeStyles"]};function Do(e){return e.split("-")[0]}var ih=Math.max,Cb=Math.min,gp=Math.round;function qF(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function QQ(){return!/^((?!chrome|android).)*safari/i.test(qF())}function mp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&aa(e)&&(i=e.offsetWidth>0&&gp(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&gp(r.height)/e.offsetHeight||1);var a=Ph(e)?Ds(e):window,o=a.visualViewport,l=!QQ()&&n,c=(r.left+(l&&o?o.offsetLeft:0))/i,u=(r.top+(l&&o?o.offsetTop:0))/s,f=r.width/i,h=r.height/s;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function OR(e){var t=mp(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function eee(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&CR(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jl(e){return Ds(e).getComputedStyle(e)}function q9e(e){return["table","td","th"].indexOf(Wo(e))>=0}function Qu(e){return((Ph(e)?e.ownerDocument:e.document)||window.document).documentElement}function AS(e){return Wo(e)==="html"?e:e.assignedSlot||e.parentNode||(CR(e)?e.host:null)||Qu(e)}function ZP(e){return!aa(e)||Jl(e).position==="fixed"?null:e.offsetParent}function X9e(e){var t=/firefox/i.test(qF()),n=/Trident/i.test(qF());if(n&&aa(e)){var r=Jl(e);if(r.position==="fixed")return null}var i=AS(e);for(CR(i)&&(i=i.host);aa(i)&&["html","body"].indexOf(Wo(i))<0;){var s=Jl(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Qx(e){for(var t=Ds(e),n=ZP(e);n&&q9e(n)&&Jl(n).position==="static";)n=ZP(n);return n&&(Wo(n)==="html"||Wo(n)==="body"&&Jl(n).position==="static")?t:n||X9e(e)||t}function NR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dm(e,t,n){return ih(e,Cb(t,n))}function Y9e(e,t,n){var r=Dm(e,t,n);return r>n?n:r}function tee(){return{top:0,right:0,bottom:0,left:0}}function nee(e){return Object.assign({},tee(),e)}function ree(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var K9e=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,nee(typeof t!="number"?t:ree(t,Yp))};function J9e(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Do(n.placement),l=NR(o),c=[Ci,Ns].indexOf(o)>=0,u=c?"height":"width";if(!(!s||!a)){var f=K9e(i.padding,n),h=OR(s),d=l==="y"?ki:Ci,p=l==="y"?Os:Ns,g=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],x=Qx(s),y=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,v=g/2-m/2,_=f[d],b=y-h[u]-f[p],w=y/2-h[u]/2+v,E=Dm(_,w,b),A=l;n.modifiersData[r]=(t={},t[A]=E,t.centerOffset=E-w,t)}}function Z9e(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||eee(t.elements.popper,i)&&(t.elements.arrow=i))}const iee={name:"arrow",enabled:!0,phase:"main",fn:J9e,effect:Z9e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xp(e){return e.split("-")[1]}var Q9e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function e7e(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:gp(n*i)/i||0,y:gp(r*i)/i||0}}function QP(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,h=a.x,d=h===void 0?0:h,p=a.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:d,y:g}):{x:d,y:g};d=m.x,g=m.y;var x=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),v=Ci,_=ki,b=window;if(c){var w=Qx(n),E="clientHeight",A="clientWidth";if(w===Ds(n)&&(w=Qu(n),Jl(w).position!=="static"&&o==="absolute"&&(E="scrollHeight",A="scrollWidth")),w=w,i===ki||(i===Ci||i===Ns)&&s===pp){_=Os;var S=f&&w===b&&b.visualViewport?b.visualViewport.height:w[E];g-=S-r.height,g*=l?1:-1}if(i===Ci||(i===ki||i===Os)&&s===pp){v=Ns;var T=f&&w===b&&b.visualViewport?b.visualViewport.width:w[A];d-=T-r.width,d*=l?1:-1}}var C=Object.assign({position:o},c&&Q9e),O=u===!0?e7e({x:d,y:g},Ds(n)):{x:d,y:g};if(d=O.x,g=O.y,l){var F;return Object.assign({},C,(F={},F[_]=y?"0":"",F[v]=x?"0":"",F.transform=(b.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",F))}return Object.assign({},C,(t={},t[_]=y?g+"px":"",t[v]=x?d+"px":"",t.transform="",t))}function t7e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,l=o===void 0?!0:o,c={placement:Do(t.placement),variation:xp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,QP(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,QP(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const DR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:t7e,data:{}};var by={passive:!0};function n7e(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,l=Ds(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,by)}),o&&l.addEventListener("resize",n.update,by),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,by)}),o&&l.removeEventListener("resize",n.update,by)}}const $R={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:n7e,data:{}};var r7e={left:"right",right:"left",bottom:"top",top:"bottom"};function E_(e){return e.replace(/left|right|bottom|top/g,function(t){return r7e[t]})}var i7e={start:"end",end:"start"};function e9(e){return e.replace(/start|end/g,function(t){return i7e[t]})}function RR(e){var t=Ds(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function IR(e){return mp(Qu(e)).left+RR(e).scrollLeft}function s7e(e,t){var n=Ds(e),r=Qu(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var c=QQ();(c||!c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+IR(e),y:l}}function a7e(e){var t,n=Qu(e),r=RR(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=ih(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ih(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+IR(e),l=-r.scrollTop;return Jl(i||n).direction==="rtl"&&(o+=ih(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function MR(e){var t=Jl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function see(e){return["html","body","#document"].indexOf(Wo(e))>=0?e.ownerDocument.body:aa(e)&&MR(e)?e:see(AS(e))}function $m(e,t){var n;t===void 0&&(t=[]);var r=see(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ds(r),a=i?[s].concat(s.visualViewport||[],MR(r)?r:[]):r,o=t.concat(a);return i?o:o.concat($m(AS(a)))}function XF(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function o7e(e,t){var n=mp(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function t9(e,t,n){return t===TR?XF(s7e(e,n)):Ph(t)?o7e(t,n):XF(a7e(Qu(e)))}function l7e(e){var t=$m(AS(e)),n=["absolute","fixed"].indexOf(Jl(e).position)>=0,r=n&&aa(e)?Qx(e):e;return Ph(r)?t.filter(function(i){return Ph(i)&&eee(i,r)&&Wo(i)!=="body"}):[]}function c7e(e,t,n,r){var i=t==="clippingParents"?l7e(e):[].concat(t),s=[].concat(i,[n]),a=s[0],o=s.reduce(function(l,c){var u=t9(e,c,r);return l.top=ih(u.top,l.top),l.right=Cb(u.right,l.right),l.bottom=Cb(u.bottom,l.bottom),l.left=ih(u.left,l.left),l},t9(e,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function aee(e){var t=e.reference,n=e.element,r=e.placement,i=r?Do(r):null,s=r?xp(r):null,a=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,l;switch(i){case ki:l={x:a,y:t.y-n.height};break;case Os:l={x:a,y:t.y+t.height};break;case Ns:l={x:t.x+t.width,y:o};break;case Ci:l={x:t.x-n.width,y:o};break;default:l={x:t.x,y:t.y}}var c=i?NR(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Lh:l[c]=l[c]-(t[u]/2-n[u]/2);break;case pp:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function vp(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,a=s===void 0?e.strategy:s,o=n.boundary,l=o===void 0?zQ:o,c=n.rootBoundary,u=c===void 0?TR:c,f=n.elementContext,h=f===void 0?Ud:f,d=n.altBoundary,p=d===void 0?!1:d,g=n.padding,m=g===void 0?0:g,x=nee(typeof m!="number"?m:ree(m,Yp)),y=h===Ud?HQ:Ud,v=e.rects.popper,_=e.elements[p?y:h],b=c7e(Ph(_)?_:_.contextElement||Qu(e.elements.popper),l,u,a),w=mp(e.elements.reference),E=aee({reference:w,element:v,strategy:"absolute",placement:i}),A=XF(Object.assign({},v,E)),S=h===Ud?A:w,T={top:b.top-S.top+x.top,bottom:S.bottom-b.bottom+x.bottom,left:b.left-S.left+x.left,right:S.right-b.right+x.right},C=e.modifiersData.offset;if(h===Ud&&C){var O=C[i];Object.keys(T).forEach(function(F){var I=[Ns,Os].indexOf(F)>=0?1:-1,D=[ki,Os].indexOf(F)>=0?"y":"x";T[F]+=O[D]*I})}return T}function u7e(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?kR:l,u=xp(r),f=u?o?GF:GF.filter(function(p){return xp(p)===u}):Yp,h=f.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=f);var d=h.reduce(function(p,g){return p[g]=vp(e,{placement:g,boundary:i,rootBoundary:s,padding:a})[Do(g)],p},{});return Object.keys(d).sort(function(p,g){return d[p]-d[g]})}function f7e(e){if(Do(e)===SS)return[];var t=E_(e);return[e9(e),t,e9(t)]}function h7e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=d===void 0?!0:d,g=n.allowedAutoPlacements,m=t.options.placement,x=Do(m),y=x===m,v=l||(y||!p?[E_(m)]:f7e(m)),_=[m].concat(v).reduce(function(de,Fe){return de.concat(Do(Fe)===SS?u7e(t,{placement:Fe,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):Fe)},[]),b=t.rects.reference,w=t.rects.popper,E=new Map,A=!0,S=_[0],T=0;T<_.length;T++){var C=_[T],O=Do(C),F=xp(C)===Lh,I=[ki,Os].indexOf(O)>=0,D=I?"width":"height",N=vp(t,{placement:C,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),M=I?F?Ns:Ci:F?Os:ki;b[D]>w[D]&&(M=E_(M));var U=E_(M),J=[];if(s&&J.push(N[O]<=0),o&&J.push(N[M]<=0,N[U]<=0),J.every(function(de){return de})){S=C,A=!1;break}E.set(C,J)}if(A)for(var X=p?3:1,ce=function(Fe){var Ne=_.find(function(je){var z=E.get(je);if(z)return z.slice(0,Fe).every(function(q){return q})});if(Ne)return S=Ne,"break"},ve=X;ve>0;ve--){var _e=ce(ve);if(_e==="break")break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}}const oee={name:"flip",enabled:!0,phase:"main",fn:h7e,requiresIfExists:["offset"],data:{_skip:!1}};function n9(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function r9(e){return[ki,Ns,Os,Ci].some(function(t){return e[t]>=0})}function d7e(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=vp(t,{elementContext:"reference"}),o=vp(t,{altBoundary:!0}),l=n9(a,r),c=n9(o,i,s),u=r9(l),f=r9(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const lee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:d7e};function p7e(e,t,n){var r=Do(e),i=[Ci,ki].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Ci,Ns].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function g7e(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,a=kR.reduce(function(u,f){return u[f]=p7e(f,t.rects,s),u},{}),o=a[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}const cee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:g7e};function m7e(e){var t=e.state,n=e.name;t.modifiersData[n]=aee({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const LR={name:"popperOffsets",enabled:!0,phase:"read",fn:m7e,data:{}};function x7e(e){return e==="x"?"y":"x"}function v7e(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,d=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,m=vp(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),x=Do(t.placement),y=xp(t.placement),v=!y,_=NR(x),b=x7e(_),w=t.modifiersData.popperOffsets,E=t.rects.reference,A=t.rects.popper,S=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,T=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(w){if(s){var F,I=_==="y"?ki:Ci,D=_==="y"?Os:Ns,N=_==="y"?"height":"width",M=w[_],U=M+m[I],J=M-m[D],X=d?-A[N]/2:0,ce=y===Lh?E[N]:A[N],ve=y===Lh?-A[N]:-E[N],_e=t.elements.arrow,de=d&&_e?OR(_e):{width:0,height:0},Fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:tee(),Ne=Fe[I],je=Fe[D],z=Dm(0,E[N],de[N]),q=v?E[N]/2-X-z-Ne-T.mainAxis:ce-z-Ne-T.mainAxis,G=v?-E[N]/2+X+z+je+T.mainAxis:ve+z+je+T.mainAxis,H=t.elements.arrow&&Qx(t.elements.arrow),K=H?_==="y"?H.clientTop||0:H.clientLeft||0:0,k=(F=C==null?void 0:C[_])!=null?F:0,P=M+q-k-K,Y=M+G-k,Z=Dm(d?Cb(U,P):U,M,d?ih(J,Y):J);w[_]=Z,O[_]=Z-M}if(o){var ee,ne=_==="x"?ki:Ci,pe=_==="x"?Os:Ns,xe=w[b],ye=b==="y"?"height":"width",ge=xe+m[ne],le=xe-m[pe],Se=[ki,Ci].indexOf(x)!==-1,ae=(ee=C==null?void 0:C[b])!=null?ee:0,qe=Se?ge:xe-E[ye]-A[ye]-ae+T.altAxis,Xe=Se?xe+E[ye]+A[ye]-ae-T.altAxis:le,et=d&&Se?Y9e(qe,xe,Xe):Dm(d?qe:ge,xe,d?Xe:le);w[b]=et,O[b]=et-xe}t.modifiersData[r]=O}}const uee={name:"preventOverflow",enabled:!0,phase:"main",fn:v7e,requiresIfExists:["offset"]};function y7e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _7e(e){return e===Ds(e)||!aa(e)?RR(e):y7e(e)}function b7e(e){var t=e.getBoundingClientRect(),n=gp(t.width)/e.offsetWidth||1,r=gp(t.height)/e.offsetHeight||1;return n!==1||r!==1}function E7e(e,t,n){n===void 0&&(n=!1);var r=aa(t),i=aa(t)&&b7e(t),s=Qu(t),a=mp(e,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Wo(t)!=="body"||MR(s))&&(o=_7e(t)),aa(t)?(l=mp(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=IR(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function w7e(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=t.get(o);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function S7e(e){var t=w7e(e);return ZQ.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function A7e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function T7e(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var i9={placement:"bottom",modifiers:[],strategy:"absolute"};function s9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function TS(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?i9:i;return function(o,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},i9,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:u,setOptions:function(x){var y=typeof x=="function"?x(u.options):x;g(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:Ph(o)?$m(o):o.contextElement?$m(o.contextElement):[],popper:$m(l)};var v=S7e(T7e([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(_){return _.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var x=u.elements,y=x.reference,v=x.popper;if(s9(y,v)){u.rects={reference:E7e(y,Qx(v),u.options.strategy==="fixed"),popper:OR(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(T){return u.modifiersData[T.name]=Object.assign({},T.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var b=u.orderedModifiers[_],w=b.fn,E=b.options,A=E===void 0?{}:E,S=b.name;typeof w=="function"&&(u=w({state:u,options:A,name:S,instance:d})||u)}}}},update:A7e(function(){return new Promise(function(m){d.forceUpdate(),m(u)})}),destroy:function(){g(),h=!0}};if(!s9(o,l))return d;d.setOptions(c).then(function(m){!h&&c.onFirstUpdate&&c.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var x=m.name,y=m.options,v=y===void 0?{}:y,_=m.effect;if(typeof _=="function"){var b=_({state:u,name:x,instance:d,options:v}),w=function(){};f.push(b||w)}})}function g(){f.forEach(function(m){return m()}),f=[]}return d}}var k7e=TS(),C7e=[$R,LR,DR,FR],F7e=TS({defaultModifiers:C7e}),O7e=[$R,LR,DR,FR,cee,oee,uee,iee,lee],PR=TS({defaultModifiers:O7e});const fee=Object.freeze(Object.defineProperty({__proto__:null,afterMain:XQ,afterRead:jQ,afterWrite:JQ,applyStyles:FR,arrow:iee,auto:SS,basePlacements:Yp,beforeMain:GQ,beforeRead:VQ,beforeWrite:YQ,bottom:Os,clippingParents:zQ,computeStyles:DR,createPopper:PR,createPopperBase:k7e,createPopperLite:F7e,detectOverflow:vp,end:pp,eventListeners:$R,flip:oee,hide:lee,left:Ci,main:qQ,modifierPhases:ZQ,offset:cee,placements:kR,popper:Ud,popperGenerator:TS,popperOffsets:LR,preventOverflow:uee,read:WQ,reference:HQ,right:Ns,start:Lh,top:ki,variationPlacements:GF,viewport:TR,write:KQ},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const yc=new Map,TT={set(e,t,n){yc.has(e)||yc.set(e,new Map);const r=yc.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return yc.has(e)&&yc.get(e).get(t)||null},remove(e,t){if(!yc.has(e))return;const n=yc.get(e);n.delete(t),n.size===0&&yc.delete(e)}},N7e=1e6,D7e=1e3,YF="transitionend",hee=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),$7e=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),R7e=e=>{do e+=Math.floor(Math.random()*N7e);while(document.getElementById(e));return e},I7e=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return!r&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*D7e)},dee=e=>{e.dispatchEvent(new Event(YF))},Hl=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Fu=e=>Hl(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(hee(e)):null,Kp=e=>{if(!Hl(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},Ou=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",pee=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?pee(e.parentNode):null},Fb=()=>{},ev=e=>{e.offsetHeight},gee=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,kT=[],M7e=e=>{document.readyState==="loading"?(kT.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of kT)t()}),kT.push(e)):e()},pa=()=>document.documentElement.dir==="rtl",ya=e=>{M7e(()=>{const t=gee();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},Wi=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,mee=(e,t,n=!0)=>{if(!n){Wi(e);return}const i=I7e(t)+5;let s=!1;const a=({target:o})=>{o===t&&(s=!0,t.removeEventListener(YF,a),Wi(e))};t.addEventListener(YF,a),setTimeout(()=>{s||dee(t)},i)},BR=(e,t,n,r)=>{const i=e.length;let s=e.indexOf(t);return s===-1?!n&&r?e[i-1]:e[0]:(s+=n?1:-1,r&&(s=(s+i)%i),e[Math.max(0,Math.min(s,i-1))])},L7e=/[^.]*(?=\..*)\.|.*/,P7e=/\..*/,B7e=/::\d+$/,CT={};let a9=1;const xee={mouseenter:"mouseover",mouseleave:"mouseout"},U7e=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function vee(e,t){return t&&`${t}::${a9++}`||e.uidEvent||a9++}function yee(e){const t=vee(e);return e.uidEvent=t,CT[t]=CT[t]||{},CT[t]}function z7e(e,t){return function n(r){return UR(r,{delegateTarget:e}),n.oneOff&&be.off(e,r.type,t),t.apply(e,[r])}}function H7e(e,t,n){return function r(i){const s=e.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const o of s)if(o===a)return UR(i,{delegateTarget:a}),r.oneOff&&be.off(e,i.type,t,n),n.apply(a,[i])}}function _ee(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function bee(e,t,n){const r=typeof t=="string",i=r?n:t||n;let s=Eee(e);return U7e.has(s)||(s=e),[r,i,s]}function o9(e,t,n,r,i){if(typeof t!="string"||!e)return;let[s,a,o]=bee(t,n,r);t in xee&&(a=(p=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return p.call(this,g)})(a));const l=yee(e),c=l[o]||(l[o]={}),u=_ee(c,a,s?n:null);if(u){u.oneOff=u.oneOff&&i;return}const f=vee(a,t.replace(L7e,"")),h=s?H7e(e,n,a):z7e(e,a);h.delegationSelector=s?n:null,h.callable=a,h.oneOff=i,h.uidEvent=f,c[f]=h,e.addEventListener(o,h,s)}function KF(e,t,n,r,i){const s=_ee(t[n],r,i);s&&(e.removeEventListener(n,s,!!i),delete t[n][s.uidEvent])}function V7e(e,t,n,r){const i=t[n]||{};for(const[s,a]of Object.entries(i))s.includes(r)&&KF(e,t,n,a.callable,a.delegationSelector)}function Eee(e){return e=e.replace(P7e,""),xee[e]||e}const be={on(e,t,n,r){o9(e,t,n,r,!1)},one(e,t,n,r){o9(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;const[i,s,a]=bee(t,n,r),o=a!==t,l=yee(e),c=l[a]||{},u=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;KF(e,l,a,s,i?n:null);return}if(u)for(const f of Object.keys(l))V7e(e,l,f,t.slice(1));for(const[f,h]of Object.entries(c)){const d=f.replace(B7e,"");(!o||t.includes(d))&&KF(e,l,a,h.callable,h.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const r=gee(),i=Eee(t),s=t!==i;let a=null,o=!0,l=!0,c=!1;s&&r&&(a=r.Event(t,n),r(e).trigger(a),o=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());const u=UR(new Event(t,{bubbles:o,cancelable:!0}),n);return c&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function UR(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function l9(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function FT(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Vl={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${FT(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${FT(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=l9(e.dataset[r])}return t},getDataAttribute(e,t){return l9(e.getAttribute(`data-bs-${FT(t)}`))}};class tv{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const r=Hl(n)?Vl.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Hl(n)?Vl.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const s=t[r],a=Hl(s)?"element":$7e(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}}const W7e="5.3.3";class ao extends tv{constructor(t,n){super(),t=Fu(t),t&&(this._element=t,this._config=this._getConfig(n),TT.set(this._element,this.constructor.DATA_KEY,this))}dispose(){TT.remove(this._element,this.constructor.DATA_KEY),be.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){mee(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return TT.get(Fu(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return W7e}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const OT=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>hee(n)).join(","):null},tt={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!Ou(n)&&Kp(n))},getSelectorFromElement(e){const t=OT(e);return t&&tt.findOne(t)?t:null},getElementFromSelector(e){const t=OT(e);return t?tt.findOne(t):null},getMultipleElementsFromSelector(e){const t=OT(e);return t?tt.find(t):[]}},kS=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;be.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ou(this))return;const s=tt.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(s)[t]()})},j7e="alert",G7e="bs.alert",wee=`.${G7e}`,q7e=`close${wee}`,X7e=`closed${wee}`,Y7e="fade",K7e="show";class CS extends ao{static get NAME(){return j7e}close(){if(be.trigger(this._element,q7e).defaultPrevented)return;this._element.classList.remove(K7e);const n=this._element.classList.contains(Y7e);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),be.trigger(this._element,X7e),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=CS.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}kS(CS,"close");ya(CS);const J7e="button",Z7e="bs.button",Q7e=`.${Z7e}`,eBe=".data-api",tBe="active",c9='[data-bs-toggle="button"]',nBe=`click${Q7e}${eBe}`;class FS extends ao{static get NAME(){return J7e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(tBe))}static jQueryInterface(t){return this.each(function(){const n=FS.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}be.on(document,nBe,c9,e=>{e.preventDefault();const t=e.target.closest(c9);FS.getOrCreateInstance(t).toggle()});ya(FS);const rBe="swipe",Jp=".bs.swipe",iBe=`touchstart${Jp}`,sBe=`touchmove${Jp}`,aBe=`touchend${Jp}`,oBe=`pointerdown${Jp}`,lBe=`pointerup${Jp}`,cBe="touch",uBe="pen",fBe="pointer-event",hBe=40,dBe={endCallback:null,leftCallback:null,rightCallback:null},pBe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ob extends tv{constructor(t,n){super(),this._element=t,!(!t||!Ob.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return dBe}static get DefaultType(){return pBe}static get NAME(){return rBe}dispose(){be.off(this._element,Jp)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Wi(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=hBe)return;const n=t/this._deltaX;this._deltaX=0,n&&Wi(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(be.on(this._element,oBe,t=>this._start(t)),be.on(this._element,lBe,t=>this._end(t)),this._element.classList.add(fBe)):(be.on(this._element,iBe,t=>this._start(t)),be.on(this._element,sBe,t=>this._move(t)),be.on(this._element,aBe,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===uBe||t.pointerType===cBe)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const gBe="carousel",mBe="bs.carousel",ef=`.${mBe}`,See=".data-api",xBe="ArrowLeft",vBe="ArrowRight",yBe=500,Dg="next",Rd="prev",zd="left",w_="right",_Be=`slide${ef}`,NT=`slid${ef}`,bBe=`keydown${ef}`,EBe=`mouseenter${ef}`,wBe=`mouseleave${ef}`,SBe=`dragstart${ef}`,ABe=`load${ef}${See}`,TBe=`click${ef}${See}`,Aee="carousel",Ey="active",kBe="slide",CBe="carousel-item-end",FBe="carousel-item-start",OBe="carousel-item-next",NBe="carousel-item-prev",Tee=".active",kee=".carousel-item",DBe=Tee+kee,$Be=".carousel-item img",RBe=".carousel-indicators",IBe="[data-bs-slide], [data-bs-slide-to]",MBe='[data-bs-ride="carousel"]',LBe={[xBe]:w_,[vBe]:zd},PBe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},BBe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class nv extends ao{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=tt.findOne(RBe,this._element),this._addEventListeners(),this._config.ride===Aee&&this.cycle()}static get Default(){return PBe}static get DefaultType(){return BBe}static get NAME(){return gBe}next(){this._slide(Dg)}nextWhenVisible(){!document.hidden&&Kp(this._element)&&this.next()}prev(){this._slide(Rd)}pause(){this._isSliding&&dee(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){be.one(this._element,NT,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){be.one(this._element,NT,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const i=t>r?Dg:Rd;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&be.on(this._element,bBe,t=>this._keydown(t)),this._config.pause==="hover"&&(be.on(this._element,EBe,()=>this.pause()),be.on(this._element,wBe,()=>this._maybeEnableCycle())),this._config.touch&&Ob.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of tt.find($Be,this._element))be.on(r,SBe,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(zd)),rightCallback:()=>this._slide(this._directionToOrder(w_)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),yBe+this._config.interval))}};this._swipeHelper=new Ob(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=LBe[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=tt.findOne(Tee,this._indicatorsElement);n.classList.remove(Ey),n.removeAttribute("aria-current");const r=tt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(Ey),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const r=this._getActive(),i=t===Dg,s=n||BR(this._getItems(),r,i,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),o=d=>be.trigger(this._element,d,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:a});if(o(_Be).defaultPrevented||!r||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const u=i?FBe:CBe,f=i?OBe:NBe;s.classList.add(f),ev(s),r.classList.add(u),s.classList.add(u);const h=()=>{s.classList.remove(u,f),s.classList.add(Ey),r.classList.remove(Ey,f,u),this._isSliding=!1,o(NT)};this._queueCallback(h,r,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(kBe)}_getActive(){return tt.findOne(DBe,this._element)}_getItems(){return tt.find(kee,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return pa()?t===zd?Rd:Dg:t===zd?Dg:Rd}_orderToDirection(t){return pa()?t===Rd?zd:w_:t===Rd?w_:zd}static jQueryInterface(t){return this.each(function(){const n=nv.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}be.on(document,TBe,IBe,function(e){const t=tt.getElementFromSelector(this);if(!t||!t.classList.contains(Aee))return;e.preventDefault();const n=nv.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Vl.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});be.on(window,ABe,()=>{const e=tt.find(MBe);for(const t of e)nv.getOrCreateInstance(t)});ya(nv);const UBe="collapse",zBe="bs.collapse",rv=`.${zBe}`,HBe=".data-api",VBe=`show${rv}`,WBe=`shown${rv}`,jBe=`hide${rv}`,GBe=`hidden${rv}`,qBe=`click${rv}${HBe}`,DT="show",Zd="collapse",wy="collapsing",XBe="collapsed",YBe=`:scope .${Zd} .${Zd}`,KBe="collapse-horizontal",JBe="width",ZBe="height",QBe=".collapse.show, .collapse.collapsing",JF='[data-bs-toggle="collapse"]',eUe={parent:null,toggle:!0},tUe={parent:"(null|element)",toggle:"boolean"};class P1 extends ao{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const r=tt.find(JF);for(const i of r){const s=tt.getSelectorFromElement(i),a=tt.find(s).filter(o=>o===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return eUe}static get DefaultType(){return tUe}static get NAME(){return UBe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(QBe).filter(o=>o!==this._element).map(o=>P1.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||be.trigger(this._element,VBe).defaultPrevented)return;for(const o of t)o.hide();const r=this._getDimension();this._element.classList.remove(Zd),this._element.classList.add(wy),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(wy),this._element.classList.add(Zd,DT),this._element.style[r]="",be.trigger(this._element,WBe)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||be.trigger(this._element,jBe).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,ev(this._element),this._element.classList.add(wy),this._element.classList.remove(Zd,DT);for(const i of this._triggerArray){const s=tt.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(wy),this._element.classList.add(Zd),be.trigger(this._element,GBe)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(DT)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Fu(t.parent),t}_getDimension(){return this._element.classList.contains(KBe)?JBe:ZBe}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(JF);for(const n of t){const r=tt.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){const n=tt.find(YBe,this._config.parent);return tt.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const r of t)r.classList.toggle(XBe,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const r=P1.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}be.on(document,qBe,JF,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of tt.getMultipleElementsFromSelector(this))P1.getOrCreateInstance(t,{toggle:!1}).toggle()});ya(P1);const u9="dropdown",nUe="bs.dropdown",hd=`.${nUe}`,zR=".data-api",rUe="Escape",f9="Tab",iUe="ArrowUp",h9="ArrowDown",sUe=2,aUe=`hide${hd}`,oUe=`hidden${hd}`,lUe=`show${hd}`,cUe=`shown${hd}`,Cee=`click${hd}${zR}`,Fee=`keydown${hd}${zR}`,uUe=`keyup${hd}${zR}`,Hd="show",fUe="dropup",hUe="dropend",dUe="dropstart",pUe="dropup-center",gUe="dropdown-center",Bf='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',mUe=`${Bf}.${Hd}`,S_=".dropdown-menu",xUe=".navbar",vUe=".navbar-nav",yUe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",_Ue=pa()?"top-end":"top-start",bUe=pa()?"top-start":"top-end",EUe=pa()?"bottom-end":"bottom-start",wUe=pa()?"bottom-start":"bottom-end",SUe=pa()?"left-start":"right-start",AUe=pa()?"right-start":"left-start",TUe="top",kUe="bottom",CUe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},FUe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class $o extends ao{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=tt.next(this._element,S_)[0]||tt.prev(this._element,S_)[0]||tt.findOne(S_,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return CUe}static get DefaultType(){return FUe}static get NAME(){return u9}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ou(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!be.trigger(this._element,lUe,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(vUe))for(const r of[].concat(...document.body.children))be.on(r,"mouseover",Fb);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hd),this._element.classList.add(Hd),be.trigger(this._element,cUe,t)}}hide(){if(Ou(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!be.trigger(this._element,aUe,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))be.off(r,"mouseover",Fb);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hd),this._element.classList.remove(Hd),this._element.setAttribute("aria-expanded","false"),Vl.removeDataAttribute(this._menu,"popper"),be.trigger(this._element,oUe,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Hl(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${u9.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof fee>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Hl(this._config.reference)?t=Fu(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=PR(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Hd)}_getPlacement(){const t=this._parent;if(t.classList.contains(hUe))return SUe;if(t.classList.contains(dUe))return AUe;if(t.classList.contains(pUe))return TUe;if(t.classList.contains(gUe))return kUe;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(fUe)?n?bUe:_Ue:n?wUe:EUe}_detectNavbar(){return this._element.closest(xUe)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Vl.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Wi(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const r=tt.find(yUe,this._menu).filter(i=>Kp(i));r.length&&BR(r,n,t===h9,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=$o.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===sUe||t.type==="keyup"&&t.key!==f9)return;const n=tt.find(mUe);for(const r of n){const i=$o.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=t.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===f9||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:i._element};t.type==="click"&&(o.clickEvent=t),i._completeHide(o)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),r=t.key===rUe,i=[iUe,h9].includes(t.key);if(!i&&!r||n&&!r)return;t.preventDefault();const s=this.matches(Bf)?this:tt.prev(this,Bf)[0]||tt.next(this,Bf)[0]||tt.findOne(Bf,t.delegateTarget.parentNode),a=$o.getOrCreateInstance(s);if(i){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),s.focus())}}be.on(document,Fee,Bf,$o.dataApiKeydownHandler);be.on(document,Fee,S_,$o.dataApiKeydownHandler);be.on(document,Cee,$o.clearMenus);be.on(document,uUe,$o.clearMenus);be.on(document,Cee,Bf,function(e){e.preventDefault(),$o.getOrCreateInstance(this).toggle()});ya($o);const Oee="backdrop",OUe="fade",d9="show",p9=`mousedown.bs.${Oee}`,NUe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DUe={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Nee extends tv{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return NUe}static get DefaultType(){return DUe}static get NAME(){return Oee}show(t){if(!this._config.isVisible){Wi(t);return}this._append();const n=this._getElement();this._config.isAnimated&&ev(n),n.classList.add(d9),this._emulateAnimation(()=>{Wi(t)})}hide(t){if(!this._config.isVisible){Wi(t);return}this._getElement().classList.remove(d9),this._emulateAnimation(()=>{this.dispose(),Wi(t)})}dispose(){this._isAppended&&(be.off(this._element,p9),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(OUe),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Fu(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),be.on(t,p9,()=>{Wi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){mee(t,this._getElement(),this._config.isAnimated)}}const $Ue="focustrap",RUe="bs.focustrap",Nb=`.${RUe}`,IUe=`focusin${Nb}`,MUe=`keydown.tab${Nb}`,LUe="Tab",PUe="forward",g9="backward",BUe={autofocus:!0,trapElement:null},UUe={autofocus:"boolean",trapElement:"element"};class Dee extends tv{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return BUe}static get DefaultType(){return UUe}static get NAME(){return $Ue}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),be.off(document,Nb),be.on(document,IUe,t=>this._handleFocusin(t)),be.on(document,MUe,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,be.off(document,Nb))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=tt.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===g9?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===LUe&&(this._lastTabNavDirection=t.shiftKey?g9:PUe)}}const m9=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",x9=".sticky-top",Sy="padding-right",v9="margin-right";class ZF{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Sy,n=>n+t),this._setElementAttributes(m9,Sy,n=>n+t),this._setElementAttributes(x9,v9,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Sy),this._resetElementAttributes(m9,Sy),this._resetElementAttributes(x9,v9)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){const i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,n);const o=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,n){const r=t.style.getPropertyValue(n);r&&Vl.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){const r=i=>{const s=Vl.getDataAttribute(i,n);if(s===null){i.style.removeProperty(n);return}Vl.removeDataAttribute(i,n),i.style.setProperty(n,s)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(Hl(t)){n(t);return}for(const r of tt.find(t,this._element))n(r)}}const zUe="modal",HUe="bs.modal",ga=`.${HUe}`,VUe=".data-api",WUe="Escape",jUe=`hide${ga}`,GUe=`hidePrevented${ga}`,$ee=`hidden${ga}`,Ree=`show${ga}`,qUe=`shown${ga}`,XUe=`resize${ga}`,YUe=`click.dismiss${ga}`,KUe=`mousedown.dismiss${ga}`,JUe=`keydown.dismiss${ga}`,ZUe=`click${ga}${VUe}`,y9="modal-open",QUe="fade",_9="show",$T="modal-static",eze=".modal.show",tze=".modal-dialog",nze=".modal-body",rze='[data-bs-toggle="modal"]',ize={backdrop:!0,focus:!0,keyboard:!0},sze={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Bh extends ao{constructor(t,n){super(t,n),this._dialog=tt.findOne(tze,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ZF,this._addEventListeners()}static get Default(){return ize}static get DefaultType(){return sze}static get NAME(){return zUe}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||be.trigger(this._element,Ree,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(y9),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||be.trigger(this._element,jUe).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_9),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){be.off(window,ga),be.off(this._dialog,ga),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Nee({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Dee({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=tt.findOne(nze,this._dialog);n&&(n.scrollTop=0),ev(this._element),this._element.classList.add(_9);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,be.trigger(this._element,qUe,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){be.on(this._element,JUe,t=>{if(t.key===WUe){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),be.on(window,XUe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),be.on(this._element,KUe,t=>{be.one(this._element,YUe,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(y9),this._resetAdjustments(),this._scrollBar.reset(),be.trigger(this._element,$ee)})}_isAnimated(){return this._element.classList.contains(QUe)}_triggerBackdropTransition(){if(be.trigger(this._element,GUe).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains($T)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add($T),this._queueCallback(()=>{this._element.classList.remove($T),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){const i=pa()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&t){const i=pa()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const r=Bh.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}}be.on(document,ZUe,rze,function(e){const t=tt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),be.one(t,Ree,i=>{i.defaultPrevented||be.one(t,$ee,()=>{Kp(this)&&this.focus()})});const n=tt.findOne(eze);n&&Bh.getInstance(n).hide(),Bh.getOrCreateInstance(t).toggle(this)});kS(Bh);ya(Bh);const aze="offcanvas",oze="bs.offcanvas",fc=`.${oze}`,Iee=".data-api",lze=`load${fc}${Iee}`,cze="Escape",b9="show",E9="showing",w9="hiding",uze="offcanvas-backdrop",Mee=".offcanvas.show",fze=`show${fc}`,hze=`shown${fc}`,dze=`hide${fc}`,S9=`hidePrevented${fc}`,Lee=`hidden${fc}`,pze=`resize${fc}`,gze=`click${fc}${Iee}`,mze=`keydown.dismiss${fc}`,xze='[data-bs-toggle="offcanvas"]',vze={backdrop:!0,keyboard:!0,scroll:!1},yze={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Nu extends ao{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vze}static get DefaultType(){return yze}static get NAME(){return aze}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||be.trigger(this._element,fze,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ZF().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(E9);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(b9),this._element.classList.remove(E9),be.trigger(this._element,hze,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||be.trigger(this._element,dze).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(w9),this._backdrop.hide();const n=()=>{this._element.classList.remove(b9,w9),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ZF().reset(),be.trigger(this._element,Lee)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){be.trigger(this._element,S9);return}this.hide()},n=!!this._config.backdrop;return new Nee({className:uze,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new Dee({trapElement:this._element})}_addEventListeners(){be.on(this._element,mze,t=>{if(t.key===cze){if(this._config.keyboard){this.hide();return}be.trigger(this._element,S9)}})}static jQueryInterface(t){return this.each(function(){const n=Nu.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}be.on(document,gze,xze,function(e){const t=tt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ou(this))return;be.one(t,Lee,()=>{Kp(this)&&this.focus()});const n=tt.findOne(Mee);n&&n!==t&&Nu.getInstance(n).hide(),Nu.getOrCreateInstance(t).toggle(this)});be.on(window,lze,()=>{for(const e of tt.find(Mee))Nu.getOrCreateInstance(e).show()});be.on(window,pze,()=>{for(const e of tt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Nu.getOrCreateInstance(e).hide()});kS(Nu);ya(Nu);const _ze=/^aria-[\w-]*$/i,Pee={"*":["class","dir","id","lang","role",_ze],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},bze=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Eze=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,wze=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?bze.has(n)?!!Eze.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function Sze(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const i=new window.DOMParser().parseFromString(e,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const a of s){const o=a.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){a.remove();continue}const l=[].concat(...a.attributes),c=[].concat(t["*"]||[],t[o]||[]);for(const u of l)wze(u,c)||a.removeAttribute(u.nodeName)}return i.body.innerHTML}const Aze="TemplateFactory",Tze={allowList:Pee,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},kze={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Cze={entry:"(string|element|function|null)",selector:"(string|element)"};class Fze extends tv{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Tze}static get DefaultType(){return kze}static get NAME(){return Aze}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(t,s,i);const n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},Cze)}_setContent(t,n,r){const i=tt.findOne(r,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Hl(n)){this._putElementInTemplate(Fu(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?Sze(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Wi(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const Oze="tooltip",Nze=new Set(["sanitize","allowList","sanitizeFn"]),RT="fade",Dze="modal",Ay="show",$ze=".tooltip-inner",A9=`.${Dze}`,T9="hide.bs.modal",$g="hover",IT="focus",Rze="click",Ize="manual",Mze="hide",Lze="hidden",Pze="show",Bze="shown",Uze="inserted",zze="click",Hze="focusin",Vze="focusout",Wze="mouseenter",jze="mouseleave",Gze={AUTO:"auto",TOP:"top",RIGHT:pa()?"left":"right",BOTTOM:"bottom",LEFT:pa()?"right":"left"},qze={allowList:Pee,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Xze={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zp extends ao{constructor(t,n){if(typeof fee>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return qze}static get DefaultType(){return Xze}static get NAME(){return Oze}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),be.off(this._element.closest(A9),T9,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=be.trigger(this._element,this.constructor.eventName(Pze)),r=(pee(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),be.trigger(this._element,this.constructor.eventName(Uze))),this._popper=this._createPopper(i),i.classList.add(Ay),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))be.on(o,"mouseover",Fb);const a=()=>{be.trigger(this._element,this.constructor.eventName(Bze)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||be.trigger(this._element,this.constructor.eventName(Mze)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ay),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))be.off(i,"mouseover",Fb);this._activeTrigger[Rze]=!1,this._activeTrigger[IT]=!1,this._activeTrigger[$g]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),be.trigger(this._element,this.constructor.eventName(Lze)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(RT,Ay),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=R7e(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(RT),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Fze({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[$ze]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(RT)}_isShown(){return this.tip&&this.tip.classList.contains(Ay)}_createPopper(t){const n=Wi(this._config.placement,[this,t,this._element]),r=Gze[n.toUpperCase()];return PR(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Wi(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...Wi(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")be.on(this._element,this.constructor.eventName(zze),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==Ize){const r=n===$g?this.constructor.eventName(Wze):this.constructor.eventName(Hze),i=n===$g?this.constructor.eventName(jze):this.constructor.eventName(Vze);be.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?IT:$g]=!0,a._enter()}),be.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?IT:$g]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},be.on(this._element.closest(A9),T9,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Vl.getDataAttributes(this._element);for(const r of Object.keys(n))Nze.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Fu(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=Zp.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ya(Zp);const Yze="popover",Kze=".popover-header",Jze=".popover-body",Zze={...Zp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Qze={...Zp.DefaultType,content:"(null|string|element|function)"};class HR extends Zp{static get Default(){return Zze}static get DefaultType(){return Qze}static get NAME(){return Yze}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Kze]:this._getTitle(),[Jze]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=HR.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ya(HR);const eHe="scrollspy",tHe="bs.scrollspy",VR=`.${tHe}`,nHe=".data-api",rHe=`activate${VR}`,k9=`click${VR}`,iHe=`load${VR}${nHe}`,sHe="dropdown-item",Id="active",aHe='[data-bs-spy="scroll"]',MT="[href]",oHe=".nav, .list-group",C9=".nav-link",lHe=".nav-item",cHe=".list-group-item",uHe=`${C9}, ${lHe} > ${C9}, ${cHe}`,fHe=".dropdown",hHe=".dropdown-toggle",dHe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},pHe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class OS extends ao{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return dHe}static get DefaultType(){return pHe}static get NAME(){return eHe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Fu(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(be.off(this._config.target,k9),be.on(this._config.target,k9,MT,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&o){if(r(a),!i)return;continue}!s&&!o&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=tt.find(MT,this._config.target);for(const n of t){if(!n.hash||Ou(n))continue;const r=tt.findOne(decodeURI(n.hash),this._element);Kp(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Id),this._activateParents(t),be.trigger(this._element,rHe,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(sHe)){tt.findOne(hHe,t.closest(fHe)).classList.add(Id);return}for(const n of tt.parents(t,oHe))for(const r of tt.prev(n,uHe))r.classList.add(Id)}_clearActiveClass(t){t.classList.remove(Id);const n=tt.find(`${MT}.${Id}`,t);for(const r of n)r.classList.remove(Id)}static jQueryInterface(t){return this.each(function(){const n=OS.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}be.on(window,iHe,()=>{for(const e of tt.find(aHe))OS.getOrCreateInstance(e)});ya(OS);const gHe="tab",mHe="bs.tab",dd=`.${mHe}`,xHe=`hide${dd}`,vHe=`hidden${dd}`,yHe=`show${dd}`,_He=`shown${dd}`,bHe=`click${dd}`,EHe=`keydown${dd}`,wHe=`load${dd}`,SHe="ArrowLeft",F9="ArrowRight",AHe="ArrowUp",O9="ArrowDown",LT="Home",N9="End",Uf="active",D9="fade",PT="show",THe="dropdown",Bee=".dropdown-toggle",kHe=".dropdown-menu",BT=`:not(${Bee})`,CHe='.list-group, .nav, [role="tablist"]',FHe=".nav-item, .list-group-item",OHe=`.nav-link${BT}, .list-group-item${BT}, [role="tab"]${BT}`,Uee='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',UT=`${OHe}, ${Uee}`,NHe=`.${Uf}[data-bs-toggle="tab"], .${Uf}[data-bs-toggle="pill"], .${Uf}[data-bs-toggle="list"]`;class yp extends ao{constructor(t){super(t),this._parent=this._element.closest(CHe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),be.on(this._element,EHe,n=>this._keydown(n)))}static get NAME(){return gHe}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),r=n?be.trigger(n,xHe,{relatedTarget:t}):null;be.trigger(t,yHe,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(Uf),this._activate(tt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(PT);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),be.trigger(t,_He,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(D9))}_deactivate(t,n){if(!t)return;t.classList.remove(Uf),t.blur(),this._deactivate(tt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(PT);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),be.trigger(t,vHe,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(D9))}_keydown(t){if(![SHe,F9,AHe,O9,LT,N9].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(i=>!Ou(i));let r;if([LT,N9].includes(t.key))r=n[t.key===LT?0:n.length-1];else{const i=[F9,O9].includes(t.key);r=BR(n,t.target,i,!0)}r&&(r.focus({preventScroll:!0}),yp.getOrCreateInstance(r).show())}_getChildren(){return tt.find(UT,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=tt.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const r=this._getOuterElement(t);if(!r.classList.contains(THe))return;const i=(s,a)=>{const o=tt.findOne(s,r);o&&o.classList.toggle(a,n)};i(Bee,Uf),i(kHe,PT),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(Uf)}_getInnerElement(t){return t.matches(UT)?t:tt.findOne(UT,t)}_getOuterElement(t){return t.closest(FHe)||t}static jQueryInterface(t){return this.each(function(){const n=yp.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}be.on(document,bHe,Uee,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Ou(this)&&yp.getOrCreateInstance(this).show()});be.on(window,wHe,()=>{for(const e of tt.find(NHe))yp.getOrCreateInstance(e)});ya(yp);const DHe="toast",$He="bs.toast",tf=`.${$He}`,RHe=`mouseover${tf}`,IHe=`mouseout${tf}`,MHe=`focusin${tf}`,LHe=`focusout${tf}`,PHe=`hide${tf}`,BHe=`hidden${tf}`,UHe=`show${tf}`,zHe=`shown${tf}`,HHe="fade",$9="hide",Ty="show",ky="showing",VHe={animation:"boolean",autohide:"boolean",delay:"number"},WHe={animation:!0,autohide:!0,delay:5e3};class iv extends ao{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return WHe}static get DefaultType(){return VHe}static get NAME(){return DHe}show(){if(be.trigger(this._element,UHe).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(HHe);const n=()=>{this._element.classList.remove(ky),be.trigger(this._element,zHe),this._maybeScheduleHide()};this._element.classList.remove($9),ev(this._element),this._element.classList.add(Ty,ky),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||be.trigger(this._element,PHe).defaultPrevented)return;const n=()=>{this._element.classList.add($9),this._element.classList.remove(ky,Ty),be.trigger(this._element,BHe)};this._element.classList.add(ky),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ty),super.dispose()}isShown(){return this._element.classList.contains(Ty)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){be.on(this._element,RHe,t=>this._onInteraction(t,!0)),be.on(this._element,IHe,t=>this._onInteraction(t,!1)),be.on(this._element,MHe,t=>this._onInteraction(t,!0)),be.on(this._element,LHe,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=iv.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}kS(iv);ya(iv);async function jHe(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsBinaryString(e),r.onload=()=>t(r.result),r.onerror=i=>n(i)})}function GHe(e){let t=Date.now().toString();const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;let i=t.length;for(;i<e;)t+=n.charAt(Math.floor(Math.random()*r)),i+=1;return t}function zT(e,t,n){return e.map(r=>Object.keys(r).reduce((i,s)=>(i[s===t?n:s]=r[s],i),{}))}function qHe(e,t,n){return e.map(r=>r.hasOwnProperty(t)?r:{...r,[t]:n})}function R9(e,t,n="number"){return e.map(r=>Object.keys(r).reduce((i,s)=>(t.includes(s)?i[s]=r[s]:n==="number"&&(typeof r[s]=="number"||!isNaN(parseFloat(r[s])))&&(i[s]=parseFloat(r[s])),i),{}))}function XHe(e,t){return e.map(n=>[...t,...Object.keys(n).filter(i=>!t.includes(i))].reduce((i,s)=>(s in n?i[s]=n[s]:i[s]=null,i),{}))}function YHe(e,t,n){return e.map(r=>{const i=t.find(s=>s[n]===r[n]);return i?{...r,...i}:r})}function zee(e){for(var t=[],n=0;n<e.items.length;n++){t[n]={};for(var r=0;r<e.fields.length;r++)if(e.fields[r].show||e.fields[r].name==="ColorGroup"){let i=e.fields[r].unit?e.fields[r].name+" ("+e.fields[r].unit+")":e.fields[r].name;t[n][i]=e.items[n][e.fields[r].label]}}return t}function KHe(e){return e.features?e.features.map(t=>{const{properties:n,...r}=t;return n||[]}):[]}function I9(e){let t=e.match(/\(([^)]+)\)$/),n=t?t[1].trim():"";return[e.replace("("+n+")","").trim(),n]}function JHe(e,t,n){return{...e,features:e.features.map(r=>{var s;let i={};for(let a=0;a<=t.length;a++)(s=r.properties)!=null&&s.hasOwnProperty(t[a])&&(i[n[a]]=r.properties[t[a]]);return{...r,properties:i}})}}async function ZHe(e){var t=zee(e),n=LH(t);const r=new Blob([n],{type:"text/csv"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download="data.csv",document.body.appendChild(s),s.click(),document.body.removeChild(s)}class Rm{static get(t,n=null,r=null,i=!0){return new Promise(function(s,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(this.readyState==4)if(this.status==200)try{s(i?JSON.parse(this.responseText):this.response)}catch(l){console.log(l),console.log(this.responseText),a(Error("Unable to parse output."))}else this.status==429?a(Error("Too many requests within specify time. Please try again later.")):(console.log(t),a(Error("Unable to fetch data from the server.")))},r!==null&&(o.onprogress=r),o.ontimeout=function(l){a(Error("The request has timed out."))},n!==null&&(o.timeout=n),o.open("GET",t,!0),o.send()})}static post(t,n,r={},i=18e4){return new Promise(function(s,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(this.readyState==4)if(this.status==200)try{s(JSON.parse(this.responseText))}catch(u){console.log(u),console.log(this.responseText),a(Error("Unable to parse output."))}else if(this.status==429)a(Error("Too many requests within specify time. Please try again later."));else{console.log(t);try{var l=JSON.parse(this.responseText),c=l.error?l.error:"Unable to fetch data from the server."}catch{c=this.responseText.replace(/<\/?[^>]+(>|$)/g,"")}a(Error(c))}},o.ontimeout=function(l){a(Error("The request has timed out."))},o.open("POST",t,!0),o.timeout=i,Object.keys(r).forEach(function(l,c){o.setRequestHeader(l,r[l])}),o.send(n)})}static serializePostVariables(t){var n="",r=!0;return Object.keys(t).forEach(function(i,s){n+=(r?"":"&")+i+"="+encodeURIComponent(t[i]),r=!1}),n}static generateMIMEBoundary(){for(var t="---------",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<25;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}}const QHe={class:"p-2 text-bg-light"},eVe=Q("div",{class:"badge text-bg-secondary"},"1. Define a map",-1),tVe={key:0,class:"p-2"},nVe=["value"],rVe={key:1},iVe={class:"p-2"},sVe=Q("option",null,null,-1),aVe=["value"],oVe={class:"p-2"},lVe={class:"invalid-feedback"},cVe={key:0,class:"d-flex justify-content-center"},uVe=Q("div",{class:"p-2 spinner-border",role:"status"},[Q("span",{class:"visually-hidden"},"Loading...")],-1),fVe=[uVe],hVe={key:1,class:"p-2"},dVe=Fr({__name:"CFormGeojson",props:{mapDBKey:{},maps:{},geoUrl:{}},emits:["changed"],setup(e,{emit:t}){const n=e,r=t,i=Ei();var s={};const a=Ms({isLoading:!1,error:"",handler:"",geojsonUniqueProperties:[],geojsonRegionCol:""});async function o(c){if(i.value.value=null,s={},a.geojsonUniqueProperties=[],!!a.handler){var u="/static/cartdata/"+a.handler;Rm.get(u+"/Land Area.json").then(function(f){a.geojsonRegionCol="name",r("changed",a.handler,f,a.geojsonRegionCol,u+"/data.csv")})}}async function l(c){s={},a.geojsonUniqueProperties=[];const u=c.target.files;if(!u||u.length==0)return;a.isLoading=!0;const f=new FormData;f.append("file",u[0]);var h=await new Promise(function(p,g){Rm.post("/api/v1/cartogram/preprocess/"+n.mapDBKey,f).then(function(m){p(m)},function(m){g(m)})}).catch(function(p){console.log(p),a.error="Unable to processs your geospatial file(s)",a.isLoading=!1});if(!(!h||!h.geojson)){var d=JSON.parse(h.geojson);if(!d||!d.features){a.error="Invalid geospatial file",a.isLoading=!1;return}a.error="",s=d,a.geojsonUniqueProperties=h.unique,a.geojsonRegionCol="",a.handler="custom",a.isLoading=!1,r("changed",a.handler,{},"")}}return(c,u)=>(Be(),Ue("div",QHe,[eVe,n.geoUrl?(Be(),Ue("div",tVe,[Q("input",{type:"text",value:n.geoUrl,disabled:""},null,8,nVe)])):(Be(),Ue("div",rVe,[Q("div",iVe,[Si(" Select an appropriate map for your data. "),hi(Q("select",{class:"form-select","onUpdate:modelValue":u[0]||(u[0]=f=>a.handler=f),onChange:o},[sVe,(Be(!0),Ue(xt,null,Gr(n.maps,(f,h)=>(Be(),Ue("option",{value:h},lr(f.name),9,aVe))),256))],544),[[dh,a.handler]])]),Q("div",oVe,[Si(" OR upload your GeoJSONs or Shapefiles (.shp, .shx, and .dbf in zip). "),Q("input",{ref_key:"fileEl",ref:i,class:To(["form-control",{"is-invalid":a.error}]),type:"file",accept:".geojson,.json,.zip",onChange:l},null,34),Q("div",lVe,lr(a.error),1)]),a.isLoading?(Be(),Ue("div",cVe,fVe)):qi("",!0),a.geojsonUniqueProperties.length>0?(Be(),Ue("div",hVe,[Si(" Which property contain unique region names (e.g., country names)? "),hi(Q("select",{class:"form-select","onUpdate:modelValue":u[1]||(u[1]=f=>a.geojsonRegionCol=f),onChange:u[2]||(u[2]=f=>r("changed",a.handler,vn(s),a.geojsonRegionCol))},[(Be(!0),Ue(xt,null,Gr(a.geojsonUniqueProperties,(f,h)=>(Be(),Ue("option",null,lr(f),1))),256))],544),[[dh,a.geojsonRegionCol]])])):qi("",!0)]))]))}});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ys=1200,Vd,pVe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],WR={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},jR=function(e){pVe.indexOf(e)!=-1&&(WR[0]=e)};function gVe(){jR(1252)}var Pa=function(e){Ys=e,jR(e)};function Hee(){Pa(1200),gVe()}function M9(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function Vee(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function mVe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e[2*n]+(e[2*n+1]<<8));return t.join("")}function Wee(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var lm=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?Vee(e.slice(2)):t==254&&n==255?Wee(e.slice(2)):t==65279?e.slice(1):e},Cy=function(t){return String.fromCharCode(t)},L9=function(t){return String.fromCharCode(t)},xVe=null,Xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function P9(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),s=n>>2,r=e.charCodeAt(c++),a=(n&3)<<4|r>>4,i=e.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),t+=Xc.charAt(s)+Xc.charAt(a)+Xc.charAt(o)+Xc.charAt(l);return t}function $s(e){var t="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;if(e.slice(0,5)=="data:"){var c=e.slice(0,1024).indexOf(";base64,");c>-1&&(e=e.slice(c+8))}e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=Xc.indexOf(e.charAt(c++)),a=Xc.indexOf(e.charAt(c++)),n=s<<2|a>>4,t+=String.fromCharCode(n),o=Xc.indexOf(e.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),l=Xc.indexOf(e.charAt(c++)),i=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var vt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),nf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}(),B1=function(){if(typeof Buffer>"u")return!1;var e=nf([65,0]);if(!e)return!1;var t=e.toString("utf16le");return t.length==1}();function Du(e){return vt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function B9(e){return vt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ps=function(t){return vt?nf(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Zl(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function GR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return GR(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Lc=vt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:nf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)i=e[t].length,e[t]instanceof Uint8Array?r.set(e[t],n):typeof e[t]=="string"?r.set(new Uint8Array(ps(e[t])),n):r.set(new Uint8Array(e[t]),n);return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function vVe(e){for(var t=[],n=0,r=e.length+250,i=Du(e.length+255),s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=e.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(t.push(i.slice(0,n)),n=0,i=Du(65535),r=65530)}return t.push(i.slice(0,n)),Lc(t)}var Ki=/\u0000/g,cm=/[\u0001-\u0006]/g;function v0(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Ba(e,t){var n=""+e;return n.length>=t?n:St("0",t-n.length)+n}function qR(e,t){var n=""+e;return n.length>=t?n:St(" ",t-n.length)+n}function Db(e,t){var n=""+e;return n.length>=t?n:n+St(" ",t-n.length)}function yVe(e,t){var n=""+Math.round(e);return n.length>=t?n:St("0",t-n.length)+n}function _Ve(e,t){var n=""+e;return n.length>=t?n:St("0",t-n.length)+n}var U9=Math.pow(2,32);function Md(e,t){if(e>U9||e<-U9)return yVe(e,t);var n=Math.round(e);return _Ve(n,t)}function $b(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var z9=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],HT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bVe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var it={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},H9={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},EVe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Rb(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<t&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function wVe(e){var t=e.toPrecision(16);if(t.indexOf("e")>-1){var n=t.slice(0,t.indexOf("e"));return n=n.indexOf(".")>-1?n.slice(0,n.slice(0,2)=="0."?17:16):n.slice(0,15)+St("0",n.length-15),n+t.slice(t.indexOf("e"))}var r=t.indexOf(".")>-1?t.slice(0,t.slice(0,2)=="0."?17:16):t.slice(0,15)+St("0",t.length-15);return Number(r)}function vl(e,t,n){if(e>2958465||e<0)return null;e=wVe(e);var r=e|0,i=Math.floor(86400*(e-r)),s=0,a=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=kVe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}function XR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SVe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function AVe(e){var t=e<0?12:11,n=XR(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function TVe(e){var t=XR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function U1(e){if(!isFinite(e))return isNaN(e)?"#NUM!":"#DIV/0!";var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=AVe(e):t===10?n=e.toFixed(10).substr(0,12):n=TVe(e),XR(SVe(n.toUpperCase()))}function Uh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):U1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Rs(14,Qn(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function kVe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function CVe(e,t,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(e){case 98:o=n.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return HT[n.m-1][1];case 5:return HT[n.m-1][0];default:return HT[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return z9[n.q][0];default:return z9[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Ba(n.S,t.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),t==="s"?s===0?"0":""+s/a:(i=Ba(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+(r==0?Math.round(n.S+n.u):n.S);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Ba(l,c):"";return u}function Cl(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var jee=/%/g;function FVe(e,t,n){var r=t.replace(jee,""),i=t.length-r.length;return Wl(e,r,n*Math.pow(10,2*i))+St("%",i)}function OVe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Wl(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Gee(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Gee(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var qee=/# (\?+)( ?)\/( ?)(\d+)/;function NVe(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?St(" ",e[1].length+1+e[4].length):qR(a,e[1].length)+e[2]+"/"+e[3]+Ba(o,e[4].length))}function DVe(e,t,n){return n+(t===0?"":""+t)+St(" ",e[1].length+2+e[4].length)}var Xee=/^#*0*\.([0#]+)/,Yee=/\)[^)]*[0#]/,Kee=/\(###\) ###\\?-####/;function di(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function V9(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function W9(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function $Ve(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function RVe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ws(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Yee)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ws("n",r,n):"("+Ws("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return OVe(e,t,n);if(t.indexOf("%")!==-1)return FVe(e,t,n);if(t.indexOf("E")!==-1)return Gee(t,n);if(t.charCodeAt(0)===36)return"$"+Ws(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Md(l,t.length);if(t.match(/^[#?]+$/))return i=Md(n,0),i==="0"&&(i=""),i.length>t.length?i:di(t.substr(0,t.length-i.length))+i;if(s=t.match(qee))return NVe(s,l,c);if(t.match(/^#+0+$/))return c+Md(l,t.length-t.indexOf("0"));if(s=t.match(Xee))return i=V9(n,s[1].length).replace(/^([^\.]+)$/,"$1."+di(s[1])).replace(/\.$/,"."+di(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+St("0",di(s[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+V9(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Cl(Md(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ws(e,t,-n):Cl(""+(Math.floor(n)+$Ve(n,s[1].length)))+"."+Ba(W9(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ws(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=v0(Ws(e,t.replace(/[\\-]/g,""),n)),a=0,v0(v0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return a<i.length?i.charAt(a++):p==="0"?"0":""}));if(t.match(Kee))return i=Ws(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Rb(l,Math.pow(10,a)-1,!1),i=""+c,u=Wl("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Db(o[2],a),u.length<s[4].length&&(u=di(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Rb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?qR(o[1],a)+s[2]+"/"+s[3]+Db(o[2],a):St(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Md(n,0),t.length<=i.length?i:di(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=t.indexOf(".")-a,h=t.length-i.length-f;return di(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=W9(n,s[1].length),n<0?"-"+Ws(e,t,-n):Cl(RVe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ba(0,3-p.length):"")+p})+"."+Ba(a,s[1].length);switch(t){case"###,##0.00":return Ws(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var d=Cl(Md(l,0));return d!=="0"?c+d:"";case"###,###.00":return Ws(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ws(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function IVe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Wl(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function MVe(e,t,n){var r=t.replace(jee,""),i=t.length-r.length;return Wl(e,r,n*Math.pow(10,2*i))+St("%",i)}function Jee(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Jee(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function po(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Yee)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?po("n",r,n):"("+po("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return IVe(e,t,n);if(t.indexOf("%")!==-1)return MVe(e,t,n);if(t.indexOf("E")!==-1)return Jee(t,n);if(t.charCodeAt(0)===36)return"$"+po(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Ba(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:di(t.substr(0,t.length-i.length))+i;if(s=t.match(qee))return DVe(s,l,c);if(t.match(/^#+0+$/))return c+Ba(l,t.length-t.indexOf("0"));if(s=t.match(Xee))return i=(""+n).replace(/^([^\.]+)$/,"$1."+di(s[1])).replace(/\.$/,"."+di(s[1])),i=i.replace(/\.(\d*)$/,function(p,g){return"."+g+St("0",di(s[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Cl(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+po(e,t,-n):Cl(""+n)+"."+St("0",s[1].length);if(s=t.match(/^#,#*,#0/))return po(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=v0(po(e,t.replace(/[\\-]/g,""),n)),a=0,v0(v0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return a<i.length?i.charAt(a++):p==="0"?"0":""}));if(t.match(Kee))return i=po(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Rb(l,Math.pow(10,a)-1,!1),i=""+c,u=Wl("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Db(o[2],a),u.length<s[4].length&&(u=di(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Rb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?qR(o[1],a)+s[2]+"/"+s[3]+Db(o[2],a):St(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:di(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=t.indexOf(".")-a,h=t.length-i.length-f;return di(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+po(e,t,-n):Cl(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ba(0,3-p.length):"")+p})+"."+Ba(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Cl(""+l);return d!=="0"?c+d:"";default:if(t.match(/\.[0#?]*$/))return po(e,t.slice(0,t.lastIndexOf(".")),n)+di(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Wl(e,t,n){return(n|0)===n?po(e,t,n):Ws(e,t,n)}function LVe(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Zee=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ka(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":$b(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Zee))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function PVe(e,t,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<e.length;)switch(o=e.charAt(a)){case"G":if(!$b(e,a))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=e.charCodeAt(++a))!==34&&a<e.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var d=e.charAt(++a),p=d==="("||d===")"?d:"t";i[i.length]={t:p,v:d},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:t},++a;break;case"B":case"b":if(e.charAt(a+1)==="1"||e.charAt(a+1)==="2"){if(c==null&&(c=vl(t,n,e.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=vl(t,n),c==null))return"";for(s=o;++a<e.length&&e.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=vl(t,n)),e.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?e.charAt(a+2):o),g.t="T",h="h",a+=3):e.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):e.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;e.charAt(a++)!=="]"&&a<e.length;)s+=e.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Zee)){if(c==null&&(c=vl(t,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ka(e)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<e.length&&(o=e.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(e.charAt(a)==" "||e.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<e.length&&"0123456789".indexOf(e.charAt(++a))>-1;)s+=e.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++a;break}var m=0,x=0,y;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",m<1&&(m=1);break;case"s":(y=i[a].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1),m=4),m<3&&(m=3);case"d":case"y":case"e":l=i[a].t;break;case"M":l=i[a].t,m<2&&(m=2);break;case"m":l==="s"&&(i[a].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&i[a].v.match(/[Hh]/)&&(m=1),m<2&&i[a].v.match(/[Mm]/)&&(m=2),m<3&&i[a].v.match(/[Ss]/)&&(m=3)}var v;switch(m){case 0:break;case 1:case 2:case 3:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H),c.H>=24&&(c.H=0,++c.D,v=vl(c.D),v.u=c.u,v.S=c.S,v.M=c.M,v.H=c.H,c=v);break;case 4:switch(x){case 1:c.u=Math.round(c.u*10)/10;break;case 2:c.u=Math.round(c.u*100)/100;break;case 3:c.u=Math.round(c.u*1e3)/1e3;break}c.u>=1&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H),c.H>=24&&(c.H=0,++c.D,v=vl(c.D),v.u=c.u,v.S=c.S,v.M=c.M,v.H=c.H,c=v);break}var _="",b;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=CVe(i[a].t.charCodeAt(0),i[a].v,c,x),i[a].t="t";break;case"n":case"?":for(b=a+1;i[b]!=null&&((o=i[b].t)==="?"||o==="D"||(o===" "||o==="t")&&i[b+1]!=null&&(i[b+1].t==="?"||i[b+1].t==="t"&&i[b+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[b].v==="/"||i[b].v===" "&&i[b+1]!=null&&i[b+1].t=="?"));)i[a].v+=i[b].v,i[b]={v:"",t:";"},++b;_+=i[a].v,a=b-1;break;case"G":i[a].t="t",i[a].v=Uh(t,n);break}var w="",E,A;if(_.length>0){_.charCodeAt(0)==40?(E=t<0&&_.charCodeAt(0)===45?-t:t,A=Wl("n",_,E)):(E=t<0&&r>1?-t:t,A=Wl("n",_,E),E<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),b=A.length-1;var S=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){S=a;break}var T=i.length;if(S===i.length&&A.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(b>=i[a].v.length-1?(b-=i[a].v.length,i[a].v=A.substr(b+1,i[a].v.length)):b<0?i[a].v="":(i[a].v=A.substr(0,b+1),b=-1),i[a].t="t",T=a);b>=0&&T<i.length&&(i[T].v=A.substr(0,b+1)+i[T].v)}else if(S!==i.length&&A.indexOf("E")===-1){for(b=A.indexOf(".")-1,a=S;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===S?i[a].v.indexOf(".")-1:i[a].v.length-1,w=i[a].v.substr(u+1);u>=0;--u)b>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(w=A.charAt(b--)+w);i[a].v=w,i[a].t="t",T=a}for(b>=0&&T<i.length&&(i[T].v=A.substr(0,b+1)+i[T].v),b=A.indexOf(".")+1,a=S;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==S)){for(u=i[a].v.indexOf(".")>-1&&a===S?i[a].v.indexOf(".")+1:0,w=i[a].v.substr(0,u);u<i[a].v.length;++u)b<A.length&&(w+=A.charAt(b++));i[a].v=w,i[a].t="t",T=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(E=r>1&&t<0&&a>0&&i[a-1].v==="-"?-t:t,i[a].v=Wl(i[a].t,i[a].v,E),i[a].t="t");var C="";for(a=0;a!==i.length;++a)i[a]!=null&&(C+=i[a].v);return C}var j9=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function G9(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function BVe(e,t){var n=LVe(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(typeof t=="number"&&!isFinite(t)&&(t=0),n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(j9),o=n[1].match(j9);return G9(t,a)?[r,n[0]]:G9(t,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function Rs(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:it)[e],r==null&&(r=n.table&&n.table[H9[e]]||it[H9[e]]),r==null&&(r=EVe[e]||"General");break}if($b(r,0))return Uh(t,n);t instanceof Date&&(t=Qn(t,n.date1904));var i=BVe(r,t);if($b(i[1]))return Uh(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else{if(t===""||t==null)return"";if(isNaN(t)&&i[1].indexOf("0")>-1)return"#NUM!";if(!isFinite(t)&&i[1].indexOf("0")>-1)return"#DIV/0!"}return PVe(i[1],t,n,i[0])}function UVe(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(it[n]==null){t<0&&(t=n);continue}if(it[n]==e){t=n;break}}t<0&&(t=391)}return it[t]=e,t}function Qee(){it=bVe()}var zVe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ib=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function HVe(e){var t=typeof e=="number"?it[e]:e;return t=t.replace(Ib,"(\\d+)"),Ib.lastIndex=0,new RegExp("^"+t+"$")}function VVe(e,t,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(t.match(Ib)||[]).forEach(function(f,h){var d=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=d;break;case"d":s=d;break;case"h":a=d;break;case"s":l=d;break;case"m":a>=0?o=d:i=d;break}}),Ib.lastIndex=0,l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var WVe={"d.m":"d\\.m"};function sh(e,t){return UVe(WVe[e]||e,t)}var q9=function(){var e={};e.version="1.2.0";function t(){for(var E=0,A=new Array(256),S=0;S!=256;++S)E=S,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,A[S]=E;return typeof Int32Array<"u"?new Int32Array(A):A}var n=t();function r(E){var A=0,S=0,T=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)C[T]=E[T];for(T=0;T!=256;++T)for(S=E[T],A=256+T;A<4096;A+=256)S=C[A]=S>>>8^E[S&255];var O=[];for(T=1;T!=16;++T)O[T-1]=typeof Int32Array<"u"&&typeof C.subarray=="function"?C.subarray(T*256,T*256+256):C.slice(T*256,T*256+256);return O}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],d=i[8],p=i[9],g=i[10],m=i[11],x=i[12],y=i[13],v=i[14];function _(E,A){for(var S=A^-1,T=0,C=E.length;T<C;)S=S>>>8^n[(S^E.charCodeAt(T++))&255];return~S}function b(E,A){for(var S=A^-1,T=E.length-15,C=0;C<T;)S=v[E[C++]^S&255]^y[E[C++]^S>>8&255]^x[E[C++]^S>>16&255]^m[E[C++]^S>>>24]^g[E[C++]]^p[E[C++]]^d[E[C++]]^h[E[C++]]^f[E[C++]]^u[E[C++]]^c[E[C++]]^l[E[C++]]^o[E[C++]]^a[E[C++]]^s[E[C++]]^n[E[C++]];for(T+=15;C<T;)S=S>>>8^n[(S^E[C++])&255];return~S}function w(E,A){for(var S=A^-1,T=0,C=E.length,O=0,F=0;T<C;)O=E.charCodeAt(T++),O<128?S=S>>>8^n[(S^O)&255]:O<2048?(S=S>>>8^n[(S^(192|O>>6&31))&255],S=S>>>8^n[(S^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,F=E.charCodeAt(T++)&1023,S=S>>>8^n[(S^(240|O>>8&7))&255],S=S>>>8^n[(S^(128|O>>2&63))&255],S=S>>>8^n[(S^(128|F>>6&15|(O&3)<<4))&255],S=S>>>8^n[(S^(128|F&63))&255]):(S=S>>>8^n[(S^(224|O>>12&15))&255],S=S>>>8^n[(S^(128|O>>6&63))&255],S=S>>>8^n[(S^(128|O&63))&255]);return~S}return e.table=n,e.bstr=_,e.buf=b,e.str=w,e}(),At=function(){var t={};t.version="1.2.2";function n(R,W){for(var L=R.split("/"),B=W.split("/"),V=0,j=0,re=Math.min(L.length,B.length);V<re;++V){if(j=L[V].length-B[V].length)return j;if(L[V]!=B[V])return L[V]<B[V]?-1:1}return L.length-B.length}function r(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:r(R.slice(0,-1));var W=R.lastIndexOf("/");return W===-1?R:R.slice(0,W+1)}function i(R){if(R.charAt(R.length-1)=="/")return i(R.slice(0,-1));var W=R.lastIndexOf("/");return W===-1?R:R.slice(W+1)}function s(R,W){typeof W=="string"&&(W=new Date(W));var L=W.getHours();L=L<<6|W.getMinutes(),L=L<<5|W.getSeconds()>>>1,R.write_shift(2,L);var B=W.getFullYear()-1980;B=B<<4|W.getMonth()+1,B=B<<5|W.getDate(),R.write_shift(2,B)}function a(R){var W=R.read_shift(2)&65535,L=R.read_shift(2)&65535,B=new Date,V=L&31;L>>>=5;var j=L&15;L>>>=4,B.setMilliseconds(0),B.setFullYear(L+1980),B.setMonth(j-1),B.setDate(V);var re=W&31;W>>>=5;var ue=W&63;return W>>>=6,B.setHours(W),B.setMinutes(ue),B.setSeconds(re<<1),B}function o(R){Hn(R,0);for(var W={},L=0;R.l<=R.length-4;){var B=R.read_shift(2),V=R.read_shift(2),j=R.l+V,re={};switch(B){case 21589:L=R.read_shift(1),L&1&&(re.mtime=R.read_shift(4)),V>5&&(L&2&&(re.atime=R.read_shift(4)),L&4&&(re.ctime=R.read_shift(4))),re.mtime&&(re.mt=new Date(re.mtime*1e3));break;case 1:{var ue=R.read_shift(4),te=R.read_shift(4);re.usz=te*Math.pow(2,32)+ue,ue=R.read_shift(4),te=R.read_shift(4),re.csz=te*Math.pow(2,32)+ue}break}R.l=j,W[B]=re}return W}var l;function c(){return l||(l=jVe)}function u(R,W){if(R[0]==80&&R[1]==75)return pI(R,W);if((R[0]|32)==109&&(R[1]|32)==105)return One(R,W);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var L=3,B=512,V=0,j=0,re=0,ue=0,te=0,ie=[],se=R.slice(0,512);Hn(se,0);var Ae=f(se);switch(L=Ae[0],L){case 3:B=512;break;case 4:B=4096;break;case 0:if(Ae[1]==0)return pI(R,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+L)}B!==512&&(se=R.slice(0,B),Hn(se,28));var $e=R.slice(0,B);h(se,L);var He=se.read_shift(4,"i");if(L===3&&He!==0)throw new Error("# Directory Sectors: Expected 0 saw "+He);se.l+=4,re=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),ue=se.read_shift(4,"i"),V=se.read_shift(4,"i"),te=se.read_shift(4,"i"),j=se.read_shift(4,"i");for(var Te=-1,Ie=0;Ie<109&&(Te=se.read_shift(4,"i"),!(Te<0));++Ie)ie[Ie]=Te;var ot=d(R,B);m(te,j,ot,B,ie);var on=y(ot,re,ie,B);re<on.length&&(on[re].name="!Directory"),V>0&&ue!==F&&(on[ue].name="!MiniFAT"),on[ie[0]].name="!FAT",on.fat_addrs=ie,on.ssz=B;var gn={},Dr=[],tg=[],ng=[];v(re,on,ot,Dr,V,gn,tg,ue),p(tg,ng,Dr),Dr.shift();var rg={FileIndex:tg,FullPaths:ng};return W&&W.raw&&(rg.raw={header:$e,sectors:ot}),rg}function f(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk(I,"Header Signature: "),R.l+=16;var W=R.read_shift(2,"u");return[R.read_shift(2,"u"),W]}function h(R,W){var L=9;switch(R.l+=2,L=R.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+L);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+L);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+L)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function d(R,W){for(var L=Math.ceil(R.length/W)-1,B=[],V=1;V<L;++V)B[V-1]=R.slice(V*W,(V+1)*W);return B[L-1]=R.slice(L*W),B}function p(R,W,L){for(var B=0,V=0,j=0,re=0,ue=0,te=L.length,ie=[],se=[];B<te;++B)ie[B]=se[B]=B,W[B]=L[B];for(;ue<se.length;++ue)B=se[ue],V=R[B].L,j=R[B].R,re=R[B].C,ie[B]===B&&(V!==-1&&ie[V]!==V&&(ie[B]=ie[V]),j!==-1&&ie[j]!==j&&(ie[B]=ie[j])),re!==-1&&(ie[re]=B),V!==-1&&B!=ie[B]&&(ie[V]=ie[B],se.lastIndexOf(V)<ue&&se.push(V)),j!==-1&&B!=ie[B]&&(ie[j]=ie[B],se.lastIndexOf(j)<ue&&se.push(j));for(B=1;B<te;++B)ie[B]===B&&(j!==-1&&ie[j]!==j?ie[B]=ie[j]:V!==-1&&ie[V]!==V&&(ie[B]=ie[V]));for(B=1;B<te;++B)if(R[B].type!==0){if(ue=B,ue!=ie[ue])do ue=ie[ue],W[B]=W[ue]+"/"+W[B];while(ue!==0&&ie[ue]!==-1&&ue!=ie[ue]);ie[B]=-1}for(W[0]+="/",B=1;B<te;++B)R[B].type!==2&&(W[B]+="/")}function g(R,W,L){for(var B=R.start,V=R.size,j=[],re=B;L&&V>0&&re>=0;)j.push(W.slice(re*O,re*O+O)),V-=O,re=Df(L,re*4);return j.length===0?Pn(0):Lc(j).slice(0,R.size)}function m(R,W,L,B,V){var j=F;if(R===F){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var re=L[R],ue=(B>>>2)-1;if(!re)return;for(var te=0;te<ue&&(j=Df(re,te*4))!==F;++te)V.push(j);W>=1&&m(Df(re,B-4),W-1,L,B,V)}}function x(R,W,L,B,V){var j=[],re=[];V||(V=[]);var ue=B-1,te=0,ie=0;for(te=W;te>=0;){V[te]=!0,j[j.length]=te,re.push(R[te]);var se=L[Math.floor(te*4/B)];if(ie=te*4&ue,B<4+ie)throw new Error("FAT boundary crossed: "+te+" 4 "+B);if(!R[se])break;te=Df(R[se],ie)}return{nodes:j,data:t7([re])}}function y(R,W,L,B){var V=R.length,j=[],re=[],ue=[],te=[],ie=B-1,se=0,Ae=0,$e=0,He=0;for(se=0;se<V;++se)if(ue=[],$e=se+W,$e>=V&&($e-=V),!re[$e]){te=[];var Te=[];for(Ae=$e;Ae>=0;){Te[Ae]=!0,re[Ae]=!0,ue[ue.length]=Ae,te.push(R[Ae]);var Ie=L[Math.floor(Ae*4/B)];if(He=Ae*4&ie,B<4+He)throw new Error("FAT boundary crossed: "+Ae+" 4 "+B);if(!R[Ie]||(Ae=Df(R[Ie],He),Te[Ae]))break}j[$e]={nodes:ue,data:t7([te])}}return j}function v(R,W,L,B,V,j,re,ue){for(var te=0,ie=B.length?2:0,se=W[R].data,Ae=0,$e=0,He;Ae<se.length;Ae+=128){var Te=se.slice(Ae,Ae+128);Hn(Te,64),$e=Te.read_shift(2),He=QR(Te,0,$e-ie),B.push(He);var Ie={name:He,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},ot=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);ot!==0&&(Ie.ct=_(Te,Te.l-8));var on=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);on!==0&&(Ie.mt=_(Te,Te.l-8)),Ie.start=Te.read_shift(4,"i"),Ie.size=Te.read_shift(4,"i"),Ie.size<0&&Ie.start<0&&(Ie.size=Ie.type=0,Ie.start=F,Ie.name=""),Ie.type===5?(te=Ie.start,V>0&&te!==F&&(W[te].name="!StreamData")):Ie.size>=4096?(Ie.storage="fat",W[Ie.start]===void 0&&(W[Ie.start]=x(L,Ie.start,W.fat_addrs,W.ssz)),W[Ie.start].name=Ie.name,Ie.content=W[Ie.start].data.slice(0,Ie.size)):(Ie.storage="minifat",Ie.size<0?Ie.size=0:te!==F&&Ie.start!==F&&W[te]&&(Ie.content=g(Ie,W[te].data,(W[ue]||{}).data))),Ie.content&&Hn(Ie.content,0),j[He]=Ie,re.push(Ie)}}function _(R,W){return new Date((gs(R,W+4)/1e7*Math.pow(2,32)+gs(R,W)/1e7-11644473600)*1e3)}function b(R,W){return c(),u(l.readFileSync(R),W)}function w(R,W){var L=W&&W.type;switch(L||vt&&Buffer.isBuffer(R)&&(L="buffer"),L||"base64"){case"file":return b(R,W);case"base64":return u(ps($s(R)),W);case"binary":return u(ps(R),W)}return u(R,W)}function E(R,W){var L=W||{},B=L.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=B+"/",R.FileIndex[0]={name:B,type:5}),L.CLSID&&(R.FileIndex[0].clsid=L.CLSID),A(R)}function A(R){var W="Sh33tJ5";if(!At.find(R,"/"+W)){var L=Pn(4);L[0]=55,L[1]=L[3]=50,L[2]=54,R.FileIndex.push({name:W,type:2,content:L,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+W),S(R)}}function S(R,W){E(R);for(var L=!1,B=!1,V=R.FullPaths.length-1;V>=0;--V){var j=R.FileIndex[V];switch(j.type){case 0:B?L=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:B=!0,isNaN(j.R*j.L*j.C)&&(L=!0),j.R>-1&&j.L>-1&&j.R==j.L&&(L=!0);break;default:L=!0;break}}if(!(!L&&!W)){var re=new Date(1987,1,19),ue=0,te=Object.create?Object.create(null):{},ie=[];for(V=0;V<R.FullPaths.length;++V)te[R.FullPaths[V]]=!0,R.FileIndex[V].type!==0&&ie.push([R.FullPaths[V],R.FileIndex[V]]);for(V=0;V<ie.length;++V){var se=r(ie[V][0]);for(B=te[se];!B;){for(;r(se)&&!te[r(se)];)se=r(se);ie.push([se,{name:i(se).replace("/",""),type:1,clsid:N,ct:re,mt:re,content:null}]),te[se]=!0,se=r(ie[V][0]),B=te[se]}}for(ie.sort(function(He,Te){return n(He[0],Te[0])}),R.FullPaths=[],R.FileIndex=[],V=0;V<ie.length;++V)R.FullPaths[V]=ie[V][0],R.FileIndex[V]=ie[V][1];for(V=0;V<ie.length;++V){var Ae=R.FileIndex[V],$e=R.FullPaths[V];if(Ae.name=i($e).replace("/",""),Ae.L=Ae.R=Ae.C=-(Ae.color=1),Ae.size=Ae.content?Ae.content.length:0,Ae.start=0,Ae.clsid=Ae.clsid||N,V===0)Ae.C=ie.length>1?1:-1,Ae.size=0,Ae.type=5;else if($e.slice(-1)=="/"){for(ue=V+1;ue<ie.length&&r(R.FullPaths[ue])!=$e;++ue);for(Ae.C=ue>=ie.length?-1:ue,ue=V+1;ue<ie.length&&r(R.FullPaths[ue])!=r($e);++ue);Ae.R=ue>=ie.length?-1:ue,Ae.type=1}else r(R.FullPaths[V+1]||"")==r($e)&&(Ae.R=V+1),Ae.type=2}}}function T(R,W){var L=W||{};if(L.fileType=="mad")return Nne(R,L);switch(S(R),L.fileType){case"zip":return Sne(R,L)}var B=function(He){for(var Te=0,Ie=0,ot=0;ot<He.FileIndex.length;++ot){var on=He.FileIndex[ot];if(on.content){var gn=on.content.length;gn>0&&(gn<4096?Te+=gn+63>>6:Ie+=gn+511>>9)}}for(var Dr=He.FullPaths.length+3>>2,tg=Te+7>>3,ng=Te+127>>7,rg=tg+Ie+Dr+ng,sf=rg+127>>7,US=sf<=109?0:Math.ceil((sf-109)/127);rg+sf+US+127>>7>sf;)US=++sf<=109?0:Math.ceil((sf-109)/127);var sl=[1,US,sf,ng,Dr,Ie,Te,0];return He.FileIndex[0].size=Te<<6,sl[7]=(He.FileIndex[0].start=sl[0]+sl[1]+sl[2]+sl[3]+sl[4]+sl[5])+(sl[6]+7>>3),sl}(R),V=Pn(B[7]<<9),j=0,re=0;{for(j=0;j<8;++j)V.write_shift(1,D[j]);for(j=0;j<8;++j)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),j=0;j<3;++j)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,B[2]),V.write_shift(4,B[0]+B[1]+B[2]+B[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,B[3]?B[0]+B[1]+B[2]-1:F),V.write_shift(4,B[3]),V.write_shift(-4,B[1]?B[0]-1:F),V.write_shift(4,B[1]),j=0;j<109;++j)V.write_shift(-4,j<B[2]?B[1]+j:-1)}if(B[1])for(re=0;re<B[1];++re){for(;j<236+re*127;++j)V.write_shift(-4,j<B[2]?B[1]+j:-1);V.write_shift(-4,re===B[1]-1?F:re+1)}var ue=function(He){for(re+=He;j<re-1;++j)V.write_shift(-4,j+1);He&&(++j,V.write_shift(-4,F))};for(re=j=0,re+=B[1];j<re;++j)V.write_shift(-4,M.DIFSECT);for(re+=B[2];j<re;++j)V.write_shift(-4,M.FATSECT);ue(B[3]),ue(B[4]);for(var te=0,ie=0,se=R.FileIndex[0];te<R.FileIndex.length;++te)se=R.FileIndex[te],se.content&&(ie=se.content.length,!(ie<4096)&&(se.start=re,ue(ie+511>>9)));for(ue(B[6]+7>>3);V.l&511;)V.write_shift(-4,M.ENDOFCHAIN);for(re=j=0,te=0;te<R.FileIndex.length;++te)se=R.FileIndex[te],se.content&&(ie=se.content.length,!(!ie||ie>=4096)&&(se.start=re,ue(ie+63>>6)));for(;V.l&511;)V.write_shift(-4,M.ENDOFCHAIN);for(j=0;j<B[4]<<2;++j){var Ae=R.FullPaths[j];if(!Ae||Ae.length===0){for(te=0;te<17;++te)V.write_shift(4,0);for(te=0;te<3;++te)V.write_shift(4,-1);for(te=0;te<12;++te)V.write_shift(4,0);continue}se=R.FileIndex[j],j===0&&(se.start=se.size?se.start-1:F);var $e=j===0&&L.root||se.name;if($e.length>31&&(console.error("Name "+$e+" will be truncated to "+$e.slice(0,31)),$e=$e.slice(0,31)),ie=2*($e.length+1),V.write_shift(64,$e,"utf16le"),V.write_shift(2,ie),V.write_shift(1,se.type),V.write_shift(1,se.color),V.write_shift(-4,se.L),V.write_shift(-4,se.R),V.write_shift(-4,se.C),se.clsid)V.write_shift(16,se.clsid,"hex");else for(te=0;te<4;++te)V.write_shift(4,0);V.write_shift(4,se.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,se.start),V.write_shift(4,se.size),V.write_shift(4,0)}for(j=1;j<R.FileIndex.length;++j)if(se=R.FileIndex[j],se.size>=4096)if(V.l=se.start+1<<9,vt&&Buffer.isBuffer(se.content))se.content.copy(V,V.l,0,se.size),V.l+=se.size+511&-512;else{for(te=0;te<se.size;++te)V.write_shift(1,se.content[te]);for(;te&511;++te)V.write_shift(1,0)}for(j=1;j<R.FileIndex.length;++j)if(se=R.FileIndex[j],se.size>0&&se.size<4096)if(vt&&Buffer.isBuffer(se.content))se.content.copy(V,V.l,0,se.size),V.l+=se.size+63&-64;else{for(te=0;te<se.size;++te)V.write_shift(1,se.content[te]);for(;te&63;++te)V.write_shift(1,0)}if(vt)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function C(R,W){var L=R.FullPaths.map(function(te){return te.toUpperCase()}),B=L.map(function(te){var ie=te.split("/");return ie[ie.length-(te.slice(-1)=="/"?2:1)]}),V=!1;W.charCodeAt(0)===47?(V=!0,W=L[0].slice(0,-1)+W):V=W.indexOf("/")!==-1;var j=W.toUpperCase(),re=V===!0?L.indexOf(j):B.indexOf(j);if(re!==-1)return R.FileIndex[re];var ue=!j.match(cm);for(j=j.replace(Ki,""),ue&&(j=j.replace(cm,"!")),re=0;re<L.length;++re)if((ue?L[re].replace(cm,"!"):L[re]).replace(Ki,"")==j||(ue?B[re].replace(cm,"!"):B[re]).replace(Ki,"")==j)return R.FileIndex[re];return null}var O=64,F=-2,I="d0cf11e0a1b11ae1",D=[208,207,17,224,161,177,26,225],N="00000000000000000000000000000000",M={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:I,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:N,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function U(R,W,L){c();var B=T(R,L);l.writeFileSync(W,B)}function J(R){for(var W=new Array(R.length),L=0;L<R.length;++L)W[L]=String.fromCharCode(R[L]);return W.join("")}function X(R,W){var L=T(R,W);switch(W&&W.type||"buffer"){case"file":return c(),l.writeFileSync(W.filename,L),L;case"binary":return typeof L=="string"?L:J(L);case"base64":return P9(typeof L=="string"?L:J(L));case"buffer":if(vt)return Buffer.isBuffer(L)?L:nf(L);case"array":return typeof L=="string"?ps(L):L}return L}var ce;function ve(R){try{var W=R.InflateRaw,L=new W;if(L._processChunk(new Uint8Array([3,0]),L._finishFlushFlag),L.bytesRead)ce=R;else throw new Error("zlib does not expose bytesRead")}catch(B){console.error("cannot use native zlib: "+(B.message||B))}}function _e(R,W){if(!ce)return eg(R,W);var L=ce.InflateRaw,B=new L,V=B._processChunk(R.slice(R.l),B._finishFlushFlag);return R.l+=B.bytesRead,V}function de(R){return ce?ce.deflateRawSync(R):It(R)}var Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],je=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function z(R){var W=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(W>>16|W>>8|W)&255}for(var q=typeof Uint8Array<"u",G=q?new Uint8Array(256):[],H=0;H<256;++H)G[H]=z(H);function K(R,W){var L=G[R&255];return W<=8?L>>>8-W:(L=L<<8|G[R>>8&255],W<=16?L>>>16-W:(L=L<<8|G[R>>16&255],L>>>24-W))}function k(R,W){var L=W&7,B=W>>>3;return(R[B]|(L<=6?0:R[B+1]<<8))>>>L&3}function P(R,W){var L=W&7,B=W>>>3;return(R[B]|(L<=5?0:R[B+1]<<8))>>>L&7}function Y(R,W){var L=W&7,B=W>>>3;return(R[B]|(L<=4?0:R[B+1]<<8))>>>L&15}function Z(R,W){var L=W&7,B=W>>>3;return(R[B]|(L<=3?0:R[B+1]<<8))>>>L&31}function ee(R,W){var L=W&7,B=W>>>3;return(R[B]|(L<=1?0:R[B+1]<<8))>>>L&127}function ne(R,W,L){var B=W&7,V=W>>>3,j=(1<<L)-1,re=R[V]>>>B;return L<8-B||(re|=R[V+1]<<8-B,L<16-B)||(re|=R[V+2]<<16-B,L<24-B)||(re|=R[V+3]<<24-B),re&j}function pe(R,W,L){var B=W&7,V=W>>>3;return B<=5?R[V]|=(L&7)<<B:(R[V]|=L<<B&255,R[V+1]=(L&7)>>8-B),W+3}function xe(R,W,L){var B=W&7,V=W>>>3;return L=(L&1)<<B,R[V]|=L,W+1}function ye(R,W,L){var B=W&7,V=W>>>3;return L<<=B,R[V]|=L&255,L>>>=8,R[V+1]=L,W+8}function ge(R,W,L){var B=W&7,V=W>>>3;return L<<=B,R[V]|=L&255,L>>>=8,R[V+1]=L&255,R[V+2]=L>>>8,W+16}function le(R,W){var L=R.length,B=2*L>W?2*L:W+5,V=0;if(L>=W)return R;if(vt){var j=B9(B);if(R.copy)R.copy(j);else for(;V<R.length;++V)j[V]=R[V];return j}else if(q){var re=new Uint8Array(B);if(re.set)re.set(R);else for(;V<L;++V)re[V]=R[V];return re}return R.length=B,R}function Se(R){for(var W=new Array(R),L=0;L<R;++L)W[L]=0;return W}function ae(R,W,L){var B=1,V=0,j=0,re=0,ue=0,te=R.length,ie=q?new Uint16Array(32):Se(32);for(j=0;j<32;++j)ie[j]=0;for(j=te;j<L;++j)R[j]=0;te=R.length;var se=q?new Uint16Array(te):Se(te);for(j=0;j<te;++j)ie[V=R[j]]++,B<V&&(B=V),se[j]=0;for(ie[0]=0,j=1;j<=B;++j)ie[j+16]=ue=ue+ie[j-1]<<1;for(j=0;j<te;++j)ue=R[j],ue!=0&&(se[j]=ie[ue+16]++);var Ae=0;for(j=0;j<te;++j)if(Ae=R[j],Ae!=0)for(ue=K(se[j],B)>>B-Ae,re=(1<<B+4-Ae)-1;re>=0;--re)W[ue|re<<Ae]=Ae&15|j<<4;return B}var qe=q?new Uint16Array(512):Se(512),Xe=q?new Uint16Array(32):Se(32);if(!q){for(var et=0;et<512;++et)qe[et]=0;for(et=0;et<32;++et)Xe[et]=0}(function(){for(var R=[],W=0;W<32;W++)R.push(5);ae(R,Xe,32);var L=[];for(W=0;W<=143;W++)L.push(8);for(;W<=255;W++)L.push(9);for(;W<=279;W++)L.push(7);for(;W<=287;W++)L.push(8);ae(L,qe,288)})();var lt=function(){for(var W=q?new Uint8Array(32768):[],L=0,B=0;L<je.length-1;++L)for(;B<je[L+1];++B)W[B]=L;for(;B<32768;++B)W[B]=29;var V=q?new Uint8Array(259):[];for(L=0,B=0;L<Ne.length-1;++L)for(;B<Ne[L+1];++B)V[B]=L;function j(ue,te){for(var ie=0;ie<ue.length;){var se=Math.min(65535,ue.length-ie),Ae=ie+se==ue.length;for(te.write_shift(1,+Ae),te.write_shift(2,se),te.write_shift(2,~se&65535);se-- >0;)te[te.l++]=ue[ie++]}return te.l}function re(ue,te){for(var ie=0,se=0,Ae=q?new Uint16Array(32768):[];se<ue.length;){var $e=Math.min(65535,ue.length-se);if($e<10){for(ie=pe(te,ie,+(se+$e==ue.length)),ie&7&&(ie+=8-(ie&7)),te.l=ie/8|0,te.write_shift(2,$e),te.write_shift(2,~$e&65535);$e-- >0;)te[te.l++]=ue[se++];ie=te.l*8;continue}ie=pe(te,ie,+(se+$e==ue.length)+2);for(var He=0;$e-- >0;){var Te=ue[se];He=(He<<5^Te)&32767;var Ie=-1,ot=0;if((Ie=Ae[He])&&(Ie|=se&-32768,Ie>se&&(Ie-=32768),Ie<se))for(;ue[Ie+ot]==ue[se+ot]&&ot<250;)++ot;if(ot>2){Te=V[ot],Te<=22?ie=ye(te,ie,G[Te+1]>>1)-1:(ye(te,ie,3),ie+=5,ye(te,ie,G[Te-23]>>5),ie+=3);var on=Te<8?0:Te-4>>2;on>0&&(ge(te,ie,ot-Ne[Te]),ie+=on),Te=W[se-Ie],ie=ye(te,ie,G[Te]>>3),ie-=3;var gn=Te<4?0:Te-2>>1;gn>0&&(ge(te,ie,se-Ie-je[Te]),ie+=gn);for(var Dr=0;Dr<ot;++Dr)Ae[He]=se&32767,He=(He<<5^ue[se])&32767,++se;$e-=ot-1}else Te<=143?Te=Te+48:ie=xe(te,ie,1),ie=ye(te,ie,G[Te]),Ae[He]=se&32767,++se}ie=ye(te,ie,0)-1}return te.l=(ie+7)/8|0,te.l}return function(te,ie){return te.length<8?j(te,ie):re(te,ie)}}();function It(R){var W=Pn(50+Math.floor(R.length*1.1)),L=lt(R,W);return W.slice(0,L)}var De=q?new Uint16Array(32768):Se(32768),pt=q?new Uint16Array(32768):Se(32768),pn=q?new Uint16Array(128):Se(128),nn=1,Ps=1;function Tn(R,W){var L=Z(R,W)+257;W+=5;var B=Z(R,W)+1;W+=5;var V=Y(R,W)+4;W+=4;for(var j=0,re=q?new Uint8Array(19):Se(19),ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,ie=q?new Uint8Array(8):Se(8),se=q?new Uint8Array(8):Se(8),Ae=re.length,$e=0;$e<V;++$e)re[Fe[$e]]=j=P(R,W),te<j&&(te=j),ie[j]++,W+=3;var He=0;for(ie[0]=0,$e=1;$e<=te;++$e)se[$e]=He=He+ie[$e-1]<<1;for($e=0;$e<Ae;++$e)(He=re[$e])!=0&&(ue[$e]=se[He]++);var Te=0;for($e=0;$e<Ae;++$e)if(Te=re[$e],Te!=0){He=G[ue[$e]]>>8-Te;for(var Ie=(1<<7-Te)-1;Ie>=0;--Ie)pn[He|Ie<<Te]=Te&7|$e<<3}var ot=[];for(te=1;ot.length<L+B;)switch(He=pn[ee(R,W)],W+=He&7,He>>>=3){case 16:for(j=3+k(R,W),W+=2,He=ot[ot.length-1];j-- >0;)ot.push(He);break;case 17:for(j=3+P(R,W),W+=3;j-- >0;)ot.push(0);break;case 18:for(j=11+ee(R,W),W+=7;j-- >0;)ot.push(0);break;default:ot.push(He),te<He&&(te=He);break}var on=ot.slice(0,L),gn=ot.slice(L);for($e=L;$e<286;++$e)on[$e]=0;for($e=B;$e<30;++$e)gn[$e]=0;return nn=ae(on,De,286),Ps=ae(gn,pt,30),W}function oi(R,W){if(R[0]==3&&!(R[1]&3))return[Du(W),2];for(var L=0,B=0,V=B9(W||1<<18),j=0,re=V.length>>>0,ue=0,te=0;!(B&1);){if(B=P(R,L),L+=3,B>>>1)B>>1==1?(ue=9,te=5):(L=Tn(R,L),ue=nn,te=Ps);else{L&7&&(L+=8-(L&7));var ie=R[L>>>3]|R[(L>>>3)+1]<<8;if(L+=32,ie>0)for(!W&&re<j+ie&&(V=le(V,j+ie),re=V.length);ie-- >0;)V[j++]=R[L>>>3],L+=8;continue}for(;;){!W&&re<j+32767&&(V=le(V,j+32767),re=V.length);var se=ne(R,L,ue),Ae=B>>>1==1?qe[se]:De[se];if(L+=Ae&15,Ae>>>=4,!(Ae>>>8&255))V[j++]=Ae;else{if(Ae==256)break;Ae-=257;var $e=Ae<8?0:Ae-4>>2;$e>5&&($e=0);var He=j+Ne[Ae];$e>0&&(He+=ne(R,L,$e),L+=$e),se=ne(R,L,te),Ae=B>>>1==1?Xe[se]:pt[se],L+=Ae&15,Ae>>>=4;var Te=Ae<4?0:Ae-2>>1,Ie=je[Ae];for(Te>0&&(Ie+=ne(R,L,Te),L+=Te),!W&&re<He&&(V=le(V,He+100),re=V.length);j<He;)V[j]=V[j-Ie],++j}}}return W?[V,L+7>>>3]:[V.slice(0,j),L+7>>>3]}function eg(R,W){var L=R.slice(R.l||0),B=oi(L,W);return R.l+=B[1],B[0]}function dI(R,W){if(R)typeof console<"u"&&console.error(W);else throw new Error(W)}function pI(R,W){var L=R;Hn(L,0);var B=[],V=[],j={FileIndex:B,FullPaths:V};E(j,{root:W.root});for(var re=L.length-4;(L[re]!=80||L[re+1]!=75||L[re+2]!=5||L[re+3]!=6)&&re>=0;)--re;L.l=re+4,L.l+=4;var ue=L.read_shift(2);L.l+=6;var te=L.read_shift(4);for(L.l=te,re=0;re<ue;++re){L.l+=20;var ie=L.read_shift(4),se=L.read_shift(4),Ae=L.read_shift(2),$e=L.read_shift(2),He=L.read_shift(2);L.l+=8;var Te=L.read_shift(4),Ie=o(L.slice(L.l+Ae,L.l+Ae+$e));L.l+=Ae+$e+He;var ot=L.l;L.l=Te+4,Ie&&Ie[1]&&((Ie[1]||{}).usz&&(se=Ie[1].usz),(Ie[1]||{}).csz&&(ie=Ie[1].csz)),wne(L,ie,se,j,Ie),L.l=ot}return j}function wne(R,W,L,B,V){R.l+=2;var j=R.read_shift(2),re=R.read_shift(2),ue=a(R);if(j&8257)throw new Error("Unsupported ZIP encryption");for(var te=R.read_shift(4),ie=R.read_shift(4),se=R.read_shift(4),Ae=R.read_shift(2),$e=R.read_shift(2),He="",Te=0;Te<Ae;++Te)He+=String.fromCharCode(R[R.l++]);if($e){var Ie=o(R.slice(R.l,R.l+$e));(Ie[21589]||{}).mt&&(ue=Ie[21589].mt),(Ie[1]||{}).usz&&(se=Ie[1].usz),(Ie[1]||{}).csz&&(ie=Ie[1].csz),V&&((V[21589]||{}).mt&&(ue=V[21589].mt),(V[1]||{}).usz&&(se=V[1].usz),(V[1]||{}).csz&&(ie=V[1].csz))}R.l+=$e;var ot=R.slice(R.l,R.l+ie);switch(re){case 8:ot=_e(R,se);break;case 0:R.l+=ie;break;default:throw new Error("Unsupported ZIP Compression method "+re)}var on=!1;j&8&&(te=R.read_shift(4),te==134695760&&(te=R.read_shift(4),on=!0),ie=R.read_shift(4),se=R.read_shift(4)),ie!=W&&dI(on,"Bad compressed size: "+W+" != "+ie),se!=L&&dI(on,"Bad uncompressed size: "+L+" != "+se),BS(B,He,ot,{unsafe:!0,mt:ue})}function Sne(R,W){var L=W||{},B=[],V=[],j=Pn(1),re=L.compression?8:0,ue=0,te=0,ie=0,se=0,Ae=0,$e=R.FullPaths[0],He=$e,Te=R.FileIndex[0],Ie=[],ot=0;for(te=1;te<R.FullPaths.length;++te)if(He=R.FullPaths[te].slice($e.length),Te=R.FileIndex[te],!(!Te.size||!Te.content||Array.isArray(Te.content)&&Te.content.length==0||He=="Sh33tJ5")){var on=se,gn=Pn(He.length);for(ie=0;ie<He.length;++ie)gn.write_shift(1,He.charCodeAt(ie)&127);gn=gn.slice(0,gn.l),Ie[Ae]=typeof Te.content=="string"?q9.bstr(Te.content,0):q9.buf(Te.content,0);var Dr=typeof Te.content=="string"?ps(Te.content):Te.content;re==8&&(Dr=de(Dr)),j=Pn(30),j.write_shift(4,67324752),j.write_shift(2,20),j.write_shift(2,ue),j.write_shift(2,re),Te.mt?s(j,Te.mt):j.write_shift(4,0),j.write_shift(-4,Ie[Ae]),j.write_shift(4,Dr.length),j.write_shift(4,Te.content.length),j.write_shift(2,gn.length),j.write_shift(2,0),se+=j.length,B.push(j),se+=gn.length,B.push(gn),se+=Dr.length,B.push(Dr),j=Pn(46),j.write_shift(4,33639248),j.write_shift(2,0),j.write_shift(2,20),j.write_shift(2,ue),j.write_shift(2,re),j.write_shift(4,0),j.write_shift(-4,Ie[Ae]),j.write_shift(4,Dr.length),j.write_shift(4,Te.content.length),j.write_shift(2,gn.length),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(4,0),j.write_shift(4,on),ot+=j.l,V.push(j),ot+=gn.length,V.push(gn),++Ae}return j=Pn(22),j.write_shift(4,101010256),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,Ae),j.write_shift(2,Ae),j.write_shift(4,ot),j.write_shift(4,se),j.write_shift(2,0),Lc([Lc(B),Lc(V),j])}var hv={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ane(R,W){if(R.ctype)return R.ctype;var L=R.name||"",B=L.match(/\.([^\.]+)$/);return B&&hv[B[1]]||W&&(B=(L=W).match(/[\.\\]([^\.\\])+$/),B&&hv[B[1]])?hv[B[1]]:"application/octet-stream"}function Tne(R){for(var W=P9(R),L=[],B=0;B<W.length;B+=76)L.push(W.slice(B,B+76));return L.join(`\r
`)+`\r
`}function kne(R){var W=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ie){var se=ie.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var L=[],B=W.split(`\r
`),V=0;V<B.length;++V){var j=B[V];if(j.length==0){L.push("");continue}for(var re=0;re<j.length;){var ue=76,te=j.slice(re,re+ue);te.charAt(ue-1)=="="?ue--:te.charAt(ue-2)=="="?ue-=2:te.charAt(ue-3)=="="&&(ue-=3),te=j.slice(re,re+ue),re+=ue,re<j.length&&(te+="="),L.push(te)}}return L.join(`\r
`)}function Cne(R){for(var W=[],L=0;L<R.length;++L){for(var B=R[L];L<=R.length&&B.charAt(B.length-1)=="=";)B=B.slice(0,B.length-1)+R[++L];W.push(B)}for(var V=0;V<W.length;++V)W[V]=W[V].replace(/[=][0-9A-Fa-f]{2}/g,function(j){return String.fromCharCode(parseInt(j.slice(1),16))});return ps(W.join(`\r
`))}function Fne(R,W,L){for(var B="",V="",j="",re,ue=0;ue<10;++ue){var te=W[ue];if(!te||te.match(/^\s*$/))break;var ie=te.match(/^([^:]*?):\s*([^\s].*)$/);if(ie)switch(ie[1].toLowerCase()){case"content-location":B=ie[2].trim();break;case"content-type":j=ie[2].trim();break;case"content-transfer-encoding":V=ie[2].trim();break}}switch(++ue,V.toLowerCase()){case"base64":re=ps($s(W.slice(ue).join("")));break;case"quoted-printable":re=Cne(W.slice(ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var se=BS(R,B.slice(L.length),re,{unsafe:!0});j&&(se.ctype=j)}function One(R,W){if(J(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var L=W&&W.root||"",B=(vt&&Buffer.isBuffer(R)?R.toString("binary"):J(R)).split(`\r
`),V=0,j="";for(V=0;V<B.length;++V)if(j=B[V],!!/^Content-Location:/i.test(j)&&(j=j.slice(j.indexOf("file")),L||(L=j.slice(0,j.lastIndexOf("/")+1)),j.slice(0,L.length)!=L))for(;L.length>0&&(L=L.slice(0,L.length-1),L=L.slice(0,L.lastIndexOf("/")+1),j.slice(0,L.length)!=L););var re=(B[1]||"").match(/boundary="(.*?)"/);if(!re)throw new Error("MAD cannot find boundary");var ue="--"+(re[1]||""),te=[],ie=[],se={FileIndex:te,FullPaths:ie};E(se);var Ae,$e=0;for(V=0;V<B.length;++V){var He=B[V];He!==ue&&He!==ue+"--"||($e++&&Fne(se,B.slice(Ae,V),L),Ae=V)}return se}function Nne(R,W){var L=W||{},B=L.boundary||"SheetJS";B="------="+B;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+B.slice(2)+'"',"","",""],j=R.FullPaths[0],re=j,ue=R.FileIndex[0],te=1;te<R.FullPaths.length;++te)if(re=R.FullPaths[te].slice(j.length),ue=R.FileIndex[te],!(!ue.size||!ue.content||re=="Sh33tJ5")){re=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var ie=ue.content,se=vt&&Buffer.isBuffer(ie)?ie.toString("binary"):J(ie),Ae=0,$e=Math.min(1024,se.length),He=0,Te=0;Te<=$e;++Te)(He=se.charCodeAt(Te))>=32&&He<128&&++Ae;var Ie=Ae>=$e*4/5;V.push(B),V.push("Content-Location: "+(L.root||"file:///C:/SheetJS/")+re),V.push("Content-Transfer-Encoding: "+(Ie?"quoted-printable":"base64")),V.push("Content-Type: "+Ane(ue,re)),V.push(""),V.push(Ie?kne(se):Tne(se))}return V.push(B+`--\r
`),V.join(`\r
`)}function Dne(R){var W={};return E(W,R),W}function BS(R,W,L,B){var V=B&&B.unsafe;V||E(R);var j=!V&&At.find(R,W);if(!j){var re=R.FullPaths[0];W.slice(0,re.length)==re?re=W:(re.slice(-1)!="/"&&(re+="/"),re=(re+W).replace("//","/")),j={name:i(W),type:2},R.FileIndex.push(j),R.FullPaths.push(re),V||At.utils.cfb_gc(R)}return j.content=L,j.size=L?L.length:0,B&&(B.CLSID&&(j.clsid=B.CLSID),B.mt&&(j.mt=B.mt),B.ct&&(j.ct=B.ct)),j}function $ne(R,W){E(R);var L=At.find(R,W);if(L){for(var B=0;B<R.FileIndex.length;++B)if(R.FileIndex[B]==L)return R.FileIndex.splice(B,1),R.FullPaths.splice(B,1),!0}return!1}function Rne(R,W,L){E(R);var B=At.find(R,W);if(B){for(var V=0;V<R.FileIndex.length;++V)if(R.FileIndex[V]==B)return R.FileIndex[V].name=i(L),R.FullPaths[V]=L,!0}return!1}function Ine(R){S(R,!0)}return t.find=C,t.read=w,t.parse=u,t.write=X,t.writeFile=U,t.utils={cfb_new:Dne,cfb_add:BS,cfb_del:$ne,cfb_mov:Rne,cfb_gc:Ine,ReadShift:Mm,CheckField:wte,prep_blob:Hn,bconcat:Lc,use_zlib:ve,_deflateRaw:It,_inflateRaw:eg,consts:M},t}(),jVe;function GVe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||r.message.indexOf("onstruct")==-1)throw r}throw new Error("Cannot access file "+e)}function na(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function YR(e){for(var t=[],n=na(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var ete=Date.UTC(1899,11,30,0,0,0),qVe=Date.UTC(1899,11,31,0,0,0),XVe=Date.UTC(1904,0,1,0,0,0);function Qn(e,t){var n=e.getTime(),r=(n-ete)/(24*60*60*1e3);return t?(r-=1462,r<-1402?r-1:r):r<60?r-1:r}function au(e){if(e>=60&&e<61)return e;var t=new Date;return t.setTime((e>60?e:e+1)*24*60*60*1e3+ete),t}function YVe(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var KVe=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,JVe=/^(\d+)-(\d+)-(\d+)$/,tte=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function Cr(e,t){if(e instanceof Date)return e;var n=e.match(KVe);if(n)return new Date((t?XVe:qVe)+((parseInt(n[1],10)*60+parseInt(n[2],10))*60+(n[3]?parseInt(n[3].slice(1),10):0))*1e3+(n[4]?parseInt((n[4]+"000").slice(1,4),10):0));if(n=e.match(JVe),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],0,0,0,0));if(n=e.match(tte),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var r=new Date(e);return r}function zh(e,t){if(vt&&Buffer.isBuffer(e)){if(t&&B1){if(e[0]==255&&e[1]==254)return um(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return um(Wee(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return um(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return um(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}var r=[],i=0;try{for(i=0;i<e.length-65536;i+=65536)r.push(String.fromCharCode.apply(0,e.slice(i,i+65536)));r.push(String.fromCharCode.apply(0,e.slice(i)))}catch{try{for(;i<e.length-16384;i+=16384)r.push(String.fromCharCode.apply(0,e.slice(i,i+16384)));r.push(String.fromCharCode.apply(0,e.slice(i)))}catch{for(;i!=e.length;++i)r.push(String.fromCharCode(e[i]))}}return r.join("")}function Bn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Bn(e[n]));return t}function St(e,t){for(var n="";n.length<t;)n+=e;return n}function Ss(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(]([^()]*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var ZVe=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,QVe=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,eWe=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,tWe=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function nWe(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,e[7]=="p"?12:0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),0,0,0))}function rWe(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}var iWe=["january","february","march","april","may","june","july","august","september","october","november","december"];function z1(e){if(eWe.test(e))return e.indexOf("Z")==-1?NS(new Date(e)):new Date(e);var t=e.toLowerCase(),n=t.replace(/\s+/g," ").trim(),r=n.match(ZVe);if(r)return nWe(r);if(r=n.match(QVe),r)return rWe(r);if(r=n.match(tte),r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],r[6]&&parseInt(r[6].slice(1),10)||0,r[7]&&parseInt((r[7]+"0000").slice(1,4),10)||0));var i=new Date(tWe&&e.indexOf("UTC")==-1?e+" UTC":e),s=new Date(NaN),a=i.getYear();i.getMonth();var o=i.getDate();if(isNaN(o))return s;if(t.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(t=t.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),t.length>3&&iWe.indexOf(t)==-1)return s}else if(t.replace(/[ap]m?/,"").match(/[a-z]/))return s;return a<0||a>8099||e.match(/[^-0-9:,\/\\\ ]/)?s:i}var sWe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function Hh(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function NS(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function KR(e){var t=e.slice(0,1024),n=t.indexOf("<!DOCTYPE");if(n==-1)return e;var r=e.match(/<[\w]/);return r?e.slice(0,n)+e.slice(r.index):e}function JR(e,t,n){for(var r=[],i=e.indexOf(t);i>-1;){var s=e.indexOf(n,i+t.length);if(s==-1)break;r.push(e.slice(i,s+n.length)),i=e.indexOf(t,s+n.length)}return r.length>0?r:null}function sv(e,t,n){var r=[],i=0,s=e.indexOf(t);if(s==-1)return e;for(;s>-1;){r.push(e.slice(i,s));var a=e.indexOf(n,s+t.length);if(a==-1)break;(s=e.indexOf(t,i=a+n.length))==-1&&r.push(e.slice(i))}return r.join("")}var aWe={" ":1,"	":1,"\r":1,"\n":1,">":1};function ah(e,t){for(var n=e.indexOf("<"+t),r=t.length+1,i=e.length;n>=0&&n<=i-r&&!aWe[e.charAt(n+r)];)n=e.indexOf("<"+t,n+1);if(n===-1)return null;var s=e.indexOf(">",n+t.length);if(s===-1)return null;var a="</"+t+">",o=e.indexOf(a,s);return o==-1?null:[e.slice(n,o+a.length),e.slice(s+1,o)]}var or=function(){var e={};return function(n,r){var i=e[r];i||(e[r]=i=[new RegExp("<(?:\\w+:)?"+r+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+r+">","g")]),i[0].lastIndex=i[1].lastIndex=0;var s=i[0].exec(n);if(!s)return null;var a=s.index,o=i[0].lastIndex;if(i[1].lastIndex=i[0].lastIndex,s=i[1].exec(n),!s)return null;var l=s.index,c=i[1].lastIndex;return[n.slice(a,c),n.slice(o,l)]}}(),nte=function(){var e={};return function(n,r){var i=[],s=e[r];s||(e[r]=s=[new RegExp("<(?:\\w+:)?"+r+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+r+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var a;a=s[0].exec(n);){var o=a.index;if(s[1].lastIndex=s[0].lastIndex,a=s[1].exec(n),!a)return null;var l=s[1].lastIndex;i.push(n.slice(o,l)),s[0].lastIndex=s[1].lastIndex}return i.length==0?null:i}}(),oWe=function(){var e={};return function(n,r){var i=[],s=e[r];s||(e[r]=s=[new RegExp("<(?:\\w+:)?"+r+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+r+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var a,o=0,l=0;a=s[0].exec(n);){if(o=a.index,i.push(n.slice(l,o)),l=o,s[1].lastIndex=s[0].lastIndex,a=s[1].exec(n),!a)return null;l=s[1].lastIndex,s[0].lastIndex=s[1].lastIndex}return i.push(n.slice(l)),i.length==0?"":i.join("")}}(),lWe=function(){var e={};return function(n,r){var i=[],s=e[r];s||(e[r]=s=[new RegExp("<"+r+"\\b[^<>]*>","ig"),new RegExp("</"+r+">","ig")]),s[0].lastIndex=s[1].lastIndex=0;for(var a;a=s[0].exec(n);){var o=a.index;if(s[1].lastIndex=s[0].lastIndex,a=s[1].exec(n),!a)return null;var l=s[1].lastIndex;i.push(n.slice(o,l)),s[0].lastIndex=s[1].lastIndex}return i.length==0?null:i}}();function rte(e){return e?e.content&&e.type?zh(e.content,!0):e.data?lm(e.data):e.asNodeBuffer&&vt?lm(e.asNodeBuffer().toString("binary")):e.asBinary?lm(e.asBinary()):e._data&&e._data.getContent?lm(zh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function ite(e){if(!e)return null;if(e.data)return M9(e.data);if(e.asNodeBuffer&&vt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?M9(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function cWe(e){return e&&e.name.slice(-4)===".bin"?ite(e):rte(e)}function js(e,t){for(var n=e.FullPaths||na(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function ZR(e,t){var n=js(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Mn(e,t,n){if(!n)return cWe(ZR(e,t));if(!t)return null;try{return Mn(e,t)}catch{return null}}function bi(e,t,n){if(!n)return rte(ZR(e,t));if(!t)return null;try{return bi(e,t)}catch{return null}}function uWe(e,t,n){return ite(ZR(e,t))}function X9(e){for(var t=e.FullPaths||na(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function fWe(e,t,n){if(e.FullPaths){if(Array.isArray(n)&&typeof n[0]=="string"&&(n=n.join("")),typeof n=="string"){var r;return vt?r=nf(n):r=vVe(n),At.utils.cfb_add(e,t,r)}At.utils.cfb_add(e,t,n)}else e.file(t,n)}function ste(e,t){switch(t.type){case"base64":return At.read(e,{type:"base64"});case"binary":return At.read(e,{type:"binary"});case"buffer":case"array":return At.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Qd(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var ate=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ote=/\s([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Y9=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?<>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'"<>\s=]+))*\s*[\/\?]?>/mg,hWe=/<[^<>]*>/g,Nr=ate.match(Y9)?Y9:hWe,dWe=/<\w*:/,pWe=/<(\/?)\w+:/;function Ve(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var a=e.match(ote),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c].slice(1),s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[d]&&u.slice(o-3,o)=="ext")continue;r[d]=l,r[d.toLowerCase()]=l}}return r}function gWe(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(i===e.length)return r;var a=e.match(ote),o="",l=0,c="",u="",f=1;if(a)for(l=0;l!=a.length;++l){for(u=a[l].slice(1),s=0;s!=u.length&&u.charCodeAt(s)!==61;++s);for(c=u.slice(0,s).trim();u.charCodeAt(s+1)==32;)++s;f=(i=u.charCodeAt(s+1))==34||i==39?1:0,o=u.slice(s+1+f,u.length-f),c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=o,r[c.toLowerCase()]=o}return r}function _a(e){return e.replace(pWe,"<$1")}var lte={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},mWe=YR(lte),_t=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(o,l){return lte[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}return function(i,s){var a=n(i);return s?a.replace(/\r\n/g,`
`):a}}(),xWe=/[&<>'"]/g,vWe=/[\u0000-\u001f]/g;function Im(e){var t=e+"";return t.replace(xWe,function(n){return mWe[n]}).replace(/\n/g,"<br/>").replace(vWe,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var K9=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function jt(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function VT(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=e.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function J9(e){var t=Du(2*e.length),n,r,i=1,s=0,a=0,o;for(r=0;r<e.length;r+=i)i=1,(o=e.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(e.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(t[s++]=a&255,t[s++]=a>>>8,a=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function Z9(e){return nf(e,"binary").toString("utf8")}var Fy="foo bar baz",Jt=vt&&(Z9(Fy)==VT(Fy)&&Z9||J9(Fy)==VT(Fy)&&J9)||VT,um=vt?function(e){return nf(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},cte=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),yWe=/<\/?(?:vt:)?variant>/g,_We=/<(?:vt:)([^<"'>]*)>([\s\S]*)</;function Q9(e,t){var n=Ve(e),r=nte(e,n.baseType)||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(yWe,"").match(_We);a&&i.push({v:Jt(a[2]),t:a[1]})}),i}var bWe=/(^\s|\s$|\n)/;function EWe(e){return na(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function wWe(e,t,n){return"<"+e+(n!=null?EWe(n):"")+(t!=null?(t.match(bWe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function DS(e){if(vt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Jt(Zl(GR(e)));throw new Error("Bad input format: expected Buffer or string")}var Ln=/<([\/]?)([^\s?><!\/:"]*:|)([^\s?<>:\/"]+)(?:\s+[^<>=?"'\s]+="[^"]*?")*\s*[\/]?>/mg,SWe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},AWe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function TWe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function kWe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,a=r?-t:t;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[n+o]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var e7=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},t7=vt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:nf(t)})):e7(e)}:e7,n7=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Fl(e,i)));return r.join("").replace(Ki,"")},QR=vt?function(e,t,n){return!Buffer.isBuffer(e)||!B1?n7(e,t,n):e.toString("utf16le",t,n).replace(Ki,"")}:n7,r7=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},ute=vt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):r7(e,t,n)}:r7,i7=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Wd(e,i)));return r.join("")},av=vt?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):i7(t,n,r)}:i7,fte=function(e,t){var n=gs(e,t);return n>0?av(e,t+4,t+4+n-1):""},hte=fte,dte=function(e,t){var n=gs(e,t);return n>0?av(e,t+4,t+4+n-1):""},pte=dte,gte=function(e,t){var n=2*gs(e,t);return n>0?av(e,t+4,t+4+n-1):""},mte=gte,xte=function(t,n){var r=gs(t,n);return r>0?QR(t,n+4,n+4+r):""},vte=xte,yte=function(e,t){var n=gs(e,t);return n>0?av(e,t+4,t+4+n):""},_te=yte,bte=function(e,t){return TWe(e,t)},Mb=bte,Ete=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};vt&&(hte=function(t,n){if(!Buffer.isBuffer(t))return fte(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},pte=function(t,n){if(!Buffer.isBuffer(t))return dte(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},mte=function(t,n){if(!Buffer.isBuffer(t)||!B1)return gte(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},vte=function(t,n){if(!Buffer.isBuffer(t)||!B1)return xte(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},_te=function(t,n){if(!Buffer.isBuffer(t))return yte(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},Mb=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):bte(t,n)},Ete=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Wd=function(e,t){return e[t]},Fl=function(e,t){return e[t+1]*256+e[t]},CWe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},gs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Df=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},FWe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Mm(e,t){var n="",r,i,s=[],a,o,l,c;switch(t){case"dbcs":if(c=this.l,vt&&Buffer.isBuffer(this)&&B1)n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Fl(this,c)),c+=2;e*=2;break;case"utf8":n=av(this,this.l,this.l+e);break;case"utf16le":e*=2,n=QR(this,this.l,this.l+e);break;case"wstr":return Mm.call(this,e,"dbcs");case"lpstr-ansi":n=hte(this,this.l),e=4+gs(this,this.l);break;case"lpstr-cp":n=pte(this,this.l),e=4+gs(this,this.l);break;case"lpwstr":n=mte(this,this.l),e=4+2*gs(this,this.l);break;case"lpp4":e=4+gs(this,this.l),n=vte(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+gs(this,this.l),n=_te(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(a=Wd(this,this.l+e++))!==0;)s.push(Cy(a));n=s.join("");break;case"_wstr":for(e=0,n="";(a=Fl(this,this.l+e))!==0;)s.push(Cy(a)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Wd(this,c),this.l=c+1,o=Mm.call(this,e-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Cy(Fl(this,c))),c+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Wd(this,c),this.l=c+1,o=Mm.call(this,e-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Cy(Wd(this,c))),c+=1}n=s.join("");break;default:switch(e){case 1:return r=Wd(this,this.l),this.l++,r;case 2:return r=(t==="i"?CWe:Fl)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?Df:FWe)(this,this.l),this.l+=4,r):(i=gs(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Mb(this,this.l):i=Mb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=ute(this,this.l,e);break}}return this.l+=e,n}var OWe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},NWe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},DWe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function $We(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)DWe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"||n=="cpstr"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,OWe(this,t,this.l);break;case 8:if(r=8,n==="f"){kWe(this,t,this.l);break}case 16:break;case-4:r=4,NWe(this,t,this.l);break}return this.l+=r,this}function wte(e,t){var n=ute(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Hn(e,t){e.l=t,e.read_shift=Mm,e.chk=wte,e.write_shift=$We}function ai(e,t){e.l+=t}function Pn(e){var t=Du(e);return Hn(t,0),t}function hc(e,t,n){if(e){var r,i,s;Hn(e,e.l||0);for(var a=e.length,o=0,l=0;e.l<a;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Hb[o]||Hb[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;l=e.l+s;var u=c.f&&c.f(e,s,n);if(e.l=l,t(u,c,o))return}}}function QF(){var e=[],t=vt?16384:2048;vt&&Pn(t).copy;var n=function(u){var f=Pn(u);return Hn(f,0),f},r=n(t),i=function(){r&&(r.l&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r)),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,t)))},a=function(){return i(),Lc(e)},o=function(){return i(),e},l=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:l,end:a,_bufs:e,end2:o}}function Lm(e,t,n){var r=Bn(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function s7(e,t,n){var r=Bn(e);return r.s=Lm(r.s,t.s,n),r.e=Lm(r.e,t.s,n),r}function Pm(e,t){if(e.cRel&&e.c<0)for(e=Bn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Bn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Nt(e);return!e.cRel&&e.cRel!=null&&(n=MWe(n)),!e.rRel&&e.rRel!=null&&(n=RWe(n)),n}function WT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Lt(e.s.c)+":"+(e.e.cRel?"":"$")+Lt(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Gt(e.s.r)+":"+(e.e.rRel?"":"$")+Gt(e.e.r):Pm(e.s,t.biff)+":"+Pm(e.e,t.biff)}function eI(e){return parseInt(IWe(e),10)-1}function Gt(e){return""+(e+1)}function RWe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function IWe(e){return e.replace(/\$(\d+)$/,"$1")}function tI(e){for(var t=LWe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Lt(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function MWe(e){return e.replace(/^([A-Z])/,"$$$1")}function LWe(e){return e.replace(/^\$([A-Z])/,"$1")}function PWe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Jr(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function Nt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function pd(e){var t=e.indexOf(":");return t==-1?{s:Jr(e),e:Jr(e)}:{s:Jr(e.slice(0,t)),e:Jr(e.slice(t+1))}}function bt(e,t){return typeof t>"u"||typeof t=="number"?bt(e.s,e.e):(typeof e!="string"&&(e=Nt(e)),typeof t!="string"&&(t=Nt(t)),e==t?e:e+":"+t)}function BWe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function $n(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function a7(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Rs(e.z,n?Qn(t):t)}catch{}try{return e.w=Rs((e.XF||{}).numFmtId||(n?14:0),n?Qn(t):t)}catch{return""+t}}function $u(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?is[e.v]||e.v:t==null?a7(e,e.v):a7(e,t))}function rf(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function UWe(e){var t={},n=e||{};return n.dense&&(t["!data"]=[]),t}function Ste(e,t,n){var r=n||{},i=e?e["!data"]!=null:r.dense,s=e||(i?{"!data":[]}:{});i&&!s["!data"]&&(s["!data"]=[]);var a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Jr(r.origin):r.origin;a=l.r,o=l.c}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=$n(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=s["!ref"]?u.e.r+1:0)}else c.s.c=c.e.c=c.s.r=c.e.r=0;for(var f=[],h=!1,d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");var p=a+d;i&&(s["!data"][p]||(s["!data"][p]=[]),f=s["!data"][p]);for(var g=t[d],m=0;m!=g.length;++m)if(!(typeof g[m]>"u")){var x={v:g[m],t:""},y=o+m;if(c.s.r>p&&(c.s.r=p),c.s.c>y&&(c.s.c=y),c.e.r<p&&(c.e.r=p),c.e.c<y&&(c.e.c=y),h=!0,g[m]&&typeof g[m]=="object"&&!Array.isArray(g[m])&&!(g[m]instanceof Date))x=g[m];else if(Array.isArray(x.v)&&(x.f=g[m][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?isFinite(x.v)?x.t="n":isNaN(x.v)?(x.t="e",x.v=15):(x.t="e",x.v=7):typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||it[14],r.UTC||(x.v=NS(x.v)),r.cellDates?(x.t="d",x.w=Rs(x.z,Qn(x.v,r.date1904))):(x.t="n",x.v=Qn(x.v,r.date1904),x.w=Rs(x.z,x.v))):x.t="s";if(i)f[y]&&f[y].z&&(x.z=f[y].z),f[y]=x;else{var v=Lt(y)+(p+1);s[v]&&s[v].z&&(x.z=s[v].z),s[v]=x}}}return h&&c.s.c<104e5&&(s["!ref"]=bt(c)),s}function Qp(e,t){return Ste(null,e,t)}function zWe(e){return e.read_shift(4,"i")}function ri(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function HWe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function nI(e,t){var n=e.l,r=e.read_shift(1),i=ri(e),s=[],a={t:i,h:i};if(r&1){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(HWe(e));a.r=s}else a.r=[{ich:0,ifnt:0}];return e.l=n+t,a}var VWe=nI;function ba(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function gd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var WWe=ri;function $S(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var jWe=ri,e3=$S;function RS(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?Mb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Df(t,0)>>2;return n?i/100:i}function Ate(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var md=Ate;function jr(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function GWe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),a=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=oh[i];c&&(t.rgb=V1(c));break;case 2:t.rgb=V1([a,o,l]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function qWe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function Tte(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function XWe(e){return Tte(e,1)}function YWe(e){return Tte(e,2)}var rI=2,Pi=3,Oy=11,o7=12,Lb=19,Ny=64,KWe=65,JWe=71,ZWe=4108,QWe=4126,rr=80,kte=81,eje=[rr,kte],tje={1:{n:"CodePage",t:rI},2:{n:"Category",t:rr},3:{n:"PresentationFormat",t:rr},4:{n:"ByteCount",t:Pi},5:{n:"LineCount",t:Pi},6:{n:"ParagraphCount",t:Pi},7:{n:"SlideCount",t:Pi},8:{n:"NoteCount",t:Pi},9:{n:"HiddenCount",t:Pi},10:{n:"MultimediaClipCount",t:Pi},11:{n:"ScaleCrop",t:Oy},12:{n:"HeadingPairs",t:ZWe},13:{n:"TitlesOfParts",t:QWe},14:{n:"Manager",t:rr},15:{n:"Company",t:rr},16:{n:"LinksUpToDate",t:Oy},17:{n:"CharacterCount",t:Pi},19:{n:"SharedDoc",t:Oy},22:{n:"HyperlinksChanged",t:Oy},23:{n:"AppVersion",t:Pi,p:"version"},24:{n:"DigSig",t:KWe},26:{n:"ContentType",t:rr},27:{n:"ContentStatus",t:rr},28:{n:"Language",t:rr},29:{n:"Version",t:rr},255:{},2147483648:{n:"Locale",t:Lb},2147483651:{n:"Behavior",t:Lb},1919054434:{}},nje={1:{n:"CodePage",t:rI},2:{n:"Title",t:rr},3:{n:"Subject",t:rr},4:{n:"Author",t:rr},5:{n:"Keywords",t:rr},6:{n:"Comments",t:rr},7:{n:"Template",t:rr},8:{n:"LastAuthor",t:rr},9:{n:"RevNumber",t:rr},10:{n:"EditTime",t:Ny},11:{n:"LastPrinted",t:Ny},12:{n:"CreatedDate",t:Ny},13:{n:"ModifiedDate",t:Ny},14:{n:"PageCount",t:Pi},15:{n:"WordCount",t:Pi},16:{n:"CharCount",t:Pi},17:{n:"Thumbnail",t:JWe},18:{n:"Application",t:rr},19:{n:"DocSecurity",t:Pi},255:{},2147483648:{n:"Locale",t:Lb},2147483651:{n:"Behavior",t:Lb},1919054434:{}},l7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},rje=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ije(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var sje=ije([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),oh=Bn(sje),is={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},wr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Cte=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],c7={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function aje(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function oje(e){var t=aje();if(!e||!e.match)return t;var n={};if((e.match(Nr)||[]).forEach(function(r){var i=Ve(r);switch(i[0].replace(dWe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension.toLowerCase()]=i.ContentType;break;case"<Override":t[c7[i.ContentType]]!==void 0&&t[c7[i.ContentType]].push(i.PartName);break}}),t.xmlns!==SWe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var e0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function t3(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Bm(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Nr)||[]).forEach(function(i){var s=Ve(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=_t(s.Target),a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Qd(s.Target,t);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}var lje="application/vnd.oasis.opendocument.spreadsheet";function cje(e,t){for(var n=DS(e),r,i;r=Ln.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Ve(r[0],!1),i.path=="/"&&i.type!==lje)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var u7=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Fte(e){var t={};e=Jt(e);for(var n=0;n<u7.length;++n){var r=u7[n],i=ah(e,r[0]);i!=null&&i.length>0&&(t[r[1]]=_t(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Cr(t[r[1]]))}return t}var uje=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Ote(e,t,n,r){var i=[];if(typeof e=="string")i=Q9(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(u){return{v:u}}));var a=typeof t=="string"?Q9(t,r).map(function(u){return u.v}):t,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function fje(e,t,n){var r={};return t||(t={}),e=Jt(e),uje.forEach(function(i){var s=(or(e,i[0])||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=_t(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var a=ah(e,i[0]);a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Ote(r.HeadingPairs,r.TitlesOfParts,t,n),t}var hje=/<[^<>]+>[^<]*/g;function dje(e,t){var n={},r="",i=e.match(hje);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Ve(a);switch(_a(o[0])){case"<?xml":break;case"<Properties":break;case"<property":r=_t(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=_t(u);break;case"bool":n[r]=jt(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=Cr(u);break;case"cy":case"error":n[r]=_t(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return n}var pje={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},jT;function gje(e,t,n){jT||(jT=YR(pje)),t=jT[t]||t,e[t]=n}function iI(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function mje(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function xje(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function Nte(e,t,n){return t===31?xje(e):mje(e,t,n)}function Um(e,t,n){return Nte(e,t,n===!1?0:4)}function vje(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Nte(e,t,0)}function yje(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Ki,""),e.l-i&2&&(e.l+=2)}return n}function _je(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Ki,"");return n}function bje(e){var t=e.l,n=Pb(e,kte);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=Pb(e,Pi);return[n,r]}function Eje(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(bje(e));return n}function f7(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),a=e.read_shift(4);r[s]=e.read_shift(a,t===1200?"utf16le":"utf8").replace(Ki,"").replace(cm,"!"),t===1200&&a%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function Dte(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function wje(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Pb(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==o7&&r!==t&&eje.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===o7?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:e.l+=4,val=Um(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,val=Um(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 64:return iI(e);case 65:return Dte(e);case 71:return wje(e);case 80:return Um(e,r,!s.raw).replace(Ki,"");case 81:return vje(e,r).replace(Ki,"");case 4108:return Eje(e);case 4126:case 4127:return r==4127?yje(e):_je(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function h7(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=e.read_shift(4),f=e.read_shift(4);s[a]=[u,f+n]}s.sort(function(y,v){return y[1]-v[1]});var h={};for(a=0;a!=i;++a){if(e.l!==s[a][1]){var d=!0;if(a>0&&t)switch(t[s[a-1][0]].t){case 2:e.l+2===s[a][1]&&(e.l+=2,d=!1);break;case 80:e.l<=s[a][1]&&(e.l=s[a][1],d=!1);break;case 4108:e.l<=s[a][1]&&(e.l=s[a][1],d=!1);break}if((!t||a==0)&&e.l<=s[a][1]&&(d=!1,e.l=s[a][1]),d)throw new Error("Read Error: Expected address "+s[a][1]+" at "+e.l+" :"+a)}if(t){if(s[a][0]==0&&s.length>a+1&&s[a][1]==s[a+1][1])continue;var p=t[s[a][0]];if(h[p.n]=Pb(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Pa(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[a][0]===1){if(o=h.CodePage=Pb(e,rI),Pa(o),l!==-1){var g=e.l;e.l=s[l][1],c=f7(e,o),e.l=g}}else if(s[a][0]===0){if(o===0){l=a,e.l=s[a+1][1];continue}c=f7(e,o)}else{var m=c[s[a][0]],x;switch(e[e.l]){case 65:e.l+=4,x=Dte(e);break;case 30:e.l+=4,x=Um(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,x=Um(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=kn(e,4);break;case 64:e.l+=4,x=Cr(iI(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[m]=x}}return e.l=n+r,h}function d7(e,t,n){var r=e.content;if(!r)return{};Hn(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==At.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=h7(r,t),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var p;try{p=h7(r,null)}catch{}for(d in p)h[d]=p[d];return h.FMTID=[s,a],h}function _c(e,t){return e.read_shift(t),null}function Sje(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function kn(e,t){return e.read_shift(t)===1}function yn(e){return e.read_shift(2,"u")}function $te(e,t){return Sje(e,t,yn)}function Rte(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function _p(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=Ys;if(n&&n.biff>=8&&(Ys=1200),!n||n.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return Ys=s,o}function Aje(e){var t=Ys;Ys=1200;var n=e.read_shift(2),r=e.read_shift(1),i=r&4,s=r&8,a=1+(r&1),o=0,l,c={};s&&(o=e.read_shift(2)),i&&(l=e.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",f=n===0?"":e.read_shift(n,u);return s&&(e.l+=4*o),i&&(e.l+=l),c.t=f,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),Ys=t,c}function Vh(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function ov(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Vh(e,r,n)}function xd(e,t,n){if(n.biff>5)return ov(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Tje(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function kje(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Ki,"");return r&&(e.l+=24),i}function Cje(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=e.read_shift(s>>1,"utf16le").replace(Ki,"");return n+a}function Fje(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return kje(e);case"0303000000000000c000000000000046":return Cje(e);default:throw new Error("Unsupported Moniker "+n)}}function Dy(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ki,""):"";return n}function Oje(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=Dy(e,n-e.l)),i&128&&(a=Dy(e,n-e.l)),(i&257)===257&&(o=Dy(e,n-e.l)),(i&257)===1&&(l=Fje(e,n-e.l)),i&8&&(c=Dy(e,n-e.l)),i&32&&(u=e.read_shift(16)),i&64&&(f=iI(e)),e.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),s&&(d.Tooltip=s),d}function Ite(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function Mte(e,t){var n=Ite(e);return n[3]=0,n}function oo(e,t,n){var r=e.read_shift(2),i=e.read_shift(2),s={r,c:i,ixfe:0};if(n&&n.biff==2||t==7){var a=e.read_shift(1);s.ixfe=a&63,e.l+=2}else s.ixfe=e.read_shift(2);return s}function Nje(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function Dje(e,t,n){return t===0?"":xd(e,t,n)}function $je(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),a=e.read_shift(r,"i");return[i,s,a]}function Lte(e){var t=e.read_shift(2),n=RS(e);return[t,n]}function Rje(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=_p(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function IS(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function Pte(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var Ije=Pte;function Bte(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function Mje(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Lje(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Mr(e){e.l+=2,e.l+=e.read_shift(2)}var Pje={0:Mr,4:Mr,5:Mr,6:Mr,7:Lje,8:Mr,9:Mr,10:Mr,11:Mr,12:Mr,13:Mje,14:Mr,15:Mr,16:Mr,17:Mr,18:Mr,19:Mr,20:Mr,21:Bte};function Bje(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r[i]=Pje[i](e,n-e.l)}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function $y(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function Uje(e,t){return t===0||e.read_shift(2),1200}function zje(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=xd(e,0,n);return e.read_shift(t+r-e.l),i}function Hje(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Vje(e,t,n){var r="";if(n.biff==4)return r=_p(e,0,n),r.length===0&&(r="Sheet1"),{name:r};var i=e.read_shift(4),s=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}return r=_p(e,0,n),r.length===0&&(r="Sheet1"),{pos:i,hs:s,dt:a,name:r}}function Wje(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],a=0;a!=i&&e.l<n;++a)s.push(Aje(e));return s.Count=r,s.Unique=i,s}function jje(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function Gje(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function qje(e){var t=Nje(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function Xje(e){return e.read_shift(2),e.read_shift(4)}function p7(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function Yje(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function Kje(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function Jje(){}function Zje(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=_p(e,0,n),r}function Qje(e,t,n){var r=oo(e,t,n);return r.isst=e.read_shift(4),r}function eGe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=oo(e,t,n),s=ov(e,r-e.l,n);return i.val=s,i}function tGe(e,t,n){var r=e.read_shift(2),i=xd(e,0,n);return[r,i]}var nGe=xd;function g7(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),a=e.read_shift(i),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function rGe(e){var t=e.read_shift(2),n=e.read_shift(2),r=Lte(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function iGe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(Lte(e));if(e.l!==n)throw new Error("MulRK read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function sGe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function aGe(e,t,n,r){var i={},s=e.read_shift(4),a=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return i.patternType=rje[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function oGe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=aGe(e,t,r.fStyle,n),r}function lGe(e){var t={};return t.ifnt=e.read_shift(1),e.l++,t.flags=e.read_shift(1),t.numFmtId=t.flags&63,t.flags>>=6,t.fStyle=0,t.data={},t}function cGe(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function uGe(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function fGe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function hGe(e,t,n){var r=oo(e,6,n),i=Rte(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function dGe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=oo(e,6,n),i=jr(e);return r.val=i,r}var m7=Dje;function pGe(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Vh(e,s),o=[];r>e.l;)o.push(ov(e));return[s,i,a,o]}function x7(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=Rje(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}function v7(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),a=e.read_shift(1),o=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=Vh(e,a,n);i&32&&(c=Cte[c.charCodeAt(0)]);var u=r-e.l;n&&n.biff==2&&--u;var f=r==e.l||o===0||!(u>0)?[]:VYe(e,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function Ute(e,t,n){if(n.biff<8||!(n.biff>8)&&t==e[e.l]+(e[e.l+1]==3?1:0)+1)return y7(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push($je(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function y7(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=_p(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function gGe(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=Vh(e,r,n),a=Vh(e,i,n);return[s,a]}function mGe(e,t,n){var r=Pte(e);e.l++;var i=e.read_shift(1);return t-=8,[WYe(e,t,n),i,r]}function _7(e,t,n){var r=Ije(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,zYe(e,t,n)]}function xGe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function vGe(e,t,n){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),o=xd(e,0,n);return[{r,c:i},o,a,s]}function yGe(e,t,n){if(n&&n.biff<8){var r=e.read_shift(2),i=e.read_shift(2);if(r==65535||r==-1)return;var s=e.read_shift(2),a=e.read_shift(Math.min(s,2048),"cpstr");return[{r,c:i},a]}return vGe(e,t,n)}function _Ge(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(IS(e));return n}function bGe(e,t,n){if(n&&n.biff<8)return wGe(e,t,n);var r=Bte(e),i=Bje(e,t-22,r[1]);return{cmo:r,ft:i}}var EGe={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function wGe(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var a=[];return a.push((EGe[r]||ai)(e,t,n)),{cmo:[i,r,s],ft:a}}function SGe(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:a=Tje(e,6,n);var o=e.read_shift(2);e.read_shift(2),yn(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Vh(e,e.lens[c+1]-e.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function AGe(e,t){var n=IS(e);e.l+=16;var r=Oje(e,t-24);return[n,r]}function TGe(e,t){e.read_shift(2);var n=IS(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Ki,""),[n,r]}function kGe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=l7[n]||n,n=e.read_shift(2),t[1]=l7[n]||n,t}function CGe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Mte(e));return n}function FGe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Mte(e));return n}function OGe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function zte(e,t,n){if(!n.cellStyles)return ai(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function NGe(e,t){var n={};return t<32||(e.l+=16,n.header=jr(e),n.footer=jr(e),e.l+=2),n}function DGe(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}var $Ge=oo,RGe=$te,IGe=ov;function MGe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function LGe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=oo(e,7,n),i=xd(e,t-7,n);return r.t="str",r.val=i,r}function PGe(e,t,n){var r=oo(e,7,n),i=jr(e);return r.t="n",r.val=i,r}function BGe(e,t,n){var r=oo(e,7,n),i=e.read_shift(2);return r.t="n",r.val=i,r}function UGe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function zGe(e,t,n){var r=e.l+7,i=oo(e,6,n);e.l=r;var s=Rte(e);return i.val=s,i.t=s===!0||s===!1?"b":"e",i}function HGe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function VGe(e,t,n){var r=e.l+t,i=oo(e,6,n),s=e.read_shift(2),a=Vh(e,s,n);return e.l=r,i.t="str",i.val=a,i}function WGe(e){var t=e.read_shift(4),n=e.read_shift(1),r=e.read_shift(n,"sbcs");return r.length===0&&(r="Sheet1"),{flags:t,name:r}}var jGe=[2,3,48,49,131,139,140,245],b7=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=YR({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=Du(1);switch(l.type){case"base64":u=ps($s(o));break;case"binary":u=ps(o);break;case"buffer":case"array":u=o;break}Hn(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,m=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(m=u.read_shift(2));var x=u.read_shift(2);l.codepage,f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&e[u[u.l]],u.l+=1,u.l+=2),p&&(u.l+=36);for(var y=[],v={},_=Math.min(u.length,f==2?521:m-10-(d?264:0)),b=p?32:11;u.l<_&&u[u.l]!=13;)switch(v={},v.name=Zl(u.slice(u.l,u.l+b)).replace(/[\u0000\r\n][\S\s]*$/g,""),u.l+=b,v.type=String.fromCharCode(u.read_shift(1)),f!=2&&!p&&(v.offset=u.read_shift(4)),v.len=u.read_shift(1),f==2&&(v.offset=u.read_shift(2)),v.dec=u.read_shift(1),v.name.length&&y.push(v),f!=2&&(u.l+=p?13:14),v.type){case"B":(!d||v.len!=8)&&l.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+v.type)}if(u[u.l]!==13&&(u.l=m-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=m;var w=0,E=0;for(c[0]=[],E=0;E!=y.length;++E)c[0][E]=y[E].name;for(;g-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,c[++w]=[],E=0,E=0;E!=y.length;++E){var A=u.slice(u.l,u.l+y[E].len);u.l+=y[E].len,Hn(A,0);var S=Zl(A);switch(y[E].type){case"C":S.trim().length&&(c[w][E]=S.replace(/([^\s])\s+$/,"$1"));break;case"D":S.length===8?(c[w][E]=new Date(Date.UTC(+S.slice(0,4),+S.slice(4,6)-1,+S.slice(6,8),0,0,0,0)),l&&l.UTC||(c[w][E]=Hh(c[w][E]))):c[w][E]=S;break;case"F":c[w][E]=parseFloat(S.trim());break;case"+":case"I":c[w][E]=p?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(S.trim().toUpperCase()){case"Y":case"T":c[w][E]=!0;break;case"N":case"F":c[w][E]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+S+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[w][E]="##MEMO##"+(p?parseInt(S.trim(),10):A.read_shift(4));break;case"N":S=S.replace(/\u0000/g,"").trim(),S&&S!="."&&(c[w][E]=+S||0);break;case"@":c[w][E]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":{var T=A.read_shift(4),C=A.read_shift(4);if(T==0&&C==0)break;c[w][E]=new Date((T-2440588)*864e5+C),l&&l.UTC||(c[w][E]=Hh(c[w][E]))}break;case"Y":c[w][E]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[w][E]=-A.read_shift(-8,"f");break;case"B":if(d&&y[E].len==8){c[w][E]=A.read_shift(8,"f");break}case"G":case"P":A.l+=y[E].len;break;case"0":if(y[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[E].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=y,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Qp(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{var c=rf(r(o,l),l);return c.bookType="dbf",c}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){if(!o["!ref"])throw new Error("Cannot export empty sheet to DBF");var c=l||{},u=Ys;if(+c.codepage>=0&&Pa(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=QF(),h=s3(o,{header:1,raw:!0,cellDates:!0}),d=h[0],p=h.slice(1),g=o["!cols"]||[],m=0,x=0,y=0,v=1;for(m=0;m<d.length;++m){if(((g[m]||{}).DBF||{}).name){d[m]=g[m].DBF.name,++y;continue}if(d[m]!=null){if(++y,typeof d[m]=="number"&&(d[m]=d[m].toString(10)),typeof d[m]!="string")throw new Error("DBF Invalid column name "+d[m]+" |"+typeof d[m]+"|");if(d.indexOf(d[m])!==m){for(x=0;x<1024;++x)if(d.indexOf(d[m]+"_"+x)==-1){d[m]+="_"+x;break}}}}var _=$n(o["!ref"]),b=[],w=[],E=[];for(m=0;m<=_.e.c-_.s.c;++m){var A="",S="",T=0,C=[];for(x=0;x<p.length;++x)p[x][m]!=null&&C.push(p[x][m]);if(C.length==0||d[m]==null){b[m]="?";continue}for(x=0;x<C.length;++x){switch(typeof C[x]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=C[x]instanceof Date?"D":"C";break;default:S="C"}T=Math.max(T,String(C[x]).length),A=A&&A!=S?"C":S}T>250&&(T=250),S=((g[m]||{}).DBF||{}).type,S=="C"&&g[m].DBF.len>T&&(T=g[m].DBF.len),A=="B"&&S=="N"&&(A="N",E[m]=g[m].DBF.dec,T=g[m].DBF.len),w[m]=A=="C"||S=="N"?T:s[A]||0,v+=w[m],b[m]=A}var O=f.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*y),O.write_shift(2,v),m=0;m<4;++m)O.write_shift(4,0);var F=+t[Ys]||3;for(O.write_shift(4,0|F<<8),e[F]!=+c.codepage&&(c.codepage&&console.error("DBF Unsupported codepage "+Ys+", using 1252"),Ys=1252),m=0,x=0;m<d.length;++m)if(d[m]!=null){var I=f.next(32),D=(d[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,D,"sbcs"),I.write_shift(1,b[m]=="?"?"C":b[m],"sbcs"),I.write_shift(4,x),I.write_shift(1,w[m]||s[b[m]]||0),I.write_shift(1,E[m]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),x+=w[m]||s[b[m]]||0}var N=f.next(264);for(N.write_shift(4,13),m=0;m<65;++m)N.write_shift(4,0);for(m=0;m<p.length;++m){var M=f.next(v);for(M.write_shift(1,0),x=0;x<d.length;++x)if(d[x]!=null)switch(b[x]){case"L":M.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":M.write_shift(8,p[m][x]||0,"f");break;case"N":var U="0";for(typeof p[m][x]=="number"&&(U=p[m][x].toFixed(E[x]||0)),U.length>w[x]&&(U=U.slice(0,w[x])),y=0;y<w[x]-U.length;++y)M.write_shift(1,32);M.write_shift(1,U,"sbcs");break;case"D":p[m][x]?(M.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var J=M.l,X=String(p[m][x]!=null?p[m][x]:"").slice(0,w[x]);for(M.write_shift(1,X,"cpstr"),J+=w[x]-M.l,y=0;y<J;++y)M.write_shift(1,32);break}}return Ys=u,f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}}(),GGe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+na(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{t=new RegExp("\x1BN("+na(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var n=function(d,p){var g=e[p];return typeof g=="number"?L9(g):g},r=function(d,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?d:L9(m)};e["|"]=254;var i=function(d){return d.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function s(d,p){switch(p.type){case"base64":return a($s(d),p);case"binary":return a(d,p);case"buffer":return a(vt&&Buffer.isBuffer(d)?d.toString("binary"):Zl(d),p);case"array":return a(zh(d),p)}throw new Error("Unrecognized type "+p.type)}function a(d,p){var g=d.split(/[\n\r]+/),m=-1,x=-1,y=0,v=0,_=[],b=[],w=null,E={},A=[],S=[],T=[],C=0,O,F={Workbook:{WBProps:{},Names:[]}};for(+p.codepage>=0&&Pa(+p.codepage);y!==g.length;++y){C=0;var I=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),D=I.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),N=D[0],M;if(I.length>0)switch(N){case"ID":break;case"E":break;case"B":break;case"O":for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"V":{var U=parseInt(D[v].slice(1),10);U>=1&&U<=4&&(F.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":switch(D[1].charAt(0)){case"P":b.push(I.slice(3).replace(/;;/g,";"));break}break;case"NN":{var J={Sheet:0};for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"N":J.Name=D[v].slice(1);break;case"E":J.Ref=(p&&p.sheet||"Sheet1")+"!"+lh(D[v].slice(1));break}F.Workbook.Names.push(J)}break;case"C":var X=!1,ce=!1,ve=!1,_e=!1,de=-1,Fe=-1,Ne="",je="z",z="";for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"A":z=D[v].slice(1);break;case"X":x=parseInt(D[v].slice(1),10)-1,ce=!0;break;case"Y":for(m=parseInt(D[v].slice(1),10)-1,ce||(x=0),O=_.length;O<=m;++O)_[O]=[];break;case"K":M=D[v].slice(1),M.charAt(0)==='"'?(M=M.slice(1,M.length-1),je="s"):M==="TRUE"||M==="FALSE"?(M=M==="TRUE",je="b"):M.charAt(0)=="#"&&wr[M]!=null?(je="e",M=wr[M]):isNaN(Ss(M))||(M=Ss(M),je="n",w!==null&&Ka(w)&&p.cellDates&&(M=au(F.Workbook.WBProps.date1904?M+1462:M),je=typeof M=="number"?"n":"d")),X=!0;break;case"E":_e=!0,Ne=lh(D[v].slice(1),{r:m,c:x});break;case"S":ve=!0;break;case"G":break;case"R":de=parseInt(D[v].slice(1),10)-1;break;case"C":Fe=parseInt(D[v].slice(1),10)-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}if(X&&(_[m][x]?(_[m][x].t=je,_[m][x].v=M):_[m][x]={t:je,v:M},w&&(_[m][x].z=w),p.cellText!==!1&&w&&(_[m][x].w=Rs(_[m][x].z,_[m][x].v,{date1904:F.Workbook.WBProps.date1904})),w=null),ve){if(_e)throw new Error("SYLK shared formula cannot have own formula");var q=de>-1&&_[de][Fe];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");Ne=Kte(q[1],{r:m-de,c:x-Fe})}Ne&&(_[m][x]?_[m][x].f=Ne:_[m][x]={t:"n",f:Ne}),z&&(_[m][x]||(_[m][x]={t:"z"}),_[m][x].c=[{a:"SheetJSYLK",t:z}]);break;case"F":var G=0;for(v=1;v<D.length;++v)switch(D[v].charAt(0)){case"X":x=parseInt(D[v].slice(1),10)-1,++G;break;case"Y":for(m=parseInt(D[v].slice(1),10)-1,O=_.length;O<=m;++O)_[O]=[];break;case"M":C=parseInt(D[v].slice(1),10)/20;break;case"F":break;case"G":break;case"P":w=b[parseInt(D[v].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(T=D[v].slice(1).split(" "),O=parseInt(T[0],10);O<=parseInt(T[1],10);++O)C=parseInt(T[2],10),S[O-1]=C===0?{hidden:!0}:{wch:C};break;case"C":x=parseInt(D[v].slice(1),10)-1,S[x]||(S[x]={});break;case"R":m=parseInt(D[v].slice(1),10)-1,A[m]||(A[m]={}),C>0?(A[m].hpt=C,A[m].hpx=W1(C)):C===0&&(A[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}G<1&&(w=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}}return A.length>0&&(E["!rows"]=A),S.length>0&&(E["!cols"]=S),S.forEach(function(H){bp(H)}),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,E,F]}function o(d,p){var g=s(d,p),m=g[0],x=g[1],y=g[2],v=Bn(p);v.date1904=(((y||{}).Workbook||{}).WBProps||{}).date1904;var _=Qp(m,v);na(x).forEach(function(w){_[w]=x[w]});var b=rf(_,p);return na(y).forEach(function(w){b[w]=y[w]}),b.bookType="sylk",b}function l(d,p,g,m,x,y){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(d.t){case"n":v+=isFinite(d.v)?d.v||0:is[isNaN(d.v)?36:7],d.f&&!d.F&&(v+=";E"+TXe(d.f,{r:g,c:m}));break;case"b":v+=d.v?"TRUE":"FALSE";break;case"e":v+=d.w||is[d.v]||d.v;break;case"d":v+=Qn(Cr(d.v,y),y);break;case"s":v+='"'+(d.v==null?"":String(d.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(d,p,g){var m="C;Y"+(p+1)+";X"+(g+1)+";A";return m+=i(d.map(function(x){return x.t}).join("")),m}function u(d,p){p.forEach(function(g,m){var x="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Ub(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=zb(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&d.push(x)})}function f(d,p){p.forEach(function(g,m){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Xte(g.hpx)+";"),x.length>2&&d.push(x+"R"+(m+1))})}function h(d,p,g){p||(p={}),p._formats=["General"];var m=["ID;PSheetJS;N;E"],x=[],y=$n(d["!ref"]||"A1"),v,_=d["!data"]!=null,b=`\r
`,w=(((g||{}).Workbook||{}).WBProps||{}).date1904,E="General";m.push("P;PGeneral");var A=y.s.r,S=y.s.c,T=[];if(d["!ref"]){for(A=y.s.r;A<=y.e.r;++A)if(!(_&&!d["!data"][A])){for(T=[],S=y.s.c;S<=y.e.c;++S)v=_?d["!data"][A][S]:d[Lt(S)+Gt(A)],!(!v||!v.c)&&T.push(c(v.c,A,S));T.length&&x.push(T.join(b))}}if(d["!ref"]){for(A=y.s.r;A<=y.e.r;++A)if(!(_&&!d["!data"][A])){for(T=[],S=y.s.c;S<=y.e.c;++S)if(v=_?d["!data"][A][S]:d[Lt(S)+Gt(A)],!(!v||v.v==null&&(!v.f||v.F))){if((v.z||(v.t=="d"?it[14]:"General"))!=E){var C=p._formats.indexOf(v.z);C==-1&&(p._formats.push(v.z),C=p._formats.length-1,m.push("P;P"+v.z.replace(/;/g,";;"))),T.push("F;P"+C+";Y"+(A+1)+";X"+(S+1))}T.push(l(v,d,A,S,p,w))}x.push(T.join(b))}}return m.push("F;P0;DG0G8;M255"),d["!cols"]&&u(m,d["!cols"]),d["!rows"]&&f(m,d["!rows"]),d["!ref"]&&m.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" ")),m.push("O;L;D;B"+(w?";V4":"")+";K47;G100 0.001"),delete p._formats,m.join(b)+b+x.join(b)+b+"E"+b}return{to_workbook:o,from_sheet:h}}(),qGe=function(){function e(o,l){switch(l.type){case"base64":return t($s(o),l);case"binary":return t(o,l);case"buffer":return t(vt&&Buffer.isBuffer(o)?o.toString("binary"):Zl(o),l);case"array":return t(zh(o),l)}throw new Error("Unrecognized type "+l.type)}function t(o,l){for(var c=o.split(`
`),u=-1,f=-1,h=0,d=[];h!==c.length;++h){if(c[h].trim()==="BOT"){d[++u]=[],f=0;continue}if(!(u<0)){var p=c[h].trim().split(","),g=p[0],m=p[1];++h;for(var x=c[h]||"";(x.match(/["]/g)||[]).length&1&&h<c.length-1;)x+=`
`+c[++h];switch(x=x.trim(),+g){case-1:if(x==="BOT"){d[++u]=[],f=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?d[u][f]=!0:x==="FALSE"?d[u][f]=!1:isNaN(Ss(m))?isNaN(z1(m).getDate())?d[u][f]=m:(d[u][f]=Cr(m),l&&l.UTC||(d[u][f]=Hh(d[u][f]))):d[u][f]=Ss(m),++f;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),d[u][f++]=x!==""?x:null;break}if(x==="EOD")break}}return l&&l.sheetRows&&(d=d.slice(0,l.sheetRows)),d}function n(o,l){return Qp(e(o,l),l)}function r(o,l){var c=rf(n(o,l),l);return c.bookType="dif",c}function i(o,l){return"0,"+String(o)+`\r
`+l}function s(o){return`1,0\r
"`+o.replace(/"/g,'""')+'"'}function a(o){if(!o["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var l=$n(o["!ref"]),c=o["!data"]!=null,u=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(l.e.r-l.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(l.e.c-l.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],f=l.s.r;f<=l.e.r;++f){for(var h=c?o["!data"][f]:[],d=`-1,0\r
BOT\r
`,p=l.s.c;p<=l.e.c;++p){var g=c?h&&h[p]:o[Nt({r:f,c:p})];if(g==null){d+=`1,0\r
""\r
`;continue}switch(g.t){case"n":g.w!=null?d+="0,"+g.w+`\r
V`:g.v!=null?d+=i(g.v,"V"):g.f!=null&&!g.F?d+=s("="+g.f):d+=`1,0\r
""`;break;case"b":d+=g.v?i(1,"TRUE"):i(0,"FALSE");break;case"s":d+=s(isNaN(+g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Rs(g.z||it[14],Qn(Cr(g.v)))),d+=i(g.w,"V");break;default:d+=`1,0\r
""`}d+=`\r
`}u.push(d)}return u.join("")+`-1,0\r
EOD`}return{to_workbook:r,to_sheet:n,from_sheet:a}}(),XGe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var d=f.split(`
`),p=-1,g=-1,m=0,x=[];m!==d.length;++m){var y=d[m].trim().split(":");if(y[0]==="cell"){var v=Jr(y[1]);if(x.length<=v.r)for(p=x.length;p<=v.r;++p)x[p]||(x[p]=[]);switch(p=v.r,g=v.c,y[2]){case"t":x[p][g]=e(y[3]);break;case"v":x[p][g]=+y[3];break;case"vtf":var _=y[y.length-1];case"vtc":switch(y[3]){case"nl":x[p][g]=!!+y[4];break;default:x[p][g]=y[y.length-1].charAt(0)=="#"?{t:"e",v:wr[y[y.length-1]]}:+y[4];break}y[2]=="vtf"&&(x[p][g]=[x[p][g],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function r(f,h){return Qp(n(f,h),h)}function i(f,h){return rf(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],p,g="",m=pd(f["!ref"]),x=f["!data"]!=null,y=m.s.r;y<=m.e.r;++y)for(var v=m.s.c;v<=m.e.c;++v)if(g=Nt({r:y,c:v}),p=x?(f["!data"][y]||[])[v]:f[g],!(!p||p.v==null||p.t==="z")){switch(d=["cell",g,"t"],p.t){case"s":d.push(t(p.v));break;case"b":d[2]="vt"+(p.f?"f":"c"),d[3]="nl",d[4]=p.v?"1":"0",d[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var _=Qn(Cr(p.v));d[2]="vtc",d[3]="nd",d[4]=""+_,d[5]=p.w||Rs(p.z||it[14],_);break;case"n":isFinite(p.v)?p.f?(d[2]="vtf",d[3]="n",d[4]=p.v,d[5]=t(p.f)):(d[2]="v",d[3]=p.v):(d[2]="vt"+(p.f?"f":"c"),d[3]="e"+is[isNaN(p.v)?36:7],d[4]="0",d[5]=p.f||d[3].slice(1),d[6]="e",d[7]=d[3].slice(1));break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(m.e.c-m.s.c+1)+":r:"+(m.e.r-m.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),H1=function(){function e(u,f,h,d,p){p.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(Ss(u))?isNaN(z1(u).getDate())?u.charCodeAt(0)==35&&wr[u]!=null?f[h][d]={t:"e",v:wr[u],w:u}:f[h][d]=u:f[h][d]=Cr(u):f[h][d]=Ss(u))}function t(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var p=u.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var m=10,x=0,y=0;y<=g;++y)x=p[y].indexOf(" "),x==-1?x=p[y].length:x++,m=Math.max(m,x);for(y=0;y<=g;++y){d[y]=[];var v=0;for(e(p[y].slice(0,m).trim(),d,y,v,h),v=1;v<=(p[y].length-m)/10+1;++v)e(p[y].slice(m+(v-1)*10,m+v*10).trim(),d,y,v,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,d=0,p=0;d<u.length;++d)(p=u.charCodeAt(d))==34?h=!h:!h&&p in n&&(f[p]=(f[p]||0)+1);p=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&p.push([f[d],d]);if(!p.length){f=r;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&p.push([f[d],d])}return p.sort(function(g,m){return g[0]-m[0]||r[g[1]]-r[m[1]]}),n[p.pop()[1]]||44}function s(u,f){var h=f||{},d="",p={};h.dense&&(p["!data"]=[]);var g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=i(u.slice(0,1024)):h&&h.FS?d=h.FS:d=i(u.slice(0,1024));var m=0,x=0,y=0,v=0,_=0,b=d.charCodeAt(0),w=!1,E=0,A=u.charCodeAt(0),S=h.dateNF!=null?HVe(h.dateNF):null;function T(){var C=u.slice(v,_);C.slice(-1)=="\r"&&(C=C.slice(0,-1));var O={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),h.cellText!==!1&&(O.w=C),C.length===0)O.t="z";else if(h.raw)O.t="s",O.v=C;else if(C.trim().length===0)O.t="s",O.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(O.t="s",O.v=C.slice(2,-1).replace(/""/g,'"')):kXe(C)?(O.t="s",O.f=C.slice(1),O.v=C):(O.t="s",O.v=C);else if(C=="TRUE")O.t="b",O.v=!0;else if(C=="FALSE")O.t="b",O.v=!1;else if(!isNaN(y=Ss(C)))O.t="n",O.v=y;else if(!isNaN((y=z1(C)).getDate())||S&&C.match(S)){if(O.z=h.dateNF||it[14],S&&C.match(S)){var F=VVe(C,h.dateNF,C.match(S)||[]);y=Cr(F),h&&h.UTC===!1&&(y=Hh(y))}else h&&h.UTC===!1?y=Hh(y):h.cellText!==!1&&h.dateNF&&(O.w=Rs(O.z,y));h.cellDates?(O.t="d",O.v=y):(O.t="n",O.v=Qn(y)),h.cellNF||delete O.z}else C.charCodeAt(0)==35&&wr[C]!=null?(O.t="e",O.w=C,O.v=wr[C]):(O.t="s",O.v=C);if(O.t=="z"||(h.dense?(p["!data"][m]||(p["!data"][m]=[]),p["!data"][m][x]=O):p[Nt({c:x,r:m})]=O),v=_+1,A=u.charCodeAt(v),g.e.c<x&&(g.e.c=x),g.e.r<m&&(g.e.r=m),E==b)++x;else if(x=0,++m,h.sheetRows&&h.sheetRows<=m)return!0}e:for(;_<u.length;++_)switch(E=u.charCodeAt(_)){case 34:A===34&&(w=!w);break;case 13:if(w)break;u.charCodeAt(_+1)==10&&++_;case b:case 10:if(!w&&T())break e;break}return _-v>0&&T(),p["!ref"]=bt(g),p}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):Qp(t(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:fI(u,f);switch(f.type){case"base64":h=$s(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Vd<"u"?h=Vd.utils.decode(f.codepage,u):h=vt&&Buffer.isBuffer(u)?u.toString("binary"):Zl(u);break;case"array":h=zh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Jt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Jt(h):f.type=="binary"&&typeof Vd<"u"&&f.codepage&&(h=Vd.utils.decode(f.codepage,Vd.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?XGe.to_sheet(f.type=="string"?h:Jt(h),f):a(h,f)}function l(u,f){return rf(o(u,f),f)}function c(u){var f=[];if(!u["!ref"])return"";for(var h=$n(u["!ref"]),d,p=u["!data"]!=null,g=h.s.r;g<=h.e.r;++g){for(var m=[],x=h.s.c;x<=h.e.c;++x){var y=Nt({r:g,c:x});if(d=p?(u["!data"][g]||[])[x]:u[y],!d||d.v==null){m.push("          ");continue}for(var v=(d.w||($u(d),d.w)||"").slice(0,10);v.length<10;)v+=" ";m.push(v+(x===0?" ":""))}f.push(m.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function YGe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=GGe.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,s.message.indexOf("SYLK bad record ID")==-1&&r)throw s;return H1.to_workbook(e,t)}}var zm=function(){function e(z,q,G){if(z){Hn(z,z.l||0);for(var H=G.Enum||_e;z.l<z.length;){var K=z.read_shift(2),k=H[K]||H[65535],P=z.read_shift(2),Y=z.l+P,Z=k.f&&k.f(z,P,G);if(z.l=Y,q(Z,k,K))return}}}function t(z,q){switch(q.type){case"base64":return r(ps($s(z)),q);case"binary":return r(ps(z),q);case"buffer":case"array":return r(z,q)}throw"Unsupported type "+q.type}var n=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function r(z,q){if(!z)return z;var G=q||{},H={},K="Sheet1",k="",P=0,Y={},Z=[],ee=[],ne=[];G.dense&&(ne=H["!data"]=[]);var pe={s:{r:0,c:0},e:{r:0,c:0}},xe=G.sheetRows||0,ye={};if(z[4]==81&&z[5]==80&&z[6]==87)return je(z,q);if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)G.Enum=_e,e(z,function(ae,qe,Xe){switch(Xe){case 0:G.vers=ae,ae>=4096&&(G.qpro=!0);break;case 255:G.vers=ae,G.works=!0;break;case 6:pe=ae;break;case 204:ae&&(k=ae);break;case 222:k=ae;break;case 15:case 51:(!G.qpro&&!G.works||Xe==51)&&ae[1].v.charCodeAt(0)<48&&(ae[1].v=ae[1].v.slice(1)),(G.works||G.works2)&&(ae[1].v=ae[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(ae[2]&112)==112&&(ae[2]&15)>1&&(ae[2]&15)<15&&(ae[1].z=G.dateNF||n[(ae[2]&15)-1]||it[14],G.cellDates&&(ae[1].v=au(ae[1].v),ae[1].t=typeof ae[1].v=="number"?"n":"d")),G.qpro&&ae[3]>P&&(H["!ref"]=bt(pe),Y[K]=H,Z.push(K),H={},G.dense&&(ne=H["!data"]=[]),pe={s:{r:0,c:0},e:{r:0,c:0}},P=ae[3],K=k||"Sheet"+(P+1),k="");var et=G.dense?(ne[ae[0].r]||[])[ae[0].c]:H[Nt(ae[0])];if(et){et.t=ae[1].t,et.v=ae[1].v,ae[1].z!=null&&(et.z=ae[1].z),ae[1].f!=null&&(et.f=ae[1].f),ye=et;break}G.dense?(ne[ae[0].r]||(ne[ae[0].r]=[]),ne[ae[0].r][ae[0].c]=ae[1]):H[Nt(ae[0])]=ae[1],ye=ae[1];break;case 21509:G.works2=!0;break;case 21506:ae==5281&&(ye.z="hh:mm:ss",G.cellDates&&ye.t=="n"&&(ye.v=au(ye.v),ye.t=typeof ye.v=="number"?"n":"d"));break}},G);else if(z[2]==26||z[2]==14)G.Enum=de,z[2]==14&&(G.qpro=!0,z.l=0),e(z,function(ae,qe,Xe){switch(Xe){case 204:K=ae;break;case 22:ae[1].v.charCodeAt(0)<48&&(ae[1].v=ae[1].v.slice(1)),ae[1].v=ae[1].v.replace(/\x0F./g,function(et){return String.fromCharCode(et.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(ae[3]>P&&(H["!ref"]=bt(pe),Y[K]=H,Z.push(K),H={},G.dense&&(ne=H["!data"]=[]),pe={s:{r:0,c:0},e:{r:0,c:0}},P=ae[3],K="Sheet"+(P+1)),xe>0&&ae[0].r>=xe)break;G.dense?(ne[ae[0].r]||(ne[ae[0].r]=[]),ne[ae[0].r][ae[0].c]=ae[1]):H[Nt(ae[0])]=ae[1],pe.e.c<ae[0].c&&(pe.e.c=ae[0].c),pe.e.r<ae[0].r&&(pe.e.r=ae[0].r);break;case 27:ae[14e3]&&(ee[ae[14e3][0]]=ae[14e3][1]);break;case 1537:ee[ae[0]]=ae[1],ae[0]==P&&(K=ae[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(H["!ref"]=bt(pe),Y[k||K]=H,Z.push(k||K),!ee.length)return{SheetNames:Z,Sheets:Y};for(var ge={},le=[],Se=0;Se<ee.length;++Se)Y[Z[Se]]?(le.push(ee[Se]||Z[Se]),ge[ee[Se]]=Y[ee[Se]]||Y[Z[Se]]):(le.push(ee[Se]),ge[ee[Se]]={"!ref":"A1"});return{SheetNames:le,Sheets:ge}}function i(z,q){var G=q||{};if(+G.codepage>=0&&Pa(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var H=QF();if(!z["!ref"])throw new Error("Cannot export empty sheet to WK1");var K=$n(z["!ref"]),k=z["!data"]!=null,P=[];ls(H,0,a(1030)),ls(H,6,c(K));for(var Y=Math.min(K.e.r,8191),Z=K.s.c;Z<=K.e.c;++Z)P[Z]=Lt(Z);for(var ee=K.s.r;ee<=Y;++ee){var ne=Gt(ee);for(Z=K.s.c;Z<=K.e.c;++Z){var pe=k?(z["!data"][ee]||[])[Z]:z[P[Z]+ne];if(!(!pe||pe.t=="z"))switch(pe.t){case"n":(pe.v|0)==pe.v&&pe.v>=-32768&&pe.v<=32767?ls(H,13,m(ee,Z,pe)):ls(H,14,y(ee,Z,pe));break;case"d":var xe=Qn(pe.v);(xe|0)==xe&&xe>=-32768&&xe<=32767?ls(H,13,m(ee,Z,{t:"n",v:xe,z:pe.z||it[14]})):ls(H,14,y(ee,Z,{t:"n",v:xe,z:pe.z||it[14]}));break;default:var ye=$u(pe);ls(H,15,d(ee,Z,ye.slice(0,239)))}}}return ls(H,1),H.end()}function s(z,q){var G=q||{};if(+G.codepage>=0&&Pa(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var H=QF();ls(H,0,o(z));for(var K=0,k=0;K<z.SheetNames.length;++K)(z.Sheets[z.SheetNames[K]]||{})["!ref"]&&ls(H,27,ve(z.SheetNames[K],k++));var P=0;for(K=0;K<z.SheetNames.length;++K){var Y=z.Sheets[z.SheetNames[K]];if(!(!Y||!Y["!ref"])){for(var Z=$n(Y["!ref"]),ee=Y["!data"]!=null,ne=[],pe=Math.min(Z.e.r,8191),xe=Z.s.r;xe<=pe;++xe)for(var ye=Gt(xe),ge=Z.s.c;ge<=Z.e.c;++ge){xe===Z.s.r&&(ne[ge]=Lt(ge));var le=ne[ge]+ye,Se=ee?(Y["!data"][xe]||[])[ge]:Y[le];if(!(!Se||Se.t=="z"))if(Se.t=="n")ls(H,23,F(xe,ge,P,Se.v));else{var ae=$u(Se);ls(H,22,T(xe,ge,P,ae.slice(0,239)))}}++P}}return ls(H,1),H.end()}function a(z){var q=Pn(2);return q.write_shift(2,z),q}function o(z){var q=Pn(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var G=0,H=0,K=0,k=0;k<z.SheetNames.length;++k){var P=z.SheetNames[k],Y=z.Sheets[P];if(!(!Y||!Y["!ref"])){++K;var Z=pd(Y["!ref"]);G<Z.e.r&&(G=Z.e.r),H<Z.e.c&&(H=Z.e.c)}}return G>8191&&(G=8191),q.write_shift(2,G),q.write_shift(1,K),q.write_shift(1,H),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(z,q,G){var H={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&G.qpro?(H.s.c=z.read_shift(1),z.l++,H.s.r=z.read_shift(2),H.e.c=z.read_shift(1),z.l++,H.e.r=z.read_shift(2),H):(H.s.c=z.read_shift(2),H.s.r=z.read_shift(2),q==12&&G.qpro&&(z.l+=2),H.e.c=z.read_shift(2),H.e.r=z.read_shift(2),q==12&&G.qpro&&(z.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function c(z){var q=Pn(8);return q.write_shift(2,z.s.c),q.write_shift(2,z.s.r),q.write_shift(2,z.e.c),q.write_shift(2,z.e.r),q}function u(z,q,G){var H=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(H[0].c=z.read_shift(1),H[3]=z.read_shift(1),H[0].r=z.read_shift(2),z.l+=2):G.works?(H[0].c=z.read_shift(2),H[0].r=z.read_shift(2),H[2]=z.read_shift(2)):(H[2]=z.read_shift(1),H[0].c=z.read_shift(2),H[0].r=z.read_shift(2)),H}function f(z){return z.z&&Ka(z.z)?240|(n.indexOf(z.z)+1||2):255}function h(z,q,G){var H=z.l+q,K=u(z,q,G);if(K[1].t="s",(G.vers&65534)==20768){z.l++;var k=z.read_shift(1);return K[1].v=z.read_shift(k,"utf8"),K}return G.qpro&&z.l++,K[1].v=z.read_shift(H-z.l,"cstr"),K}function d(z,q,G){var H=Pn(7+G.length);H.write_shift(1,255),H.write_shift(2,q),H.write_shift(2,z),H.write_shift(1,39);for(var K=0;K<H.length;++K){var k=G.charCodeAt(K);H.write_shift(1,k>=128?95:k)}return H.write_shift(1,0),H}function p(z,q,G){var H=z.l+q,K=u(z,q,G);if(K[1].t="s",G.vers==20768){var k=z.read_shift(1);return K[1].v=z.read_shift(k,"utf8"),K}return K[1].v=z.read_shift(H-z.l,"cstr"),K}function g(z,q,G){var H=u(z,q,G);return H[1].v=z.read_shift(2,"i"),H}function m(z,q,G){var H=Pn(7);return H.write_shift(1,f(G)),H.write_shift(2,q),H.write_shift(2,z),H.write_shift(2,G.v,"i"),H}function x(z,q,G){var H=u(z,q,G);return H[1].v=z.read_shift(8,"f"),H}function y(z,q,G){var H=Pn(13);return H.write_shift(1,f(G)),H.write_shift(2,q),H.write_shift(2,z),H.write_shift(8,G.v,"f"),H}function v(z,q,G){var H=z.l+q,K=u(z,q,G);if(K[1].v=z.read_shift(8,"f"),G.qpro)z.l=H;else{var k=z.read_shift(2);E(z.slice(z.l,z.l+k),K),z.l+=k}return K}function _(z,q,G){var H=q&32768;return q&=-32769,q=(H?z:0)+(q>=8192?q-16384:q),(H?"":"$")+(G?Lt(q):Gt(q))}var b={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(z,q){Hn(z,0);for(var G=[],H=0,K="",k="",P="",Y="";z.l<z.length;){var Z=z[z.l++];switch(Z){case 0:G.push(z.read_shift(8,"f"));break;case 1:k=_(q[0].c,z.read_shift(2),!0),K=_(q[0].r,z.read_shift(2),!1),G.push(k+K);break;case 2:{var ee=_(q[0].c,z.read_shift(2),!0),ne=_(q[0].r,z.read_shift(2),!1);k=_(q[0].c,z.read_shift(2),!0),K=_(q[0].r,z.read_shift(2),!1),G.push(ee+ne+":"+k+K)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(z.read_shift(2));break;case 6:{for(var pe="";Z=z[z.l++];)pe+=String.fromCharCode(Z);G.push('"'+pe.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Y=G.pop(),P=G.pop(),G.push(["AND","OR"][Z-20]+"("+P+","+Y+")");break;default:if(Z<32&&w[Z])Y=G.pop(),P=G.pop(),G.push(P+w[Z]+Y);else if(b[Z]){if(H=b[Z][1],H==69&&(H=z[z.l++]),H>G.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+G.join("|")+"|");return}var xe=G.slice(-H);G.length-=H,G.push(b[Z][0]+"("+xe.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}G.length==1?q[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function A(z){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=z.read_shift(2),q[3]=z[z.l++],q[0].c=z[z.l++],q}function S(z,q){var G=A(z);return G[1].t="s",G[1].v=z.read_shift(q-4,"cstr"),G}function T(z,q,G,H){var K=Pn(6+H.length);K.write_shift(2,z),K.write_shift(1,G),K.write_shift(1,q),K.write_shift(1,39);for(var k=0;k<H.length;++k){var P=H.charCodeAt(k);K.write_shift(1,P>=128?95:P)}return K.write_shift(1,0),K}function C(z,q){var G=A(z);G[1].v=z.read_shift(2);var H=G[1].v>>1;if(G[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return G[1].v=H,G}function O(z,q){var G=A(z),H=z.read_shift(4),K=z.read_shift(4),k=z.read_shift(2);if(k==65535)return H===0&&K===3221225472?(G[1].t="e",G[1].v=15):H===0&&K===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var P=k&32768;return k=(k&32767)-16446,G[1].v=(1-P*2)*(K*Math.pow(2,k+32)+H*Math.pow(2,k)),G}function F(z,q,G,H){var K=Pn(14);if(K.write_shift(2,z),K.write_shift(1,G),K.write_shift(1,q),H==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var k=0,P=0,Y=0,Z=0;return H<0&&(k=1,H=-H),P=Math.log2(H)|0,H/=Math.pow(2,P-31),Z=H>>>0,Z&2147483648||(H/=2,++P,Z=H>>>0),H-=Z,Z|=2147483648,Z>>>=0,H*=Math.pow(2,32),Y=H>>>0,K.write_shift(4,Y),K.write_shift(4,Z),P+=16383+(k?32768:0),K.write_shift(2,P),K}function I(z,q){var G=O(z);return z.l+=q-14,G}function D(z,q){var G=A(z),H=z.read_shift(4);return G[1].v=H>>6,G}function N(z,q){var G=A(z),H=z.read_shift(8,"f");return G[1].v=H,G}function M(z,q){var G=N(z);return z.l+=q-12,G}function U(z,q){return z[z.l+q-1]==0?z.read_shift(q,"cstr"):""}function J(z,q){var G=z[z.l++];G>q-1&&(G=q-1);for(var H="";H.length<G;)H+=String.fromCharCode(z[z.l++]);return H}function X(z,q,G){if(!(!G.qpro||q<21)){var H=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var K=z.read_shift(q-21,"cstr");return[H,K]}}function ce(z,q){for(var G={},H=z.l+q;z.l<H;){var K=z.read_shift(2);if(K==14e3){for(G[K]=[0,""],G[K][0]=z.read_shift(2);z[z.l];)G[K][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return G}function ve(z,q){var G=Pn(5+z.length);G.write_shift(2,14e3),G.write_shift(2,q);for(var H=0;H<z.length;++H){var K=z.charCodeAt(H);G[G.l++]=K>127?95:K}return G[G.l++]=0,G}var _e={0:{n:"BOF",f:yn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:U},222:{n:"SHEETNAMELP",f:J},255:{n:"BOF",f:yn},21506:{n:"WKSNF",f:yn},65535:{n:""}},de={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:U},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},Fe={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function Ne(z){var q=z.read_shift(2),G=z.read_shift(1);if(G!=0)throw"unsupported QPW string type "+G.toString(16);return z.read_shift(q,"sbcs-cont")}function je(z,q){Hn(z,0);var G=q||{},H={};G.dense&&(H["!data"]=[]);var K=[],k="",P={s:{r:-1,c:-1},e:{r:-1,c:-1}},Y=0,Z=0,ee=0,ne=0,pe={SheetNames:[],Sheets:{}},xe=[];e:for(;z.l<z.length;){var ye=z.read_shift(2),ge=z.read_shift(2),le=z.slice(z.l,z.l+ge);switch(Hn(le,0),ye){case 1:if(le.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var Se=le.read_shift(4),ae=(le.length-le.l)/Se|0,qe=0;qe<Se;++qe){var Xe=le.l+ae,et={};le.l+=2,et.numFmtId=le.read_shift(2),Fe[et.numFmtId]&&(et.z=Fe[et.numFmtId]),le.l=Xe,xe.push(et)}break;case 1025:break;case 1026:break;case 1031:for(le.l+=12;le.l<le.length;)Y=le.read_shift(2),Z=le.read_shift(1),K.push(le.read_shift(Y,"cstr"));break;case 1032:break;case 1537:{var lt=le.read_shift(2);H={},G.dense&&(H["!data"]=[]),P.s.c=le.read_shift(2),P.e.c=le.read_shift(2),P.s.r=le.read_shift(4),P.e.r=le.read_shift(4),le.l+=4,le.l+2<le.length&&(Y=le.read_shift(2),Z=le.read_shift(1),k=Y==0?"":le.read_shift(Y,"cstr")),k||(k=Lt(lt))}break;case 1538:{if(P.s.c>255||P.s.r>999999)break;P.e.c<P.s.c&&(P.e.c=P.s.c),P.e.r<P.s.r&&(P.e.r=P.s.r),H["!ref"]=bt(P),fv(pe,H,k)}break;case 2561:ee=le.read_shift(2),P.e.c<ee&&(P.e.c=ee),P.s.c>ee&&(P.s.c=ee),ne=le.read_shift(4),P.s.r>ne&&(P.s.r=ne),ne=le.read_shift(4),P.e.r<ne&&(P.e.r=ne);break;case 3073:{ne=le.read_shift(4),Y=le.read_shift(4),P.s.r>ne&&(P.s.r=ne),P.e.r<ne+Y-1&&(P.e.r=ne+Y-1);for(var It=Lt(ee);le.l<le.length;){var De={t:"z"},pt=le.read_shift(1),pn=-1;pt&128&&(pn=le.read_shift(2));var nn=pt&64?le.read_shift(2)-1:0;switch(pt&31){case 0:break;case 1:break;case 2:De={t:"n",v:le.read_shift(2)};break;case 3:De={t:"n",v:le.read_shift(2,"i")};break;case 4:De={t:"n",v:RS(le)};break;case 5:De={t:"n",v:le.read_shift(8,"f")};break;case 7:De={t:"s",v:K[Z=le.read_shift(4)-1]};break;case 8:De={t:"n",v:le.read_shift(8,"f")},le.l+=2,le.l+=4,isNaN(De.v)&&(De={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(pt&31)}pn!=-1&&(xe[pn-1]||{}).z&&(De.z=xe[pn-1].z);var Ps=0;if(pt&32)switch(pt&31){case 2:Ps=le.read_shift(2);break;case 3:Ps=le.read_shift(2,"i");break;case 7:Ps=le.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(pt&31)}if(!(!G.sheetStubs&&De.t=="z")){var Tn=Bn(De);De.t=="n"&&De.z&&Ka(De.z)&&G.cellDates&&(Tn.v=au(De.v),Tn.t=typeof Tn.v=="number"?"n":"d"),H["!data"]!=null?(H["!data"][ne]||(H["!data"][ne]=[]),H["!data"][ne][ee]=Tn):H[It+Gt(ne)]=Tn}for(++ne,--Y;nn-- >0&&Y>=0;){if(pt&32)switch(pt&31){case 2:De={t:"n",v:De.v+Ps&65535};break;case 3:De={t:"n",v:De.v+Ps&65535},De.v>32767&&(De.v-=65536);break;case 7:De={t:"s",v:K[Z=Z+Ps>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(pt&31)}else switch(pt&31){case 1:De={t:"z"};break;case 2:De={t:"n",v:le.read_shift(2)};break;case 7:De={t:"s",v:K[Z=le.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(pt&31)}!G.sheetStubs&&De.t=="z"||(H["!data"]!=null?(H["!data"][ne]||(H["!data"][ne]=[]),H["!data"][ne][ee]=De):H[It+Gt(ne)]=De),++ne,--Y}}}break;case 3074:{ee=le.read_shift(2),ne=le.read_shift(4);var oi=Ne(le);H["!data"]!=null?(H["!data"][ne]||(H["!data"][ne]=[]),H["!data"][ne][ee]={t:"s",v:oi}):H[Lt(ee)+Gt(ne)]={t:"s",v:oi}}break}z.l+=ge}return pe}return{sheet_to_wk1:i,book_to_wk3:s,to_workbook:t}}();function KGe(e){var t={},n=e.match(Nr),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Ve(n[r]);switch(s[0].replace(/<\w*:/g,"<")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=WR[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var JGe=function(){function e(r){var i=or(r,"t");if(!i)return{t:"s",v:""};var s={t:"s",v:_t(i[1])},a=or(r,"rPr");return a&&(s.s=KGe(a[1])),s}var t=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(i){return i.replace(t,"").split(n).map(e).filter(function(s){return s.v})}}(),ZGe=function(){var t=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),QGe=/<(?:\w+:)?t\b[^<>]*>([^<]*)<\/(?:\w+:)?t>/g,eqe=/<(?:\w+:)?r\b[^<>]*>/;function sI(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=_t(Jt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""),!0),r.r=Jt(e),n&&(r.h=Im(r.t))):e.match(eqe)&&(r.r=Jt(e),r.t=_t(Jt((oWe(e,"rPh").match(QGe)||[]).join("").replace(Nr,"")),!0),n&&(r.h=ZGe(JGe(r.r)))),r):{t:""}}var tqe=/<(?:\w+:)?(?:si|sstItem)>/g,nqe=/<\/(?:\w+:)?(?:si|sstItem)>/;function rqe(e,t){var n=[],r="";if(!e)return n;var i=or(e,"sst");if(i){r=i[1].replace(tqe,"").split(nqe);for(var s=0;s!=r.length;++s){var a=sI(r[s].trim(),t);a!=null&&(n[n.length]=a)}i=Ve(i[0].slice(0,i[0].indexOf(">"))),n.Count=i.count,n.Unique=i.uniqueCount}return n}function iqe(e){return[e.read_shift(4),e.read_shift(4)]}function sqe(e,t){var n=[],r=!1;return hc(e,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Hte(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function jl(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function aqe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=jl(e,4),t.U=jl(e,4),t.W=jl(e,4),t}function oqe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function lqe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(oqe(e));return t}function cqe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function uqe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=jl(e,4),t.U=jl(e,4),t.W=jl(e,4),t}function fqe(e){var t=uqe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Vte(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function Wte(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function hqe(e){var t=jl(e);switch(t.Minor){case 2:return[t.Minor,dqe(e)];case 3:return[t.Minor,pqe()];case 4:return[t.Minor,gqe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function dqe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=Vte(e,n),i=Wte(e,e.length-e.l);return{t:"Std",h:r,v:i}}function pqe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function gqe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Nr,function(s){var a=Ve(s);switch(_a(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function mqe(e,t){var n={},r=n.EncryptionVersionInfo=jl(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=Vte(e,i),t-=i,n.EncryptionVerifier=Wte(e,t),n}function xqe(e){var t={},n=t.EncryptionVersionInfo=jl(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function vqe(e){var t=0,n,r=Hte(e),i=r.length+1,s,a,o,l,c;for(n=Du(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^a;return t^52811}var jte=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=t[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=Hte(a),l=s(o),c=o.length,u=Du(16),f=0;f!=16;++f)u[f]=0;var h,d,p;for((c&1)===1&&(h=l>>8,u[c]=i(e[0],h),--c,h=l&255,d=o[o.length-1],u[c]=i(d,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,p=15-o.length;p>0;)h=l>>8,u[c]=i(e[p],h),--c,--p,h=l&255,u[c]=i(o[c],h),--c,--p;return u}}(),yqe=function(e,t,n,r,i){i||(i=t),r||(r=jte(e));var s,a;for(s=0;s!=t.length;++s)a=t[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},_qe=function(e){var t=0,n=jte(e);return function(r){var i=yqe("",r,t,n);return t=i[1],i[0]}};function bqe(e,t,n,r){var i={key:yn(e),verificationBytes:yn(e)};return n.password&&(i.verifier=vqe(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=_qe(n.password)),i}function Eqe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=xqe(e):r.Data=mqe(e,t),r}function wqe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?Eqe(e,t-2,r):bqe(e,n.biff>=8?t:t-2,n,r),r}function Sqe(e,t){switch(t.type){case"base64":return Ry($s(e),t);case"binary":return Ry(e,t);case"buffer":return Ry(vt&&Buffer.isBuffer(e)?e.toString("binary"):Zl(e),t);case"array":return Ry(zh(e),t)}throw new Error("Unrecognized type "+t.type)}function Ry(e,t){var n=t||{},r={},i=n.dense;i&&(r["!data"]=[]);var s=JR(e,"\\trowd","\\row");if(!s)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:s.length-1}},o=[];return s.forEach(function(l,c){i&&(o=r["!data"][c]=[]);for(var u=/\\[\w\-]+\b/g,f=0,h,d=-1,p=[];(h=u.exec(l))!=null;){var g=l.slice(f,u.lastIndex-h[0].length);switch(g.charCodeAt(0)==32&&(g=g.slice(1)),g.length&&p.push(g),h[0]){case"\\cell":if(++d,p.length){var m={v:p.join(""),t:"s"};m.v=="TRUE"||m.v=="FALSE"?(m.v=m.v=="TRUE",m.t="b"):isNaN(Ss(m.v))?wr[m.v]!=null&&(m.t="e",m.w=m.v,m.v=wr[m.v]):(m.t="n",n.cellText!==!1&&(m.w=m.v),m.v=Ss(m.v)),i?o[d]=m:r[Nt({r:c,c:d})]=m}p=[];break;case"\\par":p.push(`
`);break}f=u.lastIndex}d>a.e.c&&(a.e.c=d)}),r["!ref"]=bt(a),r}function Aqe(e,t){var n=rf(Sqe(e,t),t);return n.bookType="rtf",n}function Tqe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function V1(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function kqe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=i-s;if(a===0)return[0,0,t];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case t:o=((n-r)/a+6)%6;break;case n:o=(r-t)/a+2;break;case r:o=(t-n)/a+4;break}return[o/6,l,c/2]}function Cqe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*t,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function Bb(e,t){if(t===0)return e;var n=kqe(Tqe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),V1(Cqe(n))}var Gte=6,Fqe=15,Oqe=1,yi=Gte;function Ub(e){return Math.floor((e+Math.round(128/yi)/256)*yi)}function zb(e){return Math.floor((e-5)/yi*100+.5)/100}function n3(e){return Math.round((e*yi+5)/yi*256)/256}function GT(e){return n3(zb(Ub(e)))}function aI(e){var t=Math.abs(e-GT(e)),n=yi;if(t>.005)for(yi=Oqe;yi<Fqe;++yi)Math.abs(e-GT(e))<=t&&(t=Math.abs(e-GT(e)),n=yi);yi=n}function bp(e){e.width?(e.wpx=Ub(e.width),e.wch=zb(e.wpx),e.MDW=yi):e.wpx?(e.wch=zb(e.wpx),e.width=n3(e.wch),e.MDW=yi):typeof e.wch=="number"&&(e.width=n3(e.wch),e.wpx=Ub(e.width),e.MDW=yi),e.customWidth&&delete e.customWidth}var Nqe=96,qte=Nqe;function Xte(e){return e*96/qte}function W1(e){return e*qte/96}var Dqe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $qe(e,t,n,r){t.Borders=[];var i={},s=!1;(e.match(Nr)||[]).forEach(function(a){var o=Ve(a);switch(_a(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=jt(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=jt(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Rqe(e,t,n,r){t.Fills=[];var i={},s=!1;(e.match(Nr)||[]).forEach(function(a){var o=Ve(a);switch(_a(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function Iqe(e,t,n,r){t.Fonts=[];var i={},s=!1;(e.match(Nr)||[]).forEach(function(a){var o=Ve(a);switch(_a(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Jt(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?jt(o.val):1;break;case"<b/>":i.bold=1;break;case"</b>":case"</b":break;case"<i":i.italic=o.val?jt(o.val):1;break;case"<i/>":i.italic=1;break;case"</i>":case"</i":break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"</u>":case"</u":break;case"<strike":i.strike=o.val?jt(o.val):1;break;case"<strike/>":i.strike=1;break;case"</strike>":case"</strike":break;case"<outline":i.outline=o.val?jt(o.val):1;break;case"<outline/>":i.outline=1;break;case"</outline>":case"</outline":break;case"<shadow":i.shadow=o.val?jt(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"</shadow>":case"</shadow":break;case"<condense":i.condense=o.val?jt(o.val):1;break;case"<condense/>":i.condense=1;break;case"</condense>":case"</condense":break;case"<extend":i.extend=o.val?jt(o.val):1;break;case"<extend/>":i.extend=1;break;case"</extend>":case"</extend":break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":case"</sz":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":case"</vertAlign":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":case"</family":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":case"</scheme":break;case"<charset":if(o.val=="1")break;o.codepage=WR[parseInt(o.val,10)];break;case"<charset/>":case"</charset>":case"</charset":break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=jt(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=oh[i.color.index];i.color.index==81&&(l=oh[1]),l||(l=oh[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=Bb(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":case"</color":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":case"</AlternateContent":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Mqe(e,t,n){t.NumberFmt=[];for(var r=na(it),i=0;i<r.length;++i)t.NumberFmt[r[i]]=it[r[i]];var s=e.match(Nr);if(s)for(i=0;i<s.length;++i){var a=Ve(s[i]);switch(_a(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=_t(Jt(a.formatCode)),l=parseInt(a.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}sh(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var Iy=["numFmtId","fillId","fontId","borderId","xfId"],My=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Lqe(e,t,n){t.CellXf=[];var r,i=!1;(e.match(Nr)||[]).forEach(function(s){var a=Ve(s),o=0;switch(_a(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":case"<xf>":for(r=a,delete r[0],o=0;o<Iy.length;++o)r[Iy[o]]&&(r[Iy[o]]=parseInt(r[Iy[o]],10));for(o=0;o<My.length;++o)r[My[o]]&&(r[My[o]]=jt(r[My[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":case"<alignment>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=jt(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":case"<protection>":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var Pqe=function(){return function(n,r,i){var s={};if(!n)return s;n=KR(sv(n,"<!--","-->"));var a;return(a=or(n,"numFmts"))&&Mqe(a[0],s,i),(a=or(n,"fonts"))&&Iqe(a[0],s,r,i),(a=or(n,"fills"))&&Rqe(a[0],s,r,i),(a=or(n,"borders"))&&$qe(a[0],s,r,i),(a=or(n,"cellXfs"))&&Lqe(a[0],s,i),s}}();function Bqe(e,t){var n=e.read_shift(2),r=ri(e);return[n,r]}function Uqe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=qWe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=e.read_shift(1);a!=0&&(r.underline=a);var o=e.read_shift(1);o>0&&(r.family=o);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=GWe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ri(e),r}var zqe=ai;function Hqe(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}var Vqe=ai;function Wqe(e,t,n){var r={};r.NumberFmt=[];for(var i in it)r.NumberFmt[i]=it[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return hc(e,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],sh(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Bb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}var jqe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Gqe(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Nr)||[]).forEach(function(i){var s=Ve(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"</a:srgbClr>":break;case"<a:sysClr":r.rgb=s.lastClr;break;case"</a:sysClr>":break;case"</a:dk1>":case"</a:lt1>":case"<a:dk1>":case"<a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[jqe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function qqe(e,t,n){t.themeElements={};var r;if(!(r=ah(e,"a:clrScheme")))throw new Error("clrScheme not found in themeElements");if(Gqe(r,t,n),!(r=ah(e,"a:fontScheme")))throw new Error("fontScheme not found in themeElements");if(!(r=ah(e,"a:fmtScheme")))throw new Error("fmtScheme not found in themeElements")}function Yte(e,t){(!e||e.length===0)&&(e=Xqe());var n,r={};if(!(n=ah(e,"a:themeElements")))throw new Error("themeElements not found in theme");return qqe(n[0],r,t),r.raw=e,r}function Xqe(e,t){var n=[ate];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Yqe(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var a;try{a=ste(s,{type:"array"})}catch{return}var o=bi(a,"theme/theme/theme1.xml",!0);if(o)return Yte(o,n)}}function Kqe(e){return e.read_shift(4)}function Jqe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Zqe(e,4);break;case 2:t.xclrValue=Ite(e);break;case 3:t.xclrValue=Kqe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Zqe(e,t){return ai(e,t)}function Qqe(e,t){return ai(e,t)}function eXe(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Jqe(e);break;case 6:r[1]=Qqe(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function tXe(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(eXe(e,n-e.l));return{ixfe:r,ext:s}}function nXe(e,t){t.forEach(function(n){switch(n[0]){}})}function rXe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ri(e)}}function iXe(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function sXe(e){return e.l+=4,e.read_shift(4)!=0}function aXe(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return hc(e,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function oXe(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,a;return e.replace(Nr,function(o){var l=Ve(o);switch(_a(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&(n!=null&&n.WTF))throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function lXe(e){var t=[];if(!e)return t;var n=1;return(e.match(Nr)||[]).forEach(function(r){var i=Ve(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function cXe(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Nt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function uXe(e,t,n){var r=[];return hc(e,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function fXe(e,t,n,r){if(!e)return e;var i=r||{},s=!1;hc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function hXe(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^<>]*r:id="([^<>"]*)"/)||["",""])[1];return t["!id"][n].Target}function dXe(e,t,n){var r=0;(nte(e,"shape")||[]).forEach(function(i){var s="",a=!0,o=-1,l=-1,c=-1;switch(i.replace(Nr,function(f,h){var d=Ve(f);switch(_a(d[0])){case"<ClientData":d.ObjectType&&(s=d.ObjectType);break;case"<Visible":case"<Visible/>":a=!1;break;case"<Row":case"<Row>":o=h+f.length;break;case"</Row>":l=+i.slice(o,h).trim();break;case"<Column":case"<Column>":o=h+f.length;break;case"</Column>":c=+i.slice(o,h).trim();break}return""}),s){case"Note":var u=G1(t,l>=0&&c>=0?Nt({r:l,c}):n[r].ref);u.c&&(u.c.hidden=a),++r;break}})}function E7(e,t,n,r){var i=e["!data"]!=null,s;t.forEach(function(a){var o=Jr(a.ref);if(!(o.r<0||o.c<0)){if(i?(e["!data"][o.r]||(e["!data"][o.r]=[]),s=e["!data"][o.r][o.c]):s=e[a.ref],!s){s={t:"z"},i?e["!data"][o.r][o.c]=s:e[a.ref]=s;var l=$n(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=bt(l);e["!ref"]=c}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)}})}function pXe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=or(e,"authors");i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^<>]*>(.*)/);o&&n.push(o[1])}});var s=or(e,"commentList");return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^<>]*>/);if(o){var l=Ve(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Jr(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=or(a,"text"),h=!!f&&!!f[1]&&sI(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function gXe(e,t){var n=[],r=!1,i={},s=0;return e.replace(Nr,function(o,l){var c=Ve(o);switch(_a(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function mXe(e,t){var n=[],r=!1;return e.replace(Nr,function(s){var a=Ve(s);switch(_a(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function xXe(e){var t={};t.iauthor=e.read_shift(4);var n=md(e);return t.rfx=n.s,t.ref=Nt(n.s),e.l+=16,t}var vXe=ri;function yXe(e,t){var n=[],r=[],i={},s=!1;return hc(e,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var _Xe="application/vnd.ms-office.vbaProject";function bXe(e){var t=At.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");At.utils.cfb_add(t,i,e.FileIndex[r].content)}}),At.write(t)}function EXe(){return{"!type":"dialog"}}function wXe(){return{"!type":"dialog"}}function SXe(){return{"!type":"macro"}}function AXe(){return{"!type":"macro"}}var lh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,i+(o?"":"$")+Lt(u)+(l?"":"$")+Gt(c)}return function(i,s){return t=s,i.replace(e,n)}}(),oI=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{oI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var TXe=function(){return function(t,n){return t.replace(oI,function(r,i,s,a,o,l){var c=tI(a)-(s?0:n.c),u=eI(l)-(o?0:n.r),f=o=="$"?u+1:u==0?"":"["+u+"]",h=s=="$"?c+1:c==0?"":"["+c+"]";return i+"R"+f+"C"+h})}}();function Kte(e,t){return e.replace(oI,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Lt(tI(s)+t.c))+(a=="$"?a+o:Gt(eI(o)+t.r))})}function w7(e,t,n){var r=pd(t),i=r.s,s=Jr(n),a={r:s.r-i.r,c:s.c-i.c};return Kte(e,a)}function kXe(e){return e.length!=1}function S7(e){return e.replace(/_xlfn\./g,"")}function In(e){e.l+=1}function Ru(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function Jte(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return Zte(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),a=Ru(e),o=Ru(e);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function Zte(e){var t=Ru(e),n=Ru(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function CXe(e,t,n){if(n.biff<8)return Zte(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=Ru(e),a=Ru(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function Qte(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return FXe(e);var r=e.read_shift(n&&n.biff==12?4:2),i=Ru(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function FXe(e){var t=Ru(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function OXe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function NXe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return DXe(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function DXe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function $Xe(e,t,n){var r=(e[e.l++]&96)>>5,i=Jte(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function RXe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var a=Jte(e,s,n);return[r,i,a]}function IXe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function MXe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function LXe(e,t,n){var r=(e[e.l++]&96)>>5,i=CXe(e,t-1,n);return[r,i]}function PXe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function A7(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function BXe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function UXe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function zXe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function HXe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function VXe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function ene(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function WXe(e){return e.read_shift(2),ene(e)}function jXe(e){return e.read_shift(2),ene(e)}function GXe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=Qte(e,0,n);return[r,i]}function qXe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=NXe(e,0,n);return[r,i]}function XXe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=Qte(e,0,n);return[r,i,s]}function YXe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[KYe[i],rne[i],r]}function KXe(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:JXe(e);return[i,(s[0]===0?rne:YYe)[s[1]]]}function JXe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ZXe(e,t,n){e.l+=n&&n.biff==2?3:4}function QXe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function eYe(e){return e.l++,is[e.read_shift(1)]}function tYe(e){return e.l++,e.read_shift(2)}function nYe(e){return e.l++,e.read_shift(1)!==0}function rYe(e){return e.l++,jr(e)}function iYe(e,t,n){return e.l++,_p(e,t-1,n)}function sYe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=kn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=is[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=jr(e);break;case 2:n[1]=xd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function aYe(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?md:IS)(e));return i}function oYe(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=sYe(e,n.biff);return a}function lYe(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function cYe(e,t,n){if(n.biff==5)return uYe(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function uYe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function fYe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function hYe(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function dYe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function pYe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var gYe=ai,mYe=ai,xYe=ai;function lv(e,t,n){return e.l+=2,[OXe(e)]}function lI(e){return e.l+=6,[]}var vYe=lv,yYe=lI,_Ye=lI,bYe=lv;function tne(e){return e.l+=2,[yn(e),e.read_shift(2)&1]}var EYe=lv,wYe=tne,SYe=lI,AYe=lv,TYe=lv,kYe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function CYe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),a=kYe[n>>2&31];return{ixti:t,coltype:n&3,rt:a,idx:r,c:i,C:s}}function FYe(e){return e.l+=2,[e.read_shift(4)]}function OYe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function NYe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function DYe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function $Ye(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function RYe(e){return e.l+=4,[0,0]}var T7={1:{n:"PtgExp",f:QXe},2:{n:"PtgTbl",f:xYe},3:{n:"PtgAdd",f:In},4:{n:"PtgSub",f:In},5:{n:"PtgMul",f:In},6:{n:"PtgDiv",f:In},7:{n:"PtgPower",f:In},8:{n:"PtgConcat",f:In},9:{n:"PtgLt",f:In},10:{n:"PtgLe",f:In},11:{n:"PtgEq",f:In},12:{n:"PtgGe",f:In},13:{n:"PtgGt",f:In},14:{n:"PtgNe",f:In},15:{n:"PtgIsect",f:In},16:{n:"PtgUnion",f:In},17:{n:"PtgRange",f:In},18:{n:"PtgUplus",f:In},19:{n:"PtgUminus",f:In},20:{n:"PtgPercent",f:In},21:{n:"PtgParen",f:In},22:{n:"PtgMissArg",f:In},23:{n:"PtgStr",f:iYe},26:{n:"PtgSheet",f:OYe},27:{n:"PtgEndSheet",f:NYe},28:{n:"PtgErr",f:eYe},29:{n:"PtgBool",f:nYe},30:{n:"PtgInt",f:tYe},31:{n:"PtgNum",f:rYe},32:{n:"PtgArray",f:PXe},33:{n:"PtgFunc",f:YXe},34:{n:"PtgFuncVar",f:KXe},35:{n:"PtgName",f:lYe},36:{n:"PtgRef",f:GXe},37:{n:"PtgArea",f:$Xe},38:{n:"PtgMemArea",f:fYe},39:{n:"PtgMemErr",f:gYe},40:{n:"PtgMemNoMem",f:mYe},41:{n:"PtgMemFunc",f:hYe},42:{n:"PtgRefErr",f:dYe},43:{n:"PtgAreaErr",f:IXe},44:{n:"PtgRefN",f:qXe},45:{n:"PtgAreaN",f:LXe},46:{n:"PtgMemAreaN",f:DYe},47:{n:"PtgMemNoMemN",f:$Ye},57:{n:"PtgNameX",f:cYe},58:{n:"PtgRef3d",f:XXe},59:{n:"PtgArea3d",f:RXe},60:{n:"PtgRefErr3d",f:pYe},61:{n:"PtgAreaErr3d",f:MXe},255:{}},IYe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},MYe={1:{n:"PtgElfLel",f:tne},2:{n:"PtgElfRw",f:AYe},3:{n:"PtgElfCol",f:vYe},6:{n:"PtgElfRwV",f:TYe},7:{n:"PtgElfColV",f:bYe},10:{n:"PtgElfRadical",f:EYe},11:{n:"PtgElfRadicalS",f:SYe},13:{n:"PtgElfColS",f:yYe},15:{n:"PtgElfColSV",f:_Ye},16:{n:"PtgElfRadicalLel",f:wYe},25:{n:"PtgList",f:CYe},29:{n:"PtgSxName",f:FYe},255:{}},LYe={0:{n:"PtgAttrNoop",f:RYe},1:{n:"PtgAttrSemi",f:VXe},2:{n:"PtgAttrIf",f:zXe},4:{n:"PtgAttrChoose",f:BXe},8:{n:"PtgAttrGoto",f:UXe},16:{n:"PtgAttrSum",f:ZXe},32:{n:"PtgAttrBaxcel",f:A7},33:{n:"PtgAttrBaxcel",f:A7},64:{n:"PtgAttrSpace",f:WXe},65:{n:"PtgAttrSpaceSemi",f:jXe},128:{n:"PtgAttrIfError",f:HXe},255:{}};function cv(e,t,n,r){if(r.biff<8)return ai(e,t);for(var i=e.l+t,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=oYe(e,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=aYe(e,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=e.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return t=i-e.l,t!==0&&s.push(ai(e,t)),s}function uv(e,t,n){for(var r=e.l+t,i,s,a=[];r!=e.l;)t=r-e.l,s=e[e.l],i=T7[s]||T7[IYe[s]],(s===24||s===25)&&(i=(s===24?MYe:LYe)[e[e.l+1]]),!i||!i.f?ai(e,t):a.push([i.n,i.f(e,t,n)]);return a}function PYe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var BYe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function UYe(e,t){var n=e.lastIndexOf("!"),r=t.lastIndexOf("!");return n==-1&&r==-1?e+":"+t:n>0&&r>0&&e.slice(0,n).toLowerCase()==t.slice(0,r).toLowerCase()?e+":"+t.slice(r+1):(console.error("Cannot hydrate range",e,t),e+":"+t)}function nne(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function k7(e,t,n){var r=nne(e,t,n);return r=="#REF"?r:BWe(r,n)}function Hr(e,t,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,m="",x=0,y=e[0].length;x<y;++x){var v=e[0][x];switch(v[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:m=St(" ",e[0][g][1][1]);break;case 1:m=St("\r",e[0][g][1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}c=c+m,g=-1}o.push(c+BYe[v[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(UYe(c,l));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Lm(v[1][1],a,i),o.push(Pm(u,s));break;case"PtgRefN":u=n?Lm(v[1][1],n,i):v[1][1],o.push(Pm(u,s));break;case"PtgRef3d":f=v[1][1],u=Lm(v[1][2],a,i),p=k7(r,f,i),o.push(p+"!"+Pm(u,s));break;case"PtgFunc":case"PtgFuncVar":var _=v[1][0],b=v[1][1];_||(_=0),_&=127;var w=_==0?[]:o.slice(-_);o.length-=_,b==="User"&&(b=w.shift()),o.push(b+"("+w.join(",")+")");break;case"PtgBool":o.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(v[1]);break;case"PtgNum":o.push(String(v[1]));break;case"PtgStr":o.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(v[1]);break;case"PtgAreaN":d=s7(v[1][1],n?{s:n}:a,i),o.push(WT(d,i));break;case"PtgArea":d=s7(v[1][1],a,i),o.push(WT(d,i));break;case"PtgArea3d":f=v[1][1],d=v[1][2],p=k7(r,f,i),o.push(p+"!"+WT(d,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var E=(r.names||[])[h-1]||(r[0]||[])[h],A=E?E.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var S=v[1][1];h=v[1][2];var T;if(i.biff<=5)S<0&&(S=-S),r[S]&&(T=r[S][h]);else{var C="";if(((r[S]||[])[0]||[])[0]==14849||(((r[S]||[])[0]||[])[0]==1025?r[S][h]&&r[S][h].itab>0&&(C=r.SheetNames[r[S][h].itab-1]+"!"):C=r.SheetNames[h-1]+"!"),r[S]&&r[S][h])C+=r[S][h].Name;else if(r[0]&&r[0][h])C+=r[0][h].Name;else{var O=(nne(r,S,i)||"").split(";;");O[h-1]?C=O[h-1]:C+="SH33TJSERRX"}o.push(C);break}T||(T={Name:"SH33TJSERRY"}),o.push(T.Name);break;case"PtgParen":var F="(",I=")";if(g>=0){switch(m="",e[0][g][1][0]){case 2:F=St(" ",e[0][g][1][1])+F;break;case 3:F=St("\r",e[0][g][1][1])+F;break;case 4:I=St(" ",e[0][g][1][1])+I;break;case 5:I=St("\r",e[0][g][1][1])+I;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(F+o.pop()+I);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:v[1][1],r:v[1][0]};var D={c:n.c,r:n.r};if(r.sharedf[Nt(u)]){var N=r.sharedf[Nt(u)];o.push(Hr(N,a,D,r,i))}else{var M=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Hr(c[1],a,D,r,i)),M=!0;break}M||o.push(v[1])}break;case"PtgArray":o.push("{"+PYe(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var U=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&U.indexOf(e[0][x][0])==-1){v=e[0][g];var J=!0;switch(v[1][0]){case 4:J=!1;case 0:m=St(" ",v[1][1]);break;case 5:J=!1;case 1:m=St("\r",v[1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}o.push((J?m:"")+o.pop()+(J?"":m)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]=="TRUE"?!0:o[0]=="FALSE"?!1:o[0]}function zYe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],ai(e,t-2)];var o=uv(e,a,n);return t!==a+i&&(s=cv(e,t-a-i,o,n)),e.l=r,[o,s]}function HYe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],ai(e,t-2)];var o=uv(e,a,n);return t!==a+i&&(s=cv(e,t-a-i,o,n)),e.l=r,[o,s]}function VYe(e,t,n,r){var i=e.l+t,s=uv(e,r,n),a;return i!==e.l&&(a=cv(e,i-e.l,s,n)),[s,a]}function WYe(e,t,n){var r=e.l+t,i,s=e.read_shift(2),a=uv(e,s,n);return s==65535?[[],ai(e,t-2)]:(t!==s+2&&(i=cv(e,r-s-2,a,n)),[a,i])}function jYe(e){var t;if(Fl(e,e.l+6)!==65535)return[jr(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function qT(e,t,n){var r=e.l+t,i=oo(e,6,n),s=jYe(e),a=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=HYe(e,r-e.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function MS(e,t,n){var r=e.read_shift(4),i=uv(e,r,n),s=e.read_shift(4),a=s>0?cv(e,s,i,n):null;return[i,a]}var GYe=MS,LS=MS,qYe=MS,XYe=MS,YYe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rne={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},KYe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function C7(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\$'([^']|'')+'/g,function(t){return t.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(t,n){return n.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?t:n}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function XT(e){e=e.replace(/\$'([^']|'')+'/g,function(r){return r.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(r,i){return i.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?r:i});var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Hm={},y0={};function Vm(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function ine(e,t,n,r,i,s,a){try{r.cellNF&&(e.z=it[t])}catch(l){if(r.WTF)throw l}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Cr(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(it[t]==null&&sh(zVe[t]||"General",t),e.t==="e")e.w=e.w||is[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U1(e.v);else if(e.t==="d"){var o=Qn(e.v,!!a);(o|0)===o?e.w=o.toString(10):e.w=U1(o)}else{if(e.v===void 0)return"";e.w=Uh(e.v,y0)}else e.t==="d"?e.w=Rs(t,Qn(e.v,!!a),y0):e.w=Rs(t,e.v,y0)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Bb(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Bb(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(r.WTF&&s.Fills)throw l}}}function JYe(e,t){var n=$n(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=bt(n))}var ZYe=/<(?:\w+:)?mergeCell ref=["'][A-Z0-9:]+['"]\s*[\/]?>/g,QYe=/<(?:\w+:)?hyperlink [^<>]*>/mg,eKe=/"(\w*:\w*)"/,tKe=/<(?:\w+:)?col\b[^<>]*[\/]?>/g,nKe=/<(?:\w+:)?autoFilter[^>]*/g,rKe=/<(?:\w+:)?pageMargins[^<>]*\/>/g,sne=/<(?:\w+:)?sheetPr\b[^<>]*?\/>/;function iKe(e,t,n,r,i,s,a){if(!e)return e;r||(r={"!id":{}});var o={};t.dense&&(o["!data"]=[]);var l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=or(e,"sheetData");f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(sne);h?cI(h[0],o,i,n):(h=or(c,"sheetPr"))&&sKe(h[0],h[1]||"",o,i,n);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var p=c.slice(d,d+50).match(eKe);p&&!(t&&t.nodim)&&JYe(o,p[1])}var g=or(c,"sheetViews");g&&g[1]&&fKe(g[1],i);var m=[];if(t.cellStyles){var x=c.match(tKe);x&&lKe(m,x)}f&&hKe(f[1],o,t,l,s,a,i);var y=u.match(nKe);y&&(o["!autofilter"]=cKe(y[0]));var v=[],_=u.match(ZYe);if(_)for(d=0;d!=_.length;++d)v[d]=$n(_[d].slice(_[d].indexOf("=")+2));var b=u.match(QYe);b&&aKe(o,b,r);var w=u.match(rKe);w&&(o["!margins"]=oKe(Ve(w[0])));var E;if((E=u.match(/legacyDrawing r:id="(.*?)"/))&&(o["!legrel"]=E[1]),t&&t.nodim&&(l.s.c=l.s.r=0),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=bt(l)),t.sheetRows>0&&o["!ref"]){var A=$n(o["!ref"]);t.sheetRows<=+A.e.r&&(A.e.r=t.sheetRows-1,A.e.r>l.e.r&&(A.e.r=l.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>l.e.c&&(A.e.c=l.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),o["!fullref"]=o["!ref"],o["!ref"]=bt(A))}return m.length>0&&(o["!cols"]=m),v.length>0&&(o["!merges"]=v),r["!id"][o["!legrel"]]&&(o["!legdrawel"]=r["!id"][o["!legrel"]]),o}function cI(e,t,n,r){var i=Ve(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=_t(Jt(i.codeName)))}function sKe(e,t,n,r,i){cI(e.slice(0,e.indexOf(">")),n,r,i)}function aKe(e,t,n){for(var r=e["!data"]!=null,i=0;i!=t.length;++i){var s=Ve(Jt(t[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+_t(s.location))):(s.Target="#"+_t(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=$n(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Lt(c)+Gt(l);r?(e["!data"][l]||(e["!data"][l]=[]),e["!data"][l][c]||(e["!data"][l][c]={t:"z",v:void 0}),e["!data"][l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}function oKe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function lKe(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=Ve(t[r],!0);i.hidden&&(i.hidden=jt(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,aI(i.width)),bp(i);s<=a;)e[s++]=Bn(i)}}function cKe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var uKe=/<(?:\w:)?sheetView(?:[^<>a-z][^<>]*)?\/?>/g;function fKe(e,t){t.Views||(t.Views=[{}]),(e.match(uKe)||[]).forEach(function(n,r){var i=Ve(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),i.rightToLeft&&jt(i.rightToLeft)&&(t.Views[r].RTL=!0)})}var hKe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/ref=["']([^"']*)["']/;return function(s,a,o,l,c,u,f){for(var h=0,d="",p=[],g=[],m=0,x=0,y=0,v="",_,b,w=0,E=0,A,S,T=0,C=0,O=Array.isArray(u.CellXf),F,I=[],D=[],N=a["!data"]!=null,M=[],U={},J=!1,X=!!o.sheetStubs,ce=!!((f||{}).WBProps||{}).date1904,ve=s.split(t),_e=0,de=ve.length;_e!=de;++_e){d=ve[_e].trim();var Fe=d.length;if(Fe!==0){var Ne=0;e:for(h=0;h<Fe;++h)switch(d[h]){case">":if(d[h-1]!="/"){++h;break e}if(o&&o.cellStyles){if(b=Ve(d.slice(Ne,h),!0),w=b.r!=null?parseInt(b.r,10):w+1,E=-1,o.sheetRows&&o.sheetRows<w)continue;U={},J=!1,b.ht&&(J=!0,U.hpt=parseFloat(b.ht),U.hpx=W1(U.hpt)),b.hidden&&jt(b.hidden)&&(J=!0,U.hidden=!0),b.outlineLevel!=null&&(J=!0,U.level=+b.outlineLevel),J&&(M[w-1]=U)}break;case"<":Ne=h;break}if(Ne>=h)break;if(b=Ve(d.slice(Ne,h),!0),w=b.r!=null?parseInt(b.r,10):w+1,E=-1,!(o.sheetRows&&o.sheetRows<w)){o.nodim||(l.s.r>w-1&&(l.s.r=w-1),l.e.r<w-1&&(l.e.r=w-1)),o&&o.cellStyles&&(U={},J=!1,b.ht&&(J=!0,U.hpt=parseFloat(b.ht),U.hpx=W1(U.hpt)),b.hidden&&jt(b.hidden)&&(J=!0,U.hidden=!0),b.outlineLevel!=null&&(J=!0,U.level=+b.outlineLevel),J&&(M[w-1]=U)),p=d.slice(h).split(e);for(var je=0;je!=p.length&&p[je].trim().charAt(0)=="<";++je);for(p=p.slice(je),h=0;h!=p.length;++h)if(d=p[h].trim(),d.length!==0){if(g=d.match(n),m=h,x=0,y=0,d="<c "+(d.slice(0,1)=="<"?">":"")+d,g!=null&&g.length===2){for(m=0,v=g[1],x=0;x!=v.length&&!((y=v.charCodeAt(x)-64)<1||y>26);++x)m=26*m+y;--m,E=m}else++E;for(x=0;x!=d.length&&d.charCodeAt(x)!==62;++x);if(++x,b=Ve(d.slice(0,x),!0),b.r||(b.r=Nt({r:w-1,c:E})),v=d.slice(x),_={t:""},(g=or(v,"v"))!=null&&g[1]!==""&&(_.v=_t(g[1])),o.cellFormula){if((g=or(v,"f"))!=null){if(g[1]=="")g[0].indexOf('t="shared"')>-1&&(S=Ve(g[0]),D[S.si]&&(_.f=w7(D[S.si][1],D[S.si][2],b.r)));else if(_.f=_t(Jt(g[1]),!0),o.xlfn||(_.f=S7(_.f)),g[0].indexOf('t="array"')>-1)_.F=(v.match(r)||[])[1],_.F.indexOf(":")>-1&&I.push([$n(_.F),_.F]);else if(g[0].indexOf('t="shared"')>-1){S=Ve(g[0]);var z=_t(Jt(g[1]));o.xlfn||(z=S7(z)),D[parseInt(S.si,10)]=[S,z,b.r]}}else(g=v.match(/<f[^<>]*\/>/))&&(S=Ve(g[0]),D[S.si]&&(_.f=w7(D[S.si][1],D[S.si][2],b.r)));var q=Jr(b.r);for(x=0;x<I.length;++x)q.r>=I[x][0].s.r&&q.r<=I[x][0].e.r&&q.c>=I[x][0].s.c&&q.c<=I[x][0].e.c&&(_.F=I[x][1])}if(b.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(X)_.t="z";else continue;else _.t=b.t||"n";switch(l.s.c>E&&(l.s.c=E),l.e.c<E&&(l.e.c=E),_.t){case"n":if(_.v==""||_.v==null){if(!X)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!X)continue;_.t="z"}else A=Hm[parseInt(_.v,10)],_.v=A.t,_.r=A.r,o.cellHTML&&(_.h=A.h);break;case"str":_.t="s",_.v=_.v!=null?_t(Jt(_.v),!0):"",o.cellHTML&&(_.h=Im(_.v));break;case"inlineStr":g=or(v,"is"),_.t="s",g!=null&&(A=sI(g[1]))?(_.v=A.t,o.cellHTML&&(_.h=A.h)):_.v="";break;case"b":_.v=jt(_.v);break;case"d":o.cellDates?_.v=Cr(_.v,ce):(_.v=Qn(Cr(_.v,ce),ce),_.t="n");break;case"e":(!o||o.cellText!==!1)&&(_.w=_.v),_.v=wr[_.v];break}if(T=C=0,F=null,O&&b.s!==void 0&&(F=u.CellXf[b.s],F!=null&&(F.numFmtId!=null&&(T=F.numFmtId),o.cellStyles&&F.fillId!=null&&(C=F.fillId))),ine(_,T,C,o,c,u,ce),o.cellDates&&O&&_.t=="n"&&Ka(it[T])&&(_.v=au(_.v+(ce?1462:0)),_.t=typeof _.v=="number"?"n":"d"),b.cm&&o.xlmeta){var G=(o.xlmeta.Cell||[])[+b.cm-1];G&&G.type=="XLDAPR"&&(_.D=!0)}var H;o.nodim&&(H=Jr(b.r),l.s.r>H.r&&(l.s.r=H.r),l.e.r<H.r&&(l.e.r=H.r)),N?(H=Jr(b.r),a["!data"][H.r]||(a["!data"][H.r]=[]),a["!data"][H.r][H.c]=_):a[b.r]=_}}}}M.length>0&&(a["!rows"]=M)}}();function dKe(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var pKe=md;function gKe(){}function mKe(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=WWe(e),n}function xKe(e){var t=ba(e);return[t]}function vKe(e){var t=gd(e);return[t]}function yKe(e){var t=ba(e),n=e.read_shift(1);return[t,n,"b"]}function _Ke(e){var t=gd(e),n=e.read_shift(1);return[t,n,"b"]}function bKe(e){var t=ba(e),n=e.read_shift(1);return[t,n,"e"]}function EKe(e){var t=gd(e),n=e.read_shift(1);return[t,n,"e"]}function wKe(e){var t=ba(e),n=e.read_shift(4);return[t,n,"s"]}function SKe(e){var t=gd(e),n=e.read_shift(4);return[t,n,"s"]}function AKe(e){var t=ba(e),n=jr(e);return[t,n,"n"]}function ane(e){var t=gd(e),n=jr(e);return[t,n,"n"]}function TKe(e){var t=ba(e),n=RS(e);return[t,n,"n"]}function kKe(e){var t=gd(e),n=RS(e);return[t,n,"n"]}function CKe(e){var t=ba(e),n=nI(e);return[t,n,"is"]}function FKe(e){var t=ba(e),n=ri(e);return[t,n,"str"]}function OKe(e){var t=gd(e),n=ri(e);return[t,n,"str"]}function NKe(e,t,n){var r=e.l+t,i=ba(e);i.r=n["!row"];var s=e.read_shift(1),a=[i,s,"b"];if(n.cellFormula){e.l+=2;var o=LS(e,r-e.l,n);a[3]=Hr(o,null,i,n.supbooks,n)}else e.l=r;return a}function DKe(e,t,n){var r=e.l+t,i=ba(e);i.r=n["!row"];var s=e.read_shift(1),a=[i,s,"e"];if(n.cellFormula){e.l+=2;var o=LS(e,r-e.l,n);a[3]=Hr(o,null,i,n.supbooks,n)}else e.l=r;return a}function $Ke(e,t,n){var r=e.l+t,i=ba(e);i.r=n["!row"];var s=jr(e),a=[i,s,"n"];if(n.cellFormula){e.l+=2;var o=LS(e,r-e.l,n);a[3]=Hr(o,null,i,n.supbooks,n)}else e.l=r;return a}function RKe(e,t,n){var r=e.l+t,i=ba(e);i.r=n["!row"];var s=ri(e),a=[i,s,"str"];if(n.cellFormula){e.l+=2;var o=LS(e,r-e.l,n);a[3]=Hr(o,null,i,n.supbooks,n)}else e.l=r;return a}var IKe=md;function MKe(e,t){var n=e.l+t,r=md(e),i=$S(e),s=ri(e),a=ri(e),o=ri(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function LKe(){}function PKe(e,t,n){var r=e.l+t,i=Ate(e),s=e.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=GYe(e,r-e.l,n);a[1]=o}else e.l=r;return a}function BKe(e,t,n){var r=e.l+t,i=md(e),s=[i];if(n.cellFormula){var a=XYe(e,r-e.l,n);s[1]=a,e.l=r}else e.l=r;return s}var UKe=["left","right","top","bottom","header","footer"];function zKe(e){var t={};return UKe.forEach(function(n){t[n]=jr(e)}),t}function HKe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function VKe(){}function WKe(){}function jKe(e,t,n,r,i,s,a){if(!e)return e;var o=t||{};r||(r={"!id":{}});var l={};o.dense&&(l["!data"]=[]);var c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,p,g,m,x,y,v,_,b,w=[];o.biff=12,o["!row"]=0;var E=0,A=!1,S=[],T={},C=o.supbooks||i.supbooks||[[]];if(C.sharedf=T,C.arrayf=S,C.SheetNames=i.SheetNames||i.Sheets.map(function(J){return J.name}),!o.supbooks&&(o.supbooks=C,i.Names))for(var O=0;O<i.Names.length;++O)C[0][O+1]=i.Names[O];var F=[],I=[],D=!1;Hb[16]={n:"BrtShortReal",f:ane};var N,M=1462*+!!((i||{}).WBProps||{}).date1904;if(hc(e,function(X,ce,ve){if(!h)switch(ve){case 148:c=X;break;case 0:d=X,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),_=Gt(m=d.r),o["!row"]=d.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=W1(X.hpt)),I[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:X[2]},X[2]){case"n":p.v=X[1];break;case"s":v=Hm[X[1]],p.v=v.t,p.r=v.r;break;case"b":p.v=!!X[1];break;case"e":p.v=X[1],o.cellText!==!1&&(p.w=is[p.v]);break;case"str":p.t="s",p.v=X[1];break;case"is":p.t="s",p.v=X[1].t;break}if((g=a.CellXf[X[0].iStyleRef])&&ine(p,g.numFmtId,null,o,s,a,M>0),x=X[0].c==-1?x+1:X[0].c,o.dense?(l["!data"][m]||(l["!data"][m]=[]),l["!data"][m][x]=p):l[Lt(x)+_]=p,o.cellFormula){for(A=!1,E=0;E<S.length;++E){var _e=S[E];d.r>=_e[0].s.r&&d.r<=_e[0].e.r&&x>=_e[0].s.c&&x<=_e[0].e.c&&(p.F=bt(_e[0]),A=!0)}!A&&X.length>3&&(p.f=X[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>x&&(u.s.c=x),u.e.r<d.r&&(u.e.r=d.r),u.e.c<x&&(u.e.c=x),o.cellDates&&g&&p.t=="n"&&Ka(it[g.numFmtId])){var de=vl(p.v+M);de&&(p.t="d",p.v=new Date(Date.UTC(de.y,de.m-1,de.d,de.H,de.M,de.S,de.u)))}N&&(N.type=="XLDAPR"&&(p.D=!0),N=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},x=X[0].c==-1?x+1:X[0].c,o.dense?(l["!data"][m]||(l["!data"][m]=[]),l["!data"][m][x]=p):l[Lt(x)+_]=p,u.s.r>d.r&&(u.s.r=d.r),u.s.c>x&&(u.s.c=x),u.e.r<d.r&&(u.e.r=d.r),u.e.c<x&&(u.e.c=x),N&&(N.type=="XLDAPR"&&(p.D=!0),N=void 0);break;case 176:w.push(X);break;case 49:N=((o.xlmeta||{}).Cell||[])[X-1];break;case 494:var Fe=r["!id"][X.relId];for(Fe?(X.Target=Fe.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=Fe):X.relId==""&&(X.Target="#"+X.loc),m=X.rfx.s.r;m<=X.rfx.e.r;++m)for(x=X.rfx.s.c;x<=X.rfx.e.c;++x)o.dense?(l["!data"][m]||(l["!data"][m]=[]),l["!data"][m][x]||(l["!data"][m][x]={t:"z",v:void 0}),l["!data"][m][x].l=X):(y=Lt(x)+Gt(m),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=X);break;case 426:if(!o.cellFormula)break;S.push(X),b=o.dense?l["!data"][m][x]:l[Lt(x)+_],b.f=Hr(X[1],u,{r:d.r,c:x},C,o),b.F=bt(X[0]);break;case 427:if(!o.cellFormula)break;T[Nt(X[0].s)]=X[1],b=o.dense?l["!data"][m][x]:l[Lt(x)+_],b.f=Hr(X[1],u,{r:d.r,c:x},C,o);break;case 60:if(!o.cellStyles)break;for(;X.e>=X.s;)F[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},D||(D=!0,aI(X.w/256)),bp(F[X.e+1]);break;case 551:X&&(l["!legrel"]=X);break;case 161:l["!autofilter"]={ref:bt(X)};break;case 476:l["!margins"]=X;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),X.name&&(i.Sheets[n].CodeName=X.name),(X.above||X.left)&&(l["!outline"]={above:X.above,left:X.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),X.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ce.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ve.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=bt(c||u)),o.sheetRows&&l["!ref"]){var U=$n(l["!ref"]);o.sheetRows<=+U.e.r&&(U.e.r=o.sheetRows-1,U.e.r>u.e.r&&(U.e.r=u.e.r),U.e.r<U.s.r&&(U.s.r=U.e.r),U.e.c>u.e.c&&(U.e.c=u.e.c),U.e.c<U.s.c&&(U.s.c=U.e.c),l["!fullref"]=l["!ref"],l["!ref"]=bt(U))}return w.length>0&&(l["!merges"]=w),F.length>0&&(l["!cols"]=F),I.length>0&&(l["!rows"]=I),r["!id"][l["!legrel"]]&&(l["!legdrawel"]=r["!id"][l["!legrel"]]),l}function GKe(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<])<\/c:v><\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<]*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=n?+a[2]:a[2])});var i=_t((ah(e,"c:formatCode")||["","General"])[1]);return(JR(e,"<c:f>","</c:f>")||[]).forEach(function(s){r=s.replace(/<[^<>]*>/g,"")}),[t,i,r]}function qKe(e,t,n,r,i,s){var a=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(JR(e,"<c:numCache>","</c:numCache>")||[]).forEach(function(f){var h=GKe(f);u.s.r=u.s.c=0,u.e.c=o,c=Lt(o),h[0].forEach(function(d,p){a["!data"]?(a["!data"][p]||(a["!data"][p]=[]),a["!data"][p][o]={t:"n",v:d,z:h[1]}):a[c+Gt(p)]={t:"n",v:d,z:h[1]},l=p}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=bt(u)),a}function XKe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=e.match(sne);return o&&cI(o[0],s,i,n),(a=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function YKe(e,t){e.l+=10;var n=ri(e);return{name:n}}function KKe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return hc(e,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var one=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],JKe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ZKe=[],QKe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function F7(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=jt(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function O7(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=jt(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function lne(e){O7(e.WBProps,one),O7(e.CalcPr,QKe),F7(e.WBView,JKe),F7(e.Sheets,ZKe),y0.date1904=jt(e.WBProps.date1904)}var eJe=":][*?/\\".split("");function tJe(e,t){try{if(e=="")throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(e.charCodeAt(0)==39||e.charCodeAt(e.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(e.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");eJe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(n){throw n}return!0}var nJe=/<\w+:workbook/;function rJe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(e.replace(Nr,function(l,c){var u=Ve(l);switch(_a(u[0])){case"<?xml":break;case"<workbook":l.match(nJe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":one.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=jt(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Jt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=_t(Jt(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Jt(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),jt(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=_t(Jt(e.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),AWe.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return lne(n),n}function iJe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=e3(e),n.name=ri(e),n}function sJe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?ri(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function aJe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function oJe(e,t,n){var r=e.l+t,i=e.read_shift(4);e.l+=1;var s=e.read_shift(4),a=jWe(e),o,l="";try{o=qYe(e,0,n);try{l=$S(e)}catch{}}catch{console.error("Could not parse defined name "+a)}i&32&&(a="_xlnm."+a),e.l=r;var c={Name:a,Ptg:o,Flags:i};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function lJe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Hb[16]={n:"BrtFRTArchID$",f:aJe},hc(e,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=l.Ptg?Hr(l.Ptg,null,null,a,t):"#REF!",delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),lne(n),n.Names=s,n.supbooks=a,n}function cJe(e,t,n){return t.slice(-4)===".bin"?lJe(e,n):rJe(e,n)}function uJe(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?jKe(e,r,n,i,s,a,o):iKe(e,r,n,i,s,a,o)}function fJe(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?KKe(e,r,n,i,s):XKe(e,r,n,i,s)}function hJe(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?SXe():AXe()}function dJe(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?EXe():wXe()}function pJe(e,t,n,r){return t.slice(-4)===".bin"?Wqe(e,n,r):Pqe(e,n,r)}function gJe(e,t,n){return t.slice(-4)===".bin"?sqe(e,n):rqe(e,n)}function mJe(e,t,n){return t.slice(-4)===".bin"?yXe(e,n):pXe(e,n)}function xJe(e,t,n){return t.slice(-4)===".bin"?uXe(e):lXe(e)}function vJe(e,t,n,r){return n.slice(-4)===".bin"?fXe(e,t,n,r):void 0}function yJe(e,t,n){return t.slice(-4)===".bin"?aXe(e,t,n):oXe(e,t,n)}var cne=/\b((?:\w+:)?[\w]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,une=/\b((?:\w+:)?[\w]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function wa(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(cne),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(une),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function _Je(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(cne),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(une),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var Wm;function bJe(e,t,n){var r=Wm[e]||_t(e);return r==="General"?Uh(t):Rs(r,t,{date1904:!!n})}function EJe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=jt(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Cr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[_t(t)]=i}function wJe(e,t,n,r){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||is[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U1(e.v):e.w=Uh(e.v):e.w=bJe(t||"General",e.v,r)}catch(a){if(n.WTF)throw a}try{var i=Wm[t]||t||"General";if(n.cellNF&&(e.z=i),n.cellDates&&e.t=="n"&&Ka(i)){var s=vl(e.v+(r?1462:0));s&&(e.t="d",e.v=new Date(Date.UTC(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u)))}}catch(a){if(n.WTF)throw a}}}function SJe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=Dqe[r.Pattern]||r.Pattern)}e[t.ID]=t}function AJe(e,t,n,r,i,s,a,o,l,c,u){var f="General",h=r.StyleID,d={};c=c||{};var p=[],g=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&a&&(h=a.StyleID);s[h]!==void 0;){var m=s[h];if(m.nf&&(f=m.nf),m.Interior&&p.push(m.Interior),!m.Parent)break;h=m.Parent}switch(n.Type){case"Boolean":r.t="b",r.v=jt(e);break;case"String":r.t="s",r.r=K9(_t(e)),r.v=e.indexOf("<")>-1?_t(t||e).replace(/<[^<>]*>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=Qn(Cr(e,u),u),r.v!==r.v&&(r.v=_t(e)),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=wr[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=K9(t||e));break}if(wJe(r,f,c,u),c.cellFormula!==!1)if(r.Formula){var x=_t(r.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),r.f=lh(x,i),delete r.Formula,r.ArrayRange=="RC"?r.F=lh("RC:RC",i):r.ArrayRange&&(r.F=lh(r.ArrayRange,i),l.push([$n(r.F),r.F]))}else for(g=0;g<l.length;++g)i.r>=l[g][0].s.r&&i.r<=l[g][0].e.r&&i.c>=l[g][0].s.c&&i.c<=l[g][0].e.c&&(r.F=l[g][1]);c.cellStyles&&(p.forEach(function(y){!d.patternType&&y.patternType&&(d.patternType=y.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function TJe(e){return Cte.indexOf("_xlnm."+e)>-1?"_xlnm."+e:e}function kJe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function YT(e,t){var n=t||{};Qee();var r=lm(DS(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Jt(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Bn(n);return a.type="string",H1.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ne){i.indexOf("<"+ne)>=0&&(s=!0)}),s)return MJe(r,n);Wm={"General Number":"General","General Date":it[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":it[15],"Short Date":it[14],"Long Time":it[19],"Medium Time":it[18],"Short Time":it[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:it[2],Standard:it[4],Percent:it[10],Scientific:it[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h={},d="";n.dense&&(h["!data"]=[]);var p={},g={},m=wa('<Data ss:Type="String">'),x=0,y=0,v=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},b={},w={},E="",A=0,S=[],T={},C={},O=0,F=[],I=[],D={},N=[],M,U=!1,J=[],X=[],ce={},ve=0,_e=0,de={Sheets:[],WBProps:{date1904:!1}},Fe={};Ln.lastIndex=0,r=sv(r,"<!--","-->");for(var Ne="";o=Ln.exec(r);)switch(o[3]=(Ne=o[3]).toLowerCase()){case"data":if(Ne=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?AJe(r.slice(x,o.index),E,m,l[l.length-1][0]=="comment"?D:p,{c:y,r:v},b,N[y],g,J,n,de.WBProps.date1904):(E="",m=wa(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(I.length>0&&(p.c=I),(!n.sheetRows||n.sheetRows>v)&&p.v!==void 0&&(n.dense?(h["!data"][v]||(h["!data"][v]=[]),h["!data"][v][y]=p):h[Lt(y)+Gt(v)]=p),p.HRef&&(p.l={Target:_t(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(ve=y+(parseInt(p.MergeAcross,10)|0),_e=v+(parseInt(p.MergeDown,10)|0),(ve>y||_e>v)&&S.push({s:{c:y,r:v},e:{c:ve,r:_e}})),!n.sheetStubs)p.MergeAcross?y=ve+1:++y;else if(p.MergeAcross||p.MergeDown){for(var je=y;je<=ve;++je)for(var z=v;z<=_e;++z)(je>y||z>v)&&(n.dense?(h["!data"][z]||(h["!data"][z]=[]),h["!data"][z][je]={t:"z"}):h[Lt(je)+Gt(z)]={t:"z"});y=ve+1}else++y;else p=_Je(o[0]),p.Index&&(y=+p.Index-1),y<_.s.c&&(_.s.c=y),y>_.e.c&&(_.e.c=y),o[0].slice(-2)==="/>"&&++y,I=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(v<_.s.r&&(_.s.r=v),v>_.e.r&&(_.e.r=v),o[0].slice(-2)==="/>"&&(g=wa(o[0]),g.Index&&(v=+g.Index-1)),y=0,++v):(g=wa(o[0]),g.Index&&(v=+g.Index-1),ce={},(g.AutoFitHeight=="0"||g.Height)&&(ce.hpx=parseInt(g.Height,10),ce.hpt=Xte(ce.hpx),X[v]=ce),g.Hidden=="1"&&(ce.hidden=!0,X[v]=ce));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=bt(_),n.sheetRows&&n.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=n.sheetRows-1,h["!ref"]=bt(_))),S.length&&(h["!merges"]=S),N.length>0&&(h["!cols"]=N),X.length>0&&(h["!rows"]=X),u[d]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=y=0,l.push([o[3],!1]),c=wa(o[0]),d=_t(c.Name),h={},n.dense&&(h["!data"]=[]),S=[],J=[],X=[],Fe={name:d,Hidden:0},de.Sheets.push(Fe);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),N=[],U=!1}break;case"style":o[1]==="/"?SJe(b,w,n):w=wa(o[0]);break;case"numberformat":w.nf=_t(wa(o[0]).Format||"General"),Wm[w.nf]&&(w.nf=Wm[w.nf]);for(var q=0;q!=392&&it[q]!=w.nf;++q);if(q==392){for(q=57;q!=392;++q)if(it[q]==null){sh(w.nf,q);break}}break;case"column":if(l[l.length-1][0]!=="table"||o[1]==="/")break;if(M=wa(o[0]),M.Hidden&&(M.hidden=!0,delete M.Hidden),M.Width&&(M.wpx=parseInt(M.Width,10)),!U&&M.wpx>10){U=!0,yi=Gte;for(var G=0;G<N.length;++G)N[G]&&bp(N[G])}U&&bp(M),N[M.Index-1||N.length]=M;for(var H=0;H<+M.Span;++H)N[N.length]=Bn(M);break;case"namedrange":if(o[1]==="/")break;de.Names||(de.Names=[]);var K=Ve(o[0]),k={Name:TJe(K.Name),Ref:lh(K.RefersTo.slice(1),{r:0,c:0})};de.Sheets.length>0&&(k.Sheet=de.Sheets.length-1),de.Names.push(k);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=r.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;w.Interior=wa(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?gje(T,Ne,r.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));kJe(D),I.push(D)}else l.push([o[3],!1]),c=wa(o[0]),jt(c.ShowAlways||"0")||(I.hidden=!0),D={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var P=wa(o[0]);h["!autofilter"]={ref:lh(P.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return I7(r,n);var Y=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Y=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Y=!1}break;case"excelworkbook":switch(o[3]){case"date1904":de.WBProps.date1904=!0;break;case"hidehorizontalscrollbar":break;case"hideverticalscrollbar":break;case"hideworkbooktabs":break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Y=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Y=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(O,o.index)){case"SheetHidden":Fe.Hidden=1;break;case"SheetVeryHidden":Fe.Hidden=2;break}else O=o.index+o[0].length;break;case"header":h["!margins"]||Vm(h["!margins"]={},"xlml"),isNaN(+Ve(o[0]).Margin)||(h["!margins"].header=+Ve(o[0]).Margin);break;case"footer":h["!margins"]||Vm(h["!margins"]={},"xlml"),isNaN(+Ve(o[0]).Margin)||(h["!margins"].footer=+Ve(o[0]).Margin);break;case"pagemargins":var Z=Ve(o[0]);h["!margins"]||Vm(h["!margins"]={},"xlml"),isNaN(+Z.Top)||(h["!margins"].top=+Z.Top),isNaN(+Z.Left)||(h["!margins"].left=+Z.Left),isNaN(+Z.Right)||(h["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(h["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":de.Views||(de.Views=[]),de.Views[0]||(de.Views[0]={}),de.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Y=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Y=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Y=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Y=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Y=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Y=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Y=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Y=!1}break;case"smarttags":break;default:Y=!1;break}if(Y||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?EJe(C,Ne,F,r.slice(O,o.index)):(F=o,O=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ee={};return!n.bookSheets&&!n.bookProps&&(ee.Sheets=u),ee.SheetNames=f,ee.Workbook=de,ee.SSF=Bn(it),ee.Props=T,ee.Custprops=C,ee.bookType="xlml",ee}function r3(e,t){switch(uI(t=t||{}),t.type||"base64"){case"base64":return YT($s(e),t);case"binary":case"buffer":case"file":return YT(e,t);case"array":return YT(Zl(e),t)}}function CJe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=XWe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=YWe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var FJe=[60,1084,2066,2165,2175];function OJe(e,t,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=Fl(n,n.l),c=i3[l],u=0;c!=null&&FJe.indexOf(l)>-1;)s=Fl(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=i3[l=Fl(n,n.l)];var f=Lc(a);Hn(f,0);var h=0;f.lens=[];for(var d=0;d<a.length;++d)f.lens.push(h),h+=a[d].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,i)}function uo(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&e.z==null&&(e.z=it[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||is[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U1(e.v):e.w=Uh(e.v):e.w=Rs(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&Ka(it[r]||String(r))){var i=vl(e.v+(n?1462:0));i&&(e.t="d",e.v=new Date(Date.UTC(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u)))}}}function Ly(e,t,n){return{v:e,ixfe:t,t:n}}function NJe(e,t){var n={opts:{}},r={},i={};t.dense&&(i["!data"]=[]);var s={},a={},o=null,l=[],c="",u={},f,h="",d,p,g,m,x={},y=[],v,_,b=[],w=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},S=!1,T=function(De){return De<8?oh[De]:De<64&&w[De-8]||oh[De]},C=function(De,pt){var pn=De.XF.data;if(!(!pn||!pn.patternType||!pt||!pt.cellStyles)){De.s={},De.s.patternType=pn.patternType;var nn;(nn=V1(T(pn.icvFore)))&&(De.s.fgColor={rgb:nn}),(nn=V1(T(pn.icvBack)))&&(De.s.bgColor={rgb:nn})}},O=function(De,pt,pn){if(!(!S&&ve>1)&&!(pn.sheetRows&&De.r>=pn.sheetRows)){if(pn.cellStyles&&pt.XF&&pt.XF.data&&C(pt,pn),delete pt.ixfe,delete pt.XF,f=De,h=Nt(De),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),De.r<a.s.r&&(a.s.r=De.r),De.c<a.s.c&&(a.s.c=De.c),De.r+1>a.e.r&&(a.e.r=De.r+1),De.c+1>a.e.c&&(a.e.c=De.c+1),pn.cellFormula&&pt.f){for(var nn=0;nn<y.length;++nn)if(!(y[nn][0].s.c>De.c||y[nn][0].s.r>De.r)&&!(y[nn][0].e.c<De.c||y[nn][0].e.r<De.r)){pt.F=bt(y[nn][0]),(y[nn][0].s.c!=De.c||y[nn][0].s.r!=De.r)&&delete pt.f,pt.f&&(pt.f=""+Hr(y[nn][1],a,De,X,F));break}}pn.dense?(i["!data"][De.r]||(i["!data"][De.r]=[]),i["!data"][De.r][De.c]=pt):i[h]=pt}},F={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var I,D=[],N=[],M=[],U=[],J=!1,X=[];X.SheetNames=F.snames,X.sharedf=F.sharedf,X.arrayf=F.arrayf,X.names=[],X.XTI=[];var ce=0,ve=0,_e=0,de=[],Fe=[],Ne;F.codepage=1200,Pa(1200);for(var je=!1;e.l<e.length-1;){var z=e.l,q=e.read_shift(2);if(q===0&&ce===10)break;var G=e.l===e.length?0:e.read_shift(2),H=i3[q];if(ve==0&&[9,521,1033,2057].indexOf(q)==-1)break;if(H&&H.f){if(t.bookSheets&&ce===133&&q!==133)break;if(ce=q,H.r===2||H.r==12){var K=e.read_shift(2);if(G-=2,!F.enc&&K!==q&&((K&255)<<8|K>>8)!==q)throw new Error("rt mismatch: "+K+"!="+q);H.r==12&&(e.l+=10,G-=10)}var k={};if(q===10?k=H.f(e,G,F):k=OJe(q,H,e,G,F),ve==0&&[9,521,1033,2057].indexOf(ce)===-1)continue;switch(q){case 34:n.opts.Date1904=E.WBProps.date1904=k;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=k,!t.password)throw new Error("File is password-protected");if(k.valid==null)throw new Error("Encryption scheme unsupported");if(!k.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=k;break;case 66:var P=Number(k);switch(P){case 21010:P=1200;break;case 32768:P=1e4;break;case 32769:P=1252;break}Pa(F.codepage=P),je=!0;break;case 317:F.rrtabid=k;break;case 25:F.winlocked=k;break;case 439:n.opts.RefreshAll=k;break;case 12:n.opts.CalcCount=k;break;case 16:n.opts.CalcDelta=k;break;case 17:n.opts.CalcIter=k;break;case 13:n.opts.CalcMode=k;break;case 14:n.opts.CalcPrecision=k;break;case 95:n.opts.CalcSaveRecalc=k;break;case 15:F.CalcRefMode=k;break;case 2211:n.opts.FullCalc=k;break;case 129:k.fDialog&&(i["!type"]="dialog"),k.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),k.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 67:case 579:case 1091:case 224:b.push(k);break;case 430:X.push([k]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(k);break;case 24:case 536:Ne={Name:k.Name,Ref:Hr(k.rgce,a,null,X,F)},k.itab>0&&(Ne.Sheet=k.itab-1),X.names.push(Ne),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(k),k.Name=="_xlnm._FilterDatabase"&&k.itab>0&&k.rgce&&k.rgce[0]&&k.rgce[0][0]&&k.rgce[0][0][0]=="PtgArea3d"&&(Fe[k.itab-1]={ref:bt(k.rgce[0][0][1][2])});break;case 22:F.ExternCount=k;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(k),X.XTI=X.XTI.concat(k);break;case 2196:if(F.biff<8)break;Ne!=null&&(Ne.Comment=k[1]);break;case 18:i["!protect"]=k;break;case 19:k!==0&&F.WTF&&console.error("Password verifier: "+k);break;case 133:s[F.biff==4?F.snames.length:k.pos]=k,F.snames.push(k.name);break;case 10:{if(--ve?!S:S)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=bt(a),t.sheetRows&&t.sheetRows<=a.e.r){var Y=a.e.r;a.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=bt(a),a.e.r=Y}a.e.r++,a.e.c++}D.length>0&&(i["!merges"]=D),N.length>0&&(i["!objects"]=N),M.length>0&&(i["!cols"]=M),U.length>0&&(i["!rows"]=U),E.Sheets.push(A)}c===""?u=i:r[c]=i,i={},t.dense&&(i["!data"]=[])}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[k.BIFFVer]||8),F.biffguess=k.BIFFVer==0,k.BIFFVer==0&&k.dt==4096&&(F.biff=5,je=!0,Pa(F.codepage=28591)),F.biff==4&&k.dt&256&&(S=!0),F.biff==8&&k.BIFFVer==0&&k.dt==16&&(F.biff=2),ve++&&!S)break;if(i={},t.dense&&(i["!data"]=[]),F.biff<8&&!je&&(je=!0,Pa(F.codepage=t.codepage||1252)),F.biff==4&&S)c=(s[F.snames.indexOf(c)+1]||{name:""}).name;else if(F.biff<5||k.BIFFVer==0&&k.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var Z={pos:e.l-G,name:c};s[Z.pos]=Z,F.snames.push(c)}else c=(s[z]||{name:""}).name;k.dt==32&&(i["!type"]="chart"),k.dt==64&&(i["!type"]="macro"),D=[],N=[],F.arrayf=y=[],M=[],U=[],J=!1,A={Hidden:(s[z]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i["!data"][k.r]||[])[k.c]:i[Lt(k.c)+Gt(k.r)])&&++k.c,v={ixfe:k.ixfe,XF:b[k.ixfe]||{},v:k.val,t:"n"},_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:k.c,r:k.r},v,t);break;case 5:case 517:v={ixfe:k.ixfe,XF:b[k.ixfe],v:k.val,t:k.t},_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:k.c,r:k.r},v,t);break;case 638:v={ixfe:k.ixfe,XF:b[k.ixfe],v:k.rknum,t:"n"},_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:k.c,r:k.r},v,t);break;case 189:for(var ee=k.c;ee<=k.C;++ee){var ne=k.rkrec[ee-k.c][0];v={ixfe:ne,XF:b[ne],v:k.rkrec[ee-k.c][1],t:"n"},_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:ee,r:k.r},v,t)}break;case 6:case 518:case 1030:{if(k.val=="String"){o=k;break}if(v=Ly(k.val,k.cell.ixfe,k.tt),v.XF=b[v.ixfe],t.cellFormula){var pe=k.formula;if(pe&&pe[0]&&pe[0][0]&&pe[0][0][0]=="PtgExp"){var xe=pe[0][0][1][0],ye=pe[0][0][1][1],ge=Nt({r:xe,c:ye});x[ge]?v.f=""+Hr(k.formula,a,k.cell,X,F):v.F=((t.dense?(i["!data"][xe]||[])[ye]:i[ge])||{}).F}else v.f=""+Hr(k.formula,a,k.cell,X,F)}_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O(k.cell,v,t),o=k}break;case 7:case 519:if(o)o.val=k,v=Ly(k,o.cell.ixfe,"s"),v.XF=b[v.ixfe],t.cellFormula&&(v.f=""+Hr(o.formula,a,o.cell,X,F)),_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O(o.cell,v,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(k);var le=Nt(k[0].s);if(d=t.dense?(i["!data"][k[0].s.r]||[])[k[0].s.c]:i[le],t.cellFormula&&d){if(!o||!le||!d)break;d.f=""+Hr(k[1],a,k[0],X,F),d.F=bt(k[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[Nt(o.cell)]=k[0],d=t.dense?(i["!data"][o.cell.r]||[])[o.cell.c]:i[Nt(o.cell)],(d||{}).f=""+Hr(k[0],a,f,X,F)}}break;case 253:v=Ly(l[k.isst].t,k.ixfe,"s"),l[k.isst].h&&(v.h=l[k.isst].h),v.XF=b[v.ixfe],_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:k.c,r:k.r},v,t);break;case 513:t.sheetStubs&&(v={ixfe:k.ixfe,XF:b[k.ixfe],t:"z"},_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:k.c,r:k.r},v,t));break;case 190:if(t.sheetStubs)for(var Se=k.c;Se<=k.C;++Se){var ae=k.ixfe[Se-k.c];v={ixfe:ae,XF:b[ae],t:"z"},_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:Se,r:k.r},v,t)}break;case 214:case 516:case 4:v=Ly(k.val,k.ixfe,"s"),v.XF=b[v.ixfe],_e>0&&(v.z=v.XF&&v.XF.numFmtId&&de[v.XF.numFmtId]||de[v.ixfe>>8&63]),uo(v,t,n.opts.Date1904),O({c:k.c,r:k.r},v,t);break;case 0:case 512:ve===1&&(a=k);break;case 252:l=k;break;case 1054:if(F.biff>=3&&F.biff<=4){de[_e++]=k[1];for(var qe=0;qe<_e+163&&it[qe]!=k[1];++qe);qe>=163&&sh(k[1],_e+163)}else sh(k[1],k[0]);break;case 30:{de[_e++]=k;for(var Xe=0;Xe<_e+163&&it[Xe]!=k;++Xe);Xe>=163&&sh(k,_e+163)}break;case 229:D=D.concat(k);break;case 93:N[k.cmo[0]]=F.lastobj=k;break;case 438:F.lastobj.TxO=k;break;case 127:F.lastobj.ImData=k;break;case 440:for(m=k[0].s.r;m<=k[0].e.r;++m)for(g=k[0].s.c;g<=k[0].e.c;++g)d=t.dense?(i["!data"][m]||[])[g]:i[Nt({c:g,r:m})],d&&(d.l=k[1]);break;case 2048:for(m=k[0].s.r;m<=k[0].e.r;++m)for(g=k[0].s.c;g<=k[0].e.c;++g)d=t.dense?(i["!data"][m]||[])[g]:i[Nt({c:g,r:m})],d&&d.l&&(d.l.Tooltip=k[1]);break;case 28:{if(d=t.dense?(i["!data"][k[0].r]||[])[k[0].c]:i[Nt(k[0])],d||(t.dense?(i["!data"][k[0].r]||(i["!data"][k[0].r]=[]),d=i["!data"][k[0].r][k[0].c]={t:"z"}):d=i[Nt(k[0])]={t:"z"},a.e.r=Math.max(a.e.r,k[0].r),a.s.r=Math.min(a.s.r,k[0].r),a.e.c=Math.max(a.e.c,k[0].c),a.s.c=Math.min(a.s.c,k[0].c)),d.c||(d.c=[]),F.biff<=5&&F.biff>=2)p={a:"SheetJ5",t:k[1]};else{var et=N[k[2]];p={a:k[1],t:et.TxO.t},k[3]!=null&&!(k[3]&2)&&(d.c.hidden=!0)}d.c.push(p)}break;case 2173:nXe(b[k.ixfe],k.ext);break;case 125:{if(!F.cellStyles)break;for(;k.e>=k.s;)M[k.e--]={width:k.w/256,level:k.level||0,hidden:!!(k.flags&1)},J||(J=!0,aI(k.w/256)),bp(M[k.e+1])}break;case 520:{var lt={};k.level!=null&&(U[k.r]=lt,lt.level=k.level),k.hidden&&(U[k.r]=lt,lt.hidden=!0),k.hpt&&(U[k.r]=lt,lt.hpt=k.hpt,lt.hpx=W1(k.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Vm(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[q]]=k;break;case 161:i["!margins"]||Vm(i["!margins"]={}),i["!margins"].header=k.header,i["!margins"].footer=k.footer;break;case 574:k.RTL&&(E.Views[0].RTL=!0);break;case 146:w=k;break;case 2198:I=k;break;case 140:_=k;break;case 442:c?A.CodeName=k||A.name:E.WBProps.CodeName=k||"ThisWorkbook";break}}else H||console.error("Missing Info for XLS Record 0x"+q.toString(16)),e.l+=G}return n.SheetNames=na(s).sort(function(It,De){return Number(It)-Number(De)}).map(function(It){return s[It].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&Fe.forEach(function(It,De){n.Sheets[n.SheetNames[De]]["!autofilter"]=It}),n.Strings=l,n.SSF=Bn(it),F.enc&&(n.Encryption=F.enc),I&&(n.Themes=I),n.Metadata={},_!==void 0&&(n.Metadata.Country=_),X.names.length>0&&(E.Names=X.names),n.Workbook=E,n}var N7={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function DJe(e,t,n){var r=At.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=d7(r,tje,N7.DSI);for(var s in i)t[s]=i[s]}catch(c){if(n.WTF)throw c}var a=At.find(e,"/!SummaryInformation");if(a&&a.size>0)try{var o=d7(a,nje,N7.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Ote(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function fne(e,t){t||(t={}),uI(t),Hee(),t.codepage&&jR(t.codepage);var n,r;if(e.FullPaths){if(At.find(e,"/encryption"))throw new Error("File is password-protected");n=At.find(e,"!CompObj"),r=At.find(e,"/Workbook")||At.find(e,"/Book")}else{switch(t.type){case"base64":e=ps($s(e));break;case"binary":e=ps(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Hn(e,0),r={content:e}}var i,s;if(n&&CJe(n),t.bookProps&&!t.bookSheets)i={};else{var a=vt?"buffer":"array";if(r&&r.content)i=NJe(r.content,t);else if((s=At.find(e,"PerfectOffice_MAIN"))&&s.content)i=zm.to_workbook(s.content,(t.type=a,t));else if((s=At.find(e,"NativeContent_MAIN"))&&s.content)i=zm.to_workbook(s.content,(t.type=a,t));else throw(s=At.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&At.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=bXe(e))}var o={};return e.FullPaths&&DJe(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var Hb={0:{f:dKe},1:{f:xKe},2:{f:TKe},3:{f:bKe},4:{f:yKe},5:{f:AKe},6:{f:FKe},7:{f:wKe},8:{f:RKe},9:{f:$Ke},10:{f:NKe},11:{f:DKe},12:{f:vKe},13:{f:kKe},14:{f:EKe},15:{f:_Ke},16:{f:ane},17:{f:OKe},18:{f:SKe},19:{f:nI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oJe},40:{},42:{},43:{f:Uqe},44:{f:Bqe},45:{f:zqe},46:{f:Vqe},47:{f:Hqe},48:{},49:{f:zWe},50:{},51:{f:iXe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zte},62:{f:CKe},63:{f:cXe},64:{f:VKe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:HKe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:mKe},148:{f:pKe,p:16},151:{f:LKe},152:{},153:{f:sJe},154:{},155:{},156:{f:iJe},157:{},158:{},159:{T:1,f:iqe},160:{T:-1},161:{T:1,f:md},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:IKe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:rXe},336:{T:-1},337:{f:sXe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:e3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ute},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:PKe},427:{f:BKe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zKe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:gKe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MKe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:e3},551:{f:$S},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vXe},633:{T:1},634:{T:-1},635:{T:1,f:xXe},636:{T:-1},637:{f:VWe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:YKe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:WKe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},i3={6:{f:qT},10:{f:_c},12:{f:yn},13:{f:yn},14:{f:kn},15:{f:kn},16:{f:jr},17:{f:kn},18:{f:kn},19:{f:yn},20:{f:m7},21:{f:m7},23:{f:Ute},24:{f:v7},25:{f:kn},26:{},27:{},28:{f:yGe},29:{},34:{f:kn},35:{f:x7},38:{f:jr},39:{f:jr},40:{f:jr},41:{f:jr},42:{f:kn},43:{f:kn},47:{f:wqe},49:{f:Zje},51:{f:yn},60:{},61:{f:Yje},64:{f:kn},65:{f:Jje},66:{f:yn},77:{},80:{},81:{},82:{},85:{f:yn},89:{},90:{},91:{},92:{f:zje},93:{f:bGe},94:{},95:{f:kn},96:{},97:{},99:{f:kn},125:{f:zte},128:{f:fGe},129:{f:Hje},130:{f:yn},131:{f:kn},132:{f:kn},133:{f:Vje},134:{},140:{f:kGe},141:{f:yn},144:{},146:{f:FGe},151:{},152:{},153:{},154:{},155:{},156:{f:yn},157:{},158:{},160:{f:RGe},161:{f:NGe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:iGe},190:{f:sGe},193:{f:_c},197:{},198:{},199:{},200:{},201:{},202:{f:kn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:yn},220:{},221:{f:kn},222:{},224:{f:oGe},225:{f:Uje},226:{f:_c},227:{},229:{f:_Ge},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Wje},253:{f:Qje},255:{f:jje},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$te},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:kn},353:{f:_c},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:pGe},431:{f:kn},432:{},433:{},434:{},437:{},438:{f:SGe},439:{f:kn},440:{f:AGe},441:{},442:{f:ov},443:{},444:{f:yn},445:{},446:{},448:{f:_c},449:{f:Xje,r:2},450:{f:_c},512:{f:g7},513:{f:$Ge},515:{f:dGe},516:{f:eGe},517:{f:hGe},519:{f:IGe},520:{f:Gje},523:{},545:{f:_7},549:{f:p7},566:{},574:{f:Kje},638:{f:rGe},659:{},1048:{},1054:{f:tGe},1084:{},1212:{f:mGe},2048:{f:TGe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:$y},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:_c},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:OGe,r:12},2173:{f:tXe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:kn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:gGe,r:12},2197:{},2198:{f:Yqe,r:12},2199:{},2200:{},2201:{},2202:{f:xGe,r:12},2203:{f:_c},2204:{},2205:{},2206:{},2207:{},2211:{f:qje},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:yn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:DGe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:CGe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:g7},1:{},2:{f:BGe},3:{f:PGe},4:{f:LGe},5:{f:zGe},7:{f:UGe},8:{},9:{f:$y},11:{},22:{f:yn},30:{f:nGe},31:{},32:{},33:{f:_7},36:{},37:{f:p7},50:{f:HGe},62:{},52:{},67:{f:lGe},68:{f:yn},69:{},86:{},126:{},127:{f:MGe},135:{},136:{},137:{},143:{f:WGe},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:VGe},223:{},234:{},354:{},421:{},518:{f:qT},521:{f:$y},536:{f:v7},547:{f:x7},561:{},579:{f:cGe},1030:{f:qT},1033:{f:$y},1091:{f:uGe},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},101:{},102:{},105:{},106:{},107:{},109:{},112:{},114:{},29282:{}};function ls(e,t,n,r){var i=t;if(!isNaN(i)){var s=(n||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Ete(n)&&e.push(n)}}function D7(e,t){var n=t||{},r=n.dense!=null?n.dense:xVe,i={};r&&(i["!data"]=[]),e=sv(e,"<!--","-->");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),o=s.index,l=a&&a.index||e.length,c=sWe(e.slice(o,l),/(:?<tr[^<>]*>)/i,"<tr>"),u=-1,f=0,h=0,d=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<c.length;++o){var m=c[o].trim(),x=m.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}f=0;continue}if(!(x!="<td"&&x!="<th")){var y=m.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var v=y[l].trim();if(v.match(/<t[dh]/i)){for(var _=v,b=0;_.charAt(0)=="<"&&(b=_.indexOf(">"))>-1;)_=_.slice(b+1);for(var w=0;w<g.length;++w){var E=g[w];E.s.c==f&&E.s.r<u&&u<=E.e.r&&(f=E.e.c+1,w=-1)}var A=Ve(v.slice(0,v.indexOf(">")));d=A.colspan?+A.colspan:1,((h=+A.rowspan)>1||d>1)&&g.push({s:{r:u,c:f},e:{r:u+(h||1)-1,c:f+d-1}});var S=A.t||A["data-t"]||"";if(!_.length){f+=d;continue}if(_=cte(_),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>f&&(p.s.c=f),p.e.c<f&&(p.e.c=f),!_.length){f+=d;continue}var T={t:"s",v:_};n.raw||!_.trim().length||S=="s"||(_==="TRUE"?T={t:"b",v:!0}:_==="FALSE"?T={t:"b",v:!1}:isNaN(Ss(_))?isNaN(z1(_).getDate())?_.charCodeAt(0)==35&&wr[_]!=null&&(T.t="e",T.w=_,T.v=wr[_]):(T={t:"d",v:Cr(_)},n.UTC===!1&&(T.v=Hh(T.v)),n.cellDates||(T={t:"n",v:Qn(T.v)}),T.z=n.dateNF||it[14]):T={t:"n",v:Ss(_)}),T.cellText!==!1&&(T.w=_),r?(i["!data"][u]||(i["!data"][u]=[]),i["!data"][u][f]=T):i[Nt({r:u,c:f})]=T,f+=d}}}}return i["!ref"]=bt(p),g.length&&(i["!merges"]=g),i}function $Je(e,t,n,r){for(var i=e["!merges"]||[],s=[],a={},o=e["!data"]!=null,l=t.s.c;l<=t.e.c;++l){for(var c=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>l)&&!(i[f].e.r<n||i[f].e.c<l)){if(i[f].s.r<n||i[f].s.c<l){c=-1;break}c=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(c<0)){var h=Lt(l)+Gt(n),d=o?(e["!data"][n]||[])[l]:e[h];d&&d.t=="n"&&d.v!=null&&!isFinite(d.v)&&(isNaN(d.v)?d={t:"e",v:36,w:is[36]}:d={t:"e",v:7,w:is[7]});var p=d&&d.v!=null&&(d.h||Im(d.w||($u(d),d.w)||""))||"";a={},c>1&&(a.rowspan=c),u>1&&(a.colspan=u),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(a["data-t"]=d&&d.t||"z",d.v!=null&&(a["data-v"]=Im(d.v instanceof Date?d.v.toISOString():d.v)),d.z!=null&&(a["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+Im(d.l.Target)+'">'+p+"</a>")),a.id=(r.id||"sjs")+"-"+h,s.push(wWe("td",p,a))}}var g="<tr>";return g+s.join("")+"</tr>"}var RJe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',IJe="</body></html>";function MJe(e,t){var n=lWe(e,"table");if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1){var r=rf(D7(n[0],t),t);return r.bookType="html",r}var i=hI();return n.forEach(function(s,a){fv(i,D7(s,t),"Sheet"+(a+1))}),i.bookType="html",i}function LJe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function PJe(e,t){var n=t||{},r=n.header!=null?n.header:RJe,i=n.footer!=null?n.footer:IJe,s=[r],a=pd(e["!ref"]||"A1");if(s.push(LJe(e,a,n)),e["!ref"])for(var o=a.s.r;o<=a.e.r;++o)s.push($Je(e,a,o,n));return s.push("</table>"+i),s.join("")}function hne(e,t,n){var r=t.rows;if(!r)throw"Unsupported origin when "+t.tagName+" is not a TABLE";var i=n||{},s=e["!data"]!=null,a=0,o=0;if(i.origin!=null)if(typeof i.origin=="number")a=i.origin;else{var l=typeof i.origin=="string"?Jr(i.origin):i.origin;a=l.r,o=l.c}var c=Math.min(i.sheetRows||1e7,r.length),u={s:{r:0,c:0},e:{r:a,c:o}};if(e["!ref"]){var f=pd(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var h=[],d=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,x=0,y=0,v=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<r.length&&m<c;++g){var b=r[g];if($7(b)){if(i.display)continue;p[m]={hidden:!0}}var w=b.cells;for(x=y=0;x<w.length;++x){var E=w[x];if(!(i.display&&$7(E))){var A=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):cte(E.innerHTML),S=E.getAttribute("data-z")||E.getAttribute("z");for(d=0;d<h.length;++d){var T=h[d];T.s.c==y+o&&T.s.r<m+a&&m+a<=T.e.r&&(y=T.e.c+1-o,d=-1)}_=+E.getAttribute("colspan")||1,((v=+E.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:m+a,c:y+o},e:{r:m+a+(v||1)-1,c:y+o+(_||1)-1}});var C={t:"s",v:A},O=E.getAttribute("data-t")||E.getAttribute("t")||"";A!=null&&(A.length==0?C.t=O||"z":i.raw||A.trim().length==0||O=="s"||(O=="e"&&is[+A]?C={t:"e",v:+A,w:is[+A]}:A==="TRUE"?C={t:"b",v:!0}:A==="FALSE"?C={t:"b",v:!1}:isNaN(Ss(A))?isNaN(z1(A).getDate())?A.charCodeAt(0)==35&&wr[A]!=null&&(C={t:"e",v:wr[A],w:A}):(C={t:"d",v:Cr(A)},i.UTC&&(C.v=NS(C.v)),i.cellDates||(C={t:"n",v:Qn(C.v)}),C.z=i.dateNF||it[14]):C={t:"n",v:Ss(A)})),C.z===void 0&&S!=null&&(C.z=S);var F="",I=E.getElementsByTagName("A");if(I&&I.length)for(var D=0;D<I.length&&!(I[D].hasAttribute("href")&&(F=I[D].getAttribute("href"),F.charAt(0)!="#"));++D);F&&F.charAt(0)!="#"&&F.slice(0,11).toLowerCase()!="javascript:"&&(C.l={Target:F}),s?(e["!data"][m+a]||(e["!data"][m+a]=[]),e["!data"][m+a][y+o]=C):e[Nt({c:y+o,r:m+a})]=C,u.e.c<y+o&&(u.e.c=y+o),y+=_}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=bt(u),m>=c&&(e["!fullref"]=bt((u.e.r=r.length-g+m-1+a,u))),e}function dne(e,t){var n=t||{},r={};return n.dense&&(r["!data"]=[]),hne(r,e,t)}function BJe(e,t){var n=rf(dne(e,t),t);return n}function $7(e){var t="",n=UJe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function UJe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function zJe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^<>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=_t(t.replace(/<[^<>]*>/g,""));return[n]}function pne(e,t,n){var r=n||{},i=DS(e);Ln.lastIndex=0,i=KR(sv(i,"<!--","-->"));for(var s,a,o="",l="",c,u=0,f=-1,h="";s=Ln.exec(i);)switch(s[3]=s[3].replace(/_[\s\S]*$/,"")){case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":case"text-style":s[1]==="/"?(a["truncate-on-overflow"]=="false"&&(o.match(/h/)?o=o.replace(/h+/,"[$&]"):o.match(/m/)?o=o.replace(/m+/,"[$&]"):o.match(/s/)&&(o=o.replace(/s+/,"[$&]"))),r[a.name]=o,o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",a=Ve(s[0],!1));break;case"boolean-style":s[1]==="/"?(r[a.name]="General",o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",a=Ve(s[0],!1));break;case"boolean":o+="General";break;case"text":s[1]==="/"?(h=i.slice(f,Ln.lastIndex-s[0].length),h=="%"&&a[0]=="<number:percentage-style"?o+="%":o+='"'+h.replace(/"/g,'""')+'"'):s[0].charAt(s[0].length-2)!=="/"&&(f=Ln.lastIndex);break;case"day":switch(c=Ve(s[0],!1),c.style){case"short":o+="d";break;case"long":o+="dd";break;default:o+="dd";break}break;case"day-of-week":switch(c=Ve(s[0],!1),c.style){case"short":o+="ddd";break;case"long":o+="dddd";break;default:o+="ddd";break}break;case"era":switch(c=Ve(s[0],!1),c.style){case"short":o+="ee";break;case"long":o+="eeee";break;default:o+="eeee";break}break;case"hours":switch(c=Ve(s[0],!1),c.style){case"short":o+="h";break;case"long":o+="hh";break;default:o+="hh";break}break;case"minutes":switch(c=Ve(s[0],!1),c.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="mm";break}break;case"month":switch(c=Ve(s[0],!1),c.textual&&(o+="mm"),c.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="m";break}break;case"seconds":{switch(c=Ve(s[0],!1),c.style){case"short":o+="s";break;case"long":o+="ss";break;default:o+="ss";break}c["decimal-places"]&&(o+="."+St("0",+c["decimal-places"]))}break;case"year":switch(c=Ve(s[0],!1),c.style){case"short":o+="yy";break;case"long":o+="yyyy";break;default:o+="yy";break}break;case"am-pm":o+="AM/PM";break;case"week-of-year":case"quarter":console.error("Excel does not support ODS format token "+s[3]);break;case"fill-character":s[1]==="/"?(h=i.slice(f,Ln.lastIndex-s[0].length),o+='"'+h.replace(/"/g,'""')+'"*'):s[0].charAt(s[0].length-2)!=="/"&&(f=Ln.lastIndex);break;case"scientific-number":c=Ve(s[0],!1),o+="0."+St("0",+c["min-decimal-places"]||+c["decimal-places"]||2)+St("?",+c["decimal-places"]-+c["min-decimal-places"]||0)+"E"+(jt(c["forced-exponent-sign"])?"+":"")+St("0",+c["min-exponent-digits"]||2);break;case"fraction":c=Ve(s[0],!1),+c["min-integer-digits"]?o+=St("0",+c["min-integer-digits"]):o+="#",o+=" ",o+=St("?",+c["min-numerator-digits"]||1),o+="/",+c["denominator-value"]?o+=c["denominator-value"]:o+=St("?",+c["min-denominator-digits"]||1);break;case"currency-symbol":s[1]==="/"?o+='"'+i.slice(f,Ln.lastIndex-s[0].length).replace(/"/g,'""')+'"':s[0].charAt(s[0].length-2)!=="/"?f=Ln.lastIndex:o+="$";break;case"text-properties":switch(c=Ve(s[0],!1),(c.color||"").toLowerCase().replace("#","")){case"ff0000":case"red":o="[Red]"+o;break}break;case"text-content":o+="@";break;case"map":c=Ve(s[0],!1),_t(c.condition)=="value()>=0"?o=r[c["apply-style-name"]]+";"+o:console.error("ODS number format may be incorrect: "+c.condition);break;case"number":if(s[1]==="/")break;c=Ve(s[0],!1),l="",l+=St("0",+c["min-integer-digits"]||1),jt(c.grouping)&&(l=Cl(St("#",Math.max(0,4-l.length))+l)),(+c["min-decimal-places"]||+c["decimal-places"])&&(l+="."),+c["min-decimal-places"]&&(l+=St("0",+c["min-decimal-places"]||1)),+c["decimal-places"]-(+c["min-decimal-places"]||0)&&(l+=St("0",+c["decimal-places"]-(+c["min-decimal-places"]||0))),o+=l;break;case"embedded-text":s[1]==="/"?u==0?o+='"'+i.slice(f,Ln.lastIndex-s[0].length).replace(/"/g,'""')+'"':o=o.slice(0,u)+'"'+i.slice(f,Ln.lastIndex-s[0].length).replace(/"/g,'""')+'"'+o.slice(u):s[0].charAt(s[0].length-2)!=="/"&&(f=Ln.lastIndex,u=-+Ve(s[0],!1).position||0);break}return r}function gne(e,t,n){var r=t||{},i=DS(e),s=[],a,o,l,c="",u=0,f,h,d={},p=[],g={};r.dense&&(g["!data"]=[]);var m,x,y={value:""},v={},_="",b=0,w="",E=0,A=[],S=[],T=-1,C=-1,O={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,I=n||{},D={},N=[],M={},U=0,J=0,X=[],ce=1,ve=1,_e=[],de={Names:[],WBProps:{}},Fe={},Ne=["",""],je=[],z={},q="",G=0,H=!1,K=!1,k=0;for(Ln.lastIndex=0,i=KR(sv(i,"<!--","-->"));m=Ln.exec(i);)switch(m[3]=m[3].replace(/_[\s\S]*$/,"")){case"table":case"":m[1]==="/"?(O.e.c>=O.s.c&&O.e.r>=O.s.r?g["!ref"]=bt(O):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=O.e.r&&(g["!fullref"]=g["!ref"],O.e.r=r.sheetRows-1,g["!ref"]=bt(O)),N.length&&(g["!merges"]=N),X.length&&(g["!rows"]=X),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),p.push(f.name),d[f.name]=g,K=!1):m[0].charAt(m[0].length-2)!=="/"&&(f=Ve(m[0],!1),T=C=-1,O.s.r=O.s.c=1e7,O.e.r=O.e.c=0,g={},r.dense&&(g["!data"]=[]),N=[],X=[],K=!0);break;case"table-row-group":m[1]==="/"?--F:++F;break;case"table-row":case"":if(m[1]==="/"){T+=ce,ce=1;break}if(h=Ve(m[0],!1),h.?T=h.-1:T==-1&&(T=0),ce=+h["number-rows-repeated"]||1,ce<10)for(k=0;k<ce;++k)F>0&&(X[T+k]={level:F});C=-1;break;case"covered-table-cell":if(m[1]!=="/")if(++C,y=Ve(m[0],!1),ve=parseInt(y["number-columns-repeated"]||"1",10)||1,r.sheetStubs){for(;ve-- >0;)r.dense?(g["!data"][T]||(g["!data"][T]=[]),g["!data"][T][C]={t:"z"}):g[Nt({r:T,c:C})]={t:"z"},++C;--C}else C+=ve-1;_="",A=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++C,y=Ve(m[0],!1),ve=parseInt(y["number-columns-repeated"]||"1",10)||1,x={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(x.f=C7(_t(y.formula))),y["style-name"]&&D[y["style-name"]]&&(x.z=D[y["style-name"]]),(y.||y["value-type"])=="string"&&(x.t="s",x.v=_t(y["string-value"]||""),r.dense?(g["!data"][T]||(g["!data"][T]=[]),g["!data"][T][C]=x):g[Lt(C)+Gt(T)]=x),C+=ve-1;else if(m[1]!=="/"){++C,_=w="",b=E=0,A=[],S=[],ve=1;var P=ce?T+ce-1:T;if(C>O.e.c&&(O.e.c=C),C<O.s.c&&(O.s.c=C),T<O.s.r&&(O.s.r=T),P>O.e.r&&(O.e.r=P),y=Ve(m[0],!1),v=gWe(m[0]),je=[],z={},x={t:y.||y["value-type"],v:null},y["style-name"]&&D[y["style-name"]]&&(x.z=D[y["style-name"]]),r.cellFormula)if(y.formula&&(y.formula=_t(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(U=parseInt(y["number-matrix-rows-spanned"],10)||0,J=parseInt(y["number-matrix-columns-spanned"],10)||0,M={s:{r:T,c:C},e:{r:T+U-1,c:C+J-1}},x.F=bt(M),_e.push([M,x.F])),y.formula)x.f=C7(y.formula);else for(k=0;k<_e.length;++k)T>=_e[k][0].s.r&&T<=_e[k][0].e.r&&C>=_e[k][0].s.c&&C<=_e[k][0].e.c&&(x.F=_e[k][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(U=parseInt(y["number-rows-spanned"]||"1",10)||1,J=parseInt(y["number-columns-spanned"]||"1",10)||1,U*J>1&&(M={s:{r:T,c:C},e:{r:T+U-1,c:C+J-1}},N.push(M))),y["number-columns-repeated"]&&(ve=parseInt(y["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=jt(y["boolean-value"])||+y["boolean-value"]>=1;break;case"float":x.t="n",x.v=parseFloat(y.value),r.cellDates&&x.z&&Ka(x.z)&&(x.v=au(x.v+(de.WBProps.date1904?1462:0)),x.t=typeof x.v=="number"?"n":"d");break;case"percentage":x.t="n",x.v=parseFloat(y.value);break;case"currency":x.t="n",x.v=parseFloat(y.value);break;case"date":x.t="d",x.v=Cr(y["date-value"],de.WBProps.date1904),r.cellDates||(x.t="n",x.v=Qn(x.v,de.WBProps.date1904)),x.z||(x.z="m/d/yy");break;case"time":x.t="n",x.v=YVe(y["time-value"])/86400,r.cellDates&&(x.v=au(x.v),x.t=typeof x.v=="number"?"n":"d"),x.z||(x.z="HH:MM:SS");break;case"number":x.t="n",x.v=parseFloat(y.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",y["string-value"]!=null&&(_=_t(y["string-value"]),A=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(H=!1,v["calcext:value-type"]=="error"&&wr[_]!=null&&(x.t="e",x.w=_,x.v=wr[_]),x.t==="s"&&(x.v=_||"",A.length&&(x.R=A),H=b==0),Fe.Target&&(x.l=Fe),je.length>0&&(x.c=je,je=[]),_&&r.cellText!==!1&&(x.w=_),H&&(x.t="z",delete x.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=T))for(var Y=0;Y<ce;++Y){if(ve=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g["!data"][T+Y]||(g["!data"][T+Y]=[]),g["!data"][T+Y][C]=Y==0?x:Bn(x);--ve>0;)g["!data"][T+Y][C+ve]=Bn(x);else for(g[Nt({r:T+Y,c:C})]=x;--ve>0;)g[Nt({r:T+Y,c:C+ve})]=Bn(x);O.e.c<=C&&(O.e.c=C)}ve=parseInt(y["number-columns-repeated"]||"1",10),C+=ve-1,ve=0,x={},_="",A=[]}Fe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((a=s.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&s.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((a=s.pop())[0]!==m[3])throw"Bad state: "+a;z.t=_,A.length&&(z.R=A),z.a=q,je.push(z),_=w,b=E,A=S}else if(m[0].charAt(m[0].length-2)!=="/"){s.push([m[3],!1]);var Z=Ve(m[0],!0);Z.display&&jt(Z.display)||(je.hidden=!0),w=_,E=b,S=A,_="",b=0,A=[]}q="",G=0;break;case"creator":m[1]==="/"?q=i.slice(G,m.index):G=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((a=s.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&s.push([m[3],!1]);_="",b=0,A=[];break;case"scientific-number":case"currency-symbol":case"fill-character":break;case"text-style":case"boolean-style":case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){var ee=Ln.lastIndex;pne(i.slice(l,Ln.lastIndex),t,I),Ln.lastIndex=ee}else m[0].charAt(m[0].length-2)!=="/"&&(l=Ln.lastIndex-m[0].length);break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":{var ne=Ve(m[0],!1);ne.family=="table-cell"&&I[ne["data-style-name"]]&&(D[ne.name]=I[ne["data-style-name"]])}break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":break;case"boolean":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=i.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":o=Ve(m[0],!1),Ne=XT(o["cell-range-address"]);var pe={Name:o.name,Ref:Ne[0]+"!"+Ne[1]};K&&(pe.Sheet=p.length),de.Names.push(pe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":switch(o=Ve(m[0],!1),o["date-value"]){case"1904-01-01":de.WBProps.date1904=!0;break}break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var xe=zJe(i.slice(b,m.index));_=(_.length>0?_+`
`:"")+xe[0]}else m[0].slice(-2)=="/>"?_+=`
`:(Ve(m[0],!1),b=m.index+m[0].length);break;case"s":break;case"database-range":if(m[1]==="/")break;try{Ne=XT(Ve(m[0])["target-range-address"]),d[Ne[0]]["!autofilter"]={ref:Ne[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"filter-set-item":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(Fe=Ve(m[0],!1),!Fe.href)break;Fe.Target=_t(Fe.href),delete Fe.href,Fe.Target.charAt(0)=="#"&&Fe.Target.indexOf(".")>-1?(Ne=XT(Fe.Target.slice(1)),Fe.Target="#"+Ne[0]+"!"+Ne[1]):Fe.Target.match(/^\.\.[\\\/]/)&&(Fe.Target=Fe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var ye={Sheets:d,SheetNames:p,Workbook:de};return r.bookSheets&&delete ye.Sheets,ye}function R7(e,t){t=t||{},js(e,"META-INF/manifest.xml")&&cje(Mn(e,"META-INF/manifest.xml"),t);var n=bi(e,"styles.xml"),r=n&&pne(Jt(n)),i=bi(e,"content.xml");if(!i)throw new Error("Missing content.xml in ODS / UOF file");var s=gne(Jt(i),t,r);return js(e,"meta.xml")&&(s.Props=Fte(Mn(e,"meta.xml"))),s.bookType="ods",s}function I7(e,t){var n=gne(e,t);return n.bookType="fods",n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */var Sr=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function j1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _0(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Jt(Zl(e))}function mne(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].length;var r=new Uint8Array(t),i=0;for(n=0;n<e.length;++n){var s=e[n],a=s.length;if(a<250)for(var o=0;o<a;++o)r[i++]=s[o];else r.set(s,i),i+=a}return r}function jm(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function HJe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Vb(e,t){var n=t.l,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t.l=n,r}function Ot(e){var t=0,n=e[t]&127;return e[t++]<128||(n|=(e[t]&127)<<7,e[t++]<128)||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128)||(n|=(e[t]&15)<<28),n}function gt(e){for(var t=[],n={l:0};n.l<e.length;){var r=n.l,i=Vb(e,n),s=i&7;i=i/8|0;var a,o=n.l;switch(s){case 0:{for(;e[o++]>=128;);a=e[Sr](n.l,o),n.l=o}break;case 1:a=e[Sr](o,o+8),n.l=o+8;break;case 2:{var l=Vb(e,n);a=e[Sr](n.l,n.l+l),n.l+=l}break;case 5:a=e[Sr](o,o+4),n.l=o+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};t[i]==null&&(t[i]=[]),t[i].push(c)}return t}function PS(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function VJe(e){for(var t,n=[],r={l:0};r.l<e.length;){var i=Vb(e,r),s=gt(e[Sr](r.l,r.l+i));r.l+=i;var a={id:Ot(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=gt(o.data),c=Ot(l[3][0].data);a.messages.push({meta:l,data:e[Sr](r.l,r.l+c)}),r.l+=c}),(t=s[3])!=null&&t[0]&&(a.merge=Ot(s[3][0].data)>>>0>0),n.push(a)}return n}function WJe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n={l:0},r=Vb(t,n),i=[],s=n.l;s<t.length;){var a=t[s]&3;if(a==0){var o=t[s++]>>2;if(o<60)++o;else{var l=o-59;o=t[s],l>1&&(o|=t[s+1]<<8),l>2&&(o|=t[s+2]<<16),l>3&&(o|=t[s+3]<<24),o>>>=0,o++,s+=l}i.push(t[Sr](s,s+o)),s+=o;continue}else{var c=0,u=0;if(a==1?(u=(t[s]>>2&7)+4,c=(t[s++]&224)<<3,c|=t[s++]):(u=(t[s++]>>2)+1,a==2?(c=t[s]|t[s+1]<<8,s+=2):(c=(t[s]|t[s+1]<<8|t[s+2]<<16|t[s+3]<<24)>>>0,s+=4)),c==0)throw new Error("Invalid offset 0");for(var f=i.length-1,h=c;f>=0&&h>=i[f].length;)h-=i[f].length,--f;if(f<0)if(h==0)h=i[f=0].length;else throw new Error("Invalid offset beyond length");if(u<h)i.push(i[f][Sr](i[f].length-h,i[f].length-h+u));else{for(h>0&&(i.push(i[f][Sr](i[f].length-h)),u-=h),++f;u>=i[f].length;)i.push(i[f]),u-=i[f].length,++f;u&&i.push(i[f][Sr](0,u))}i.length>25&&(i=[mne(i)])}}for(var d=0,p=0;p<i.length;++p)d+=i[p].length;if(d!=r)throw new Error("Unexpected length: ".concat(d," != ").concat(r));return i}function jJe(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push.apply(t,WJe(r,e[Sr](n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return t.length==1?t[0]:mne(t)}var GJe=function(){return{sst:[],rsst:[],ofmt:[],nfmt:[],fmla:[],ferr:[],cmnt:[]}};function xne(e,t,n,r,i){var s,a,o,l,c=t&255,u=t>>8,f=u>=5?i:r;e:if(n&(u>4?8:4)&&e.t=="n"&&c==7){var h=(s=f[7])!=null&&s[0]?Ot(f[7][0].data):-1;if(h==-1)break e;var d=(a=f[15])!=null&&a[0]?Ot(f[15][0].data):-1,p=(o=f[16])!=null&&o[0]?Ot(f[16][0].data):-1,g=(l=f[40])!=null&&l[0]?Ot(f[40][0].data):-1,m=e.v,x=m;t:if(g){if(m==0){d=p=2;break t}m>=604800?d=1:m>=86400?d=2:m>=3600?d=4:m>=60?d=8:m>=1?d=16:d=32,Math.floor(m)!=m?p=32:m%60?p=16:m%3600?p=8:m%86400?p=4:m%604800&&(p=2),p<d&&(p=d)}if(d==-1||p==-1)break e;var y=[],v=[];d==1&&(x=m/604800,p==1?v.push('d"d"'):(x|=0,m-=604800*x),y.push(x+(h==2?" week"+(x==1?"":"s"):h==1?"w":""))),d<=2&&p>=2&&(x=m/86400,p>2&&(x|=0,m-=86400*x),v.push('d"d"'),y.push(x+(h==2?" day"+(x==1?"":"s"):h==1?"d":""))),d<=4&&p>=4&&(x=m/3600,p>4&&(x|=0,m-=3600*x),v.push((d>=4?"[h]":"h")+'"h"'),y.push(x+(h==2?" hour"+(x==1?"":"s"):h==1?"h":""))),d<=8&&p>=8&&(x=m/60,p>8&&(x|=0,m-=60*x),v.push((d>=8?"[m]":"m")+'"m"'),h==0?y.push((d==8&&p==8||x>=10?"":"0")+x):y.push(x+(h==2?" minute"+(x==1?"":"s"):h==1?"m":""))),d<=16&&p>=16&&(x=m,p>16&&(x|=0,m-=x),v.push((d>=16?"[s]":"s")+'"s"'),h==0?y.push((p==16&&d==16||x>=10?"":"0")+x):y.push(x+(h==2?" second"+(x==1?"":"s"):h==1?"s":""))),p>=32&&(x=Math.round(1e3*m),d<32&&v.push('.000"ms"'),h==0?y.push((x>=100?"":x>=10?"0":"00")+x):y.push(x+(h==2?" millisecond"+(x==1?"":"s"):h==1?"ms":""))),e.w=y.join(h==0?":":" "),e.z=v.join(h==0?'":"':" "),h==0&&(e.w=e.w.replace(/:(\d\d\d)$/,".$1"))}}function qJe(e,t,n,r){var i=j1(e),s=i.getUint32(4,!0),a=-1,o=-1,l=-1,c=NaN,u=0,f=new Date(Date.UTC(2001,0,1)),h=n>1?12:8;s&2&&(l=i.getUint32(h,!0),h+=4),h+=jm(s&(n>1?3468:396))*4,s&512&&(a=i.getUint32(h,!0),h+=4),h+=jm(s&(n>1?12288:4096))*4,s&16&&(o=i.getUint32(h,!0),h+=4),s&32&&(c=i.getFloat64(h,!0),h+=8),s&64&&(f.setTime(f.getTime()+(u=i.getFloat64(h,!0))*1e3),h+=8),n>1&&(s=i.getUint32(8,!0)>>>16,s&255&&(l==-1&&(l=i.getUint32(h,!0)),h+=4));var d,p=e[n>=4?1:2];switch(p){case 0:return;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t.sst[o]};break;case 5:r!=null&&r.cellDates?d={t:"d",v:f}:d={t:"n",v:u/86400+35430,z:it[14]};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1){var g=t.rsst[a];d={t:"s",v:g.v},g.l&&(d.l={Target:g.l})}else throw new Error("Unsupported cell type ".concat(e[Sr](0,4)));break;default:throw new Error("Unsupported cell type ".concat(e[Sr](0,4)))}return l>-1&&xne(d,p|n<<8,s,t.ofmt[l],t.nfmt[l]),p==7&&(d.v/=86400),d}function XJe(e,t,n){var r=j1(e);r.getUint32(4,!0);var i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=-1,c=NaN,u=NaN,f=0,h=new Date(Date.UTC(2001,0,1));i&1&&(c=HJe(e,s),s+=16),i&2&&(u=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+(f=r.getFloat64(s,!0))*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4),s+=jm(i&480)*4,i&512&&(r.getUint32(s,!0),s+=4),s+=jm(i&1024)*4,i&2048&&(r.getUint32(s,!0),s+=4);var d,p=e[1];switch(p){case 0:d={t:"z"};break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t.sst[o]};break;case 5:n!=null&&n.cellDates?d={t:"d",v:h}:d={t:"n",v:f/86400+35430,z:it[14]};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1){var g=t.rsst[a];d={t:"s",v:g.v},g.l&&(d.l={Target:g.l})}else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e[Sr](0,4)));break;case 10:d={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e[Sr](0,4)))}if(s+=jm(i&4096)*4,i&516096&&(l==-1&&(l=r.getUint32(s,!0)),s+=4),i&524288){var m=r.getUint32(s,!0);s+=4,t.cmnt[m]&&(d.c=ZJe(t.cmnt[m]))}return l>-1&&xne(d,p|1280,i>>13,t.ofmt[l],t.nfmt[l]),p==7&&(d.v/=86400),d}function YJe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:case 4:return qJe(e,t,e[0],n);case 5:return XJe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ir(e){var t=gt(e);return Ot(t[1][0].data)}function _f(e,t){var n=gt(t.data),r=Ot(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o,l,c=gt(a.data);if(c[1]){var u=Ot(c[1][0].data)>>>0;switch(r){case 1:s[u]=_0(c[3][0].data);break;case 8:{var f=e[ir(c[9][0].data)][0],h=gt(f.data),d=e[ir(h[1][0].data)][0],p=Ot(d.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=gt(d.data),m={v:g[3].map(function(v){return _0(v.data)}).join("")};s[u]=m;e:if((o=g==null?void 0:g[11])!=null&&o[0]){var x=(l=gt(g[11][0].data))==null?void 0:l[1];if(!x)break e;x.forEach(function(v){var _,b,w,E=gt(v.data);if((_=E[2])!=null&&_[0]){var A=e[ir((b=E[2])==null?void 0:b[0].data)][0],S=Ot(A.meta[1][0].data);switch(S){case 2032:var T=gt(A.data);(w=T==null?void 0:T[2])!=null&&w[0]&&!m.l&&(m.l=_0(T[2][0].data));break;case 2039:break;default:console.log("unrecognized ObjectAttribute type ".concat(S))}}})}}break;case 2:s[u]=gt(c[6][0].data);break;case 3:s[u]=gt(c[5][0].data);break;case 10:{var y=e[ir(c[10][0].data)][0];s[u]=vne(e,y.data)}break;default:throw r}}}),s}function KJe(e,t){var n,r,i,s,a,o,l,c,u,f,h,d,p,g,m=gt(e),x=Ot(m[1][0].data)>>>0,y=Ot(m[2][0].data)>>>0,v=((r=(n=m[8])==null?void 0:n[0])==null?void 0:r.data)&&Ot(m[8][0].data)>0||!1,_,b;if((s=(i=m[7])==null?void 0:i[0])!=null&&s.data&&t!=0)_=(o=(a=m[7])==null?void 0:a[0])==null?void 0:o.data,b=(c=(l=m[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=m[4])==null?void 0:u[0])!=null&&f.data&&t!=1)_=(d=(h=m[4])==null?void 0:h[0])==null?void 0:d.data,b=(g=(p=m[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var w=v?4:1,E=j1(_),A=[],S=0;S<_.length/2;++S){var T=E.getUint16(S*2,!0);T<65535&&A.push([S,T])}if(A.length!=y)throw"Expected ".concat(y," cells, found ").concat(A.length);var C=[];for(S=0;S<A.length-1;++S)C[A[S][0]]=b[Sr](A[S][1]*w,A[S+1][1]*w);return A.length>=1&&(C[A[A.length-1][0]]=b[Sr](A[A.length-1][1]*w)),{R:x,cells:C}}function JJe(e,t){var n,r=gt(t.data),i=-1;(n=r==null?void 0:r[7])!=null&&n[0]&&(Ot(r[7][0].data)>>>0?i=1:i=0);var s=PS(r[5],function(a){return KJe(a,i)});return{nrows:Ot(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function vne(e,t){var n,r,i,s,a,o,l,c,u,f,h={t:"",a:""},d=gt(t);if((r=(n=d==null?void 0:d[1])==null?void 0:n[0])!=null&&r.data&&(h.t=_0((s=(i=d==null?void 0:d[1])==null?void 0:i[0])==null?void 0:s.data)||""),(o=(a=d==null?void 0:d[3])==null?void 0:a[0])!=null&&o.data){var p=e[ir((c=(l=d==null?void 0:d[3])==null?void 0:l[0])==null?void 0:c.data)][0],g=gt(p.data);(f=(u=g[1])==null?void 0:u[0])!=null&&f.data&&(h.a=_0(g[1][0].data))}return d!=null&&d[4]&&(h.replies=[],d[4].forEach(function(m){var x=e[ir(m.data)][0];h.replies.push(vne(e,x.data))})),h}function ZJe(e){var t=[];return t.push({t:e.t||"",a:e.a,T:e.replies&&e.replies.length>0}),e.replies&&e.replies.forEach(function(n){t.push({t:n.t||"",a:n.a,T:!0})}),t}function QJe(e,t,n,r){var i,s,a,o,l,c,u,f,h,d,p,g,m,x,y=gt(t.data),v={s:{r:0,c:0},e:{r:0,c:0}};if(v.e.r=(Ot(y[6][0].data)>>>0)-1,v.e.r<0)throw new Error("Invalid row varint ".concat(y[6][0].data));if(v.e.c=(Ot(y[7][0].data)>>>0)-1,v.e.c<0)throw new Error("Invalid col varint ".concat(y[7][0].data));n["!ref"]=bt(v);var _=n["!data"]!=null,b=n,w=gt(y[4][0].data),E=GJe();(i=w[4])!=null&&i[0]&&(E.sst=_f(e,e[ir(w[4][0].data)][0])),(s=w[6])!=null&&s[0]&&(E.fmla=_f(e,e[ir(w[6][0].data)][0])),(a=w[11])!=null&&a[0]&&(E.ofmt=_f(e,e[ir(w[11][0].data)][0])),(o=w[12])!=null&&o[0]&&(E.ferr=_f(e,e[ir(w[12][0].data)][0])),(l=w[17])!=null&&l[0]&&(E.rsst=_f(e,e[ir(w[17][0].data)][0])),(c=w[19])!=null&&c[0]&&(E.cmnt=_f(e,e[ir(w[19][0].data)][0])),(u=w[22])!=null&&u[0]&&(E.nfmt=_f(e,e[ir(w[22][0].data)][0]));var A=gt(w[3][0].data),S=0;if(!((f=w[9])!=null&&f[0]))throw"NUMBERS file missing row tree";var T=gt(w[9][0].data)[1].map(function(D){return gt(D.data)});if(T.forEach(function(D){S=Ot(D[1][0].data);var N=Ot(D[2][0].data),M=A[1][N];if(!M)throw"NUMBERS missing tile "+N;var U=gt(M.data),J=e[ir(U[2][0].data)][0],X=Ot(J.meta[1][0].data);if(X!=6002)throw new Error("6001 unexpected reference to ".concat(X));var ce=JJe(e,J);ce.data.forEach(function(ve,_e){ve.forEach(function(de,Fe){var Ne=YJe(de,E,r);Ne&&(_?(b["!data"][S+_e]||(b["!data"][S+_e]=[]),b["!data"][S+_e][Fe]=Ne):n[Lt(Fe)+Gt(S+_e)]=Ne)})}),S+=ce.nrows}),(h=w[13])!=null&&h[0]){var C=e[ir(w[13][0].data)][0],O=Ot(C.meta[1][0].data);if(O!=6144)throw new Error("Expected merge type 6144, found ".concat(O));n["!merges"]=(d=gt(C.data))==null?void 0:d[1].map(function(D){var N=gt(D.data),M=j1(gt(N[1][0].data)[1][0].data),U=j1(gt(N[2][0].data)[1][0].data);return{s:{r:M.getUint16(0,!0),c:M.getUint16(2,!0)},e:{r:M.getUint16(0,!0)+U.getUint16(0,!0)-1,c:M.getUint16(2,!0)+U.getUint16(2,!0)-1}}})}if(!((p=n["!merges"])!=null&&p.length)&&((g=y[47])!=null&&g[0])){var F=gt(y[47][0].data);if((m=F[2])!=null&&m[0]){var I=gt(F[2][0].data);(x=I[3])!=null&&x[0]&&(n["!merges"]=PS(I[3],function(D){var N,M,U,J,X,ce=gt(D),ve=gt(ce[2][0].data),_e=gt(ve[1][0].data);if((N=_e[1])!=null&&N[0]){var de=gt(_e[1][0].data),Fe=Ot(de[1][0].data);if(Fe==67){var Ne=gt(de[40][0].data);if(!(!((M=Ne[3])!=null&&M[0])||!((U=Ne[4])!=null&&U[0]))){var je=gt(Ne[3][0].data),z=gt(Ne[4][0].data),q=Ot(je[1][0].data),G=(J=je[2])!=null&&J[0]?Ot(je[2][0].data):q,H=Ot(z[1][0].data),K=(X=z[2])!=null&&X[0]?Ot(z[2][0].data):H;return{s:{r:H,c:q},e:{r:K,c:G}}}}}}).filter(function(D){return D!=null}))}}}function eZe(e,t,n){var r=gt(t.data),i={"!ref":"A1"};n!=null&&n.dense&&(i["!data"]=[]);var s=e[ir(r[2][0].data)],a=Ot(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return QJe(e,s[0],i,n),i}function tZe(e,t,n){var r,i=gt(t.data),s={name:(r=i[1])!=null&&r[0]?_0(i[1][0].data):"",sheets:[]},a=PS(i[2],ir);return a.forEach(function(o){e[o].forEach(function(l){var c=Ot(l.meta[1][0].data);c==6e3&&s.sheets.push(eZe(e,l,n))})}),s}function nZe(e,t,n){var r,i=hI();i.Workbook={WBProps:{date1904:!0}};var s=gt(t.data);if((r=s[2])!=null&&r[0])throw new Error("Keynote presentations are not supported");var a=PS(s[1],ir);if(a.forEach(function(o){e[o].forEach(function(l){var c=Ot(l.meta[1][0].data);if(c==2){var u=tZe(e,l,n);u.sheets.forEach(function(f,h){fv(i,f,h==0?u.name:u.name+"_"+h,!0)})}})}),i.SheetNames.length==0)throw new Error("Empty NUMBERS file");return i.bookType="numbers",i}function KT(e,t){var n,r,i,s,a,o,l,c={},u=[];if(e.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)&&h.content[0]==0){var d;try{d=jJe(h.content)}catch(g){return console.log("?? "+h.content.length+" "+(g.message||g))}var p;try{p=VJe(d)}catch(g){return console.log("## "+(g.message||g))}p.forEach(function(g){c[g.id]=g.messages,u.push(g.id)})}}),!u.length)throw new Error("File has no messages");if((i=(r=(n=c==null?void 0:c[1])==null?void 0:n[0].meta)==null?void 0:r[1])!=null&&i[0].data&&Ot(c[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var f=((l=(o=(a=(s=c==null?void 0:c[1])==null?void 0:s[0])==null?void 0:a.meta)==null?void 0:o[1])==null?void 0:l[0].data)&&Ot(c[1][0].meta[1][0].data)==1&&c[1][0];if(f||u.forEach(function(h){c[h].forEach(function(d){var p=Ot(d.meta[1][0].data)>>>0;if(p==1)if(!f)f=d;else throw new Error("Document has multiple roots")})}),!f)throw new Error("Cannot find Document root");return nZe(c,f,t)}function rZe(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function uI(e){rZe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function iZe(e){return e0.WS.indexOf(e)>-1?"sheet":e==e0.CS?"chart":e==e0.DS?"dialog":e==e0.MS?"macro":e&&e.length?e:"sheet"}function sZe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,iZe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function aZe(e,t,n,r,i,s,a,o){if(!(!e||!e["!legdrawel"])){var l=Qd(e["!legdrawel"].Target,r),c=bi(n,l,!0);c&&dXe(Jt(c),e,o||[])}}function oZe(e,t,n,r,i,s,a,o,l,c,u,f){try{s[r]=Bm(bi(e,n,!0),t);var h=Mn(e,t),d;switch(o){case"sheet":d=uJe(h,t,i,l,s[r],c,u,f);break;case"chart":if(d=fJe(h,t,i,l,s[r],c,u,f),!d||!d["!drawel"])break;var p=Qd(d["!drawel"].Target,t),g=t3(p),m=hXe(bi(e,p,!0),Bm(bi(e,g,!0),p)),x=Qd(m,p),y=t3(x);d=qKe(bi(e,x,!0),x,l,Bm(bi(e,y,!0),x),c,d);break;case"macro":d=hJe(h,t,i,l,s[r],c,u,f);break;case"dialog":d=dJe(h,t,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=d;var v=[],_=[];s&&s[r]&&na(s[r]).forEach(function(b){var w="";if(s[r][b].Type==e0.CMNT){if(w=Qd(s[r][b].Target,t),v=mJe(Mn(e,w,!0),w,l),!v||!v.length)return;E7(d,v,!1)}s[r][b].Type==e0.TCMNT&&(w=Qd(s[r][b].Target,t),_=_.concat(gXe(Mn(e,w,!0),l)))}),_&&_.length&&E7(d,_,!0,l.people||[]),aZe(d,o,e,t,i,l,c,v)}catch(b){if(l.WTF)throw b}}function Vs(e){return e.charAt(0)=="/"?e.slice(1):e}function lZe(e,t){if(Qee(),t=t||{},uI(t),js(e,"META-INF/manifest.xml")||js(e,"objectdata.xml"))return R7(e,t);if(js(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof KT<"u"){if(e.FileIndex)return KT(e,t);var n=At.utils.cfb_new();return X9(e).forEach(function(D){fWe(n,D,uWe(e,D))}),KT(n,t)}throw new Error("Unsupported NUMBERS file")}if(!js(e,"[Content_Types].xml")){if(js(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(js(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");var r=At.find(e,"Index.zip");if(r)return t=Bn(t),delete t.type,typeof r.content=="string"&&(t.type="binary"),typeof Bun<"u"&&Buffer.isBuffer(r.content)?b0(new Uint8Array(r.content),t):b0(r.content,t);throw new Error("Unsupported ZIP file")}var i=X9(e),s=oje(bi(e,"[Content_Types].xml")),a=!1,o,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",Mn(e,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!Mn(e,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Hm=[],s.sst)try{Hm=gJe(Mn(e,Vs(s.sst)),s.sst,t)}catch(D){if(t.WTF)throw D}t.cellStyles&&s.themes.length&&(c=Yte(bi(e,s.themes[0].replace(/^\//,""),!0)||"",t)),s.style&&(u=pJe(Mn(e,Vs(s.style)),s.style,c,t))}s.links.map(function(D){try{var N=Bm(bi(e,t3(Vs(D))),D);return vJe(Mn(e,Vs(D)),N,D,t)}catch{}});var f=cJe(Mn(e,Vs(s.workbooks[0])),s.workbooks[0],t),h={},d="";s.coreprops.length&&(d=Mn(e,Vs(s.coreprops[0]),!0),d&&(h=Fte(d)),s.extprops.length!==0&&(d=Mn(e,Vs(s.extprops[0]),!0),d&&fje(d,h,t)));var p={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(d=bi(e,Vs(s.custprops[0]),!0),d&&(p=dje(d,t)));var g={};if((t.bookSheets||t.bookProps)&&(f.Sheets?o=f.Sheets.map(function(N){return N.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(g.Props=h,g.Custprops=p),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var m={};t.bookDeps&&s.calcchain&&(m=xJe(Mn(e,Vs(s.calcchain)),s.calcchain));var x=0,y={},v,_;{var b=f.Sheets;h.Worksheets=b.length,h.SheetNames=[];for(var w=0;w!=b.length;++w)h.SheetNames[w]=b[w].name}var E=a?"bin":"xml",A=s.workbooks[0].lastIndexOf("/"),S=(s.workbooks[0].slice(0,A+1)+"_rels/"+s.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");js(e,S)||(S="xl/_rels/workbook."+E+".rels");var T=Bm(bi(e,S,!0),S.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=yJe(Mn(e,Vs(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=mXe(Mn(e,Vs(s.people[0])),t)),T&&(T=sZe(T,f.Sheets));var C=Mn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=h.Worksheets;++x){var O="sheet";if(T&&T[x]?(v="xl/"+T[x][1].replace(/[\/]?xl\//,""),js(e,v)||(v=T[x][1]),js(e,v)||(v=S.replace(/_rels\/[\S\s]*$/,"")+T[x][1]),O=T[x][2]):(v="xl/worksheets/sheet"+(x+1-C)+"."+E,v=v.replace(/sheet0\./,"sheet.")),_=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(h.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,I=0;I!=t.sheets.length;++I)typeof t.sheets[I]=="number"&&t.sheets[I]==x&&(F=1),typeof t.sheets[I]=="string"&&t.sheets[I].toLowerCase()==h.SheetNames[x].toLowerCase()&&(F=1);if(!F)continue e}}oZe(e,v,_,h.SheetNames[x],x,y,o,O,t,f,c,u)}return g={Directory:s,Workbook:f,Props:h,Custprops:p,Deps:m,Sheets:o,SheetNames:h.SheetNames,Strings:Hm,Styles:u,Themes:c,SSF:Bn(it)},t&&t.bookFiles&&(e.files?(g.keys=i,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(D,N){D=D.replace(/^Root Entry[\/]/,""),g.keys.push(D),g.files[D]=e.FileIndex[N]}))),t&&t.bookVBA&&(s.vba.length>0?g.vbaraw=Mn(e,Vs(s.vba[0]),!0):s.defaults&&s.defaults.bin===_Xe&&(g.vbaraw=Mn(e,"xl/vbaProject.bin",!0))),g.bookType=a?"xlsb":"xlsx",g}function cZe(e,t){var n=t||{},r="Workbook",i=At.find(e,r);try{if(r="/!DataSpaces/Version",i=At.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(aqe(i.content),r="/!DataSpaces/DataSpaceMap",i=At.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=lqe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=At.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=cqe(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=At.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);fqe(i.content)}catch{}if(r="/EncryptionInfo",i=At.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=hqe(i.content);if(r="/EncryptedPackage",i=At.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function fI(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=$s(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function uZe(e,t){return At.find(e,"EncryptedPackage")?cZe(e,t):fne(e,t)}function fZe(e,t){var n,r=e,i=t||{};return i.type||(i.type=vt&&Buffer.isBuffer(e)?"buffer":"base64"),n=ste(r,i),lZe(n,i)}function yne(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return r3(e.slice(n),t);default:break e}return H1.to_workbook(e,t)}function hZe(e,t){var n="",r=fI(e,t);switch(t.type){case"base64":n=$s(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=zh(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Jt(n)),t.type="binary",yne(n,t)}function dZe(e,t){var n=e;return t.type=="base64"&&(n=$s(n)),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer&&(n=new Uint8Array(e)),n=vt&&Buffer.isBuffer(e)?e.slice(2).toString("utf16le"):typeof Uint8Array<"u"&&n instanceof Uint8Array?typeof TextDecoder<"u"?new TextDecoder("utf-16le").decode(n.slice(2)):mVe(n.slice(2)):Vee(n.slice(2)),t.type="binary",yne(n,t)}function pZe(e){return e.match(/[^\x00-\x7F]/)?um(e):e}function JT(e,t,n,r){return r?(n.type="string",H1.to_workbook(e,n)):H1.to_workbook(t,n)}function b0(e,t){Hee();var n=t||{};if(n.codepage&&typeof Vd>"u"&&console.error("Codepage tables are not loaded.  Non-ASCII characters may not give expected results"),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return b0(new Uint8Array(e),(n=Bn(n),n.type="array",n));if(typeof Int8Array<"u"&&e instanceof Int8Array)return b0(new Uint8Array(e.buffer,e.byteOffset,e.length),n);typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),y0={},n.dateNF&&(y0.dateNF=n.dateNF),n.type||(n.type=vt&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=vt?"buffer":"binary",r=GVe(e),typeof Uint8Array<"u"&&!vt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=pZe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=Bn(n),n.type="array",b0(GR(r),n)}switch((i=fI(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return uZe(At.read(r,n),n);break;case 9:if(i[1]<=8)return fne(r,n);break;case 60:return r3(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return YGe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return qGe.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?fZe(r,n):JT(e,r,n,s);case 239:return i[3]===60?r3(r,n):JT(e,r,n,s);case 255:if(i[1]===254)return dZe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return zm.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return zm.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return b7.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Aqe(r,n);break;case 10:case 13:case 32:return hZe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break;case 8:if(i[1]===231)throw new Error("Unsupported Multiplan 1.x file!");break;case 12:if(i[1]===236)throw new Error("Unsupported Multiplan 2.x file!");if(i[1]===237)throw new Error("Unsupported Multiplan 3.x file!");break}return jGe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?b7.to_workbook(r,n):JT(e,r,n,s)}function gZe(e,t,n,r,i,s,a){var o=Gt(n),l=a.defval,c=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),u=!0,f=e["!data"]!=null,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!f||e["!data"][n])for(var d=t.s.c;d<=t.e.c;++d){var p=f?(e["!data"][n]||[])[d]:e[r[d]+o];if(p==null||p.t===void 0){if(l===void 0)continue;s[d]!=null&&(h[s[d]]=l);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"b":case"n":if(!p.z||!Ka(p.z)||(g=au(g),typeof g=="number"))break;case"d":a&&(a.UTC||a.raw===!1)||(g=Hh(new Date(g)));break;default:throw new Error("unrecognized type "+p.t)}if(s[d]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[d]]=null;else if(l!==void 0)h[s[d]]=l;else if(c&&g===null)h[s[d]]=null;else continue;else h[s[d]]=(p.t==="n"&&typeof a.rawNumbers=="boolean"?a.rawNumbers:c)?g:$u(p,g,a);g!=null&&(u=!1)}}return{row:h,isempty:u}}function s3(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=$n(u);break;case"number":l=$n(e["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=Gt(l.s.r),h=[],d=[],p=0,g=0,m=e["!data"]!=null,x=l.s.r,y=0,v={};m&&!e["!data"][x]&&(e["!data"][x]=[]);var _=c.skipHidden&&e["!cols"]||[],b=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(_[y]||{}).hidden)switch(h[y]=Lt(y),n=m?e["!data"][x][y]:e[h[y]+f],r){case 1:s[y]=y-l.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=c.header[y-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=$u(n,null,c),g=v[a]||0,!g)v[a]=1;else{do o=a+"_"+g++;while(v[o]);v[a]=g,v[o]=1}s[y]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(b[x]||{}).hidden){var w=gZe(e,l,x,h,r,s,c);(w.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(d[p++]=w.row)}return d.length=p,d}var M7=/"/g;function mZe(e,t,n,r,i,s,a,o,l){for(var c=!0,u=[],f="",h=Gt(n),d=e["!data"]!=null,p=d&&e["!data"][n]||[],g=t.s.c;g<=t.e.c;++g)if(r[g]){var m=d?p[g]:e[r[g]+h];if(m==null)f="";else if(m.v!=null){c=!1,f=""+(l.rawNumbers&&m.t=="n"?m.v:$u(m,null,l));for(var x=0,y=0;x!==f.length;++x)if((y=f.charCodeAt(x))===i||y===s||y===34||l.forceQuotes){f='"'+f.replace(M7,'""')+'"';break}f=="ID"&&o==0&&u.length==0&&(f='"ID"')}else m.f!=null&&!m.F?(c=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(M7,'""')+'"')):f="";u.push(f)}if(l.strip)for(;u[u.length-1]==="";)--u.length;return l.blankrows===!1&&c?null:u.join(a)}function _ne(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";for(var i=$n(e["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c="",u=[],f=r.skipHidden&&e["!cols"]||[],h=r.skipHidden&&e["!rows"]||[],d=i.s.c;d<=i.e.c;++d)(f[d]||{}).hidden||(u[d]=Lt(d));for(var p=0,g=i.s.r;g<=i.e.r;++g)(h[g]||{}).hidden||(c=mZe(e,i,g,u,a,l,s,p,r),c!=null&&(c||r.blankrows!==!1)&&n.push((p++?o:"")+c));return n.join("")}function xZe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=_ne(e,t);return n}function vZe(e,t){var n="",r,i="";if(e==null||e["!ref"]==null)return[];var s=$n(e["!ref"]),a="",o=[],l,c=[],u=e["!data"]!=null;for(l=s.s.c;l<=s.e.c;++l)o[l]=Lt(l);for(var f=s.s.r;f<=s.e.r;++f)for(a=Gt(f),l=s.s.c;l<=s.e.c;++l)if(n=o[l]+a,r=u?(e["!data"][f]||[])[l]:e[n],i="",r!==void 0){if(r.F!=null){if(n=r.F,!r.f)continue;i=r.f,n.indexOf(":")==-1&&(n=n+":"+n)}if(r.f!=null)i=r.f;else{if(t&&t.values===!1)continue;if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)i=""+r.v;else if(r.t=="b")i=r.v?"TRUE":"FALSE";else if(r.w!==void 0)i="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?i="'"+r.v:i=""+r.v}}c[c.length]=n+"="+i}return c}function bne(e,t,n){var r=n||{},i=e?e["!data"]!=null:r.dense,s=+!r.skipHeader,a=e||{};!e&&i&&(a["!data"]=[]);var o=0,l=0;if(a&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Jr(r.origin):r.origin;o=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(a["!ref"]){var f=$n(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+s)}else o==-1&&(o=0,u.e.r=t.length-1+s);var h=r.header||[],d=0,p=[];t.forEach(function(m,x){i&&!a["!data"][o+x+s]&&(a["!data"][o+x+s]=[]),i&&(p=a["!data"][o+x+s]),na(m).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var v=m[y],_="z",b="",w=i?"":Lt(l+d)+Gt(o+x+s),E=i?p[l+d]:a[w];v&&typeof v=="object"&&!(v instanceof Date)?i?p[l+d]=v:a[w]=v:(typeof v=="number"?_="n":typeof v=="boolean"?_="b":typeof v=="string"?_="s":v instanceof Date?(_="d",r.UTC||(v=NS(v)),r.cellDates||(_="n",v=Qn(v)),b=E!=null&&E.z&&Ka(E.z)?E.z:r.dateNF||it[14]):v===null&&r.nullError&&(_="e",v=0),E?(E.t=_,E.v=v,delete E.w,delete E.R,b&&(E.z=b)):i?p[l+d]=E={t:_,v}:a[w]=E={t:_,v},b&&(E.z=b))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var g=Gt(o);if(i&&!a["!data"][o]&&(a["!data"][o]=[]),s)for(d=0;d<h.length;++d)i?a["!data"][o][d+l]={t:"s",v:h[d]}:a[Lt(d+l)+g]={t:"s",v:h[d]};return a["!ref"]=bt(u),a}function yZe(e,t){return bne(null,e,t)}function G1(e,t,n){if(typeof t=="string"){if(e["!data"]!=null){var r=Jr(t);return e["!data"][r.r]||(e["!data"][r.r]=[]),e["!data"][r.r][r.c]||(e["!data"][r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?G1(e,Nt(t)):G1(e,Lt(n||0)+Gt(t))}function _Ze(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function hI(e,t){var n={SheetNames:[],Sheets:{}};return e&&fv(n,e,t||"Sheet1"),n}function fv(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0&&n.length<32){var s=n.match(/\d+$/);i=s&&+s[0]||0;var a=s&&n.slice(0,s.index)||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=a+i)!=-1;++i);}if(tJe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function bZe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=_Ze(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function EZe(e,t){return e.z=t,e}function Ene(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function wZe(e,t,n){return Ene(e,"#"+t,n)}function SZe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function AZe(e,t,n,r){for(var i=typeof t!="string"?t:$n(t),s=typeof t=="string"?t:bt(t),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=G1(e,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}var c=pd(e["!ref"]);return c.s.r>i.s.r&&(c.s.r=i.s.r),c.s.c>i.s.c&&(c.s.c=i.s.c),c.e.r<i.e.r&&(c.e.r=i.e.r),c.e.c<i.e.c&&(c.e.c=i.e.c),e["!ref"]=bt(c),e}var TZe={encode_col:Lt,encode_row:Gt,encode_cell:Nt,encode_range:bt,decode_col:tI,decode_row:eI,split_cell:PWe,decode_cell:Jr,decode_range:pd,format_cell:$u,sheet_new:UWe,sheet_add_aoa:Ste,sheet_add_json:bne,sheet_add_dom:hne,aoa_to_sheet:Qp,json_to_sheet:yZe,table_to_sheet:dne,table_to_book:BJe,sheet_to_csv:_ne,sheet_to_txt:xZe,sheet_to_json:s3,sheet_to_html:PJe,sheet_to_formulae:vZe,sheet_to_row_object_array:s3,sheet_get_cell:G1,book_new:hI,book_append_sheet:fv,book_set_sheet_visibility:bZe,cell_set_number_format:EZe,cell_set_hyperlink:Ene,cell_set_internal_link:wZe,cell_add_comment:SZe,sheet_set_array_formula:AZe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const kZe={class:"p-2 text-bg-light"},CZe=Q("div",{class:"badge text-bg-secondary"},"4. Input your data",-1),FZe=Q("div",{class:"p-2"},"Input your data to the table on the right panel.",-1),OZe={class:"p-2"},NZe=["disabled"],DZe=Fr({__name:"CFormCsv",props:{disabled:{type:Boolean,default:!1}},emits:["changed"],setup(e,{emit:t}){const n=e,r=t;async function i(s){var h;const a=s.target.files;if(!(!a||a.length==0)){var o=await jHe(a[0]),l=(h=a[0].name.split(".").pop())==null?void 0:h.slice(0,3),c=[{}];if(l==="xls"||l==="xlsx"){var u=b0(o,{type:"binary"}),f=u.Sheets[u.SheetNames[0]];c=TZe.sheet_to_json(f)}else c=MH(o);!c||c.length<1||r("changed",c)}}return(s,a)=>(Be(),Ue("div",kZe,[CZe,FZe,Q("div",OZe,[Si(" Alternatively, upload your data in CSV or Excel format. "),Q("input",{ref:"csvInput",type:"file",class:"form-control",accept:"text/csv,.csv,.xlsx,.xls",disabled:n.disabled,onChange:i},null,40,NZe)])]))}}),$Ze={class:"dropdown"},RZe=["disabled"],IZe={class:"dropdown-menu"},MZe=["onClick"],LZe={class:"d-inline swatch"},PZe=["title"],BZe=Fr({__name:"CSelectColor",props:{disabled:{type:Boolean},scheme:{}},emits:["changed"],setup(e,{emit:t}){const n=["accent","category10","category20","category20b","category20c","dark2","paired","pastel1","pastel2","set1","set2","set3","tableau10","tableau20","observable10"],r=n.reduce((l,c)=>(l[c]=tw(c),l),{}),i=e,s=Ms({scheme:i.scheme}),a=t;function o(l){s.scheme=l,a("changed",s.scheme)}return(l,c)=>(Be(),Ue(xt,null,[Si(" Color "),Q("div",$Ze,[Q("button",{class:"btn btn-outline-secondary dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:i.disabled},lr(s.scheme),9,RZe),Q("ul",IZe,[Q("li",null,[Q("a",{class:To(["dropdown-item",{"bg-secondary text-white":s.scheme==="custom"}]),onClick:c[0]||(c[0]=u=>o("custom"))},"Custom",2)]),(Be(),Ue(xt,null,Gr(n,u=>Q("li",{key:u,class:To({"bg-secondary":u===s.scheme})},[Q("a",{class:"dropdown-item",onClick:f=>o(u)},[Q("div",LZe,[(Be(!0),Ue(xt,null,Gr(vn(r)[u],f=>(Be(),Ue("div",{title:f,style:Iu("background: "+f)},null,12,PZe))),256))]),Q("span",{class:To(["ms-2",{"text-white":u===s.scheme}])},lr(u),3)],8,MZe)],2)),64))])])],64))}}),UZe=dx(BZe,[["__scopeId","data-v-4a2d5110"]]),dc=e=>(q1("data-v-91c995f0"),e=e(),X1(),e),zZe={class:"d-flex flex-fill"},HZe={class:"card w-25 m-2"},VZe={class:"p-2"},WZe=dc(()=>Q("div",{class:"badge text-bg-secondary"},"2. Specify visualization",-1)),jZe={class:"p-2"},GZe={class:"p-2"},qZe={class:"p-2"},XZe={class:"form-check"},YZe=dc(()=>Q("label",{class:"form-check-label",for:"chk-area"}," Include equal-area map (recommended) ",-1)),KZe={class:"form-check"},JZe=dc(()=>Q("label",{class:"form-check-label",for:"chk-inset"}," Define inset ",-1)),ZZe={class:"p-2"},QZe=dc(()=>Q("div",{class:"badge text-bg-secondary"},"3. Download data (optional)",-1)),eQe={class:"p-2"},tQe=["disabled"],nQe=dc(()=>Q("div",{class:"badge text-bg-secondary"},"5. Generate cartogram",-1)),rQe=dc(()=>Q("p",{class:"bg-warning-subtle p-1 rounded"},[Q("span",{class:"badge text-bg-warning"},"Important"),Si(" The data will be pruned from our server within 1-2 days, unless you share and access a non-preview link. We strongly advise you to back up your original data in a safe place so you can regenerate the cartogram if needed. ")],-1)),iQe={class:"card w-75 m-2 border-0"},sQe=dc(()=>Q("div",{class:"p-2"},[Q("span",{class:"badge text-bg-secondary"},"Input Overview")],-1)),aQe={key:0,class:"p-2"},oQe=dc(()=>Q("div",{id:"map-vis",class:"vis-area p-2"},null,-1)),lQe={key:1,class:"d-table p-2"},cQe={class:"table table-bordered"},uQe={class:"table-light"},fQe={key:0},hQe={key:1,class:"position-relative"},dQe=["onClick","title"],pQe=["onUpdate:modelValue","type"],gQe=["onUpdate:modelValue","type"],mQe={key:0},xQe=["onUpdate:modelValue"],vQe=["value"],yQe=["onUpdate:modelValue","type"],_Qe={id:"errorToast",class:"toast toast position-fixed end-0 bottom-0 m-3 text-bg-danger",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false"},bQe={class:"d-flex"},EQe={class:"toast-body"},wQe=dc(()=>Q("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast"},null,-1)),SQe={class:"modal",id:"progressBackdrop",tabindex:"-1","aria-hidden":"true"},AQe={class:"modal-dialog"},TQe={class:"modal-content"},kQe={class:"modal-body"},CQe={class:"progress",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"},FQe=Fr({__name:"CartogramMaker",props:{maps:{},mapName:{},mapTitle:{},mapColorScheme:{},geoUrl:{},csvUrl:{}},setup(e){var t=JSON.parse(JSON.stringify(UQ)),n=GHe(32),r;const i=e,s=Ms({loadingProgress:0,error:"",handler:"",title:"",colorScheme:"pastel1",geojsonData:{},geojsonRegionCol:"",dataTable:{fields:[],items:[]}});K1(()=>{a()}),ec(()=>{!i.mapName||!i.geoUrl||!i.csvUrl||Rm.get(i.geoUrl).then(function(h){o(i.mapName,h,"name",i.csvUrl)})});function a(){s.loadingProgress=0,s.error="",s.handler="",s.title=i.mapTitle?i.mapTitle:"",s.colorScheme=i.mapColorScheme?i.mapColorScheme:"pastel1",s.geojsonData={},s.geojsonRegionCol="",s.dataTable.items=[],s.dataTable.fields=[{label:"Region",name:"Region",type:"text",editable:!1,show:!0},{label:"RegionLabel",name:"RegionLabel",type:"text",editable:!0,show:!0},{label:"Color",name:"Color",type:"color",editable:!0,show:!1},{label:"ColorGroup",name:"ColorGroup",type:"number",editable:!1,show:!1},{label:"Inset",name:"Inset",type:"select",options:Mme,editable:!0,show:!1},{label:"Land Area",name:"Land Area",unit:"sq.km.",type:"text",editable:!0,editableHead:!0,show:!0}]}function o(h,d,p,g=""){document.getElementById("map-vis").innerHTML="",s.dataTable.fields.splice(o5),s.dataTable.items=[],s.handler=h,s.geojsonRegionCol=p,s.geojsonData=d;var m=KHe(d);if(m.length===0)return;Object.keys(m[0]).some(y=>y.startsWith("Population"))||(m=qHe(m,"Population (people)",0));const x=Object.keys(m[0]).find(y=>y.startsWith("Land Area"));x&&(m=zT(m,x,"Land Area")),m=zT(m,s.geojsonRegionCol,"Region"),m=XHe(m,[...Gg,"Population (people)"]),m.sort((y,v)=>y.Region.localeCompare(v.Region)),l(m),g&&PH(g).then(y=>{if(!y||!Array.isArray(y)){console.error("Invalid CSV data");return}c(y)}).catch(y=>{console.error("Error loading CSV:",y)})}async function l(h,d=!0){h=R9(h,Gg),d?s.dataTable.items=h:s.dataTable.items=YHe(s.dataTable.items,h,"Region");for(var p=Object.keys(s.dataTable.items[0]),g=0;g<p.length;g++)if(!Gg.includes(p[g])){var[m,x]=I9(p[g]);s.dataTable.fields.push({label:p[g],name:m,unit:x,type:"number",editable:!0,editableHead:!0,show:!0})}t.data[0].values=s.dataTable.items,t.data[0].format="json",t.data[1].values=s.geojsonData,t.data[2].transform[0].fields=["properties."+s.geojsonRegionCol],r=(await jF("#map-vis",t,{renderer:"svg",actions:!1})).view,r.signal("colorScheme",s.colorScheme).runAsync()}function c(h){if(h.length===0)return;const d=Object.keys(h[0]).find(m=>m.startsWith("Land Area"));if(d){var[p,g]=I9(d);s.dataTable.fields[jv].unit=g,h=zT(h,d,"Land Area")}s.dataTable.items=R9(s.dataTable.items,Gg,null),s.dataTable.fields.splice(o5),s.dataTable.fields[jv].show=h[0].hasOwnProperty("Land Area"),s.dataTable.fields[kA].show=h[0].hasOwnProperty("Color"),s.dataTable.fields[CA].show=h[0].hasOwnProperty("Inset"),l(h,!1)}async function u(){const h=new Bh("#progressBackdrop",{backdrop:"static",keyboard:!1});h.show();var d=s.handler==="custom"?JHe(s.geojsonData,["cartogram_id",s.geojsonRegionCol,"label"],["cartogram_id","name","label"]):void 0,p=zee(s.dataTable),g=LH(p);await new Promise(function(m,x){var y="data="+JSON.stringify({title:s.title,scheme:s.colorScheme,handler:s.handler,csv:g,geojson:d,mapDBKey:n,persist:!0}),v=window.setInterval(function(_){return function(){Rm.get("/api/v1/getprogress?key="+encodeURIComponent(_)+"&time="+Date.now()).then(function(b){if(b.progress===null){s.loadingProgress=8;return}s.loadingProgress=Math.floor(b.progress*100),console.log(b.stderr)})}}(n),500);Rm.post("/api/v1/cartogram",y,{"Content-type":"application/x-www-form-urlencoded"}).then(function(_){s.loadingProgress=100,window.clearInterval(v),m(_),window.location.href="/cartogram/key/"+_.mapDBKey+"/preview"},function(_){s.loadingProgress=100,window.clearInterval(v),x(_)})}).catch(function(m){s.error=m,h.hide(),iv.getOrCreateInstance(document.getElementById("errorToast")).show()})}function f(h){s.colorScheme=h,h==="custom"?s.dataTable.fields[kA].show=!0:(s.dataTable.fields[kA].show=!1,r.signal("colorScheme",h).runAsync())}return(h,d)=>(Be(),Ue(xt,null,[Q("div",zZe,[Q("div",HZe,[Et(dVe,{mapDBKey:vn(n),maps:i.maps,geoUrl:i.geoUrl,onChanged:o},null,8,["mapDBKey","maps","geoUrl"]),Q("div",VZe,[WZe,Q("div",jZe,[Si(" Title "),hi(Q("input",{class:"form-control",type:"text","onUpdate:modelValue":d[0]||(d[0]=p=>s.title=p),maxlength:"100"},null,512),[[Zm,s.title]])]),Q("div",GZe,[Et(UZe,{disabled:!("features"in s.geojsonData),scheme:s.colorScheme,onChanged:f},null,8,["disabled","scheme"])]),Q("div",qZe,[Q("div",XZe,[hi(Q("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=p=>s.dataTable.fields[jv].show=p),id:"chk-area"},null,512),[[A0,s.dataTable.fields[jv].show]]),YZe]),Q("div",KZe,[hi(Q("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":d[2]||(d[2]=p=>s.dataTable.fields[CA].show=p),id:"chk-inset"},null,512),[[A0,s.dataTable.fields[CA].show]]),JZe])])]),Q("div",ZZe,[QZe,Q("div",eQe,[Q("button",{class:"btn btn-outline-secondary",disabled:!("features"in s.geojsonData),onClick:d[3]||(d[3]=p=>ZHe(s.dataTable))}," Download data ",8,tQe),Si(" for editing on your device. ")])]),Et(DZe,{disabled:!("features"in s.geojsonData),onChanged:c},null,8,["disabled"]),Q("div",{class:"p-2"},[nQe,Q("div",{class:"row p-2"},[Q("div",{class:"col-auto p-2"},[rQe,Q("button",{class:"btn btn-primary",onClick:u},"Generate")])])])]),Q("div",iQe,[sQe,s.dataTable.items.length<1?(Be(),Ue("div",aQe," Please follow steps on the left panel. ")):qi("",!0),oQe,s.dataTable.items.length>0?(Be(),Ue("div",lQe,[Q("table",cQe,[Q("thead",null,[Q("tr",uQe,[(Be(!0),Ue(xt,null,Gr(s.dataTable.fields,(p,g)=>hi((Be(),Ue("th",null,[p.editableHead?(Be(),Ue("div",hQe,[Q("i",{class:"position-absolute top-0 end-0 btn-icon text-secondary fas fa-minus-circle",onClick:m=>s.dataTable.fields[g].show=!1,title:"Remove "+s.dataTable.fields[g].name+" column"},null,8,dQe),hi(Q("input",{class:"form-control","onUpdate:modelValue":m=>s.dataTable.fields[g].name=m,type:p.name,placeholder:"Data name"},null,8,pQe),[[pm,s.dataTable.fields[g].name]]),hi(Q("input",{class:"form-control","onUpdate:modelValue":m=>s.dataTable.fields[g].unit=m,type:p.unit,placeholder:"Unit"},null,8,gQe),[[pm,s.dataTable.fields[g].unit]])])):(Be(),Ue("span",fQe,lr(p.label),1))],512)),[[M_,p.show]])),256))])]),(Be(!0),Ue(xt,null,Gr(s.dataTable.items,(p,g)=>(Be(),Ue("tr",null,[(Be(!0),Ue(xt,null,Gr(s.dataTable.fields,(m,x)=>hi((Be(),Ue("td",null,[m.editable?m.type==="select"?hi((Be(),Ue("select",{key:1,class:"form-control","onUpdate:modelValue":y=>s.dataTable.items[g][m.label]=y},[(Be(!0),Ue(xt,null,Gr(m.options,y=>(Be(),Ue("option",{value:y.value},lr(y.text),9,vQe))),256))],8,xQe)),[[dh,s.dataTable.items[g][m.label]]]):hi((Be(),Ue("input",{key:2,class:"form-control","onUpdate:modelValue":y=>s.dataTable.items[g][m.label]=y,type:m.type},null,8,yQe)),[[pm,s.dataTable.items[g][m.label]]]):(Be(),Ue("span",mQe,lr(p[m.label]),1))],512)),[[M_,m.show]])),256))]))),256))])])):qi("",!0)])]),Q("div",_Qe,[Q("div",bQe,[Q("div",EQe,lr(s.error),1),wQe])]),Q("div",SQe,[Q("div",AQe,[Q("div",TQe,[Q("div",kQe,[Q("div",CQe,[Q("div",{class:"progress-bar bg-primary",style:Iu({width:s.loadingProgress+"%"})},null,4)])])])])])],64))}}),OQe=dx(FQe,[["__scopeId","data-v-91c995f0"]]);if(document.getElementById("cartogram-app")){const e=R3(W9e,{maps,mapName,mapTitle,mapDBKey,mode});e.provide("colorScheme",mapColorScheme),e.use(kz()),e.mount("#cartogram-app")}if(document.getElementById("cartogram-maker")){const e=R3(OQe,{maps,mapName,mapTitle,mapColorScheme,geoUrl,csvUrl});e.use(kz()),e.mount("#cartogram-maker")}});export default NQe();
